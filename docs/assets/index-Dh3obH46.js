var v5=Object.defineProperty;var b5=(t,e,n)=>e in t?v5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ke=(t,e,n)=>b5(t,typeof e!="symbol"?e+"":e,n);function S5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var ck={exports:{}},om={},uk={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.element"),_5=Symbol.for("react.portal"),k5=Symbol.for("react.fragment"),E5=Symbol.for("react.strict_mode"),N5=Symbol.for("react.profiler"),A5=Symbol.for("react.provider"),C5=Symbol.for("react.context"),M5=Symbol.for("react.forward_ref"),I5=Symbol.for("react.suspense"),j5=Symbol.for("react.memo"),T5=Symbol.for("react.lazy"),Ov=Symbol.iterator;function R5(t){return t===null||typeof t!="object"?null:(t=Ov&&t[Ov]||t["@@iterator"],typeof t=="function"?t:null)}var dk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hk=Object.assign,fk={};function ac(t,e,n){this.props=t,this.context=e,this.refs=fk,this.updater=n||dk}ac.prototype.isReactComponent={};ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pk(){}pk.prototype=ac.prototype;function cx(t,e,n){this.props=t,this.context=e,this.refs=fk,this.updater=n||dk}var ux=cx.prototype=new pk;ux.constructor=cx;hk(ux,ac.prototype);ux.isPureReactComponent=!0;var Dv=Array.isArray,mk=Object.prototype.hasOwnProperty,dx={current:null},gk={key:!0,ref:!0,__self:!0,__source:!0};function yk(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mk.call(e,r)&&!gk.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Md,type:t,key:i,ref:o,props:s,_owner:dx.current}}function B5(t,e){return{$$typeof:Md,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Md}function P5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zv=/\/+/g;function p0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P5(""+t.key):e.toString(36)}function Zh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Md:case _5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+p0(o,0):r,Dv(s)?(n="",t!=null&&(n=t.replace(zv,"$&/")+"/"),Zh(s,e,n,"",function(c){return c})):s!=null&&(hx(s)&&(s=B5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+p0(i,a);o+=Zh(i,e,n,l,s)}else if(l=R5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+p0(i,a++),o+=Zh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jd(t,e,n){if(t==null)return t;var r=[],s=0;return Zh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function L5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},Xh={transition:null},O5={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:dx};function xk(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Jd,forEach:function(t,e,n){Jd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jd(t,function(){e++}),e},toArray:function(t){return Jd(t,function(e){return e})||[]},only:function(t){if(!hx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=ac;qe.Fragment=k5;qe.Profiler=N5;qe.PureComponent=cx;qe.StrictMode=E5;qe.Suspense=I5;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O5;qe.act=xk;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hk({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=dx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mk.call(e,l)&&!gk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Md,type:t.type,key:s,ref:i,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:C5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A5,_context:t},t.Consumer=t};qe.createElement=yk;qe.createFactory=function(t){var e=yk.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:M5,render:t}};qe.isValidElement=hx;qe.lazy=function(t){return{$$typeof:T5,_payload:{_status:-1,_result:t},_init:L5}};qe.memo=function(t,e){return{$$typeof:j5,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Xh.transition;Xh.transition={};try{t()}finally{Xh.transition=e}};qe.unstable_act=xk;qe.useCallback=function(t,e){return Xn.current.useCallback(t,e)};qe.useContext=function(t){return Xn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Xn.current.useEffect(t,e)};qe.useId=function(){return Xn.current.useId()};qe.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Xn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};qe.useRef=function(t){return Xn.current.useRef(t)};qe.useState=function(t){return Xn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Xn.current.useTransition()};qe.version="18.3.1";uk.exports=qe;var D=uk.exports;const K=wa(D),D5=S5({__proto__:null,default:K},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5=D,W5=Symbol.for("react.element"),F5=Symbol.for("react.fragment"),$5=Object.prototype.hasOwnProperty,U5=z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H5={key:!0,ref:!0,__self:!0,__source:!0};function wk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$5.call(e,r)&&!H5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:W5,type:t,key:i,ref:o,props:s,_owner:U5.current}}om.Fragment=F5;om.jsx=wk;om.jsxs=wk;ck.exports=om;var u=ck.exports,$g={},vk={exports:{}},kr={},bk={exports:{}},Sk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,j){var P=C.length;C.push(j);e:for(;0<P;){var T=P-1>>>1,v=C[T];if(0<s(v,j))C[T]=j,C[P]=v,P=T;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],P=C.pop();if(P!==j){C[0]=P;e:for(var T=0,v=C.length,L=v>>>1;T<L;){var X=2*(T+1)-1,Z=C[X],te=X+1,ne=C[te];if(0>s(Z,P))te<v&&0>s(ne,Z)?(C[T]=ne,C[te]=P,T=te):(C[T]=Z,C[X]=P,T=X);else if(te<v&&0>s(ne,P))C[T]=ne,C[te]=P,T=te;else break e}}return j}function s(C,j){var P=C.sortIndex-j.sortIndex;return P!==0?P:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(C){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=C)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function A(C){if(w=!1,_(C),!y)if(n(l)!==null)y=!0,k(R);else{var j=n(c);j!==null&&I(A,j.startTime-C)}}function R(C,j){y=!1,w&&(w=!1,g(B),B=-1),m=!0;var P=p;try{for(_(j),h=n(l);h!==null&&(!(h.expirationTime>j)||C&&!H());){var T=h.callback;if(typeof T=="function"){h.callback=null,p=h.priorityLevel;var v=T(h.expirationTime<=j);j=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),_(j)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var X=n(c);X!==null&&I(A,X.startTime-j),L=!1}return L}finally{h=null,p=P,m=!1}}var W=!1,O=null,B=-1,F=5,U=-1;function H(){return!(t.unstable_now()-U<F)}function V(){if(O!==null){var C=t.unstable_now();U=C;var j=!0;try{j=O(!0,C)}finally{j?M():(W=!1,O=null)}}else W=!1}var M;if(typeof S=="function")M=function(){S(V)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,x=f.port2;f.port1.onmessage=V,M=function(){x.postMessage(null)}}else M=function(){b(V,0)};function k(C){O=C,W||(W=!0,M())}function I(C,j){B=b(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,k(R))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var P=p;p=j;try{return C()}finally{p=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=p;p=C;try{return j()}finally{p=P}},t.unstable_scheduleCallback=function(C,j,P){var T=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?T+P:T):P=T,C){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=P+v,C={id:d++,callback:j,priorityLevel:C,startTime:P,expirationTime:v,sortIndex:-1},P>T?(C.sortIndex=P,e(c,C),n(l)===null&&C===n(c)&&(w?(g(B),B=-1):w=!0,I(A,P-T))):(C.sortIndex=v,e(l,C),y||m||(y=!0,k(R))),C},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(C){var j=p;return function(){var P=p;p=j;try{return C.apply(this,arguments)}finally{p=P}}}})(Sk);bk.exports=Sk;var V5=bk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=D,Sr=V5;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _k=new Set,Fu={};function va(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(Fu[t]=e,t=0;t<e.length;t++)_k.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=Object.prototype.hasOwnProperty,q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv={},Fv={};function Y5(t){return Ug.call(Fv,t)?!0:Ug.call(Wv,t)?!1:q5.test(t)?Fv[t]=!0:(Wv[t]=!0,!1)}function G5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z5(t,e,n,r){if(e===null||typeof e>"u"||G5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fx=/[\-:]([a-z])/g;function px(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fx,px);jn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fx,px);jn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fx,px);jn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mx(t,e,n,r){var s=jn.hasOwnProperty(e)?jn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z5(e,n,s,r)&&(n=null),r||s===null?Y5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=K5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),gx=Symbol.for("react.strict_mode"),Hg=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),yx=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Kg=Symbol.for("react.suspense_list"),xx=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),Nk=Symbol.for("react.offscreen"),$v=Symbol.iterator;function Tc(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,m0;function Jc(t){if(m0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);m0=e&&e[1]||""}return`
`+m0+t}var g0=!1;function y0(t,e){if(!t||g0)return"";g0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{g0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jc(t):""}function X5(t){switch(t.tag){case 5:return Jc(t.type);case 16:return Jc("Lazy");case 13:return Jc("Suspense");case 19:return Jc("SuspenseList");case 0:case 2:case 15:return t=y0(t.type,!1),t;case 11:return t=y0(t.type.render,!1),t;case 1:return t=y0(t.type,!0),t;default:return""}}function qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case Hg:return"Profiler";case gx:return"StrictMode";case Vg:return"Suspense";case Kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ek:return(t.displayName||"Context")+".Consumer";case kk:return(t._context.displayName||"Context")+".Provider";case yx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xx:return e=t.displayName||null,e!==null?e:qg(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return qg(t(e))}catch{}}return null}function Q5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(e);case 8:return e===gx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ak(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J5(t){var e=Ak(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function th(t){t._valueTracker||(t._valueTracker=J5(t))}function Ck(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ak(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yg(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mk(t,e){e=e.checked,e!=null&&mx(t,"checked",e,!1)}function Gg(t,e){Mk(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zg(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zg(t,e,n){(e!=="number"||Yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eu=Array.isArray;function wl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(eu(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function Ik(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nh,Tk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(t){eI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vu[e]=vu[t]})});function Rk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vu.hasOwnProperty(t)&&vu[t]?(""+e).trim():e+"px"}function Bk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tI=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jg(t,e){if(e){if(tI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function wx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ny=null,vl=null,bl=null;function qv(t){if(t=Td(t)){if(typeof ny!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=dm(e),ny(t.stateNode,t.type,e))}}function Pk(t){vl?bl?bl.push(t):bl=[t]:vl=t}function Lk(){if(vl){var t=vl,e=bl;if(bl=vl=null,qv(t),e)for(t=0;t<e.length;t++)qv(e[t])}}function Ok(t,e){return t(e)}function Dk(){}var x0=!1;function zk(t,e,n){if(x0)return t(e,n);x0=!0;try{return Ok(t,e,n)}finally{x0=!1,(vl!==null||bl!==null)&&(Dk(),Lk())}}function Uu(t,e){var n=t.stateNode;if(n===null)return null;var r=dm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var ry=!1;if(ui)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){ry=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{ry=!1}function nI(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var bu=!1,Gf=null,Zf=!1,sy=null,rI={onError:function(t){bu=!0,Gf=t}};function sI(t,e,n,r,s,i,o,a,l){bu=!1,Gf=null,nI.apply(rI,arguments)}function iI(t,e,n,r,s,i,o,a,l){if(sI.apply(this,arguments),bu){if(bu){var c=Gf;bu=!1,Gf=null}else throw Error(ae(198));Zf||(Zf=!0,sy=c)}}function ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yv(t){if(ba(t)!==t)throw Error(ae(188))}function oI(t){var e=t.alternate;if(!e){if(e=ba(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yv(s),t;if(i===r)return Yv(s),e;i=i.sibling}throw Error(ae(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function Fk(t){return t=oI(t),t!==null?$k(t):null}function $k(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$k(t);if(e!==null)return e;t=t.sibling}return null}var Uk=Sr.unstable_scheduleCallback,Gv=Sr.unstable_cancelCallback,aI=Sr.unstable_shouldYield,lI=Sr.unstable_requestPaint,Jt=Sr.unstable_now,cI=Sr.unstable_getCurrentPriorityLevel,vx=Sr.unstable_ImmediatePriority,Hk=Sr.unstable_UserBlockingPriority,Xf=Sr.unstable_NormalPriority,uI=Sr.unstable_LowPriority,Vk=Sr.unstable_IdlePriority,am=null,Ns=null;function dI(t){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(am,t,void 0,(t.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:pI,hI=Math.log,fI=Math.LN2;function pI(t){return t>>>=0,t===0?32:31-(hI(t)/fI|0)|0}var rh=64,sh=4194304;function tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=tu(a):(i&=o,i!==0&&(r=tu(i)))}else o=n&~s,o!==0?r=tu(o):i!==0&&(r=tu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ts(e),s=1<<n,r|=t[n],e&=~s;return r}function mI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ts(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=mI(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kk(){var t=rh;return rh<<=1,!(rh&4194240)&&(rh=64),t}function w0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Id(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ts(e),t[e]=n}function yI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ts(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function bx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ts(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ct=0;function qk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yk,Sx,Gk,Zk,Xk,oy=!1,ih=[],Ji=null,eo=null,to=null,Hu=new Map,Vu=new Map,Di=[],xI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zv(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(e.pointerId)}}function Bc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Td(e),e!==null&&Sx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wI(t,e,n,r,s){switch(e){case"focusin":return Ji=Bc(Ji,t,e,n,r,s),!0;case"dragenter":return eo=Bc(eo,t,e,n,r,s),!0;case"mouseover":return to=Bc(to,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hu.set(i,Bc(Hu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vu.set(i,Bc(Vu.get(i)||null,t,e,n,r,s)),!0}return!1}function Qk(t){var e=Wo(t.target);if(e!==null){var n=ba(e);if(n!==null){if(e=n.tag,e===13){if(e=Wk(n),e!==null){t.blockedOn=e,Xk(t.priority,function(){Gk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ty=r,n.target.dispatchEvent(r),ty=null}else return e=Td(n),e!==null&&Sx(e),t.blockedOn=n,!1;e.shift()}return!0}function Xv(t,e,n){Qh(t)&&n.delete(e)}function vI(){oy=!1,Ji!==null&&Qh(Ji)&&(Ji=null),eo!==null&&Qh(eo)&&(eo=null),to!==null&&Qh(to)&&(to=null),Hu.forEach(Xv),Vu.forEach(Xv)}function Pc(t,e){t.blockedOn===e&&(t.blockedOn=null,oy||(oy=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,vI)))}function Ku(t){function e(s){return Pc(s,t)}if(0<ih.length){Pc(ih[0],t);for(var n=1;n<ih.length;n++){var r=ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ji!==null&&Pc(Ji,t),eo!==null&&Pc(eo,t),to!==null&&Pc(to,t),Hu.forEach(e),Vu.forEach(e),n=0;n<Di.length;n++)r=Di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)Qk(n),n.blockedOn===null&&Di.shift()}var Sl=wi.ReactCurrentBatchConfig,Jf=!0;function bI(t,e,n,r){var s=ct,i=Sl.transition;Sl.transition=null;try{ct=1,_x(t,e,n,r)}finally{ct=s,Sl.transition=i}}function SI(t,e,n,r){var s=ct,i=Sl.transition;Sl.transition=null;try{ct=4,_x(t,e,n,r)}finally{ct=s,Sl.transition=i}}function _x(t,e,n,r){if(Jf){var s=ay(t,e,n,r);if(s===null)M0(t,e,r,ep,n),Zv(t,r);else if(wI(s,t,e,n,r))r.stopPropagation();else if(Zv(t,r),e&4&&-1<xI.indexOf(t)){for(;s!==null;){var i=Td(s);if(i!==null&&Yk(i),i=ay(t,e,n,r),i===null&&M0(t,e,r,ep,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else M0(t,e,r,null,n)}}var ep=null;function ay(t,e,n,r){if(ep=null,t=wx(r),t=Wo(t),t!==null)if(e=ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ep=t,null}function Jk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cI()){case vx:return 1;case Hk:return 4;case Xf:case uI:return 16;case Vk:return 536870912;default:return 16}default:return 16}}var $i=null,kx=null,Jh=null;function eE(){if(Jh)return Jh;var t,e=kx,n=e.length,r,s="value"in $i?$i.value:$i.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Jh=s.slice(t,1<r?1-r:void 0)}function ef(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oh(){return!0}function Qv(){return!1}function Er(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oh:Qv,this.isPropagationStopped=Qv,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),e}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ex=Er(lc),jd=Tt({},lc,{view:0,detail:0}),_I=Er(jd),v0,b0,Lc,lm=Tt({},jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(v0=t.screenX-Lc.screenX,b0=t.screenY-Lc.screenY):b0=v0=0,Lc=t),v0)},movementY:function(t){return"movementY"in t?t.movementY:b0}}),Jv=Er(lm),kI=Tt({},lm,{dataTransfer:0}),EI=Er(kI),NI=Tt({},jd,{relatedTarget:0}),S0=Er(NI),AI=Tt({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),CI=Er(AI),MI=Tt({},lc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),II=Er(MI),jI=Tt({},lc,{data:0}),eb=Er(jI),TI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BI[t])?!!e[t]:!1}function Nx(){return PI}var LI=Tt({},jd,{key:function(t){if(t.key){var e=TI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ef(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(t){return t.type==="keypress"?ef(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ef(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OI=Er(LI),DI=Tt({},lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tb=Er(DI),zI=Tt({},jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),WI=Er(zI),FI=Tt({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$I=Er(FI),UI=Tt({},lm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HI=Er(UI),VI=[9,13,27,32],Ax=ui&&"CompositionEvent"in window,Su=null;ui&&"documentMode"in document&&(Su=document.documentMode);var KI=ui&&"TextEvent"in window&&!Su,tE=ui&&(!Ax||Su&&8<Su&&11>=Su),nb=" ",rb=!1;function nE(t,e){switch(t){case"keyup":return VI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function qI(t,e){switch(t){case"compositionend":return rE(e);case"keypress":return e.which!==32?null:(rb=!0,nb);case"textInput":return t=e.data,t===nb&&rb?null:t;default:return null}}function YI(t,e){if(rl)return t==="compositionend"||!Ax&&nE(t,e)?(t=eE(),Jh=kx=$i=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tE&&e.locale!=="ko"?null:e.data;default:return null}}var GI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GI[t.type]:e==="textarea"}function sE(t,e,n,r){Pk(r),e=tp(e,"onChange"),0<e.length&&(n=new Ex("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _u=null,qu=null;function ZI(t){mE(t,0)}function cm(t){var e=ol(t);if(Ck(e))return t}function XI(t,e){if(t==="change")return e}var iE=!1;if(ui){var _0;if(ui){var k0="oninput"in document;if(!k0){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),k0=typeof ib.oninput=="function"}_0=k0}else _0=!1;iE=_0&&(!document.documentMode||9<document.documentMode)}function ob(){_u&&(_u.detachEvent("onpropertychange",oE),qu=_u=null)}function oE(t){if(t.propertyName==="value"&&cm(qu)){var e=[];sE(e,qu,t,wx(t)),zk(ZI,e)}}function QI(t,e,n){t==="focusin"?(ob(),_u=e,qu=n,_u.attachEvent("onpropertychange",oE)):t==="focusout"&&ob()}function JI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cm(qu)}function e6(t,e){if(t==="click")return cm(e)}function t6(t,e){if(t==="input"||t==="change")return cm(e)}function n6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:n6;function Yu(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ug.call(e,s)||!as(t[s],e[s]))return!1}return!0}function ab(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lb(t,e){var n=ab(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ab(n)}}function aE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lE(){for(var t=window,e=Yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yf(t.document)}return e}function Cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r6(t){var e=lE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aE(n.ownerDocument.documentElement,n)){if(r!==null&&Cx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=lb(n,i);var o=lb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s6=ui&&"documentMode"in document&&11>=document.documentMode,sl=null,ly=null,ku=null,cy=!1;function cb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cy||sl==null||sl!==Yf(r)||(r=sl,"selectionStart"in r&&Cx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ku&&Yu(ku,r)||(ku=r,r=tp(ly,"onSelect"),0<r.length&&(e=new Ex("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sl)))}function ah(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var il={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},E0={},cE={};ui&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function um(t){if(E0[t])return E0[t];if(!il[t])return t;var e=il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cE)return E0[t]=e[n];return t}var uE=um("animationend"),dE=um("animationiteration"),hE=um("animationstart"),fE=um("transitionend"),pE=new Map,ub="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){pE.set(t,e),va(e,[t])}for(var N0=0;N0<ub.length;N0++){var A0=ub[N0],i6=A0.toLowerCase(),o6=A0[0].toUpperCase()+A0.slice(1);xo(i6,"on"+o6)}xo(uE,"onAnimationEnd");xo(dE,"onAnimationIteration");xo(hE,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(fE,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a6=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function db(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iI(r,e,void 0,t),t.currentTarget=null}function mE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;db(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;db(s,a,c),i=l}}}if(Zf)throw t=sy,Zf=!1,sy=null,t}function xt(t,e){var n=e[py];n===void 0&&(n=e[py]=new Set);var r=t+"__bubble";n.has(r)||(gE(e,t,2,!1),n.add(r))}function C0(t,e,n){var r=0;e&&(r|=4),gE(n,t,r,e)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Gu(t){if(!t[lh]){t[lh]=!0,_k.forEach(function(n){n!=="selectionchange"&&(a6.has(n)||C0(n,!1,t),C0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lh]||(e[lh]=!0,C0("selectionchange",!1,e))}}function gE(t,e,n,r){switch(Jk(e)){case 1:var s=bI;break;case 4:s=SI;break;default:s=_x}n=s.bind(null,e,n,t),s=void 0,!ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function M0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}zk(function(){var c=i,d=wx(n),h=[];e:{var p=pE.get(t);if(p!==void 0){var m=Ex,y=t;switch(t){case"keypress":if(ef(n)===0)break e;case"keydown":case"keyup":m=OI;break;case"focusin":y="focus",m=S0;break;case"focusout":y="blur",m=S0;break;case"beforeblur":case"afterblur":m=S0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WI;break;case uE:case dE:case hE:m=CI;break;case fE:m=$I;break;case"scroll":m=_I;break;case"wheel":m=HI;break;case"copy":case"cut":case"paste":m=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tb}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var S=c,_;S!==null;){_=S;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,g!==null&&(A=Uu(S,g),A!=null&&w.push(Zu(S,A,_)))),b)break;S=S.return}0<w.length&&(p=new m(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==ty&&(y=n.relatedTarget||n.fromElement)&&(Wo(y)||y[di]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Wo(y):null,y!==null&&(b=ba(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=Jv,A="onMouseLeave",g="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=tb,A="onPointerLeave",g="onPointerEnter",S="pointer"),b=m==null?p:ol(m),_=y==null?p:ol(y),p=new w(A,S+"leave",m,n,d),p.target=b,p.relatedTarget=_,A=null,Wo(d)===c&&(w=new w(g,S+"enter",y,n,d),w.target=_,w.relatedTarget=b,A=w),b=A,m&&y)t:{for(w=m,g=y,S=0,_=w;_;_=Ta(_))S++;for(_=0,A=g;A;A=Ta(A))_++;for(;0<S-_;)w=Ta(w),S--;for(;0<_-S;)g=Ta(g),_--;for(;S--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ta(w),g=Ta(g)}w=null}else w=null;m!==null&&hb(h,p,m,w,!1),y!==null&&b!==null&&hb(h,b,y,w,!0)}}e:{if(p=c?ol(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=XI;else if(sb(p))if(iE)R=t6;else{R=JI;var W=QI}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=e6);if(R&&(R=R(t,c))){sE(h,R,n,d);break e}W&&W(t,p,c),t==="focusout"&&(W=p._wrapperState)&&W.controlled&&p.type==="number"&&Zg(p,"number",p.value)}switch(W=c?ol(c):window,t){case"focusin":(sb(W)||W.contentEditable==="true")&&(sl=W,ly=c,ku=null);break;case"focusout":ku=ly=sl=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,cb(h,n,d);break;case"selectionchange":if(s6)break;case"keydown":case"keyup":cb(h,n,d)}var O;if(Ax)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else rl?nE(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(tE&&n.locale!=="ko"&&(rl||B!=="onCompositionStart"?B==="onCompositionEnd"&&rl&&(O=eE()):($i=d,kx="value"in $i?$i.value:$i.textContent,rl=!0)),W=tp(c,B),0<W.length&&(B=new eb(B,t,null,n,d),h.push({event:B,listeners:W}),O?B.data=O:(O=rE(n),O!==null&&(B.data=O)))),(O=KI?qI(t,n):YI(t,n))&&(c=tp(c,"onBeforeInput"),0<c.length&&(d=new eb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=O))}mE(h,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Uu(t,n),i!=null&&r.unshift(Zu(t,i,s)),i=Uu(t,e),i!=null&&r.push(Zu(t,i,s))),t=t.return}return r}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Uu(n,i),l!=null&&o.unshift(Zu(n,l,a))):s||(l=Uu(n,i),l!=null&&o.push(Zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var l6=/\r\n?/g,c6=/\u0000|\uFFFD/g;function fb(t){return(typeof t=="string"?t:""+t).replace(l6,`
`).replace(c6,"")}function ch(t,e,n){if(e=fb(e),fb(t)!==e&&n)throw Error(ae(425))}function np(){}var uy=null,dy=null;function hy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fy=typeof setTimeout=="function"?setTimeout:void 0,u6=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(t){return pb.resolve(null).then(t).catch(h6)}:fy;function h6(t){setTimeout(function(){throw t})}function I0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ku(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ku(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cc=Math.random().toString(36).slice(2),vs="__reactFiber$"+cc,Xu="__reactProps$"+cc,di="__reactContainer$"+cc,py="__reactEvents$"+cc,f6="__reactListeners$"+cc,p6="__reactHandles$"+cc;function Wo(t){var e=t[vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mb(t);t!==null;){if(n=t[vs])return n;t=mb(t)}return e}t=n,n=t.parentNode}return null}function Td(t){return t=t[vs]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function dm(t){return t[Xu]||null}var my=[],al=-1;function wo(t){return{current:t}}function bt(t){0>al||(t.current=my[al],my[al]=null,al--)}function mt(t,e){al++,my[al]=t.current,t.current=e}var po={},Un=wo(po),ur=wo(!1),la=po;function Ll(t,e){var n=t.type.contextTypes;if(!n)return po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dr(t){return t=t.childContextTypes,t!=null}function rp(){bt(ur),bt(Un)}function gb(t,e,n){if(Un.current!==po)throw Error(ae(168));mt(Un,e),mt(ur,n)}function yE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ae(108,Q5(t)||"Unknown",s));return Tt({},n,r)}function sp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||po,la=Un.current,mt(Un,t),mt(ur,ur.current),!0}function yb(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=yE(t,e,la),r.__reactInternalMemoizedMergedChildContext=t,bt(ur),bt(Un),mt(Un,t)):bt(ur),mt(ur,n)}var qs=null,hm=!1,j0=!1;function xE(t){qs===null?qs=[t]:qs.push(t)}function m6(t){hm=!0,xE(t)}function vo(){if(!j0&&qs!==null){j0=!0;var t=0,e=ct;try{var n=qs;for(ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qs=null,hm=!1}catch(s){throw qs!==null&&(qs=qs.slice(t+1)),Uk(vx,vo),s}finally{ct=e,j0=!1}}return null}var ll=[],cl=0,ip=null,op=0,Tr=[],Rr=0,ca=null,ti=1,ni="";function Co(t,e){ll[cl++]=op,ll[cl++]=ip,ip=t,op=e}function wE(t,e,n){Tr[Rr++]=ti,Tr[Rr++]=ni,Tr[Rr++]=ca,ca=t;var r=ti;t=ni;var s=32-ts(r)-1;r&=~(1<<s),n+=1;var i=32-ts(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ti=1<<32-ts(e)+s|n<<s|r,ni=i+t}else ti=1<<i|n<<s|r,ni=t}function Mx(t){t.return!==null&&(Co(t,1),wE(t,1,0))}function Ix(t){for(;t===ip;)ip=ll[--cl],ll[cl]=null,op=ll[--cl],ll[cl]=null;for(;t===ca;)ca=Tr[--Rr],Tr[Rr]=null,ni=Tr[--Rr],Tr[Rr]=null,ti=Tr[--Rr],Tr[Rr]=null}var wr=null,xr=null,Et=!1,Zr=null;function vE(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,xr=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ca!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,xr=null,!0):!1;default:return!1}}function gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yy(t){if(Et){var e=xr;if(e){var n=e;if(!xb(t,e)){if(gy(t))throw Error(ae(418));e=no(n.nextSibling);var r=wr;e&&xb(t,e)?vE(r,n):(t.flags=t.flags&-4097|2,Et=!1,wr=t)}}else{if(gy(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Et=!1,wr=t}}}function wb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function uh(t){if(t!==wr)return!1;if(!Et)return wb(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hy(t.type,t.memoizedProps)),e&&(e=xr)){if(gy(t))throw bE(),Error(ae(418));for(;e;)vE(t,e),e=no(e.nextSibling)}if(wb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=wr?no(t.stateNode.nextSibling):null;return!0}function bE(){for(var t=xr;t;)t=no(t.nextSibling)}function Ol(){xr=wr=null,Et=!1}function jx(t){Zr===null?Zr=[t]:Zr.push(t)}var g6=wi.ReactCurrentBatchConfig;function Oc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function dh(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vb(t){var e=t._init;return e(t._payload)}function SE(t){function e(g,S){if(t){var _=g.deletions;_===null?(g.deletions=[S],g.flags|=16):_.push(S)}}function n(g,S){if(!t)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function r(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function s(g,S){return g=oo(g,S),g.index=0,g.sibling=null,g}function i(g,S,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<S?(g.flags|=2,S):_):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,S,_,A){return S===null||S.tag!==6?(S=D0(_,g.mode,A),S.return=g,S):(S=s(S,_),S.return=g,S)}function l(g,S,_,A){var R=_.type;return R===nl?d(g,S,_.props.children,A,_.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ri&&vb(R)===S.type)?(A=s(S,_.props),A.ref=Oc(g,S,_),A.return=g,A):(A=lf(_.type,_.key,_.props,null,g.mode,A),A.ref=Oc(g,S,_),A.return=g,A)}function c(g,S,_,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=z0(_,g.mode,A),S.return=g,S):(S=s(S,_.children||[]),S.return=g,S)}function d(g,S,_,A,R){return S===null||S.tag!==7?(S=na(_,g.mode,A,R),S.return=g,S):(S=s(S,_),S.return=g,S)}function h(g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=D0(""+S,g.mode,_),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eh:return _=lf(S.type,S.key,S.props,null,g.mode,_),_.ref=Oc(g,null,S),_.return=g,_;case tl:return S=z0(S,g.mode,_),S.return=g,S;case Ri:var A=S._init;return h(g,A(S._payload),_)}if(eu(S)||Tc(S))return S=na(S,g.mode,_,null),S.return=g,S;dh(g,S)}return null}function p(g,S,_,A){var R=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:a(g,S,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eh:return _.key===R?l(g,S,_,A):null;case tl:return _.key===R?c(g,S,_,A):null;case Ri:return R=_._init,p(g,S,R(_._payload),A)}if(eu(_)||Tc(_))return R!==null?null:d(g,S,_,A,null);dh(g,_)}return null}function m(g,S,_,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(_)||null,a(S,g,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case eh:return g=g.get(A.key===null?_:A.key)||null,l(S,g,A,R);case tl:return g=g.get(A.key===null?_:A.key)||null,c(S,g,A,R);case Ri:var W=A._init;return m(g,S,_,W(A._payload),R)}if(eu(A)||Tc(A))return g=g.get(_)||null,d(S,g,A,R,null);dh(S,A)}return null}function y(g,S,_,A){for(var R=null,W=null,O=S,B=S=0,F=null;O!==null&&B<_.length;B++){O.index>B?(F=O,O=null):F=O.sibling;var U=p(g,O,_[B],A);if(U===null){O===null&&(O=F);break}t&&O&&U.alternate===null&&e(g,O),S=i(U,S,B),W===null?R=U:W.sibling=U,W=U,O=F}if(B===_.length)return n(g,O),Et&&Co(g,B),R;if(O===null){for(;B<_.length;B++)O=h(g,_[B],A),O!==null&&(S=i(O,S,B),W===null?R=O:W.sibling=O,W=O);return Et&&Co(g,B),R}for(O=r(g,O);B<_.length;B++)F=m(O,g,B,_[B],A),F!==null&&(t&&F.alternate!==null&&O.delete(F.key===null?B:F.key),S=i(F,S,B),W===null?R=F:W.sibling=F,W=F);return t&&O.forEach(function(H){return e(g,H)}),Et&&Co(g,B),R}function w(g,S,_,A){var R=Tc(_);if(typeof R!="function")throw Error(ae(150));if(_=R.call(_),_==null)throw Error(ae(151));for(var W=R=null,O=S,B=S=0,F=null,U=_.next();O!==null&&!U.done;B++,U=_.next()){O.index>B?(F=O,O=null):F=O.sibling;var H=p(g,O,U.value,A);if(H===null){O===null&&(O=F);break}t&&O&&H.alternate===null&&e(g,O),S=i(H,S,B),W===null?R=H:W.sibling=H,W=H,O=F}if(U.done)return n(g,O),Et&&Co(g,B),R;if(O===null){for(;!U.done;B++,U=_.next())U=h(g,U.value,A),U!==null&&(S=i(U,S,B),W===null?R=U:W.sibling=U,W=U);return Et&&Co(g,B),R}for(O=r(g,O);!U.done;B++,U=_.next())U=m(O,g,B,U.value,A),U!==null&&(t&&U.alternate!==null&&O.delete(U.key===null?B:U.key),S=i(U,S,B),W===null?R=U:W.sibling=U,W=U);return t&&O.forEach(function(V){return e(g,V)}),Et&&Co(g,B),R}function b(g,S,_,A){if(typeof _=="object"&&_!==null&&_.type===nl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case eh:e:{for(var R=_.key,W=S;W!==null;){if(W.key===R){if(R=_.type,R===nl){if(W.tag===7){n(g,W.sibling),S=s(W,_.props.children),S.return=g,g=S;break e}}else if(W.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ri&&vb(R)===W.type){n(g,W.sibling),S=s(W,_.props),S.ref=Oc(g,W,_),S.return=g,g=S;break e}n(g,W);break}else e(g,W);W=W.sibling}_.type===nl?(S=na(_.props.children,g.mode,A,_.key),S.return=g,g=S):(A=lf(_.type,_.key,_.props,null,g.mode,A),A.ref=Oc(g,S,_),A.return=g,g=A)}return o(g);case tl:e:{for(W=_.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(g,S.sibling),S=s(S,_.children||[]),S.return=g,g=S;break e}else{n(g,S);break}else e(g,S);S=S.sibling}S=z0(_,g.mode,A),S.return=g,g=S}return o(g);case Ri:return W=_._init,b(g,S,W(_._payload),A)}if(eu(_))return y(g,S,_,A);if(Tc(_))return w(g,S,_,A);dh(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(g,S.sibling),S=s(S,_),S.return=g,g=S):(n(g,S),S=D0(_,g.mode,A),S.return=g,g=S),o(g)):n(g,S)}return b}var Dl=SE(!0),_E=SE(!1),ap=wo(null),lp=null,ul=null,Tx=null;function Rx(){Tx=ul=lp=null}function Bx(t){var e=ap.current;bt(ap),t._currentValue=e}function xy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _l(t,e){lp=t,Tx=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(Tx!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(lp===null)throw Error(ae(308));ul=t,lp.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var Fo=null;function Px(t){Fo===null?Fo=[t]:Fo.push(t)}function kE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Px(e)):(n.next=s.next,s.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bi=!1;function Lx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hi(t,n)}return s=r.interleaved,s===null?(e.next=e,Px(r)):(e.next=s.next,s.next=e),r.interleaved=e,hi(t,n)}function tf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bx(t,n)}}function bb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cp(t,e,n,r){var s=t.updateQueue;Bi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=Tt({},h,p);break e;case 2:Bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);da|=o,t.lanes=o,t.memoizedState=h}}function Sb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ae(191,s));s.call(r)}}}var Rd={},As=wo(Rd),Qu=wo(Rd),Ju=wo(Rd);function $o(t){if(t===Rd)throw Error(ae(174));return t}function Ox(t,e){switch(mt(Ju,e),mt(Qu,t),mt(As,Rd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qg(e,t)}bt(As),mt(As,e)}function zl(){bt(As),bt(Qu),bt(Ju)}function NE(t){$o(Ju.current);var e=$o(As.current),n=Qg(e,t.type);e!==n&&(mt(Qu,t),mt(As,n))}function Dx(t){Qu.current===t&&(bt(As),bt(Qu))}var Mt=wo(0);function up(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T0=[];function zx(){for(var t=0;t<T0.length;t++)T0[t]._workInProgressVersionPrimary=null;T0.length=0}var nf=wi.ReactCurrentDispatcher,R0=wi.ReactCurrentBatchConfig,ua=0,jt=null,ln=null,yn=null,dp=!1,Eu=!1,ed=0,y6=0;function Rn(){throw Error(ae(321))}function Wx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function Fx(t,e,n,r,s,i){if(ua=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nf.current=t===null||t.memoizedState===null?b6:S6,t=n(r,s),Eu){i=0;do{if(Eu=!1,ed=0,25<=i)throw Error(ae(301));i+=1,yn=ln=null,e.updateQueue=null,nf.current=_6,t=n(r,s)}while(Eu)}if(nf.current=hp,e=ln!==null&&ln.next!==null,ua=0,yn=ln=jt=null,dp=!1,e)throw Error(ae(300));return t}function $x(){var t=ed!==0;return ed=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?jt.memoizedState=yn=t:yn=yn.next=t,yn}function $r(){if(ln===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=yn===null?jt.memoizedState:yn.next;if(e!==null)yn=e,ln=t;else{if(t===null)throw Error(ae(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?jt.memoizedState=yn=t:yn=yn.next=t}return yn}function td(t,e){return typeof e=="function"?e(t):e}function B0(t){var e=$r(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=ln,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ua&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,jt.lanes|=d,da|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,as(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,da|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function P0(t){var e=$r(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);as(i,e.memoizedState)||(or=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function AE(){}function CE(t,e){var n=jt,r=$r(),s=e(),i=!as(r.memoizedState,s);if(i&&(r.memoizedState=s,or=!0),r=r.queue,Ux(jE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,nd(9,IE.bind(null,n,r,s,e),void 0,null),wn===null)throw Error(ae(349));ua&30||ME(n,e,s)}return s}function ME(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IE(t,e,n,r){e.value=n,e.getSnapshot=r,TE(e)&&RE(t)}function jE(t,e,n){return n(function(){TE(e)&&RE(t)})}function TE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function RE(t){var e=hi(t,1);e!==null&&ns(e,t,1,-1)}function _b(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},e.queue=t,t=t.dispatch=v6.bind(null,jt,t),[e.memoizedState,t]}function nd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BE(){return $r().memoizedState}function rf(t,e,n,r){var s=gs();jt.flags|=t,s.memoizedState=nd(1|e,n,void 0,r===void 0?null:r)}function fm(t,e,n,r){var s=$r();r=r===void 0?null:r;var i=void 0;if(ln!==null){var o=ln.memoizedState;if(i=o.destroy,r!==null&&Wx(r,o.deps)){s.memoizedState=nd(e,n,i,r);return}}jt.flags|=t,s.memoizedState=nd(1|e,n,i,r)}function kb(t,e){return rf(8390656,8,t,e)}function Ux(t,e){return fm(2048,8,t,e)}function PE(t,e){return fm(4,2,t,e)}function LE(t,e){return fm(4,4,t,e)}function OE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DE(t,e,n){return n=n!=null?n.concat([t]):null,fm(4,4,OE.bind(null,e,t),n)}function Hx(){}function zE(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WE(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FE(t,e,n){return ua&21?(as(n,e)||(n=Kk(),jt.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n)}function x6(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var r=R0.transition;R0.transition={};try{t(!1),e()}finally{ct=n,R0.transition=r}}function $E(){return $r().memoizedState}function w6(t,e,n){var r=io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UE(t))HE(e,n);else if(n=kE(t,e,n,r),n!==null){var s=Gn();ns(n,t,r,s),VE(n,e,r)}}function v6(t,e,n){var r=io(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UE(t))HE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(s.next=s,Px(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=kE(t,e,s,r),n!==null&&(s=Gn(),ns(n,t,r,s),VE(n,e,r))}}function UE(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function HE(t,e){Eu=dp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bx(t,n)}}var hp={readContext:Fr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},b6={readContext:Fr,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:kb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rf(4194308,4,OE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rf(4194308,4,t,e)},useInsertionEffect:function(t,e){return rf(4,2,t,e)},useMemo:function(t,e){var n=gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w6.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=gs();return t={current:t},e.memoizedState=t},useState:_b,useDebugValue:Hx,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=_b(!1),e=t[0];return t=x6.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jt,s=gs();if(Et){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),wn===null)throw Error(ae(349));ua&30||ME(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,kb(jE.bind(null,r,i,t),[t]),r.flags|=2048,nd(9,IE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gs(),e=wn.identifierPrefix;if(Et){var n=ni,r=ti;n=(r&~(1<<32-ts(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ed++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S6={readContext:Fr,useCallback:zE,useContext:Fr,useEffect:Ux,useImperativeHandle:DE,useInsertionEffect:PE,useLayoutEffect:LE,useMemo:WE,useReducer:B0,useRef:BE,useState:function(){return B0(td)},useDebugValue:Hx,useDeferredValue:function(t){var e=$r();return FE(e,ln.memoizedState,t)},useTransition:function(){var t=B0(td)[0],e=$r().memoizedState;return[t,e]},useMutableSource:AE,useSyncExternalStore:CE,useId:$E,unstable_isNewReconciler:!1},_6={readContext:Fr,useCallback:zE,useContext:Fr,useEffect:Ux,useImperativeHandle:DE,useInsertionEffect:PE,useLayoutEffect:LE,useMemo:WE,useReducer:P0,useRef:BE,useState:function(){return P0(td)},useDebugValue:Hx,useDeferredValue:function(t){var e=$r();return ln===null?e.memoizedState=t:FE(e,ln.memoizedState,t)},useTransition:function(){var t=P0(td)[0],e=$r().memoizedState;return[t,e]},useMutableSource:AE,useSyncExternalStore:CE,useId:$E,unstable_isNewReconciler:!1};function Kr(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pm={isMounted:function(t){return(t=t._reactInternals)?ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gn(),s=io(t),i=li(r,s);i.payload=e,n!=null&&(i.callback=n),e=ro(t,i,s),e!==null&&(ns(e,t,s,r),tf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gn(),s=io(t),i=li(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ro(t,i,s),e!==null&&(ns(e,t,s,r),tf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gn(),r=io(t),s=li(n,r);s.tag=2,e!=null&&(s.callback=e),e=ro(t,s,r),e!==null&&(ns(e,t,r,n),tf(e,t,r))}};function Eb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yu(n,r)||!Yu(s,i):!0}function KE(t,e,n){var r=!1,s=po,i=e.contextType;return typeof i=="object"&&i!==null?i=Fr(i):(s=dr(e)?la:Un.current,r=e.contextTypes,i=(r=r!=null)?Ll(t,s):po),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Nb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pm.enqueueReplaceState(e,e.state,null)}function vy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fr(i):(i=dr(e)?la:Un.current,s.context=Ll(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pm.enqueueReplaceState(s,s.state,null),cp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e){try{var n="",r=e;do n+=X5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function L0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function by(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k6=typeof WeakMap=="function"?WeakMap:Map;function qE(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pp||(pp=!0,jy=r),by(t,e)},n}function YE(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){by(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){by(t,e),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ab(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=D6.bind(null,t,e,n),e.then(t,t))}function Cb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t)}var E6=wi.ReactCurrentOwner,or=!1;function qn(t,e,n,r){e.child=t===null?_E(e,null,n,r):Dl(e,t.child,n,r)}function Ib(t,e,n,r,s){n=n.render;var i=e.ref;return _l(e,s),r=Fx(t,e,n,r,i,s),n=$x(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fi(t,e,s)):(Et&&n&&Mx(e),e.flags|=1,qn(t,e,r,s),e.child)}function jb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Qx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,GE(t,e,i,r,s)):(t=lf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yu,n(o,r)&&t.ref===e.ref)return fi(t,e,s)}return e.flags|=1,t=oo(i,r),t.ref=e.ref,t.return=e,e.child=t}function GE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Yu(i,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,fi(t,e,s)}return Sy(t,e,n,r,s)}function ZE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(hl,pr),pr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(hl,pr),pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mt(hl,pr),pr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,mt(hl,pr),pr|=r;return qn(t,e,s,n),e.child}function XE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sy(t,e,n,r,s){var i=dr(n)?la:Un.current;return i=Ll(e,i),_l(e,s),n=Fx(t,e,n,r,i,s),r=$x(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fi(t,e,s)):(Et&&r&&Mx(e),e.flags|=1,qn(t,e,n,s),e.child)}function Tb(t,e,n,r,s){if(dr(n)){var i=!0;sp(e)}else i=!1;if(_l(e,s),e.stateNode===null)sf(t,e),KE(e,n,r),vy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fr(c):(c=dr(n)?la:Un.current,c=Ll(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Nb(e,o,r,c),Bi=!1;var p=e.memoizedState;o.state=p,cp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||ur.current||Bi?(typeof d=="function"&&(wy(e,n,d,r),l=e.memoizedState),(a=Bi||Eb(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,EE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fr(l):(l=dr(n)?la:Un.current,l=Ll(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Nb(e,o,r,l),Bi=!1,p=e.memoizedState,o.state=p,cp(e,r,o,s);var y=e.memoizedState;a!==h||p!==y||ur.current||Bi?(typeof m=="function"&&(wy(e,n,m,r),y=e.memoizedState),(c=Bi||Eb(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _y(t,e,n,r,i,s)}function _y(t,e,n,r,s,i){XE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&yb(e,n,!1),fi(t,e,i);r=e.stateNode,E6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dl(e,t.child,null,i),e.child=Dl(e,null,a,i)):qn(t,e,a,i),e.memoizedState=r.state,s&&yb(e,n,!0),e.child}function QE(t){var e=t.stateNode;e.pendingContext?gb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gb(t,e.context,!1),Ox(t,e.containerInfo)}function Rb(t,e,n,r,s){return Ol(),jx(s),e.flags|=256,qn(t,e,n,r),e.child}var ky={dehydrated:null,treeContext:null,retryLane:0};function Ey(t){return{baseLanes:t,cachePool:null,transitions:null}}function JE(t,e,n){var r=e.pendingProps,s=Mt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),mt(Mt,s&1),t===null)return yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ym(o,r,0,null),t=na(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ey(n),e.memoizedState=ky,t):Vx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return N6(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=oo(a,i):(i=na(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ey(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ky,r}return i=t.child,t=i.sibling,r=oo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vx(t,e){return e=ym({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hh(t,e,n,r){return r!==null&&jx(r),Dl(e,t.child,null,n),t=Vx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=L0(Error(ae(422))),hh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ym({mode:"visible",children:r.children},s,0,null),i=na(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dl(e,t.child,null,o),e.child.memoizedState=Ey(o),e.memoizedState=ky,i);if(!(e.mode&1))return hh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ae(419)),r=L0(i,r,void 0),hh(t,e,o,r)}if(a=(o&t.childLanes)!==0,or||a){if(r=wn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hi(t,s),ns(r,t,s,-1))}return Xx(),r=L0(Error(ae(421))),hh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xr=no(s.nextSibling),wr=e,Et=!0,Zr=null,t!==null&&(Tr[Rr++]=ti,Tr[Rr++]=ni,Tr[Rr++]=ca,ti=t.id,ni=t.overflow,ca=e),e=Vx(e,r.children),e.flags|=4096,e)}function Bb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xy(t.return,e,n)}function O0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(qn(t,e,r.children,n),r=Mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bb(t,n,e);else if(t.tag===19)Bb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(Mt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&up(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),O0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&up(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}O0(e,!0,n,null,i);break;case"together":O0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A6(t,e,n){switch(e.tag){case 3:QE(e),Ol();break;case 5:NE(e);break;case 1:dr(e.type)&&sp(e);break;case 4:Ox(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;mt(ap,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(Mt,Mt.current&1),e.flags|=128,null):n&e.child.childLanes?JE(t,e,n):(mt(Mt,Mt.current&1),t=fi(t,e,n),t!==null?t.sibling:null);mt(Mt,Mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(Mt,Mt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZE(t,e,n)}return fi(t,e,n)}var tN,Ny,nN,rN;tN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ny=function(){};nN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$o(As.current);var i=null;switch(n){case"input":s=Yg(t,s),r=Yg(t,r),i=[];break;case"select":s=Tt({},s,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":s=Xg(t,s),r=Xg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=np)}Jg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};rN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C6(t,e,n){var r=e.pendingProps;switch(Ix(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return dr(e.type)&&rp(),Bn(e),null;case 3:return r=e.stateNode,zl(),bt(ur),bt(Un),zx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(By(Zr),Zr=null))),Ny(t,e),Bn(e),null;case 5:Dx(e);var s=$o(Ju.current);if(n=e.type,t!==null&&e.stateNode!=null)nN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Bn(e),null}if(t=$o(As.current),uh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vs]=e,r[Xu]=i,t=(e.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(s=0;s<nu.length;s++)xt(nu[s],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":Uv(r,i),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xt("invalid",r);break;case"textarea":Vv(r,i),xt("invalid",r)}Jg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ch(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ch(r.textContent,a,t),s=["children",""+a]):Fu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xt("scroll",r)}switch(n){case"input":th(r),Hv(r,i,!0);break;case"textarea":th(r),Kv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=np)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vs]=e,t[Xu]=r,tN(t,e,!1,!1),e.stateNode=t;e:{switch(o=ey(n,r),n){case"dialog":xt("cancel",t),xt("close",t),s=r;break;case"iframe":case"object":case"embed":xt("load",t),s=r;break;case"video":case"audio":for(s=0;s<nu.length;s++)xt(nu[s],t);s=r;break;case"source":xt("error",t),s=r;break;case"img":case"image":case"link":xt("error",t),xt("load",t),s=r;break;case"details":xt("toggle",t),s=r;break;case"input":Uv(t,r),s=Yg(t,r),xt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Tt({},r,{value:void 0}),xt("invalid",t);break;case"textarea":Vv(t,r),s=Xg(t,r),xt("invalid",t);break;default:s=r}Jg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Bk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$u(t,l):typeof l=="number"&&$u(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xt("scroll",t):l!=null&&mx(t,i,l,o))}switch(n){case"input":th(t),Hv(t,r,!1);break;case"textarea":th(t),Kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wl(t,!!r.multiple,i,!1):r.defaultValue!=null&&wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=np)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)rN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=$o(Ju.current),$o(As.current),uh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vs]=e,(i=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:ch(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ch(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return Bn(e),null;case 13:if(bt(Mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&xr!==null&&e.mode&1&&!(e.flags&128))bE(),Ol(),e.flags|=98560,i=!1;else if(i=uh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[vs]=e}else Ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),i=!1}else Zr!==null&&(By(Zr),Zr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?dn===0&&(dn=3):Xx())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return zl(),Ny(t,e),t===null&&Gu(e.stateNode.containerInfo),Bn(e),null;case 10:return Bx(e.type._context),Bn(e),null;case 17:return dr(e.type)&&rp(),Bn(e),null;case 19:if(bt(Mt),i=e.memoizedState,i===null)return Bn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Dc(i,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=up(t),o!==null){for(e.flags|=128,Dc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mt(Mt,Mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Jt()>Fl&&(e.flags|=128,r=!0,Dc(i,!1),e.lanes=4194304)}else{if(!r)if(t=up(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return Bn(e),null}else 2*Jt()-i.renderingStartTime>Fl&&n!==1073741824&&(e.flags|=128,r=!0,Dc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Jt(),e.sibling=null,n=Mt.current,mt(Mt,r?n&1|2:n&1),e):(Bn(e),null);case 22:case 23:return Zx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pr&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function M6(t,e){switch(Ix(e),e.tag){case 1:return dr(e.type)&&rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),bt(ur),bt(Un),zx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dx(e),null;case 13:if(bt(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(Mt),null;case 4:return zl(),null;case 10:return Bx(e.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var fh=!1,Fn=!1,I6=typeof WeakSet=="function"?WeakSet:Set,we=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function Ay(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var Pb=!1;function j6(t,e){if(uy=Jf,t=lE(),Cx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dy={focusedElem:t,selectionRange:n},Jf=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Kr(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(A){Gt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return y=Pb,Pb=!1,y}function Nu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ay(e,n,i)}s=s.next}while(s!==r)}}function mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sN(t){var e=t.alternate;e!==null&&(t.alternate=null,sN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[Xu],delete e[py],delete e[f6],delete e[p6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iN(t){return t.tag===5||t.tag===3||t.tag===4}function Lb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function My(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=np));else if(r!==4&&(t=t.child,t!==null))for(My(t,e,n),t=t.sibling;t!==null;)My(t,e,n),t=t.sibling}function Iy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Iy(t,e,n),t=t.sibling;t!==null;)Iy(t,e,n),t=t.sibling}var kn=null,Yr=!1;function Si(t,e,n){for(n=n.child;n!==null;)oN(t,e,n),n=n.sibling}function oN(t,e,n){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(am,n)}catch{}switch(n.tag){case 5:Fn||dl(n,e);case 6:var r=kn,s=Yr;kn=null,Si(t,e,n),kn=r,Yr=s,kn!==null&&(Yr?(t=kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(Yr?(t=kn,n=n.stateNode,t.nodeType===8?I0(t.parentNode,n):t.nodeType===1&&I0(t,n),Ku(t)):I0(kn,n.stateNode));break;case 4:r=kn,s=Yr,kn=n.stateNode.containerInfo,Yr=!0,Si(t,e,n),kn=r,Yr=s;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ay(n,e,o),s=s.next}while(s!==r)}Si(t,e,n);break;case 1:if(!Fn&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gt(n,e,a)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,Si(t,e,n),Fn=r):Si(t,e,n);break;default:Si(t,e,n)}}function Ob(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I6),e.forEach(function(r){var s=W6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kn=a.stateNode,Yr=!1;break e;case 3:kn=a.stateNode.containerInfo,Yr=!0;break e;case 4:kn=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(kn===null)throw Error(ae(160));oN(i,o,s),kn=null,Yr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Gt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aN(e,t),e=e.sibling}function aN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hr(e,t),hs(t),r&4){try{Nu(3,t,t.return),mm(3,t)}catch(w){Gt(t,t.return,w)}try{Nu(5,t,t.return)}catch(w){Gt(t,t.return,w)}}break;case 1:Hr(e,t),hs(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(Hr(e,t),hs(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var s=t.stateNode;try{$u(s,"")}catch(w){Gt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Mk(s,i),ey(a,o);var c=ey(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Bk(s,h):d==="dangerouslySetInnerHTML"?Tk(s,h):d==="children"?$u(s,h):mx(s,d,h,c)}switch(a){case"input":Gg(s,i);break;case"textarea":Ik(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?wl(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?wl(s,!!i.multiple,i.defaultValue,!0):wl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xu]=i}catch(w){Gt(t,t.return,w)}}break;case 6:if(Hr(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(ae(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Gt(t,t.return,w)}}break;case 3:if(Hr(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ku(e.containerInfo)}catch(w){Gt(t,t.return,w)}break;case 4:Hr(e,t),hs(t);break;case 13:Hr(e,t),hs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yx=Jt())),r&4&&Ob(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(c=Fn)||d,Hr(e,t),Fn=c):Hr(e,t),hs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(h=we=d;we!==null;){switch(p=we,m=p.child,p.tag){case 0:case 11:case 14:case 15:Nu(4,p,p.return);break;case 1:dl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Gt(r,n,w)}}break;case 5:dl(p,p.return);break;case 22:if(p.memoizedState!==null){zb(h);continue}}m!==null?(m.return=p,we=m):zb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rk("display",o))}catch(w){Gt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Gt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hr(e,t),hs(t),r&4&&Ob(t);break;case 21:break;default:Hr(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iN(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($u(s,""),r.flags&=-33);var i=Lb(t);Iy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Lb(t);My(t,a,o);break;default:throw Error(ae(161))}}catch(l){Gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T6(t,e,n){we=t,lN(t)}function lN(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var s=we,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Fn;a=fh;var c=Fn;if(fh=o,(Fn=l)&&!c)for(we=s;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?Wb(s):l!==null?(l.return=o,we=l):Wb(s);for(;i!==null;)we=i,lN(i),i=i.sibling;we=s,fh=a,Fn=c}Db(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,we=i):Db(t)}}function Db(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Sb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ku(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Fn||e.flags&512&&Cy(e)}catch(p){Gt(e,e.return,p)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function zb(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function Wb(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mm(4,e)}catch(l){Gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Gt(e,s,l)}}var i=e.return;try{Cy(e)}catch(l){Gt(e,i,l)}break;case 5:var o=e.return;try{Cy(e)}catch(l){Gt(e,o,l)}}}catch(l){Gt(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var R6=Math.ceil,fp=wi.ReactCurrentDispatcher,Kx=wi.ReactCurrentOwner,zr=wi.ReactCurrentBatchConfig,tt=0,wn=null,sn=null,Mn=0,pr=0,hl=wo(0),dn=0,rd=null,da=0,gm=0,qx=0,Au=null,rr=null,Yx=0,Fl=1/0,Ks=null,pp=!1,jy=null,so=null,ph=!1,Ui=null,mp=0,Cu=0,Ty=null,of=-1,af=0;function Gn(){return tt&6?Jt():of!==-1?of:of=Jt()}function io(t){return t.mode&1?tt&2&&Mn!==0?Mn&-Mn:g6.transition!==null?(af===0&&(af=Kk()),af):(t=ct,t!==0||(t=window.event,t=t===void 0?16:Jk(t.type)),t):1}function ns(t,e,n,r){if(50<Cu)throw Cu=0,Ty=null,Error(ae(185));Id(t,n,r),(!(tt&2)||t!==wn)&&(t===wn&&(!(tt&2)&&(gm|=n),dn===4&&zi(t,Mn)),hr(t,r),n===1&&tt===0&&!(e.mode&1)&&(Fl=Jt()+500,hm&&vo()))}function hr(t,e){var n=t.callbackNode;gI(t,e);var r=Qf(t,t===wn?Mn:0);if(r===0)n!==null&&Gv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gv(n),e===1)t.tag===0?m6(Fb.bind(null,t)):xE(Fb.bind(null,t)),d6(function(){!(tt&6)&&vo()}),n=null;else{switch(qk(r)){case 1:n=vx;break;case 4:n=Hk;break;case 16:n=Xf;break;case 536870912:n=Vk;break;default:n=Xf}n=gN(n,cN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cN(t,e){if(of=-1,af=0,tt&6)throw Error(ae(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var r=Qf(t,t===wn?Mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gp(t,r);else{e=r;var s=tt;tt|=2;var i=dN();(wn!==t||Mn!==e)&&(Ks=null,Fl=Jt()+500,ta(t,e));do try{L6();break}catch(a){uN(t,a)}while(!0);Rx(),fp.current=i,tt=s,sn!==null?e=0:(wn=null,Mn=0,e=dn)}if(e!==0){if(e===2&&(s=iy(t),s!==0&&(r=s,e=Ry(t,s))),e===1)throw n=rd,ta(t,0),zi(t,r),hr(t,Jt()),n;if(e===6)zi(t,r);else{if(s=t.current.alternate,!(r&30)&&!B6(s)&&(e=gp(t,r),e===2&&(i=iy(t),i!==0&&(r=i,e=Ry(t,i))),e===1))throw n=rd,ta(t,0),zi(t,r),hr(t,Jt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:Mo(t,rr,Ks);break;case 3:if(zi(t,r),(r&130023424)===r&&(e=Yx+500-Jt(),10<e)){if(Qf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Gn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fy(Mo.bind(null,t,rr,Ks),e);break}Mo(t,rr,Ks);break;case 4:if(zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ts(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R6(r/1960))-r,10<r){t.timeoutHandle=fy(Mo.bind(null,t,rr,Ks),r);break}Mo(t,rr,Ks);break;case 5:Mo(t,rr,Ks);break;default:throw Error(ae(329))}}}return hr(t,Jt()),t.callbackNode===n?cN.bind(null,t):null}function Ry(t,e){var n=Au;return t.current.memoizedState.isDehydrated&&(ta(t,e).flags|=256),t=gp(t,e),t!==2&&(e=rr,rr=n,e!==null&&By(e)),t}function By(t){rr===null?rr=t:rr.push.apply(rr,t)}function B6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!as(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zi(t,e){for(e&=~qx,e&=~gm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ts(e),r=1<<n;t[n]=-1,e&=~r}}function Fb(t){if(tt&6)throw Error(ae(327));kl();var e=Qf(t,0);if(!(e&1))return hr(t,Jt()),null;var n=gp(t,e);if(t.tag!==0&&n===2){var r=iy(t);r!==0&&(e=r,n=Ry(t,r))}if(n===1)throw n=rd,ta(t,0),zi(t,e),hr(t,Jt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,rr,Ks),hr(t,Jt()),null}function Gx(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(Fl=Jt()+500,hm&&vo())}}function ha(t){Ui!==null&&Ui.tag===0&&!(tt&6)&&kl();var e=tt;tt|=1;var n=zr.transition,r=ct;try{if(zr.transition=null,ct=1,t)return t()}finally{ct=r,zr.transition=n,tt=e,!(tt&6)&&vo()}}function Zx(){pr=hl.current,bt(hl)}function ta(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u6(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(Ix(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rp();break;case 3:zl(),bt(ur),bt(Un),zx();break;case 5:Dx(r);break;case 4:zl();break;case 13:bt(Mt);break;case 19:bt(Mt);break;case 10:Bx(r.type._context);break;case 22:case 23:Zx()}n=n.return}if(wn=t,sn=t=oo(t.current,null),Mn=pr=e,dn=0,rd=null,qx=gm=da=0,rr=Au=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fo=null}return t}function uN(t,e){do{var n=sn;try{if(Rx(),nf.current=hp,dp){for(var r=jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}dp=!1}if(ua=0,yn=ln=jt=null,Eu=!1,ed=0,Kx.current=null,n===null||n.return===null){dn=1,rd=e,sn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Cb(o);if(m!==null){m.flags&=-257,Mb(m,o,a,i,e),m.mode&1&&Ab(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Ab(i,c,e),Xx();break e}l=Error(ae(426))}}else if(Et&&a.mode&1){var b=Cb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mb(b,o,a,i,e),jx(Wl(l,a));break e}}i=l=Wl(l,a),dn!==4&&(dn=2),Au===null?Au=[i]:Au.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=qE(i,l,e);bb(i,g);break e;case 1:a=l;var S=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(so===null||!so.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=YE(i,a,e);bb(i,A);break e}}i=i.return}while(i!==null)}fN(n)}catch(R){e=R,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function dN(){var t=fp.current;return fp.current=hp,t===null?hp:t}function Xx(){(dn===0||dn===3||dn===2)&&(dn=4),wn===null||!(da&268435455)&&!(gm&268435455)||zi(wn,Mn)}function gp(t,e){var n=tt;tt|=2;var r=dN();(wn!==t||Mn!==e)&&(Ks=null,ta(t,e));do try{P6();break}catch(s){uN(t,s)}while(!0);if(Rx(),tt=n,fp.current=r,sn!==null)throw Error(ae(261));return wn=null,Mn=0,dn}function P6(){for(;sn!==null;)hN(sn)}function L6(){for(;sn!==null&&!aI();)hN(sn)}function hN(t){var e=mN(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?fN(t):sn=e,Kx.current=null}function fN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M6(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,sn=null;return}}else if(n=C6(n,e,pr),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);dn===0&&(dn=5)}function Mo(t,e,n){var r=ct,s=zr.transition;try{zr.transition=null,ct=1,O6(t,e,n,r)}finally{zr.transition=s,ct=r}return null}function O6(t,e,n,r){do kl();while(Ui!==null);if(tt&6)throw Error(ae(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yI(t,i),t===wn&&(sn=wn=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ph||(ph=!0,gN(Xf,function(){return kl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zr.transition,zr.transition=null;var o=ct;ct=1;var a=tt;tt|=4,Kx.current=null,j6(t,n),aN(n,t),r6(dy),Jf=!!uy,dy=uy=null,t.current=n,T6(n),lI(),tt=a,ct=o,zr.transition=i}else t.current=n;if(ph&&(ph=!1,Ui=t,mp=s),i=t.pendingLanes,i===0&&(so=null),dI(n.stateNode),hr(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pp)throw pp=!1,t=jy,jy=null,t;return mp&1&&t.tag!==0&&kl(),i=t.pendingLanes,i&1?t===Ty?Cu++:(Cu=0,Ty=t):Cu=0,vo(),null}function kl(){if(Ui!==null){var t=qk(mp),e=zr.transition,n=ct;try{if(zr.transition=null,ct=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,mp=0,tt&6)throw Error(ae(331));var s=tt;for(tt|=4,we=t.current;we!==null;){var i=we,o=i.child;if(we.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Nu(8,d,i)}var h=d.child;if(h!==null)h.return=d,we=h;else for(;we!==null;){d=we;var p=d.sibling,m=d.return;if(sN(d),d===c){we=null;break}if(p!==null){p.return=m,we=p;break}we=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}we=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,we=o;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,we=g;break e}we=i.return}}var S=t.current;for(we=S;we!==null;){o=we;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,we=_;else e:for(o=S;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mm(9,a)}}catch(R){Gt(a,a.return,R)}if(a===o){we=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,we=A;break e}we=a.return}}if(tt=s,vo(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(am,t)}catch{}r=!0}return r}finally{ct=n,zr.transition=e}}return!1}function $b(t,e,n){e=Wl(n,e),e=qE(t,e,1),t=ro(t,e,1),e=Gn(),t!==null&&(Id(t,1,e),hr(t,e))}function Gt(t,e,n){if(t.tag===3)$b(t,t,n);else for(;e!==null;){if(e.tag===3){$b(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){t=Wl(n,t),t=YE(e,t,1),e=ro(e,t,1),t=Gn(),e!==null&&(Id(e,1,t),hr(e,t));break}}e=e.return}}function D6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&n,wn===t&&(Mn&n)===n&&(dn===4||dn===3&&(Mn&130023424)===Mn&&500>Jt()-Yx?ta(t,0):qx|=n),hr(t,e)}function pN(t,e){e===0&&(t.mode&1?(e=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):e=1);var n=Gn();t=hi(t,e),t!==null&&(Id(t,e,n),hr(t,n))}function z6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pN(t,n)}function W6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),pN(t,n)}var mN;mN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return or=!1,A6(t,e,n);or=!!(t.flags&131072)}else or=!1,Et&&e.flags&1048576&&wE(e,op,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sf(t,e),t=e.pendingProps;var s=Ll(e,Un.current);_l(e,n),s=Fx(null,e,r,t,s,n);var i=$x();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(i=!0,sp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lx(e),s.updater=pm,e.stateNode=s,s._reactInternals=e,vy(e,r,t,n),e=_y(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&Mx(e),qn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$6(r),t=Kr(r,t),s){case 0:e=Sy(null,e,r,t,n);break e;case 1:e=Tb(null,e,r,t,n);break e;case 11:e=Ib(null,e,r,t,n);break e;case 14:e=jb(null,e,r,Kr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),Sy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),Tb(t,e,r,s,n);case 3:e:{if(QE(e),t===null)throw Error(ae(387));r=e.pendingProps,i=e.memoizedState,s=i.element,EE(t,e),cp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wl(Error(ae(423)),e),e=Rb(t,e,r,n,s);break e}else if(r!==s){s=Wl(Error(ae(424)),e),e=Rb(t,e,r,n,s);break e}else for(xr=no(e.stateNode.containerInfo.firstChild),wr=e,Et=!0,Zr=null,n=_E(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ol(),r===s){e=fi(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 5:return NE(e),t===null&&yy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hy(r,s)?o=null:i!==null&&hy(r,i)&&(e.flags|=32),XE(t,e),qn(t,e,o,n),e.child;case 6:return t===null&&yy(e),null;case 13:return JE(t,e,n);case 4:return Ox(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dl(e,null,r,n):qn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),Ib(t,e,r,s,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,mt(ap,r._currentValue),r._currentValue=o,i!==null)if(as(i.value,o)){if(i.children===s.children&&!ur.current){e=fi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=li(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_l(e,n),s=Fr(s),r=r(s),e.flags|=1,qn(t,e,r,n),e.child;case 14:return r=e.type,s=Kr(r,e.pendingProps),s=Kr(r.type,s),jb(t,e,r,s,n);case 15:return GE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),sf(t,e),e.tag=1,dr(r)?(t=!0,sp(e)):t=!1,_l(e,n),KE(e,r,s),vy(e,r,s,n),_y(null,e,r,!0,t,n);case 19:return eN(t,e,n);case 22:return ZE(t,e,n)}throw Error(ae(156,e.tag))};function gN(t,e){return Uk(t,e)}function F6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new F6(t,e,n,r)}function Qx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $6(t){if(typeof t=="function")return Qx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yx)return 11;if(t===xx)return 14}return 2}function oo(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Qx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return na(n.children,s,i,e);case gx:o=8,s|=8;break;case Hg:return t=Pr(12,n,e,s|2),t.elementType=Hg,t.lanes=i,t;case Vg:return t=Pr(13,n,e,s),t.elementType=Vg,t.lanes=i,t;case Kg:return t=Pr(19,n,e,s),t.elementType=Kg,t.lanes=i,t;case Nk:return ym(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kk:o=10;break e;case Ek:o=9;break e;case yx:o=11;break e;case xx:o=14;break e;case Ri:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function na(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function ym(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=Nk,t.lanes=n,t.stateNode={isHidden:!1},t}function D0(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function z0(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w0(0),this.expirationTimes=w0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jx(t,e,n,r,s,i,o,a,l){return t=new U6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(i),t}function H6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yN(t){if(!t)return po;t=t._reactInternals;e:{if(ba(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(dr(n))return yE(t,n,e)}return e}function xN(t,e,n,r,s,i,o,a,l){return t=Jx(n,r,!0,t,s,i,o,a,l),t.context=yN(null),n=t.current,r=Gn(),s=io(n),i=li(r,s),i.callback=e??null,ro(n,i,s),t.current.lanes=s,Id(t,s,r),hr(t,r),t}function xm(t,e,n,r){var s=e.current,i=Gn(),o=io(s);return n=yN(n),e.context===null?e.context=n:e.pendingContext=n,e=li(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(s,e,o),t!==null&&(ns(t,s,o,i),tf(t,s,o)),o}function yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ub(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ew(t,e){Ub(t,e),(t=t.alternate)&&Ub(t,e)}function V6(){return null}var wN=typeof reportError=="function"?reportError:function(t){console.error(t)};function tw(t){this._internalRoot=t}wm.prototype.render=tw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));xm(t,e,null,null)};wm.prototype.unmount=tw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ha(function(){xm(null,t,null,null)}),e[di]=null}};function wm(t){this._internalRoot=t}wm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Di.length&&e!==0&&e<Di[n].priority;n++);Di.splice(n,0,t),n===0&&Qk(t)}};function nw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hb(){}function K6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yp(o);i.call(c)}}var o=xN(e,r,t,0,null,!1,!1,"",Hb);return t._reactRootContainer=o,t[di]=o.current,Gu(t.nodeType===8?t.parentNode:t),ha(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=yp(l);a.call(c)}}var l=Jx(t,0,!1,null,null,!1,!1,"",Hb);return t._reactRootContainer=l,t[di]=l.current,Gu(t.nodeType===8?t.parentNode:t),ha(function(){xm(e,l,n,r)}),l}function bm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=yp(o);a.call(l)}}xm(e,o,t,s)}else o=K6(n,e,t,s,r);return yp(o)}Yk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tu(e.pendingLanes);n!==0&&(bx(e,n|1),hr(e,Jt()),!(tt&6)&&(Fl=Jt()+500,vo()))}break;case 13:ha(function(){var r=hi(t,1);if(r!==null){var s=Gn();ns(r,t,1,s)}}),ew(t,1)}};Sx=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=Gn();ns(e,t,134217728,n)}ew(t,134217728)}};Gk=function(t){if(t.tag===13){var e=io(t),n=hi(t,e);if(n!==null){var r=Gn();ns(n,t,e,r)}ew(t,e)}};Zk=function(){return ct};Xk=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};ny=function(t,e,n){switch(e){case"input":if(Gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=dm(r);if(!s)throw Error(ae(90));Ck(r),Gg(r,s)}}}break;case"textarea":Ik(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};Ok=Gx;Dk=ha;var q6={usingClientEntryPoint:!1,Events:[Td,ol,dm,Pk,Lk,Gx]},zc={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y6={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fk(t),t===null?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||V6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{am=mh.inject(Y6),Ns=mh}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q6;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nw(e))throw Error(ae(200));return H6(t,e,null,n)};kr.createRoot=function(t,e){if(!nw(t))throw Error(ae(299));var n=!1,r="",s=wN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jx(t,1,!1,null,null,n,!1,r,s),t[di]=e.current,Gu(t.nodeType===8?t.parentNode:t),new tw(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=Fk(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return ha(t)};kr.hydrate=function(t,e,n){if(!vm(e))throw Error(ae(200));return bm(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!nw(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xN(e,null,t,1,n??null,s,!1,i,o),t[di]=e.current,Gu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wm(e)};kr.render=function(t,e,n){if(!vm(e))throw Error(ae(200));return bm(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!vm(t))throw Error(ae(40));return t._reactRootContainer?(ha(function(){bm(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};kr.unstable_batchedUpdates=Gx;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vm(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return bm(t,e,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function vN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vN)}catch(t){console.error(t)}}vN(),vk.exports=kr;var bN=vk.exports,Vb=bN;$g.createRoot=Vb.createRoot,$g.hydrateRoot=Vb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var Hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hi||(Hi={}));const Kb="popstate";function G6(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Py("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xp(s)}return X6(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z6(){return Math.random().toString(36).substr(2,8)}function qb(t,e){return{usr:t.state,key:t.key,idx:e}}function Py(t,e,n,r){return n===void 0&&(n=null),sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||Z6()})}function xp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function X6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Hi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(sd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Hi.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:g})}function p(b,g){a=Hi.Push;let S=Py(w.location,b,g);c=d()+1;let _=qb(S,c),A=w.createHref(S);try{o.pushState(_,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(A)}i&&l&&l({action:a,location:w.location,delta:1})}function m(b,g){a=Hi.Replace;let S=Py(w.location,b,g);c=d();let _=qb(S,c),A=w.createHref(S);o.replaceState(_,"",A),i&&l&&l({action:a,location:w.location,delta:0})}function y(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof b=="string"?b:xp(b);return S=S.replace(/ $/,"%20"),tn(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let w={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Kb,h),l=b,()=>{s.removeEventListener(Kb,h),l=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(b){return o.go(b)}};return w}var Yb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yb||(Yb={}));function Q6(t,e,n){return n===void 0&&(n="/"),J6(t,e,n)}function J6(t,e,n,r){let s=typeof e=="string"?uc(e):e,i=rw(s.pathname||"/",n);if(i==null)return null;let o=_N(t);ej(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=hj(i);a=cj(o[l],c)}return a}function _N(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ao([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(tn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_N(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:aj(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of kN(i.path))s(i,o,l)}),e}function kN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=kN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ej(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tj=/^:[\w-]+$/,nj=3,rj=2,sj=1,ij=10,oj=-2,Gb=t=>t==="*";function aj(t,e){let n=t.split("/"),r=n.length;return n.some(Gb)&&(r+=oj),e&&(r+=rj),n.filter(s=>!Gb(s)).reduce((s,i)=>s+(tj.test(i)?nj:i===""?sj:ij),r)}function lj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function cj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=uj({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ao([i,h.pathname]),pathnameBase:gj(ao([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ao([i,h.pathnameBase]))}return o}function uj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function dj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),SN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uc(t):t;return{pathname:n?n.startsWith("/")?n:pj(n,e):e,search:yj(r),hash:xj(s)}}function pj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function W0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sw(t,e){let n=mj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=uc(t):(s=sd({},t),tn(!s.pathname||!s.pathname.includes("?"),W0("?","pathname","search",s)),tn(!s.pathname||!s.pathname.includes("#"),W0("#","pathname","hash",s)),tn(!s.search||!s.search.includes("#"),W0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=fj(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ao=t=>t.join("/").replace(/\/\/+/g,"/"),gj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EN=["post","put","patch","delete"];new Set(EN);const vj=["get",...EN];new Set(vj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}const ow=D.createContext(null),bj=D.createContext(null),bo=D.createContext(null),Sm=D.createContext(null),vi=D.createContext({outlet:null,matches:[],isDataRoute:!1}),NN=D.createContext(null);function Sj(t,e){let{relative:n}=e===void 0?{}:e;dc()||tn(!1);let{basename:r,navigator:s}=D.useContext(bo),{hash:i,pathname:o,search:a}=MN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ao([r,o])),s.createHref({pathname:l,search:a,hash:i})}function dc(){return D.useContext(Sm)!=null}function Sa(){return dc()||tn(!1),D.useContext(Sm).location}function AN(t){D.useContext(bo).static||D.useLayoutEffect(t)}function CN(){let{isDataRoute:t}=D.useContext(vi);return t?Lj():_j()}function _j(){dc()||tn(!1);let t=D.useContext(ow),{basename:e,future:n,navigator:r}=D.useContext(bo),{matches:s}=D.useContext(vi),{pathname:i}=Sa(),o=JSON.stringify(sw(s,n.v7_relativeSplatPath)),a=D.useRef(!1);return AN(()=>{a.current=!0}),D.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=iw(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ao([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function kj(){let{matches:t}=D.useContext(vi),e=t[t.length-1];return e?e.params:{}}function MN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(bo),{matches:s}=D.useContext(vi),{pathname:i}=Sa(),o=JSON.stringify(sw(s,r.v7_relativeSplatPath));return D.useMemo(()=>iw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Ej(t,e){return Nj(t,e)}function Nj(t,e,n,r){dc()||tn(!1);let{navigator:s}=D.useContext(bo),{matches:i}=D.useContext(vi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Sa(),d;if(e){var h;let b=typeof e=="string"?uc(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||tn(!1),d=b}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=Q6(t,{pathname:m}),w=jj(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ao([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ao([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&w?D.createElement(Sm.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hi.Pop}},w):w}function Aj(){let t=Pj(),e=wj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}const Cj=D.createElement(Aj,null);class Mj extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(vi.Provider,{value:this.props.routeContext},D.createElement(NN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ij(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(ow);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(vi.Provider,{value:e},r)}function jj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||tn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,y=!1,w=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Cj,l&&(c<0&&p===0?(Oj("route-fallback"),y=!0,b=null):c===p&&(y=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),S=()=>{let _;return m?_=w:y?_=b:h.route.Component?_=D.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,D.createElement(Ij,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(Mj,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}var IN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IN||{}),jN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jN||{});function Tj(t){let e=D.useContext(ow);return e||tn(!1),e}function Rj(t){let e=D.useContext(bj);return e||tn(!1),e}function Bj(t){let e=D.useContext(vi);return e||tn(!1),e}function TN(t){let e=Bj(),n=e.matches[e.matches.length-1];return n.route.id||tn(!1),n.route.id}function Pj(){var t;let e=D.useContext(NN),n=Rj(),r=TN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Lj(){let{router:t}=Tj(IN.UseNavigateStable),e=TN(jN.UseNavigateStable),n=D.useRef(!1);return AN(()=>{n.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,id({fromRouteId:e},i)))},[t,e])}const Zb={};function Oj(t,e,n){Zb[t]||(Zb[t]=!0)}function Dj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zj(t){let{to:e,replace:n,state:r,relative:s}=t;dc()||tn(!1);let{future:i,static:o}=D.useContext(bo),{matches:a}=D.useContext(vi),{pathname:l}=Sa(),c=CN(),d=iw(e,sw(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return D.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Mr(t){tn(!1)}function Wj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Hi.Pop,navigator:i,static:o=!1,future:a}=t;dc()&&tn(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:i,static:o,future:id({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=uc(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,w=D.useMemo(()=>{let b=rw(d,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:y},navigationType:s}},[l,d,h,p,m,y,s]);return w==null?null:D.createElement(bo.Provider,{value:c},D.createElement(Sm.Provider,{children:n,value:w}))}function Fj(t){let{children:e,location:n}=t;return Ej(Ly(e),n)}new Promise(()=>{});function Ly(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,Ly(r.props.children,i));return}r.type!==Mr&&tn(!1),!r.props.index||!r.props.children||tn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ly(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function $j(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Uj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hj(t,e){return t.button===0&&(!e||e==="_self")&&!Uj(t)}const Vj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kj="6";try{window.__reactRouterVersion=Kj}catch{}const qj="startTransition",Xb=D5[qj];function Yj(t){let{basename:e,children:n,future:r,window:s}=t,i=D.useRef();i.current==null&&(i.current=G6({window:s,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=D.useCallback(h=>{c&&Xb?Xb(()=>l(h)):l(h)},[l,c]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>Dj(r),[r]),D.createElement(Wj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mu=D.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=$j(e,Vj),{basename:m}=D.useContext(bo),y,w=!1;if(typeof c=="string"&&Zj.test(c)&&(y=c,Gj))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),R=rw(A.pathname,m);A.origin===_.origin&&R!=null?c=R+A.search+A.hash:w=!0}catch{}let b=Sj(c,{relative:s}),g=Xj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function S(_){r&&r(_),_.defaultPrevented||g(_)}return D.createElement("a",Oy({},p,{href:y||b,onClick:w||i?r:S,ref:n,target:l}))});var Qb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qb||(Qb={}));var Jb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jb||(Jb={}));function Xj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=CN(),c=Sa(),d=MN(t,{relative:o});return D.useCallback(h=>{if(Hj(h,n)){h.preventDefault();let p=r!==void 0?r:xp(c)===xp(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const RN=D.createContext(void 0),Qj=()=>{const t=D.useContext(RN);if(t===void 0)throw new Error("useAccentColor must be used within a ColorProvider");return t},Jj=({children:t})=>{const[e,n]=D.useState("#6D8FC7");return D.useEffect(()=>{document.documentElement.style.setProperty("--cyphr-teal",e);const r="#29589F",s=document.createElement("style");s.textContent=`
      :root {
        --cyphr-teal: ${e} !important;
        --cyphr-teal-gradient: ${r} !important;
      }
      
      .text-cyphr-teal {
        color: ${e} !important;
      }
      
      .bg-cyphr-teal {
        background-color: ${e} !important;
      }
      
      .bg-cyphr-teal-gradient {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .border-cyphr-teal {
        border-color: ${e} !important;
      }
      
      .hover\\:text-cyphr-teal:hover {
        color: ${e} !important;
      }
      
      .hover\\:border-cyphr-teal:hover {
        border-color: ${e} !important;
      }
      
      .focus\\:border-cyphr-teal:focus {
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .ios-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .ios-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .elite-button-primary {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.3) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.2) 100%) !important;
        border-color: ${e} !important;
      }
      
      .elite-button-primary:hover {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.4) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.3) 100%) !important;
        border-color: ${e} !important;
      }
    `;const i=document.getElementById("dynamic-accent-color");i&&i.remove(),s.id="dynamic-accent-color",document.head.appendChild(s)},[e]),u.jsx(RN.Provider,{value:{accentColor:e,setAccentColor:n},children:t})};var je={},_m={};_m.byteLength=nT;_m.toByteArray=sT;_m.fromByteArray=aT;var bs=[],Ir=[],eT=typeof Uint8Array<"u"?Uint8Array:Array,F0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ra=0,tT=F0.length;Ra<tT;++Ra)bs[Ra]=F0[Ra],Ir[F0.charCodeAt(Ra)]=Ra;Ir[45]=62;Ir[95]=63;function BN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function nT(t){var e=BN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function rT(t,e,n){return(e+n)*3/4-n}function sT(t){var e,n=BN(t),r=n[0],s=n[1],i=new eT(rT(t,r,s)),o=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=Ir[t.charCodeAt(l)]<<18|Ir[t.charCodeAt(l+1)]<<12|Ir[t.charCodeAt(l+2)]<<6|Ir[t.charCodeAt(l+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=Ir[t.charCodeAt(l)]<<2|Ir[t.charCodeAt(l+1)]>>4,i[o++]=e&255),s===1&&(e=Ir[t.charCodeAt(l)]<<10|Ir[t.charCodeAt(l+1)]<<4|Ir[t.charCodeAt(l+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function iT(t){return bs[t>>18&63]+bs[t>>12&63]+bs[t>>6&63]+bs[t&63]}function oT(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(iT(r));return s.join("")}function aT(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(oT(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(bs[e>>2]+bs[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(bs[e>>10]+bs[e>>4&63]+bs[e<<2&63]+"=")),s.join("")}var aw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */aw.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,h=n?s-1:0,p=n?-1:1,m=t[e+h];for(h+=p,i=m&(1<<-d)-1,m>>=-d,d+=a;d>0;i=i*256+t[e+h],h+=p,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=r;d>0;o=o*256+t[e+h],h+=p,d-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-c}return(m?-1:1)*o*Math.pow(2,i-r)};aw.write=function(t,e,n,r,s,i){var o,a,l,c=i*8-s-1,d=(1<<c)-1,h=d>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,y=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*l-1)*Math.pow(2,s),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=y,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+m]=o&255,m+=y,o/=256,c-=8);t[n+m-y]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=_m,n=aw,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const z=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(z,E),z.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(z){if(z>s)throw new RangeError('The value "'+z+'" is invalid for option "size"');const E=new Uint8Array(z);return Object.setPrototypeOf(E,a.prototype),E}function a(z,E,N){if(typeof z=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(z)}return l(z,E,N)}a.poolSize=8192;function l(z,E,N){if(typeof z=="string")return p(z,E);if(ArrayBuffer.isView(z))return y(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Ae(z,ArrayBuffer)||z&&Ae(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(z,SharedArrayBuffer)||z&&Ae(z.buffer,SharedArrayBuffer)))return w(z,E,N);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=z.valueOf&&z.valueOf();if($!=null&&$!==z)return a.from($,E,N);const q=b(z);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return a.from(z[Symbol.toPrimitive]("string"),E,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}a.from=function(z,E,N){return l(z,E,N)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function d(z,E,N){return c(z),z<=0?o(z):E!==void 0?typeof N=="string"?o(z).fill(E,N):o(z).fill(E):o(z)}a.alloc=function(z,E,N){return d(z,E,N)};function h(z){return c(z),o(z<0?0:g(z)|0)}a.allocUnsafe=function(z){return h(z)},a.allocUnsafeSlow=function(z){return h(z)};function p(z,E){if((typeof E!="string"||E==="")&&(E="utf8"),!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const N=_(z,E)|0;let $=o(N);const q=$.write(z,E);return q!==N&&($=$.slice(0,q)),$}function m(z){const E=z.length<0?0:g(z.length)|0,N=o(E);for(let $=0;$<E;$+=1)N[$]=z[$]&255;return N}function y(z){if(Ae(z,Uint8Array)){const E=new Uint8Array(z);return w(E.buffer,E.byteOffset,E.byteLength)}return m(z)}function w(z,E,N){if(E<0||z.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<E+(N||0))throw new RangeError('"length" is outside of buffer bounds');let $;return E===void 0&&N===void 0?$=new Uint8Array(z):N===void 0?$=new Uint8Array(z,E):$=new Uint8Array(z,E,N),Object.setPrototypeOf($,a.prototype),$}function b(z){if(a.isBuffer(z)){const E=g(z.length)|0,N=o(E);return N.length===0||z.copy(N,0,0,E),N}if(z.length!==void 0)return typeof z.length!="number"||Se(z.length)?o(0):m(z);if(z.type==="Buffer"&&Array.isArray(z.data))return m(z.data)}function g(z){if(z>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return z|0}function S(z){return+z!=z&&(z=0),a.alloc(+z)}a.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==a.prototype},a.compare=function(E,N){if(Ae(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),Ae(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(E)||!a.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;let $=E.length,q=N.length;for(let G=0,ee=Math.min($,q);G<ee;++G)if(E[G]!==N[G]){$=E[G],q=N[G];break}return $<q?-1:q<$?1:0},a.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return a.alloc(0);let $;if(N===void 0)for(N=0,$=0;$<E.length;++$)N+=E[$].length;const q=a.allocUnsafe(N);let G=0;for($=0;$<E.length;++$){let ee=E[$];if(Ae(ee,Uint8Array))G+ee.length>q.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(q,G)):Uint8Array.prototype.set.call(q,ee,G);else if(a.isBuffer(ee))ee.copy(q,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=ee.length}return q};function _(z,E){if(a.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Ae(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const N=z.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&N===0)return 0;let q=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return ge(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return ye(z).length;default:if(q)return $?-1:ge(z).length;E=(""+E).toLowerCase(),q=!0}}a.byteLength=_;function A(z,E,N){let $=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,E>>>=0,N<=E))return"";for(z||(z="utf8");;)switch(z){case"hex":return j(this,E,N);case"utf8":case"utf-8":return f(this,E,N);case"ascii":return I(this,E,N);case"latin1":case"binary":return C(this,E,N);case"base64":return M(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,E,N);default:if($)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),$=!0}}a.prototype._isBuffer=!0;function R(z,E,N){const $=z[E];z[E]=z[N],z[N]=$}a.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<E;N+=2)R(this,N,N+1);return this},a.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<E;N+=4)R(this,N,N+3),R(this,N+1,N+2);return this},a.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<E;N+=8)R(this,N,N+7),R(this,N+1,N+6),R(this,N+2,N+5),R(this,N+3,N+4);return this},a.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?f(this,0,E):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(E){if(!a.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:a.compare(this,E)===0},a.prototype.inspect=function(){let E="";const N=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(E,N,$,q,G){if(Ae(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(N===void 0&&(N=0),$===void 0&&($=E?E.length:0),q===void 0&&(q=0),G===void 0&&(G=this.length),N<0||$>E.length||q<0||G>this.length)throw new RangeError("out of range index");if(q>=G&&N>=$)return 0;if(q>=G)return-1;if(N>=$)return 1;if(N>>>=0,$>>>=0,q>>>=0,G>>>=0,this===E)return 0;let ee=G-q,De=$-N;const Be=Math.min(ee,De),Ce=this.slice(q,G),Ye=E.slice(N,$);for(let Me=0;Me<Be;++Me)if(Ce[Me]!==Ye[Me]){ee=Ce[Me],De=Ye[Me];break}return ee<De?-1:De<ee?1:0};function W(z,E,N,$,q){if(z.length===0)return-1;if(typeof N=="string"?($=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Se(N)&&(N=q?0:z.length-1),N<0&&(N=z.length+N),N>=z.length){if(q)return-1;N=z.length-1}else if(N<0)if(q)N=0;else return-1;if(typeof E=="string"&&(E=a.from(E,$)),a.isBuffer(E))return E.length===0?-1:O(z,E,N,$,q);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(z,E,N):Uint8Array.prototype.lastIndexOf.call(z,E,N):O(z,[E],N,$,q);throw new TypeError("val must be string, number or Buffer")}function O(z,E,N,$,q){let G=1,ee=z.length,De=E.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(z.length<2||E.length<2)return-1;G=2,ee/=2,De/=2,N/=2}function Be(Ye,Me){return G===1?Ye[Me]:Ye.readUInt16BE(Me*G)}let Ce;if(q){let Ye=-1;for(Ce=N;Ce<ee;Ce++)if(Be(z,Ce)===Be(E,Ye===-1?0:Ce-Ye)){if(Ye===-1&&(Ye=Ce),Ce-Ye+1===De)return Ye*G}else Ye!==-1&&(Ce-=Ce-Ye),Ye=-1}else for(N+De>ee&&(N=ee-De),Ce=N;Ce>=0;Ce--){let Ye=!0;for(let Me=0;Me<De;Me++)if(Be(z,Ce+Me)!==Be(E,Me)){Ye=!1;break}if(Ye)return Ce}return-1}a.prototype.includes=function(E,N,$){return this.indexOf(E,N,$)!==-1},a.prototype.indexOf=function(E,N,$){return W(this,E,N,$,!0)},a.prototype.lastIndexOf=function(E,N,$){return W(this,E,N,$,!1)};function B(z,E,N,$){N=Number(N)||0;const q=z.length-N;$?($=Number($),$>q&&($=q)):$=q;const G=E.length;$>G/2&&($=G/2);let ee;for(ee=0;ee<$;++ee){const De=parseInt(E.substr(ee*2,2),16);if(Se(De))return ee;z[N+ee]=De}return ee}function F(z,E,N,$){return xe(ge(E,z.length-N),z,N,$)}function U(z,E,N,$){return xe(oe(E),z,N,$)}function H(z,E,N,$){return xe(ye(E),z,N,$)}function V(z,E,N,$){return xe(ie(E,z.length-N),z,N,$)}a.prototype.write=function(E,N,$,q){if(N===void 0)q="utf8",$=this.length,N=0;else if($===void 0&&typeof N=="string")q=N,$=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite($)?($=$>>>0,q===void 0&&(q="utf8")):(q=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-N;if(($===void 0||$>G)&&($=G),E.length>0&&($<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let ee=!1;for(;;)switch(q){case"hex":return B(this,E,N,$);case"utf8":case"utf-8":return F(this,E,N,$);case"ascii":case"latin1":case"binary":return U(this,E,N,$);case"base64":return H(this,E,N,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,E,N,$);default:if(ee)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(z,E,N){return E===0&&N===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(E,N))}function f(z,E,N){N=Math.min(z.length,N);const $=[];let q=E;for(;q<N;){const G=z[q];let ee=null,De=G>239?4:G>223?3:G>191?2:1;if(q+De<=N){let Be,Ce,Ye,Me;switch(De){case 1:G<128&&(ee=G);break;case 2:Be=z[q+1],(Be&192)===128&&(Me=(G&31)<<6|Be&63,Me>127&&(ee=Me));break;case 3:Be=z[q+1],Ce=z[q+2],(Be&192)===128&&(Ce&192)===128&&(Me=(G&15)<<12|(Be&63)<<6|Ce&63,Me>2047&&(Me<55296||Me>57343)&&(ee=Me));break;case 4:Be=z[q+1],Ce=z[q+2],Ye=z[q+3],(Be&192)===128&&(Ce&192)===128&&(Ye&192)===128&&(Me=(G&15)<<18|(Be&63)<<12|(Ce&63)<<6|Ye&63,Me>65535&&Me<1114112&&(ee=Me))}}ee===null?(ee=65533,De=1):ee>65535&&(ee-=65536,$.push(ee>>>10&1023|55296),ee=56320|ee&1023),$.push(ee),q+=De}return k($)}const x=4096;function k(z){const E=z.length;if(E<=x)return String.fromCharCode.apply(String,z);let N="",$=0;for(;$<E;)N+=String.fromCharCode.apply(String,z.slice($,$+=x));return N}function I(z,E,N){let $="";N=Math.min(z.length,N);for(let q=E;q<N;++q)$+=String.fromCharCode(z[q]&127);return $}function C(z,E,N){let $="";N=Math.min(z.length,N);for(let q=E;q<N;++q)$+=String.fromCharCode(z[q]);return $}function j(z,E,N){const $=z.length;(!E||E<0)&&(E=0),(!N||N<0||N>$)&&(N=$);let q="";for(let G=E;G<N;++G)q+=ze[z[G]];return q}function P(z,E,N){const $=z.slice(E,N);let q="";for(let G=0;G<$.length-1;G+=2)q+=String.fromCharCode($[G]+$[G+1]*256);return q}a.prototype.slice=function(E,N){const $=this.length;E=~~E,N=N===void 0?$:~~N,E<0?(E+=$,E<0&&(E=0)):E>$&&(E=$),N<0?(N+=$,N<0&&(N=0)):N>$&&(N=$),N<E&&(N=E);const q=this.subarray(E,N);return Object.setPrototypeOf(q,a.prototype),q};function T(z,E,N){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+E>N)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(E,N,$){E=E>>>0,N=N>>>0,$||T(E,N,this.length);let q=this[E],G=1,ee=0;for(;++ee<N&&(G*=256);)q+=this[E+ee]*G;return q},a.prototype.readUintBE=a.prototype.readUIntBE=function(E,N,$){E=E>>>0,N=N>>>0,$||T(E,N,this.length);let q=this[E+--N],G=1;for(;N>0&&(G*=256);)q+=this[E+--N]*G;return q},a.prototype.readUint8=a.prototype.readUInt8=function(E,N){return E=E>>>0,N||T(E,1,this.length),this[E]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(E,N){return E=E>>>0,N||T(E,2,this.length),this[E]|this[E+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(E,N){return E=E>>>0,N||T(E,2,this.length),this[E]<<8|this[E+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(E,N){return E=E>>>0,N||T(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(E,N){return E=E>>>0,N||T(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},a.prototype.readBigUInt64LE=Fe(function(E){E=E>>>0,it(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&Oe(E,this.length-8);const q=N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,G=this[++E]+this[++E]*2**8+this[++E]*2**16+$*2**24;return BigInt(q)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=Fe(function(E){E=E>>>0,it(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&Oe(E,this.length-8);const q=N*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],G=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+$;return(BigInt(q)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(E,N,$){E=E>>>0,N=N>>>0,$||T(E,N,this.length);let q=this[E],G=1,ee=0;for(;++ee<N&&(G*=256);)q+=this[E+ee]*G;return G*=128,q>=G&&(q-=Math.pow(2,8*N)),q},a.prototype.readIntBE=function(E,N,$){E=E>>>0,N=N>>>0,$||T(E,N,this.length);let q=N,G=1,ee=this[E+--q];for(;q>0&&(G*=256);)ee+=this[E+--q]*G;return G*=128,ee>=G&&(ee-=Math.pow(2,8*N)),ee},a.prototype.readInt8=function(E,N){return E=E>>>0,N||T(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},a.prototype.readInt16LE=function(E,N){E=E>>>0,N||T(E,2,this.length);const $=this[E]|this[E+1]<<8;return $&32768?$|4294901760:$},a.prototype.readInt16BE=function(E,N){E=E>>>0,N||T(E,2,this.length);const $=this[E+1]|this[E]<<8;return $&32768?$|4294901760:$},a.prototype.readInt32LE=function(E,N){return E=E>>>0,N||T(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},a.prototype.readInt32BE=function(E,N){return E=E>>>0,N||T(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},a.prototype.readBigInt64LE=Fe(function(E){E=E>>>0,it(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&Oe(E,this.length-8);const q=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+($<<24);return(BigInt(q)<<BigInt(32))+BigInt(N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),a.prototype.readBigInt64BE=Fe(function(E){E=E>>>0,it(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&Oe(E,this.length-8);const q=(N<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(q)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+$)}),a.prototype.readFloatLE=function(E,N){return E=E>>>0,N||T(E,4,this.length),n.read(this,E,!0,23,4)},a.prototype.readFloatBE=function(E,N){return E=E>>>0,N||T(E,4,this.length),n.read(this,E,!1,23,4)},a.prototype.readDoubleLE=function(E,N){return E=E>>>0,N||T(E,8,this.length),n.read(this,E,!0,52,8)},a.prototype.readDoubleBE=function(E,N){return E=E>>>0,N||T(E,8,this.length),n.read(this,E,!1,52,8)};function v(z,E,N,$,q,G){if(!a.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>q||E<G)throw new RangeError('"value" argument is out of bounds');if(N+$>z.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(E,N,$,q){if(E=+E,N=N>>>0,$=$>>>0,!q){const De=Math.pow(2,8*$)-1;v(this,E,N,$,De,0)}let G=1,ee=0;for(this[N]=E&255;++ee<$&&(G*=256);)this[N+ee]=E/G&255;return N+$},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(E,N,$,q){if(E=+E,N=N>>>0,$=$>>>0,!q){const De=Math.pow(2,8*$)-1;v(this,E,N,$,De,0)}let G=$-1,ee=1;for(this[N+G]=E&255;--G>=0&&(ee*=256);)this[N+G]=E/ee&255;return N+$},a.prototype.writeUint8=a.prototype.writeUInt8=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,1,255,0),this[N]=E&255,N+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,65535,0),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=E&255,N+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4};function L(z,E,N,$,q){Re(E,$,q,z,N,7);let G=Number(E&BigInt(4294967295));z[N++]=G,G=G>>8,z[N++]=G,G=G>>8,z[N++]=G,G=G>>8,z[N++]=G;let ee=Number(E>>BigInt(32)&BigInt(4294967295));return z[N++]=ee,ee=ee>>8,z[N++]=ee,ee=ee>>8,z[N++]=ee,ee=ee>>8,z[N++]=ee,N}function X(z,E,N,$,q){Re(E,$,q,z,N,7);let G=Number(E&BigInt(4294967295));z[N+7]=G,G=G>>8,z[N+6]=G,G=G>>8,z[N+5]=G,G=G>>8,z[N+4]=G;let ee=Number(E>>BigInt(32)&BigInt(4294967295));return z[N+3]=ee,ee=ee>>8,z[N+2]=ee,ee=ee>>8,z[N+1]=ee,ee=ee>>8,z[N]=ee,N+8}a.prototype.writeBigUInt64LE=Fe(function(E,N=0){return L(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Fe(function(E,N=0){return X(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(E,N,$,q){if(E=+E,N=N>>>0,!q){const Be=Math.pow(2,8*$-1);v(this,E,N,$,Be-1,-Be)}let G=0,ee=1,De=0;for(this[N]=E&255;++G<$&&(ee*=256);)E<0&&De===0&&this[N+G-1]!==0&&(De=1),this[N+G]=(E/ee>>0)-De&255;return N+$},a.prototype.writeIntBE=function(E,N,$,q){if(E=+E,N=N>>>0,!q){const Be=Math.pow(2,8*$-1);v(this,E,N,$,Be-1,-Be)}let G=$-1,ee=1,De=0;for(this[N+G]=E&255;--G>=0&&(ee*=256);)E<0&&De===0&&this[N+G+1]!==0&&(De=1),this[N+G]=(E/ee>>0)-De&255;return N+$},a.prototype.writeInt8=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=E&255,N+1},a.prototype.writeInt16LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,32767,-32768),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeInt16BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeInt32LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,2147483647,-2147483648),this[N]=E&255,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},a.prototype.writeInt32BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4},a.prototype.writeBigInt64LE=Fe(function(E,N=0){return L(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Fe(function(E,N=0){return X(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(z,E,N,$,q,G){if(N+$>z.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function te(z,E,N,$,q){return E=+E,N=N>>>0,q||Z(z,E,N,4),n.write(z,E,N,$,23,4),N+4}a.prototype.writeFloatLE=function(E,N,$){return te(this,E,N,!0,$)},a.prototype.writeFloatBE=function(E,N,$){return te(this,E,N,!1,$)};function ne(z,E,N,$,q){return E=+E,N=N>>>0,q||Z(z,E,N,8),n.write(z,E,N,$,52,8),N+8}a.prototype.writeDoubleLE=function(E,N,$){return ne(this,E,N,!0,$)},a.prototype.writeDoubleBE=function(E,N,$){return ne(this,E,N,!1,$)},a.prototype.copy=function(E,N,$,q){if(!a.isBuffer(E))throw new TypeError("argument should be a Buffer");if($||($=0),!q&&q!==0&&(q=this.length),N>=E.length&&(N=E.length),N||(N=0),q>0&&q<$&&(q=$),q===$||E.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),E.length-N<q-$&&(q=E.length-N+$);const G=q-$;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,$,q):Uint8Array.prototype.set.call(E,this.subarray($,q),N),G},a.prototype.fill=function(E,N,$,q){if(typeof E=="string"){if(typeof N=="string"?(q=N,N=0,$=this.length):typeof $=="string"&&(q=$,$=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(E.length===1){const ee=E.charCodeAt(0);(q==="utf8"&&ee<128||q==="latin1")&&(E=ee)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(N<0||this.length<N||this.length<$)throw new RangeError("Out of range index");if($<=N)return this;N=N>>>0,$=$===void 0?this.length:$>>>0,E||(E=0);let G;if(typeof E=="number")for(G=N;G<$;++G)this[G]=E;else{const ee=a.isBuffer(E)?E:a.from(E,q),De=ee.length;if(De===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(G=0;G<$-N;++G)this[G+N]=ee[G%De]}return this};const le={};function ce(z,E,N){le[z]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(z,E){return`The "${z}" argument must be of type number. Received type ${typeof E}`},TypeError),ce("ERR_OUT_OF_RANGE",function(z,E,N){let $=`The value of "${z}" is out of range.`,q=N;return Number.isInteger(N)&&Math.abs(N)>2**32?q=pe(String(N)):typeof N=="bigint"&&(q=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(q=pe(q)),q+="n"),$+=` It must be ${E}. Received ${q}`,$},RangeError);function pe(z){let E="",N=z.length;const $=z[0]==="-"?1:0;for(;N>=$+4;N-=3)E=`_${z.slice(N-3,N)}${E}`;return`${z.slice(0,N)}${E}`}function Pe(z,E,N){it(E,"offset"),(z[E]===void 0||z[E+N]===void 0)&&Oe(E,z.length-(N+1))}function Re(z,E,N,$,q,G){if(z>N||z<E){const ee=typeof E=="bigint"?"n":"";let De;throw E===0||E===BigInt(0)?De=`>= 0${ee} and < 2${ee} ** ${(G+1)*8}${ee}`:De=`>= -(2${ee} ** ${(G+1)*8-1}${ee}) and < 2 ** ${(G+1)*8-1}${ee}`,new le.ERR_OUT_OF_RANGE("value",De,z)}Pe($,q,G)}function it(z,E){if(typeof z!="number")throw new le.ERR_INVALID_ARG_TYPE(E,"number",z)}function Oe(z,E,N){throw Math.floor(z)!==z?(it(z,N),new le.ERR_OUT_OF_RANGE("offset","an integer",z)):E<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,z)}const Le=/[^+/0-9A-Za-z-_]/g;function re(z){if(z=z.split("=")[0],z=z.trim().replace(Le,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function ge(z,E){E=E||1/0;let N;const $=z.length;let q=null;const G=[];for(let ee=0;ee<$;++ee){if(N=z.charCodeAt(ee),N>55295&&N<57344){if(!q){if(N>56319){(E-=3)>-1&&G.push(239,191,189);continue}else if(ee+1===$){(E-=3)>-1&&G.push(239,191,189);continue}q=N;continue}if(N<56320){(E-=3)>-1&&G.push(239,191,189),q=N;continue}N=(q-55296<<10|N-56320)+65536}else q&&(E-=3)>-1&&G.push(239,191,189);if(q=null,N<128){if((E-=1)<0)break;G.push(N)}else if(N<2048){if((E-=2)<0)break;G.push(N>>6|192,N&63|128)}else if(N<65536){if((E-=3)<0)break;G.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((E-=4)<0)break;G.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return G}function oe(z){const E=[];for(let N=0;N<z.length;++N)E.push(z.charCodeAt(N)&255);return E}function ie(z,E){let N,$,q;const G=[];for(let ee=0;ee<z.length&&!((E-=2)<0);++ee)N=z.charCodeAt(ee),$=N>>8,q=N%256,G.push(q),G.push($);return G}function ye(z){return e.toByteArray(re(z))}function xe(z,E,N,$){let q;for(q=0;q<$&&!(q+N>=E.length||q>=z.length);++q)E[q+N]=z[q];return q}function Ae(z,E){return z instanceof E||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===E.name}function Se(z){return z!==z}const ze=function(){const z="0123456789abcdef",E=new Array(256);for(let N=0;N<16;++N){const $=N*16;for(let q=0;q<16;++q)E[$+q]=z[N]+z[q]}return E}();function Fe(z){return typeof BigInt>"u"?Je:z}function Je(){throw new Error("BigInt not supported")}})(je);const Ba=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function od(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function pi(t,...e){if(!Bd(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function PN(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");od(t.outputLen),od(t.blockLen)}function $l(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LN(t,e){pi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function lT(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function mo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function $0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function fs(t,e){return t<<32-e|t>>>e}const cT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function uT(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function dT(t){for(let e=0;e<t.length;e++)t[e]=uT(t[e]);return t}const e2=cT?t=>t:dT,ON=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hT=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ra(t){if(pi(t),ON)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=hT[t[n]];return e}const Ds={_0:48,_9:57,A:65,F:70,a:97,f:102};function t2(t){if(t>=Ds._0&&t<=Ds._9)return t-Ds._0;if(t>=Ds.A&&t<=Ds.F)return t-(Ds.A-10);if(t>=Ds.a&&t<=Ds.f)return t-(Ds.a-10)}function wp(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(ON)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=t2(t.charCodeAt(i)),a=t2(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function fT(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function km(t){return typeof t=="string"&&(t=fT(t)),pi(t),t}function Ss(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];pi(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class lw{}function cw(t){const e=r=>t().update(km(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uw(t=32){if(Ba&&typeof Ba.getRandomValues=="function")return Ba.getRandomValues(new Uint8Array(t));if(Ba&&typeof Ba.randomBytes=="function")return Uint8Array.from(Ba.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function pT(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function mT(t,e,n){return t&e^~t&n}function gT(t,e,n){return t&e^t&n^e&n}class DN extends lw{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=$0(this.buffer)}update(e){$l(this),e=km(e),pi(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=$0(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$l(this),LN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,mo(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let h=o;h<s;h++)n[h]=0;pT(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=$0(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,d[h],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const _i=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),gh=BigInt(2**32-1),n2=BigInt(32);function yT(t,e=!1){return e?{h:Number(t&gh),l:Number(t>>n2&gh)}:{h:Number(t>>n2&gh)|0,l:Number(t&gh)|0}}function zN(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=yT(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const r2=(t,e,n)=>t>>>n,s2=(t,e,n)=>t<<32-n|e>>>n,Pa=(t,e,n)=>t>>>n|e<<32-n,La=(t,e,n)=>t<<32-n|e>>>n,yh=(t,e,n)=>t<<64-n|e>>>n-32,xh=(t,e,n)=>t>>>n-32|e<<64-n,xT=(t,e,n)=>t<<n|e>>>32-n,wT=(t,e,n)=>e<<n|t>>>32-n,vT=(t,e,n)=>e<<n-32|t>>>64-n,bT=(t,e,n)=>t<<n-32|e>>>64-n;function zs(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const ST=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),_T=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,kT=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ET=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,NT=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),AT=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,CT=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ki=new Uint32Array(64);class MT extends DN{constructor(e=32){super(64,e,8,!1),this.A=_i[0]|0,this.B=_i[1]|0,this.C=_i[2]|0,this.D=_i[3]|0,this.E=_i[4]|0,this.F=_i[5]|0,this.G=_i[6]|0,this.H=_i[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)ki[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=ki[h-15],m=ki[h-2],y=fs(p,7)^fs(p,18)^p>>>3,w=fs(m,17)^fs(m,19)^m>>>10;ki[h]=w+ki[h-7]+y+ki[h-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:d}=this;for(let h=0;h<64;h++){const p=fs(a,6)^fs(a,11)^fs(a,25),m=d+p+mT(a,l,c)+CT[h]+ki[h]|0,w=(fs(r,2)^fs(r,13)^fs(r,22))+gT(r,s,i)|0;d=c,c=l,l=a,a=o+m|0,o=i,i=s,s=r,r=m+w|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,s,i,o,a,l,c,d)}roundClean(){mo(ki)}destroy(){this.set(0,0,0,0,0,0,0,0),mo(this.buffer)}}const WN=zN(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),IT=WN[0],jT=WN[1],Ei=new Uint32Array(80),Ni=new Uint32Array(80);class TT extends DN{constructor(e=64){super(128,e,16,!1),this.Ah=Pn[0]|0,this.Al=Pn[1]|0,this.Bh=Pn[2]|0,this.Bl=Pn[3]|0,this.Ch=Pn[4]|0,this.Cl=Pn[5]|0,this.Dh=Pn[6]|0,this.Dl=Pn[7]|0,this.Eh=Pn[8]|0,this.El=Pn[9]|0,this.Fh=Pn[10]|0,this.Fl=Pn[11]|0,this.Gh=Pn[12]|0,this.Gl=Pn[13]|0,this.Hh=Pn[14]|0,this.Hl=Pn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:h,Fl:p,Gh:m,Gl:y,Hh:w,Hl:b}=this;return[e,n,r,s,i,o,a,l,c,d,h,p,m,y,w,b]}set(e,n,r,s,i,o,a,l,c,d,h,p,m,y,w,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=h|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=w|0,this.Hl=b|0}process(e,n){for(let _=0;_<16;_++,n+=4)Ei[_]=e.getUint32(n),Ni[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const A=Ei[_-15]|0,R=Ni[_-15]|0,W=Pa(A,R,1)^Pa(A,R,8)^r2(A,R,7),O=La(A,R,1)^La(A,R,8)^s2(A,R,7),B=Ei[_-2]|0,F=Ni[_-2]|0,U=Pa(B,F,19)^yh(B,F,61)^r2(B,F,6),H=La(B,F,19)^xh(B,F,61)^s2(B,F,6),V=kT(O,H,Ni[_-7],Ni[_-16]),M=ET(V,W,U,Ei[_-7],Ei[_-16]);Ei[_]=M|0,Ni[_]=V|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:h,El:p,Fh:m,Fl:y,Gh:w,Gl:b,Hh:g,Hl:S}=this;for(let _=0;_<80;_++){const A=Pa(h,p,14)^Pa(h,p,18)^yh(h,p,41),R=La(h,p,14)^La(h,p,18)^xh(h,p,41),W=h&m^~h&w,O=p&y^~p&b,B=NT(S,R,O,jT[_],Ni[_]),F=AT(B,g,A,W,IT[_],Ei[_]),U=B|0,H=Pa(r,s,28)^yh(r,s,34)^yh(r,s,39),V=La(r,s,28)^xh(r,s,34)^xh(r,s,39),M=r&i^r&a^i&a,f=s&o^s&l^o&l;g=w|0,S=b|0,w=m|0,b=y|0,m=h|0,y=p|0,{h,l:p}=zs(c|0,d|0,F|0,U|0),c=a|0,d=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const x=ST(U,V,f);r=_T(x,F,H,M),s=x|0}({h:r,l:s}=zs(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=zs(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=zs(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=zs(this.Dh|0,this.Dl|0,c|0,d|0),{h,l:p}=zs(this.Eh|0,this.El|0,h|0,p|0),{h:m,l:y}=zs(this.Fh|0,this.Fl|0,m|0,y|0),{h:w,l:b}=zs(this.Gh|0,this.Gl|0,w|0,b|0),{h:g,l:S}=zs(this.Hh|0,this.Hl|0,g|0,S|0),this.set(r,s,i,o,a,l,c,d,h,p,m,y,w,b,g,S)}roundClean(){mo(Ei,Ni)}destroy(){mo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const FN=cw(()=>new MT),RT=cw(()=>new TT);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dw=BigInt(0),Dy=BigInt(1);function fa(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Jr(t,e,n=""){const r=Bd(t),s=t==null?void 0:t.length,i=e!==void 0;if(!r||i&&s!==e){const o=n&&`"${n}" `,a=i?` of length ${e}`:"",l=r?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function wh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $N(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?dw:BigInt("0x"+t)}function Em(t){return $N(ra(t))}function ad(t){return pi(t),$N(ra(Uint8Array.from(t).reverse()))}function hw(t,e){return wp(t.toString(16).padStart(e*2,"0"))}function UN(t,e){return hw(t,e).reverse()}function Yt(t,e,n){let r;if(typeof e=="string")try{r=wp(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Bd(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function i2(t){return Uint8Array.from(t)}const U0=t=>typeof t=="bigint"&&dw<=t;function BT(t,e,n){return U0(t)&&U0(e)&&U0(n)&&e<=t&&t<n}function zy(t,e,n,r){if(!BT(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function HN(t){let e;for(e=0;t>dw;t>>=Dy,e+=1);return e}const Pd=t=>(Dy<<BigInt(t))-Dy;function PT(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),s=m=>Uint8Array.of(m);let i=r(t),o=r(t),a=0;const l=()=>{i.fill(1),o.fill(0),a=0},c=(...m)=>n(o,i,...m),d=(m=r(0))=>{o=c(s(0),m),i=c(),m.length!==0&&(o=c(s(1),m),i=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){i=c();const w=i.slice();y.push(w),m+=i.length}return Ss(...y)};return(m,y)=>{l(),d(m);let w;for(;!(w=y(h()));)d();return l(),w}}function Ld(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const l=typeof a;if(l!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${l}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function vp(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ar=BigInt(0),In=BigInt(1),Uo=BigInt(2),VN=BigInt(3),KN=BigInt(4),qN=BigInt(5),LT=BigInt(7),YN=BigInt(8),OT=BigInt(9),GN=BigInt(16);function rn(t,e){const n=t%e;return n>=ar?n:e+n}function qt(t,e,n){let r=t;for(;e-- >ar;)r*=r,r%=n;return r}function o2(t,e){if(t===ar)throw new Error("invert: expected non-zero number");if(e<=ar)throw new Error("invert: expected positive modulus, got "+e);let n=rn(t,e),r=e,s=ar,i=In;for(;n!==ar;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==In)throw new Error("invert: does not exist");return rn(s,e)}function fw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function ZN(t,e){const n=(t.ORDER+In)/KN,r=t.pow(e,n);return fw(t,r,e),r}function DT(t,e){const n=(t.ORDER-qN)/YN,r=t.mul(e,Uo),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Uo),s),a=t.mul(i,t.sub(o,t.ONE));return fw(t,a,e),a}function zT(t){const e=_a(t),n=XN(t),r=n(e,e.neg(e.ONE)),s=n(e,r),i=n(e,e.neg(r)),o=(t+LT)/GN;return(a,l)=>{let c=a.pow(l,o),d=a.mul(c,r);const h=a.mul(c,s),p=a.mul(c,i),m=a.eql(a.sqr(d),l),y=a.eql(a.sqr(h),l);c=a.cmov(c,d,m),d=a.cmov(p,h,y);const w=a.eql(a.sqr(d),l),b=a.cmov(c,d,w);return fw(a,b,l),b}}function XN(t){if(t<VN)throw new Error("sqrt is not defined for small field");let e=t-In,n=0;for(;e%Uo===ar;)e/=Uo,n++;let r=Uo;const s=_a(t);for(;a2(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ZN;let i=s.pow(r,e);const o=(e+In)/Uo;return function(l,c){if(l.is0(c))return c;if(a2(l,c)!==1)throw new Error("Cannot find square root");let d=n,h=l.mul(l.ONE,i),p=l.pow(c,e),m=l.pow(c,o);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let y=1,w=l.sqr(p);for(;!l.eql(w,l.ONE);)if(y++,w=l.sqr(w),y===d)throw new Error("Cannot find square root");const b=In<<BigInt(d-y-1),g=l.pow(h,b);d=y,h=l.sqr(g),p=l.mul(p,h),m=l.mul(m,g)}return m}}function WT(t){return t%KN===VN?ZN:t%YN===qN?DT:t%GN===OT?zT(t):XN(t)}const FT=(t,e)=>(rn(t,e)&In)===In,$T=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function UT(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=$T.reduce((r,s)=>(r[s]="function",r),e);return Ld(t,n),t}function HT(t,e,n){if(n<ar)throw new Error("invalid exponent, negatives unsupported");if(n===ar)return t.ONE;if(n===In)return e;let r=t.ONE,s=e;for(;n>ar;)n&In&&(r=t.mul(r,s)),s=t.sqr(s),n>>=In;return r}function QN(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function a2(t,e){const n=(t.ORDER-In)/Uo,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function JN(t,e){e!==void 0&&od(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _a(t,e,n=!1,r={}){if(t<=ar)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(s=p.BITS),p.sqrt&&(i=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(o=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:l,nByteLength:c}=JN(t,s);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const h=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Pd(l),ZERO:ar,ONE:In,allowedLengths:a,create:p=>rn(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return ar<=p&&p<t},is0:p=>p===ar,isValidNot0:p=>!h.is0(p)&&h.isValid(p),isOdd:p=>(p&In)===In,neg:p=>rn(-p,t),eql:(p,m)=>p===m,sqr:p=>rn(p*p,t),add:(p,m)=>rn(p+m,t),sub:(p,m)=>rn(p-m,t),mul:(p,m)=>rn(p*m,t),pow:(p,m)=>HT(h,p,m),div:(p,m)=>rn(p*o2(m,t),t),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>o2(p,t),sqrt:i||(p=>(d||(d=WT(t)),d(h,p))),toBytes:p=>n?UN(p,c):hw(p,c),fromBytes:(p,m=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const w=new Uint8Array(c);w.set(p,n?0:w.length-p.length),p=w}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let y=n?ad(p):Em(p);if(o&&(y=rn(y,t)),!m&&!h.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},invertBatch:p=>QN(h,p),cmov:(p,m,y)=>y?m:p});return Object.freeze(h)}function e3(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function t3(t){const e=e3(t);return e+Math.ceil(e/2)}function VT(t,e,n=!1){const r=t.length,s=e3(e),i=t3(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?ad(t):Em(t),a=rn(o,e-In)+In;return n?UN(a,s):hw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ul=BigInt(0),Ho=BigInt(1);function bp(t,e){const n=e.negate();return t?n:e}function Vo(t,e){const n=QN(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function n3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function H0(t,e){n3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Pd(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function l2(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=Ho);const c=e*r,d=c+Math.abs(a)-1,h=a===0,p=a<0,m=e%2!==0;return{nextN:l,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:c}}function KT(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function qT(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const V0=new WeakMap,r3=new WeakMap;function K0(t){return r3.get(t)||1}function c2(t){if(t!==Ul)throw new Error("invalid wNAF")}class s3{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>Ul;)n&Ho&&(r=r.add(s)),s=s.double(),n>>=Ho;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=H0(n,this.bits),i=[];let o=e,a=o;for(let l=0;l<r;l++){a=o,i.push(a);for(let c=1;c<s;c++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=H0(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:h,isNegF:p,offsetF:m}=l2(r,a,o);r=l,d?i=i.add(bp(p,n[m])):s=s.add(bp(h,n[c]))}return c2(r),{p:s,f:i}}wNAFUnsafe(e,n,r,s=this.ZERO){const i=H0(e,this.bits);for(let o=0;o<i.windows&&r!==Ul;o++){const{nextN:a,offset:l,isZero:c,isNeg:d}=l2(r,o,i);if(r=a,!c){const h=n[l];s=s.add(d?h.negate():h)}}return c2(r),s}getPrecomputes(e,n,r){let s=V0.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),V0.set(n,s))),s}cached(e,n,r){const s=K0(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const i=K0(e);return i===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,s)}createCache(e,n){n3(n,this.bits),r3.set(e,n),V0.delete(e)}hasCache(e){return K0(e)!==1}}function YT(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>Ul||r>Ul;)n&Ho&&(i=i.add(s)),r&Ho&&(o=o.add(s)),s=s.double(),n>>=Ho,r>>=Ho;return{p1:i,p2:o}}function i3(t,e,n,r){KT(n,t),qT(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=HN(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Pd(l),d=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let p=o;for(let m=h;m>=0;m-=l){d.fill(o);for(let w=0;w<i;w++){const b=r[w],g=Number(b>>BigInt(m)&c);d[g]=d[g].add(n[w])}let y=o;for(let w=d.length-1,b=o;w>0;w--)b=b.add(d[w]),y=y.add(b);if(p=p.add(y),m!==0)for(let w=0;w<l;w++)p=p.double()}return p}function u2(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return UT(e),e}else return _a(t,{isLE:n})}function o3(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Ul))throw new Error(`CURVE.${l} must be positive bigint`)}const s=u2(e.p,n.Fp,r),i=u2(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!s.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ai=BigInt(0),pn=BigInt(1),q0=BigInt(2),GT=BigInt(8);function ZT(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),o=t.add(t.mul(e.a,s),i),a=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(o,a)}function XT(t,e={}){const n=o3("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o}=i;Ld(e,{},{uvRatio:"function"});const a=q0<<BigInt(s.BYTES*8)-pn,l=b=>r.create(b),c=e.uvRatio||((b,g)=>{try{return{isValid:!0,value:r.sqrt(r.div(b,g))}}catch{return{isValid:!1,value:Ai}}});if(!ZT(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function d(b,g,S=!1){const _=S?pn:Ai;return zy("coordinate "+b,g,_,a),g}function h(b){if(!(b instanceof y))throw new Error("ExtendedPoint expected")}const p=vp((b,g)=>{const{X:S,Y:_,Z:A}=b,R=b.is0();g==null&&(g=R?GT:r.inv(A));const W=l(S*g),O=l(_*g),B=r.mul(A,g);if(R)return{x:Ai,y:pn};if(B!==pn)throw new Error("invZ was invalid");return{x:W,y:O}}),m=vp(b=>{const{a:g,d:S}=i;if(b.is0())throw new Error("bad point: ZERO");const{X:_,Y:A,Z:R,T:W}=b,O=l(_*_),B=l(A*A),F=l(R*R),U=l(F*F),H=l(O*g),V=l(F*l(H+B)),M=l(U+l(S*l(O*B)));if(V!==M)throw new Error("bad point: equation left != right (1)");const f=l(_*A),x=l(R*W);if(f!==x)throw new Error("bad point: equation left != right (2)");return!0});class y{constructor(g,S,_,A){this.X=d("x",g),this.Y=d("y",S),this.Z=d("z",_,!0),this.T=d("t",A),Object.freeze(this)}static CURVE(){return i}static fromAffine(g){if(g instanceof y)throw new Error("extended point not allowed");const{x:S,y:_}=g||{};return d("x",S),d("y",_),new y(S,_,pn,l(S*_))}static fromBytes(g,S=!1){const _=r.BYTES,{a:A,d:R}=i;g=i2(Jr(g,_,"point")),fa(S,"zip215");const W=i2(g),O=g[_-1];W[_-1]=O&-129;const B=ad(W),F=S?a:r.ORDER;zy("point.y",B,Ai,F);const U=l(B*B),H=l(U-pn),V=l(R*U-A);let{isValid:M,value:f}=c(H,V);if(!M)throw new Error("bad point: invalid y coordinate");const x=(f&pn)===pn,k=(O&128)!==0;if(!S&&f===Ai&&k)throw new Error("bad point: x=0 and x_0=1");return k!==x&&(f=l(-f)),y.fromAffine({x:f,y:B})}static fromHex(g,S=!1){return y.fromBytes(Yt("point",g),S)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(g=8,S=!0){return w.createCache(this,g),S||this.multiply(q0),this}assertValidity(){m(this)}equals(g){h(g);const{X:S,Y:_,Z:A}=this,{X:R,Y:W,Z:O}=g,B=l(S*O),F=l(R*A),U=l(_*O),H=l(W*A);return B===F&&U===H}is0(){return this.equals(y.ZERO)}negate(){return new y(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:g}=i,{X:S,Y:_,Z:A}=this,R=l(S*S),W=l(_*_),O=l(q0*l(A*A)),B=l(g*R),F=S+_,U=l(l(F*F)-R-W),H=B+W,V=H-O,M=B-W,f=l(U*V),x=l(H*M),k=l(U*M),I=l(V*H);return new y(f,x,I,k)}add(g){h(g);const{a:S,d:_}=i,{X:A,Y:R,Z:W,T:O}=this,{X:B,Y:F,Z:U,T:H}=g,V=l(A*B),M=l(R*F),f=l(O*_*H),x=l(W*U),k=l((A+R)*(B+F)-V-M),I=x-f,C=x+f,j=l(M-S*V),P=l(k*I),T=l(C*j),v=l(k*j),L=l(I*C);return new y(P,T,L,v)}subtract(g){return this.add(g.negate())}multiply(g){if(!s.isValidNot0(g))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:S,f:_}=w.cached(this,g,A=>Vo(y,A));return Vo(y,[S,_])[0]}multiplyUnsafe(g,S=y.ZERO){if(!s.isValid(g))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return g===Ai?y.ZERO:this.is0()||g===pn?this:w.unsafe(this,g,_=>Vo(y,_),S)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return w.unsafe(this,i.n).is0()}toAffine(g){return p(this,g)}clearCofactor(){return o===pn?this:this.multiplyUnsafe(o)}toBytes(){const{x:g,y:S}=this.toAffine(),_=r.toBytes(S);return _[_.length-1]|=g&pn?128:0,_}toHex(){return ra(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(g){return Vo(y,g)}static msm(g,S){return i3(y,s,g,S)}_setWindowSize(g){this.precompute(g)}toRawBytes(){return this.toBytes()}}y.BASE=new y(i.Gx,i.Gy,pn,l(i.Gx*i.Gy)),y.ZERO=new y(Ai,pn,pn,Ai),y.Fp=r,y.Fn=s;const w=new s3(y,s.BITS);return y.BASE.precompute(8),y}function QT(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Ld(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:o}=t,a=n.randomBytes||uw,l=n.adjustScalarBytes||(F=>F),c=n.domain||((F,U,H)=>{if(fa(H,"phflag"),U.length||H)throw new Error("Contexts/pre-hash are not supported");return F});function d(F){return o.create(ad(F))}function h(F){const U=_.secretKey;F=Yt("private key",F,U);const H=Yt("hashed private key",e(F),2*U),V=l(H.slice(0,U)),M=H.slice(U,2*U),f=d(V);return{head:V,prefix:M,scalar:f}}function p(F){const{head:U,prefix:H,scalar:V}=h(F),M=s.multiply(V),f=M.toBytes();return{head:U,prefix:H,scalar:V,point:M,pointBytes:f}}function m(F){return p(F).pointBytes}function y(F=Uint8Array.of(),...U){const H=Ss(...U);return d(e(c(H,Yt("context",F),!!r)))}function w(F,U,H={}){F=Yt("message",F),r&&(F=r(F));const{prefix:V,scalar:M,pointBytes:f}=p(U),x=y(H.context,V,F),k=s.multiply(x).toBytes(),I=y(H.context,k,f,F),C=o.create(x+I*M);if(!o.isValid(C))throw new Error("sign failed: invalid s");const j=Ss(k,o.toBytes(C));return Jr(j,_.signature,"result")}const b={zip215:!0};function g(F,U,H,V=b){const{context:M,zip215:f}=V,x=_.signature;F=Yt("signature",F,x),U=Yt("message",U),H=Yt("publicKey",H,_.publicKey),f!==void 0&&fa(f,"zip215"),r&&(U=r(U));const k=x/2,I=F.subarray(0,k),C=ad(F.subarray(k,x));let j,P,T;try{j=t.fromBytes(H,f),P=t.fromBytes(I,f),T=s.multiplyUnsafe(C)}catch{return!1}if(!f&&j.isSmallOrder())return!1;const v=y(M,P.toBytes(),j.toBytes(),U);return P.add(j.multiplyUnsafe(v)).subtract(T).clearCofactor().is0()}const S=i.BYTES,_={secretKey:S,publicKey:S,signature:2*S,seed:S};function A(F=a(_.seed)){return Jr(F,_.seed,"seed")}function R(F){const U=B.randomSecretKey(F);return{secretKey:U,publicKey:m(U)}}function W(F){return Bd(F)&&F.length===o.BYTES}function O(F,U){try{return!!t.fromBytes(F,U)}catch{return!1}}const B={getExtendedPublicKey:p,randomSecretKey:A,isValidSecretKey:W,isValidPublicKey:O,toMontgomery(F){const{y:U}=t.fromBytes(F),H=_.publicKey,V=H===32;if(!V&&H!==57)throw new Error("only defined for 25519 and 448");const M=V?i.div(pn+U,pn-U):i.div(U-pn,U+pn);return i.toBytes(M)},toMontgomeryPriv(F){const U=_.secretKey;Jr(F,U);const H=e(F.subarray(0,U));return l(H).subarray(0,U)},randomPrivateKey:A,precompute(F=8,U=t.BASE){return U.precompute(F,!1)}};return Object.freeze({keygen:R,getPublicKey:m,sign:w,verify:g,utils:B,Point:t,lengths:_})}function JT(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=_a(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:i}}function e8(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function t8(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=JT(t),i=XT(e,n),o=QT(i,r,s);return e8(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=BigInt(1),d2=BigInt(2);BigInt(3);const r8=BigInt(5),s8=BigInt(8),pw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),a3={p:pw,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:s8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function i8(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=pw,a=t*t%i*t%i,l=qt(a,d2,i)*a%i,c=qt(l,n8,i)*t%i,d=qt(c,r8,i)*c%i,h=qt(d,e,i)*d%i,p=qt(h,n,i)*h%i,m=qt(p,r,i)*p%i,y=qt(m,s,i)*m%i,w=qt(y,s,i)*m%i,b=qt(w,e,i)*d%i;return{pow_p_5_8:qt(b,d2,i)*t%i,b2:a}}function o8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const h2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function a8(t,e){const n=pw,r=rn(e*e*e,n),s=rn(r*r*e,n),i=i8(t*s).pow_p_5_8;let o=rn(t*r*i,n);const a=rn(e*o*o,n),l=o,c=rn(o*h2,n),d=a===t,h=a===rn(-t,n),p=a===rn(-t*h2,n);return d&&(o=l),(h||p)&&(o=c),FT(o,n)&&(o=rn(-o,n)),{isValid:d||h,value:o}}const l8=_a(a3.p,{isLE:!0}),c8={...a3,Fp:l8,hash:RT,adjustScalarBytes:o8,uvRatio:a8},ka=t8(c8);var mw={exports:{}};const u8={},d8=Object.freeze(Object.defineProperty({__proto__:null,default:u8},Symbol.toStringTag,{value:"Module"})),h8=xi(d8);mw.exports;(function(t){(function(e,n){function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function s(M,f){M.super_=f;var x=function(){};x.prototype=f.prototype,M.prototype=new x,M.prototype.constructor=M}function i(M,f,x){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(x=f,f=10),this._init(M||0,f||10,x||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=h8.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,x){return f.cmp(x)>0?f:x},i.min=function(f,x){return f.cmp(x)<0?f:x},i.prototype._init=function(f,x,k){if(typeof f=="number")return this._initNumber(f,x,k);if(typeof f=="object")return this._initArray(f,x,k);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),f=f.toString().replace(/\s+/g,"");var I=0;f[0]==="-"&&(I++,this.negative=1),I<f.length&&(x===16?this._parseHex(f,I,k):(this._parseBase(f,x,I),k==="le"&&this._initArray(this.toArray(),x,k)))},i.prototype._initNumber=function(f,x,k){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),x,k)},i.prototype._initArray=function(f,x,k){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C,j,P=0;if(k==="be")for(I=f.length-1,C=0;I>=0;I-=3)j=f[I]|f[I-1]<<8|f[I-2]<<16,this.words[C]|=j<<P&67108863,this.words[C+1]=j>>>26-P&67108863,P+=24,P>=26&&(P-=26,C++);else if(k==="le")for(I=0,C=0;I<f.length;I+=3)j=f[I]|f[I+1]<<8|f[I+2]<<16,this.words[C]|=j<<P&67108863,this.words[C+1]=j>>>26-P&67108863,P+=24,P>=26&&(P-=26,C++);return this._strip()};function a(M,f){var x=M.charCodeAt(f);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+M)}function l(M,f,x){var k=a(M,x);return x-1>=f&&(k|=a(M,x-1)<<4),k}i.prototype._parseHex=function(f,x,k){this.length=Math.ceil((f.length-x)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C=0,j=0,P;if(k==="be")for(I=f.length-1;I>=x;I-=2)P=l(f,x,I)<<C,this.words[j]|=P&67108863,C>=18?(C-=18,j+=1,this.words[j]|=P>>>26):C+=8;else{var T=f.length-x;for(I=T%2===0?x+1:x;I<f.length;I+=2)P=l(f,x,I)<<C,this.words[j]|=P&67108863,C>=18?(C-=18,j+=1,this.words[j]|=P>>>26):C+=8}this._strip()};function c(M,f,x,k){for(var I=0,C=0,j=Math.min(M.length,x),P=f;P<j;P++){var T=M.charCodeAt(P)-48;I*=k,T>=49?C=T-49+10:T>=17?C=T-17+10:C=T,r(T>=0&&C<k,"Invalid character"),I+=C}return I}i.prototype._parseBase=function(f,x,k){this.words=[0],this.length=1;for(var I=0,C=1;C<=67108863;C*=x)I++;I--,C=C/x|0;for(var j=f.length-k,P=j%I,T=Math.min(j,j-P)+k,v=0,L=k;L<T;L+=I)v=c(f,L,L+I,x),this.imuln(C),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(P!==0){var X=1;for(v=c(f,L,f.length,x),L=0;L<P;L++)X*=x;this.imuln(X),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var x=0;x<this.length;x++)f.words[x]=this.words[x];f.length=this.length,f.negative=this.negative,f.red=this.red};function d(M,f){M.words=f.words,M.length=f.length,M.negative=f.negative,M.red=f.red}if(i.prototype._move=function(f){d(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,x){f=f||10,x=x|0||1;var k;if(f===16||f==="hex"){k="";for(var I=0,C=0,j=0;j<this.length;j++){var P=this.words[j],T=((P<<I|C)&16777215).toString(16);C=P>>>24-I&16777215,I+=2,I>=26&&(I-=26,j--),C!==0||j!==this.length-1?k=p[6-T.length]+T+k:k=T+k}for(C!==0&&(k=C.toString(16)+k);k.length%x!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(f===(f|0)&&f>=2&&f<=36){var v=m[f],L=y[f];k="";var X=this.clone();for(X.negative=0;!X.isZero();){var Z=X.modrn(L).toString(f);X=X.idivn(L),X.isZero()?k=Z+k:k=p[v-Z.length]+Z+k}for(this.isZero()&&(k="0"+k);k.length%x!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(f,x){return this.toArrayLike(o,f,x)}),i.prototype.toArray=function(f,x){return this.toArrayLike(Array,f,x)};var w=function(f,x){return f.allocUnsafe?f.allocUnsafe(x):new f(x)};i.prototype.toArrayLike=function(f,x,k){this._strip();var I=this.byteLength(),C=k||Math.max(1,I);r(I<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var j=w(f,C),P=x==="le"?"LE":"BE";return this["_toArrayLike"+P](j,I),j},i.prototype._toArrayLikeLE=function(f,x){for(var k=0,I=0,C=0,j=0;C<this.length;C++){var P=this.words[C]<<j|I;f[k++]=P&255,k<f.length&&(f[k++]=P>>8&255),k<f.length&&(f[k++]=P>>16&255),j===6?(k<f.length&&(f[k++]=P>>24&255),I=0,j=0):(I=P>>>24,j+=2)}if(k<f.length)for(f[k++]=I;k<f.length;)f[k++]=0},i.prototype._toArrayLikeBE=function(f,x){for(var k=f.length-1,I=0,C=0,j=0;C<this.length;C++){var P=this.words[C]<<j|I;f[k--]=P&255,k>=0&&(f[k--]=P>>8&255),k>=0&&(f[k--]=P>>16&255),j===6?(k>=0&&(f[k--]=P>>24&255),I=0,j=0):(I=P>>>24,j+=2)}if(k>=0)for(f[k--]=I;k>=0;)f[k--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var x=f,k=0;return x>=4096&&(k+=13,x>>>=13),x>=64&&(k+=7,x>>>=7),x>=8&&(k+=4,x>>>=4),x>=2&&(k+=2,x>>>=2),k+x},i.prototype._zeroBits=function(f){if(f===0)return 26;var x=f,k=0;return x&8191||(k+=13,x>>>=13),x&127||(k+=7,x>>>=7),x&15||(k+=4,x>>>=4),x&3||(k+=2,x>>>=2),x&1||k++,k},i.prototype.bitLength=function(){var f=this.words[this.length-1],x=this._countBits(f);return(this.length-1)*26+x};function b(M){for(var f=new Array(M.bitLength()),x=0;x<f.length;x++){var k=x/26|0,I=x%26;f[x]=M.words[k]>>>I&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,x=0;x<this.length;x++){var k=this._zeroBits(this.words[x]);if(f+=k,k!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var x=0;x<f.length;x++)this.words[x]=this.words[x]|f.words[x];return this._strip()},i.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var x;this.length>f.length?x=f:x=this;for(var k=0;k<x.length;k++)this.words[k]=this.words[k]&f.words[k];return this.length=x.length,this._strip()},i.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var x,k;this.length>f.length?(x=this,k=f):(x=f,k=this);for(var I=0;I<k.length;I++)this.words[I]=x.words[I]^k.words[I];if(this!==x)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=x.length,this._strip()},i.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var x=Math.ceil(f/26)|0,k=f%26;this._expand(x),k>0&&x--;for(var I=0;I<x;I++)this.words[I]=~this.words[I]&67108863;return k>0&&(this.words[I]=~this.words[I]&67108863>>26-k),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,x){r(typeof f=="number"&&f>=0);var k=f/26|0,I=f%26;return this._expand(k+1),x?this.words[k]=this.words[k]|1<<I:this.words[k]=this.words[k]&~(1<<I),this._strip()},i.prototype.iadd=function(f){var x;if(this.negative!==0&&f.negative===0)return this.negative=0,x=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,x=this.isub(f),f.negative=1,x._normSign();var k,I;this.length>f.length?(k=this,I=f):(k=f,I=this);for(var C=0,j=0;j<I.length;j++)x=(k.words[j]|0)+(I.words[j]|0)+C,this.words[j]=x&67108863,C=x>>>26;for(;C!==0&&j<k.length;j++)x=(k.words[j]|0)+C,this.words[j]=x&67108863,C=x>>>26;if(this.length=k.length,C!==0)this.words[this.length]=C,this.length++;else if(k!==this)for(;j<k.length;j++)this.words[j]=k.words[j];return this},i.prototype.add=function(f){var x;return f.negative!==0&&this.negative===0?(f.negative=0,x=this.sub(f),f.negative^=1,x):f.negative===0&&this.negative!==0?(this.negative=0,x=f.sub(this),this.negative=1,x):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var x=this.iadd(f);return f.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var k=this.cmp(f);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,C;k>0?(I=this,C=f):(I=f,C=this);for(var j=0,P=0;P<C.length;P++)x=(I.words[P]|0)-(C.words[P]|0)+j,j=x>>26,this.words[P]=x&67108863;for(;j!==0&&P<I.length;P++)x=(I.words[P]|0)+j,j=x>>26,this.words[P]=x&67108863;if(j===0&&P<I.length&&I!==this)for(;P<I.length;P++)this.words[P]=I.words[P];return this.length=Math.max(this.length,P),I!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function g(M,f,x){x.negative=f.negative^M.negative;var k=M.length+f.length|0;x.length=k,k=k-1|0;var I=M.words[0]|0,C=f.words[0]|0,j=I*C,P=j&67108863,T=j/67108864|0;x.words[0]=P;for(var v=1;v<k;v++){for(var L=T>>>26,X=T&67108863,Z=Math.min(v,f.length-1),te=Math.max(0,v-M.length+1);te<=Z;te++){var ne=v-te|0;I=M.words[ne]|0,C=f.words[te]|0,j=I*C+X,L+=j/67108864|0,X=j&67108863}x.words[v]=X|0,T=L|0}return T!==0?x.words[v]=T|0:x.length--,x._strip()}var S=function(f,x,k){var I=f.words,C=x.words,j=k.words,P=0,T,v,L,X=I[0]|0,Z=X&8191,te=X>>>13,ne=I[1]|0,le=ne&8191,ce=ne>>>13,pe=I[2]|0,Pe=pe&8191,Re=pe>>>13,it=I[3]|0,Oe=it&8191,Le=it>>>13,re=I[4]|0,ge=re&8191,oe=re>>>13,ie=I[5]|0,ye=ie&8191,xe=ie>>>13,Ae=I[6]|0,Se=Ae&8191,ze=Ae>>>13,Fe=I[7]|0,Je=Fe&8191,z=Fe>>>13,E=I[8]|0,N=E&8191,$=E>>>13,q=I[9]|0,G=q&8191,ee=q>>>13,De=C[0]|0,Be=De&8191,Ce=De>>>13,Ye=C[1]|0,Me=Ye&8191,St=Ye>>>13,bi=C[2]|0,_t=bi&8191,Nt=bi>>>13,ds=C[3]|0,Bt=ds&8191,Pt=ds>>>13,qd=C[4]|0,Lt=qd&8191,Ot=qd>>>13,Yd=C[5]|0,Dt=Yd&8191,zt=Yd>>>13,Gd=C[6]|0,Wt=Gd&8191,Ft=Gd>>>13,Zd=C[7]|0,$t=Zd&8191,Ut=Zd>>>13,Xd=C[8]|0,Ht=Xd&8191,At=Xd>>>13,Qd=C[9]|0,Vt=Qd&8191,Kt=Qd>>>13;k.negative=f.negative^x.negative,k.length=19,T=Math.imul(Z,Be),v=Math.imul(Z,Ce),v=v+Math.imul(te,Be)|0,L=Math.imul(te,Ce);var xc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(xc>>>26)|0,xc&=67108863,T=Math.imul(le,Be),v=Math.imul(le,Ce),v=v+Math.imul(ce,Be)|0,L=Math.imul(ce,Ce),T=T+Math.imul(Z,Me)|0,v=v+Math.imul(Z,St)|0,v=v+Math.imul(te,Me)|0,L=L+Math.imul(te,St)|0;var wc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(wc>>>26)|0,wc&=67108863,T=Math.imul(Pe,Be),v=Math.imul(Pe,Ce),v=v+Math.imul(Re,Be)|0,L=Math.imul(Re,Ce),T=T+Math.imul(le,Me)|0,v=v+Math.imul(le,St)|0,v=v+Math.imul(ce,Me)|0,L=L+Math.imul(ce,St)|0,T=T+Math.imul(Z,_t)|0,v=v+Math.imul(Z,Nt)|0,v=v+Math.imul(te,_t)|0,L=L+Math.imul(te,Nt)|0;var vc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(vc>>>26)|0,vc&=67108863,T=Math.imul(Oe,Be),v=Math.imul(Oe,Ce),v=v+Math.imul(Le,Be)|0,L=Math.imul(Le,Ce),T=T+Math.imul(Pe,Me)|0,v=v+Math.imul(Pe,St)|0,v=v+Math.imul(Re,Me)|0,L=L+Math.imul(Re,St)|0,T=T+Math.imul(le,_t)|0,v=v+Math.imul(le,Nt)|0,v=v+Math.imul(ce,_t)|0,L=L+Math.imul(ce,Nt)|0,T=T+Math.imul(Z,Bt)|0,v=v+Math.imul(Z,Pt)|0,v=v+Math.imul(te,Bt)|0,L=L+Math.imul(te,Pt)|0;var bc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(bc>>>26)|0,bc&=67108863,T=Math.imul(ge,Be),v=Math.imul(ge,Ce),v=v+Math.imul(oe,Be)|0,L=Math.imul(oe,Ce),T=T+Math.imul(Oe,Me)|0,v=v+Math.imul(Oe,St)|0,v=v+Math.imul(Le,Me)|0,L=L+Math.imul(Le,St)|0,T=T+Math.imul(Pe,_t)|0,v=v+Math.imul(Pe,Nt)|0,v=v+Math.imul(Re,_t)|0,L=L+Math.imul(Re,Nt)|0,T=T+Math.imul(le,Bt)|0,v=v+Math.imul(le,Pt)|0,v=v+Math.imul(ce,Bt)|0,L=L+Math.imul(ce,Pt)|0,T=T+Math.imul(Z,Lt)|0,v=v+Math.imul(Z,Ot)|0,v=v+Math.imul(te,Lt)|0,L=L+Math.imul(te,Ot)|0;var Sc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,T=Math.imul(ye,Be),v=Math.imul(ye,Ce),v=v+Math.imul(xe,Be)|0,L=Math.imul(xe,Ce),T=T+Math.imul(ge,Me)|0,v=v+Math.imul(ge,St)|0,v=v+Math.imul(oe,Me)|0,L=L+Math.imul(oe,St)|0,T=T+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,Nt)|0,v=v+Math.imul(Le,_t)|0,L=L+Math.imul(Le,Nt)|0,T=T+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Pt)|0,v=v+Math.imul(Re,Bt)|0,L=L+Math.imul(Re,Pt)|0,T=T+Math.imul(le,Lt)|0,v=v+Math.imul(le,Ot)|0,v=v+Math.imul(ce,Lt)|0,L=L+Math.imul(ce,Ot)|0,T=T+Math.imul(Z,Dt)|0,v=v+Math.imul(Z,zt)|0,v=v+Math.imul(te,Dt)|0,L=L+Math.imul(te,zt)|0;var Ia=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,T=Math.imul(Se,Be),v=Math.imul(Se,Ce),v=v+Math.imul(ze,Be)|0,L=Math.imul(ze,Ce),T=T+Math.imul(ye,Me)|0,v=v+Math.imul(ye,St)|0,v=v+Math.imul(xe,Me)|0,L=L+Math.imul(xe,St)|0,T=T+Math.imul(ge,_t)|0,v=v+Math.imul(ge,Nt)|0,v=v+Math.imul(oe,_t)|0,L=L+Math.imul(oe,Nt)|0,T=T+Math.imul(Oe,Bt)|0,v=v+Math.imul(Oe,Pt)|0,v=v+Math.imul(Le,Bt)|0,L=L+Math.imul(Le,Pt)|0,T=T+Math.imul(Pe,Lt)|0,v=v+Math.imul(Pe,Ot)|0,v=v+Math.imul(Re,Lt)|0,L=L+Math.imul(Re,Ot)|0,T=T+Math.imul(le,Dt)|0,v=v+Math.imul(le,zt)|0,v=v+Math.imul(ce,Dt)|0,L=L+Math.imul(ce,zt)|0,T=T+Math.imul(Z,Wt)|0,v=v+Math.imul(Z,Ft)|0,v=v+Math.imul(te,Wt)|0,L=L+Math.imul(te,Ft)|0;var _c=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(_c>>>26)|0,_c&=67108863,T=Math.imul(Je,Be),v=Math.imul(Je,Ce),v=v+Math.imul(z,Be)|0,L=Math.imul(z,Ce),T=T+Math.imul(Se,Me)|0,v=v+Math.imul(Se,St)|0,v=v+Math.imul(ze,Me)|0,L=L+Math.imul(ze,St)|0,T=T+Math.imul(ye,_t)|0,v=v+Math.imul(ye,Nt)|0,v=v+Math.imul(xe,_t)|0,L=L+Math.imul(xe,Nt)|0,T=T+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Pt)|0,v=v+Math.imul(oe,Bt)|0,L=L+Math.imul(oe,Pt)|0,T=T+Math.imul(Oe,Lt)|0,v=v+Math.imul(Oe,Ot)|0,v=v+Math.imul(Le,Lt)|0,L=L+Math.imul(Le,Ot)|0,T=T+Math.imul(Pe,Dt)|0,v=v+Math.imul(Pe,zt)|0,v=v+Math.imul(Re,Dt)|0,L=L+Math.imul(Re,zt)|0,T=T+Math.imul(le,Wt)|0,v=v+Math.imul(le,Ft)|0,v=v+Math.imul(ce,Wt)|0,L=L+Math.imul(ce,Ft)|0,T=T+Math.imul(Z,$t)|0,v=v+Math.imul(Z,Ut)|0,v=v+Math.imul(te,$t)|0,L=L+Math.imul(te,Ut)|0;var kc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(kc>>>26)|0,kc&=67108863,T=Math.imul(N,Be),v=Math.imul(N,Ce),v=v+Math.imul($,Be)|0,L=Math.imul($,Ce),T=T+Math.imul(Je,Me)|0,v=v+Math.imul(Je,St)|0,v=v+Math.imul(z,Me)|0,L=L+Math.imul(z,St)|0,T=T+Math.imul(Se,_t)|0,v=v+Math.imul(Se,Nt)|0,v=v+Math.imul(ze,_t)|0,L=L+Math.imul(ze,Nt)|0,T=T+Math.imul(ye,Bt)|0,v=v+Math.imul(ye,Pt)|0,v=v+Math.imul(xe,Bt)|0,L=L+Math.imul(xe,Pt)|0,T=T+Math.imul(ge,Lt)|0,v=v+Math.imul(ge,Ot)|0,v=v+Math.imul(oe,Lt)|0,L=L+Math.imul(oe,Ot)|0,T=T+Math.imul(Oe,Dt)|0,v=v+Math.imul(Oe,zt)|0,v=v+Math.imul(Le,Dt)|0,L=L+Math.imul(Le,zt)|0,T=T+Math.imul(Pe,Wt)|0,v=v+Math.imul(Pe,Ft)|0,v=v+Math.imul(Re,Wt)|0,L=L+Math.imul(Re,Ft)|0,T=T+Math.imul(le,$t)|0,v=v+Math.imul(le,Ut)|0,v=v+Math.imul(ce,$t)|0,L=L+Math.imul(ce,Ut)|0,T=T+Math.imul(Z,Ht)|0,v=v+Math.imul(Z,At)|0,v=v+Math.imul(te,Ht)|0,L=L+Math.imul(te,At)|0;var Ec=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,T=Math.imul(G,Be),v=Math.imul(G,Ce),v=v+Math.imul(ee,Be)|0,L=Math.imul(ee,Ce),T=T+Math.imul(N,Me)|0,v=v+Math.imul(N,St)|0,v=v+Math.imul($,Me)|0,L=L+Math.imul($,St)|0,T=T+Math.imul(Je,_t)|0,v=v+Math.imul(Je,Nt)|0,v=v+Math.imul(z,_t)|0,L=L+Math.imul(z,Nt)|0,T=T+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Pt)|0,v=v+Math.imul(ze,Bt)|0,L=L+Math.imul(ze,Pt)|0,T=T+Math.imul(ye,Lt)|0,v=v+Math.imul(ye,Ot)|0,v=v+Math.imul(xe,Lt)|0,L=L+Math.imul(xe,Ot)|0,T=T+Math.imul(ge,Dt)|0,v=v+Math.imul(ge,zt)|0,v=v+Math.imul(oe,Dt)|0,L=L+Math.imul(oe,zt)|0,T=T+Math.imul(Oe,Wt)|0,v=v+Math.imul(Oe,Ft)|0,v=v+Math.imul(Le,Wt)|0,L=L+Math.imul(Le,Ft)|0,T=T+Math.imul(Pe,$t)|0,v=v+Math.imul(Pe,Ut)|0,v=v+Math.imul(Re,$t)|0,L=L+Math.imul(Re,Ut)|0,T=T+Math.imul(le,Ht)|0,v=v+Math.imul(le,At)|0,v=v+Math.imul(ce,Ht)|0,L=L+Math.imul(ce,At)|0,T=T+Math.imul(Z,Vt)|0,v=v+Math.imul(Z,Kt)|0,v=v+Math.imul(te,Vt)|0,L=L+Math.imul(te,Kt)|0;var Nc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,T=Math.imul(G,Me),v=Math.imul(G,St),v=v+Math.imul(ee,Me)|0,L=Math.imul(ee,St),T=T+Math.imul(N,_t)|0,v=v+Math.imul(N,Nt)|0,v=v+Math.imul($,_t)|0,L=L+Math.imul($,Nt)|0,T=T+Math.imul(Je,Bt)|0,v=v+Math.imul(Je,Pt)|0,v=v+Math.imul(z,Bt)|0,L=L+Math.imul(z,Pt)|0,T=T+Math.imul(Se,Lt)|0,v=v+Math.imul(Se,Ot)|0,v=v+Math.imul(ze,Lt)|0,L=L+Math.imul(ze,Ot)|0,T=T+Math.imul(ye,Dt)|0,v=v+Math.imul(ye,zt)|0,v=v+Math.imul(xe,Dt)|0,L=L+Math.imul(xe,zt)|0,T=T+Math.imul(ge,Wt)|0,v=v+Math.imul(ge,Ft)|0,v=v+Math.imul(oe,Wt)|0,L=L+Math.imul(oe,Ft)|0,T=T+Math.imul(Oe,$t)|0,v=v+Math.imul(Oe,Ut)|0,v=v+Math.imul(Le,$t)|0,L=L+Math.imul(Le,Ut)|0,T=T+Math.imul(Pe,Ht)|0,v=v+Math.imul(Pe,At)|0,v=v+Math.imul(Re,Ht)|0,L=L+Math.imul(Re,At)|0,T=T+Math.imul(le,Vt)|0,v=v+Math.imul(le,Kt)|0,v=v+Math.imul(ce,Vt)|0,L=L+Math.imul(ce,Kt)|0;var Ac=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,T=Math.imul(G,_t),v=Math.imul(G,Nt),v=v+Math.imul(ee,_t)|0,L=Math.imul(ee,Nt),T=T+Math.imul(N,Bt)|0,v=v+Math.imul(N,Pt)|0,v=v+Math.imul($,Bt)|0,L=L+Math.imul($,Pt)|0,T=T+Math.imul(Je,Lt)|0,v=v+Math.imul(Je,Ot)|0,v=v+Math.imul(z,Lt)|0,L=L+Math.imul(z,Ot)|0,T=T+Math.imul(Se,Dt)|0,v=v+Math.imul(Se,zt)|0,v=v+Math.imul(ze,Dt)|0,L=L+Math.imul(ze,zt)|0,T=T+Math.imul(ye,Wt)|0,v=v+Math.imul(ye,Ft)|0,v=v+Math.imul(xe,Wt)|0,L=L+Math.imul(xe,Ft)|0,T=T+Math.imul(ge,$t)|0,v=v+Math.imul(ge,Ut)|0,v=v+Math.imul(oe,$t)|0,L=L+Math.imul(oe,Ut)|0,T=T+Math.imul(Oe,Ht)|0,v=v+Math.imul(Oe,At)|0,v=v+Math.imul(Le,Ht)|0,L=L+Math.imul(Le,At)|0,T=T+Math.imul(Pe,Vt)|0,v=v+Math.imul(Pe,Kt)|0,v=v+Math.imul(Re,Vt)|0,L=L+Math.imul(Re,Kt)|0;var Cc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,T=Math.imul(G,Bt),v=Math.imul(G,Pt),v=v+Math.imul(ee,Bt)|0,L=Math.imul(ee,Pt),T=T+Math.imul(N,Lt)|0,v=v+Math.imul(N,Ot)|0,v=v+Math.imul($,Lt)|0,L=L+Math.imul($,Ot)|0,T=T+Math.imul(Je,Dt)|0,v=v+Math.imul(Je,zt)|0,v=v+Math.imul(z,Dt)|0,L=L+Math.imul(z,zt)|0,T=T+Math.imul(Se,Wt)|0,v=v+Math.imul(Se,Ft)|0,v=v+Math.imul(ze,Wt)|0,L=L+Math.imul(ze,Ft)|0,T=T+Math.imul(ye,$t)|0,v=v+Math.imul(ye,Ut)|0,v=v+Math.imul(xe,$t)|0,L=L+Math.imul(xe,Ut)|0,T=T+Math.imul(ge,Ht)|0,v=v+Math.imul(ge,At)|0,v=v+Math.imul(oe,Ht)|0,L=L+Math.imul(oe,At)|0,T=T+Math.imul(Oe,Vt)|0,v=v+Math.imul(Oe,Kt)|0,v=v+Math.imul(Le,Vt)|0,L=L+Math.imul(Le,Kt)|0;var ja=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(ja>>>26)|0,ja&=67108863,T=Math.imul(G,Lt),v=Math.imul(G,Ot),v=v+Math.imul(ee,Lt)|0,L=Math.imul(ee,Ot),T=T+Math.imul(N,Dt)|0,v=v+Math.imul(N,zt)|0,v=v+Math.imul($,Dt)|0,L=L+Math.imul($,zt)|0,T=T+Math.imul(Je,Wt)|0,v=v+Math.imul(Je,Ft)|0,v=v+Math.imul(z,Wt)|0,L=L+Math.imul(z,Ft)|0,T=T+Math.imul(Se,$t)|0,v=v+Math.imul(Se,Ut)|0,v=v+Math.imul(ze,$t)|0,L=L+Math.imul(ze,Ut)|0,T=T+Math.imul(ye,Ht)|0,v=v+Math.imul(ye,At)|0,v=v+Math.imul(xe,Ht)|0,L=L+Math.imul(xe,At)|0,T=T+Math.imul(ge,Vt)|0,v=v+Math.imul(ge,Kt)|0,v=v+Math.imul(oe,Vt)|0,L=L+Math.imul(oe,Kt)|0;var Mc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,T=Math.imul(G,Dt),v=Math.imul(G,zt),v=v+Math.imul(ee,Dt)|0,L=Math.imul(ee,zt),T=T+Math.imul(N,Wt)|0,v=v+Math.imul(N,Ft)|0,v=v+Math.imul($,Wt)|0,L=L+Math.imul($,Ft)|0,T=T+Math.imul(Je,$t)|0,v=v+Math.imul(Je,Ut)|0,v=v+Math.imul(z,$t)|0,L=L+Math.imul(z,Ut)|0,T=T+Math.imul(Se,Ht)|0,v=v+Math.imul(Se,At)|0,v=v+Math.imul(ze,Ht)|0,L=L+Math.imul(ze,At)|0,T=T+Math.imul(ye,Vt)|0,v=v+Math.imul(ye,Kt)|0,v=v+Math.imul(xe,Vt)|0,L=L+Math.imul(xe,Kt)|0;var Ic=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(Ic>>>26)|0,Ic&=67108863,T=Math.imul(G,Wt),v=Math.imul(G,Ft),v=v+Math.imul(ee,Wt)|0,L=Math.imul(ee,Ft),T=T+Math.imul(N,$t)|0,v=v+Math.imul(N,Ut)|0,v=v+Math.imul($,$t)|0,L=L+Math.imul($,Ut)|0,T=T+Math.imul(Je,Ht)|0,v=v+Math.imul(Je,At)|0,v=v+Math.imul(z,Ht)|0,L=L+Math.imul(z,At)|0,T=T+Math.imul(Se,Vt)|0,v=v+Math.imul(Se,Kt)|0,v=v+Math.imul(ze,Vt)|0,L=L+Math.imul(ze,Kt)|0;var jc=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(jc>>>26)|0,jc&=67108863,T=Math.imul(G,$t),v=Math.imul(G,Ut),v=v+Math.imul(ee,$t)|0,L=Math.imul(ee,Ut),T=T+Math.imul(N,Ht)|0,v=v+Math.imul(N,At)|0,v=v+Math.imul($,Ht)|0,L=L+Math.imul($,At)|0,T=T+Math.imul(Je,Vt)|0,v=v+Math.imul(Je,Kt)|0,v=v+Math.imul(z,Vt)|0,L=L+Math.imul(z,Kt)|0;var ko=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(ko>>>26)|0,ko&=67108863,T=Math.imul(G,Ht),v=Math.imul(G,At),v=v+Math.imul(ee,Ht)|0,L=Math.imul(ee,At),T=T+Math.imul(N,Vt)|0,v=v+Math.imul(N,Kt)|0,v=v+Math.imul($,Vt)|0,L=L+Math.imul($,Kt)|0;var h0=(P+T|0)+((v&8191)<<13)|0;P=(L+(v>>>13)|0)+(h0>>>26)|0,h0&=67108863,T=Math.imul(G,Vt),v=Math.imul(G,Kt),v=v+Math.imul(ee,Vt)|0,L=Math.imul(ee,Kt);var f0=(P+T|0)+((v&8191)<<13)|0;return P=(L+(v>>>13)|0)+(f0>>>26)|0,f0&=67108863,j[0]=xc,j[1]=wc,j[2]=vc,j[3]=bc,j[4]=Sc,j[5]=Ia,j[6]=_c,j[7]=kc,j[8]=Ec,j[9]=Nc,j[10]=Ac,j[11]=Cc,j[12]=ja,j[13]=Mc,j[14]=Ic,j[15]=jc,j[16]=ko,j[17]=h0,j[18]=f0,P!==0&&(j[19]=P,k.length++),k};Math.imul||(S=g);function _(M,f,x){x.negative=f.negative^M.negative,x.length=M.length+f.length;for(var k=0,I=0,C=0;C<x.length-1;C++){var j=I;I=0;for(var P=k&67108863,T=Math.min(C,f.length-1),v=Math.max(0,C-M.length+1);v<=T;v++){var L=C-v,X=M.words[L]|0,Z=f.words[v]|0,te=X*Z,ne=te&67108863;j=j+(te/67108864|0)|0,ne=ne+P|0,P=ne&67108863,j=j+(ne>>>26)|0,I+=j>>>26,j&=67108863}x.words[C]=P,k=j,j=I}return k!==0?x.words[C]=k:x.length--,x._strip()}function A(M,f,x){return _(M,f,x)}i.prototype.mulTo=function(f,x){var k,I=this.length+f.length;return this.length===10&&f.length===10?k=S(this,f,x):I<63?k=g(this,f,x):I<1024?k=_(this,f,x):k=A(this,f,x),k},i.prototype.mul=function(f){var x=new i(null);return x.words=new Array(this.length+f.length),this.mulTo(f,x)},i.prototype.mulf=function(f){var x=new i(null);return x.words=new Array(this.length+f.length),A(this,f,x)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var x=f<0;x&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var k=0,I=0;I<this.length;I++){var C=(this.words[I]|0)*f,j=(C&67108863)+(k&67108863);k>>=26,k+=C/67108864|0,k+=j>>>26,this.words[I]=j&67108863}return k!==0&&(this.words[I]=k,this.length++),this.length=f===0?1:this.length,x?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var x=b(f);if(x.length===0)return new i(1);for(var k=this,I=0;I<x.length&&x[I]===0;I++,k=k.sqr());if(++I<x.length)for(var C=k.sqr();I<x.length;I++,C=C.sqr())x[I]!==0&&(k=k.mul(C));return k},i.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26,I=67108863>>>26-x<<26-x,C;if(x!==0){var j=0;for(C=0;C<this.length;C++){var P=this.words[C]&I,T=(this.words[C]|0)-P<<x;this.words[C]=T|j,j=P>>>26-x}j&&(this.words[C]=j,this.length++)}if(k!==0){for(C=this.length-1;C>=0;C--)this.words[C+k]=this.words[C];for(C=0;C<k;C++)this.words[C]=0;this.length+=k}return this._strip()},i.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,x,k){r(typeof f=="number"&&f>=0);var I;x?I=(x-x%26)/26:I=0;var C=f%26,j=Math.min((f-C)/26,this.length),P=67108863^67108863>>>C<<C,T=k;if(I-=j,I=Math.max(0,I),T){for(var v=0;v<j;v++)T.words[v]=this.words[v];T.length=j}if(j!==0)if(this.length>j)for(this.length-=j,v=0;v<this.length;v++)this.words[v]=this.words[v+j];else this.words[0]=0,this.length=1;var L=0;for(v=this.length-1;v>=0&&(L!==0||v>=I);v--){var X=this.words[v]|0;this.words[v]=L<<26-C|X>>>C,L=X&P}return T&&L!==0&&(T.words[T.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,x,k){return r(this.negative===0),this.iushrn(f,x,k)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26,I=1<<x;if(this.length<=k)return!1;var C=this.words[k];return!!(C&I)},i.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(x!==0&&k++,this.length=Math.min(k,this.length),x!==0){var I=67108863^67108863>>>x<<x;this.words[this.length-1]&=I}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},i.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,x,k){var I=f.length+k,C;this._expand(I);var j,P=0;for(C=0;C<f.length;C++){j=(this.words[C+k]|0)+P;var T=(f.words[C]|0)*x;j-=T&67108863,P=(j>>26)-(T/67108864|0),this.words[C+k]=j&67108863}for(;C<this.length-k;C++)j=(this.words[C+k]|0)+P,P=j>>26,this.words[C+k]=j&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,C=0;C<this.length;C++)j=-(this.words[C]|0)+P,P=j>>26,this.words[C]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,x){var k=this.length-f.length,I=this.clone(),C=f,j=C.words[C.length-1]|0,P=this._countBits(j);k=26-P,k!==0&&(C=C.ushln(k),I.iushln(k),j=C.words[C.length-1]|0);var T=I.length-C.length,v;if(x!=="mod"){v=new i(null),v.length=T+1,v.words=new Array(v.length);for(var L=0;L<v.length;L++)v.words[L]=0}var X=I.clone()._ishlnsubmul(C,1,T);X.negative===0&&(I=X,v&&(v.words[T]=1));for(var Z=T-1;Z>=0;Z--){var te=(I.words[C.length+Z]|0)*67108864+(I.words[C.length+Z-1]|0);for(te=Math.min(te/j|0,67108863),I._ishlnsubmul(C,te,Z);I.negative!==0;)te--,I.negative=0,I._ishlnsubmul(C,1,Z),I.isZero()||(I.negative^=1);v&&(v.words[Z]=te)}return v&&v._strip(),I._strip(),x!=="div"&&k!==0&&I.iushrn(k),{div:v||null,mod:I}},i.prototype.divmod=function(f,x,k){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var I,C,j;return this.negative!==0&&f.negative===0?(j=this.neg().divmod(f,x),x!=="mod"&&(I=j.div.neg()),x!=="div"&&(C=j.mod.neg(),k&&C.negative!==0&&C.iadd(f)),{div:I,mod:C}):this.negative===0&&f.negative!==0?(j=this.divmod(f.neg(),x),x!=="mod"&&(I=j.div.neg()),{div:I,mod:j.mod}):this.negative&f.negative?(j=this.neg().divmod(f.neg(),x),x!=="div"&&(C=j.mod.neg(),k&&C.negative!==0&&C.isub(f)),{div:j.div,mod:C}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?x==="div"?{div:this.divn(f.words[0]),mod:null}:x==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,x)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var x=this.divmod(f);if(x.mod.isZero())return x.div;var k=x.div.negative!==0?x.mod.isub(f):x.mod,I=f.ushrn(1),C=f.andln(1),j=k.cmp(I);return j<0||C===1&&j===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},i.prototype.modrn=function(f){var x=f<0;x&&(f=-f),r(f<=67108863);for(var k=(1<<26)%f,I=0,C=this.length-1;C>=0;C--)I=(k*I+(this.words[C]|0))%f;return x?-I:I},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var x=f<0;x&&(f=-f),r(f<=67108863);for(var k=0,I=this.length-1;I>=0;I--){var C=(this.words[I]|0)+k*67108864;this.words[I]=C/f|0,k=C%f}return this._strip(),x?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var x=this,k=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var I=new i(1),C=new i(0),j=new i(0),P=new i(1),T=0;x.isEven()&&k.isEven();)x.iushrn(1),k.iushrn(1),++T;for(var v=k.clone(),L=x.clone();!x.isZero();){for(var X=0,Z=1;!(x.words[0]&Z)&&X<26;++X,Z<<=1);if(X>0)for(x.iushrn(X);X-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(v),C.isub(L)),I.iushrn(1),C.iushrn(1);for(var te=0,ne=1;!(k.words[0]&ne)&&te<26;++te,ne<<=1);if(te>0)for(k.iushrn(te);te-- >0;)(j.isOdd()||P.isOdd())&&(j.iadd(v),P.isub(L)),j.iushrn(1),P.iushrn(1);x.cmp(k)>=0?(x.isub(k),I.isub(j),C.isub(P)):(k.isub(x),j.isub(I),P.isub(C))}return{a:j,b:P,gcd:k.iushln(T)}},i.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var x=this,k=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var I=new i(1),C=new i(0),j=k.clone();x.cmpn(1)>0&&k.cmpn(1)>0;){for(var P=0,T=1;!(x.words[0]&T)&&P<26;++P,T<<=1);if(P>0)for(x.iushrn(P);P-- >0;)I.isOdd()&&I.iadd(j),I.iushrn(1);for(var v=0,L=1;!(k.words[0]&L)&&v<26;++v,L<<=1);if(v>0)for(k.iushrn(v);v-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);x.cmp(k)>=0?(x.isub(k),I.isub(C)):(k.isub(x),C.isub(I))}var X;return x.cmpn(1)===0?X=I:X=C,X.cmpn(0)<0&&X.iadd(f),X},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var x=this.clone(),k=f.clone();x.negative=0,k.negative=0;for(var I=0;x.isEven()&&k.isEven();I++)x.iushrn(1),k.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;k.isEven();)k.iushrn(1);var C=x.cmp(k);if(C<0){var j=x;x=k,k=j}else if(C===0||k.cmpn(1)===0)break;x.isub(k)}while(!0);return k.iushln(I)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){r(typeof f=="number");var x=f%26,k=(f-x)/26,I=1<<x;if(this.length<=k)return this._expand(k+1),this.words[k]|=I,this;for(var C=I,j=k;C!==0&&j<this.length;j++){var P=this.words[j]|0;P+=C,C=P>>>26,P&=67108863,this.words[j]=P}return C!==0&&(this.words[j]=C,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var x=f<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var k;if(this.length>1)k=1;else{x&&(f=-f),r(f<=67108863,"Number is too big");var I=this.words[0]|0;k=I===f?0:I<f?-1:1}return this.negative!==0?-k|0:k},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var x=this.ucmp(f);return this.negative!==0?-x|0:x},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var x=0,k=this.length-1;k>=0;k--){var I=this.words[k]|0,C=f.words[k]|0;if(I!==C){I<C?x=-1:I>C&&(x=1);break}}return x},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new H(f)},i.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var R={k256:null,p224:null,p192:null,p25519:null};function W(M,f){this.name=M,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},W.prototype.ireduce=function(f){var x=f,k;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),k=x.bitLength();while(k>this.n);var I=k<this.n?-1:x.ucmp(this.p);return I===0?(x.words[0]=0,x.length=1):I>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},W.prototype.split=function(f,x){f.iushrn(this.n,0,x)},W.prototype.imulK=function(f){return f.imul(this.k)};function O(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(O,W),O.prototype.split=function(f,x){for(var k=4194303,I=Math.min(f.length,9),C=0;C<I;C++)x.words[C]=f.words[C];if(x.length=I,f.length<=9){f.words[0]=0,f.length=1;return}var j=f.words[9];for(x.words[x.length++]=j&k,C=10;C<f.length;C++){var P=f.words[C]|0;f.words[C-10]=(P&k)<<4|j>>>22,j=P}j>>>=22,f.words[C-10]=j,j===0&&f.length>10?f.length-=10:f.length-=9},O.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var x=0,k=0;k<f.length;k++){var I=f.words[k]|0;x+=I*977,f.words[k]=x&67108863,x=I*64+(x/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function B(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(B,W);function F(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(F,W);function U(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(U,W),U.prototype.imulK=function(f){for(var x=0,k=0;k<f.length;k++){var I=(f.words[k]|0)*19+x,C=I&67108863;I>>>=26,f.words[k]=C,x=I}return x!==0&&(f.words[f.length++]=x),f},i._prime=function(f){if(R[f])return R[f];var x;if(f==="k256")x=new O;else if(f==="p224")x=new B;else if(f==="p192")x=new F;else if(f==="p25519")x=new U;else throw new Error("Unknown prime "+f);return R[f]=x,x};function H(M){if(typeof M=="string"){var f=i._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}H.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},H.prototype._verify2=function(f,x){r((f.negative|x.negative)===0,"red works only with positives"),r(f.red&&f.red===x.red,"red works only with red numbers")},H.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(d(f,f.umod(this.m)._forceRed(this)),f)},H.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},H.prototype.add=function(f,x){this._verify2(f,x);var k=f.add(x);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},H.prototype.iadd=function(f,x){this._verify2(f,x);var k=f.iadd(x);return k.cmp(this.m)>=0&&k.isub(this.m),k},H.prototype.sub=function(f,x){this._verify2(f,x);var k=f.sub(x);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},H.prototype.isub=function(f,x){this._verify2(f,x);var k=f.isub(x);return k.cmpn(0)<0&&k.iadd(this.m),k},H.prototype.shl=function(f,x){return this._verify1(f),this.imod(f.ushln(x))},H.prototype.imul=function(f,x){return this._verify2(f,x),this.imod(f.imul(x))},H.prototype.mul=function(f,x){return this._verify2(f,x),this.imod(f.mul(x))},H.prototype.isqr=function(f){return this.imul(f,f.clone())},H.prototype.sqr=function(f){return this.mul(f,f)},H.prototype.sqrt=function(f){if(f.isZero())return f.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var k=this.m.add(new i(1)).iushrn(2);return this.pow(f,k)}for(var I=this.m.subn(1),C=0;!I.isZero()&&I.andln(1)===0;)C++,I.iushrn(1);r(!I.isZero());var j=new i(1).toRed(this),P=j.redNeg(),T=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,T).cmp(P)!==0;)v.redIAdd(P);for(var L=this.pow(v,I),X=this.pow(f,I.addn(1).iushrn(1)),Z=this.pow(f,I),te=C;Z.cmp(j)!==0;){for(var ne=Z,le=0;ne.cmp(j)!==0;le++)ne=ne.redSqr();r(le<te);var ce=this.pow(L,new i(1).iushln(te-le-1));X=X.redMul(ce),L=ce.redSqr(),Z=Z.redMul(L),te=le}return X},H.prototype.invm=function(f){var x=f._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},H.prototype.pow=function(f,x){if(x.isZero())return new i(1).toRed(this);if(x.cmpn(1)===0)return f.clone();var k=4,I=new Array(1<<k);I[0]=new i(1).toRed(this),I[1]=f;for(var C=2;C<I.length;C++)I[C]=this.mul(I[C-1],f);var j=I[0],P=0,T=0,v=x.bitLength()%26;for(v===0&&(v=26),C=x.length-1;C>=0;C--){for(var L=x.words[C],X=v-1;X>=0;X--){var Z=L>>X&1;if(j!==I[0]&&(j=this.sqr(j)),Z===0&&P===0){T=0;continue}P<<=1,P|=Z,T++,!(T!==k&&(C!==0||X!==0))&&(j=this.mul(j,I[P]),T=0,P=0)}v=26}return j},H.prototype.convertTo=function(f){var x=f.umod(this.m);return x===f?x.clone():x},H.prototype.convertFrom=function(f){var x=f.clone();return x.red=null,x},i.mont=function(f){return new V(f)};function V(M){H.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(V,H),V.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},V.prototype.convertFrom=function(f){var x=this.imod(f.mul(this.rinv));return x.red=null,x},V.prototype.imul=function(f,x){if(f.isZero()||x.isZero())return f.words[0]=0,f.length=1,f;var k=f.imul(x),I=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(I).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},V.prototype.mul=function(f,x){if(f.isZero()||x.isZero())return new i(0)._forceRed(this);var k=f.mul(x),I=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(I).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},V.prototype.invm=function(f){var x=this.imod(f._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,os)})(mw);var l3=mw.exports;const f2=wa(l3);var Wy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=je,r=n.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,l){return r(o,a,l)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},i.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Wy,Wy.exports);var c3=Wy.exports,vh=c3.Buffer;function f8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=vh.from(m)),!vh.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var A=m[b],R=0,W=S-1;(A!==0||R<w)&&W!==-1;W--,R++)A+=256*_[W]>>>0,_[W]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");w=R,b++}for(var O=S-w;O!==S&&_[O]===0;)O++;for(var B=a.repeat(y);O<S;++O)B+=t.charAt(_[O]);return B}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return vh.alloc(0);for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);y<m.length;){var _=m.charCodeAt(y);if(_>255)return;var A=e[_];if(A===255)return;for(var R=0,W=g-1;(A!==0||R<b)&&W!==-1;W--,R++)A+=o*S[W]>>>0,S[W]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=R,y++}for(var O=g-b;O!==g&&S[O]===0;)O++;var B=vh.allocUnsafe(w+(g-O));B.fill(0,0,w);for(var F=w;O!==g;)B[F++]=S[O++];return B}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var p8=f8,m8=p8,g8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",y8=m8(g8);const An=wa(y8),p2=FN;var Nn={},bh=c3.Buffer;function x8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=bh.from(m)),!bh.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var A=m[b],R=0,W=S-1;(A!==0||R<w)&&W!==-1;W--,R++)A+=256*_[W]>>>0,_[W]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");w=R,b++}for(var O=S-w;O!==S&&_[O]===0;)O++;for(var B=a.repeat(y);O<S;++O)B+=t.charAt(_[O]);return B}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return bh.alloc(0);for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);y<m.length;){var _=m.charCodeAt(y);if(_>255)return;var A=e[_];if(A===255)return;for(var R=0,W=g-1;(A!==0||R<b)&&W!==-1;W--,R++)A+=o*S[W]>>>0,S[W]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=R,y++}for(var O=g-b;O!==g&&S[O]===0;)O++;var B=bh.allocUnsafe(w+(g-O));B.fill(0,0,w);for(var F=w;O!==g;)B[F++]=S[O++];return B}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var w8=x8,v8=w8,b8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",S8=v8(b8);function Xs(t,e,n){return e<=t&&t<=n}function Nm(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function _8(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,l=o&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function k8(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Sp=-1;function gw(t){this.tokens=[].slice.call(t)}gw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Sp},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Hl=-1;function Y0(t,e){if(t)throw TypeError("Decoder error");return e||65533}var _p="utf-8";function kp(t,e){if(!(this instanceof kp))return new kp(t,e);if(t=t!==void 0?String(t).toLowerCase():_p,t!==_p)throw new Error("Encoding not supported. Only utf-8 is supported");e=Nm(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}kp.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Nm(n),this._streaming||(this._decoder=new E8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new gw(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Hl);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Hl)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),k8(i)}};function Ep(t,e){if(!(this instanceof Ep))return new Ep(t,e);if(t=t!==void 0?String(t).toLowerCase():_p,t!==_p)throw new Error("Encoding not supported. Only utf-8 is supported");e=Nm(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ep.prototype={encode:function(e,n){e=e?String(e):"",n=Nm(n),this._streaming||(this._encoder=new N8(this._options)),this._streaming=!!n.stream;for(var r=[],s=new gw(_8(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Hl);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Hl;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function E8(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,l){if(l===Sp&&s!==0)return s=0,Y0(e);if(l===Sp)return Hl;if(s===0){if(Xs(l,0,127))return l;if(Xs(l,194,223))s=1,n=l-192;else if(Xs(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,n=l-224;else if(Xs(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,n=l-240;else return Y0(e);return n=n<<6*s,null}if(!Xs(l,i,o))return n=s=r=0,i=128,o=191,a.prepend(l),Y0(e);if(i=128,o=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var c=n;return n=s=r=0,c}}function N8(t){t.fatal,this.handler=function(e,n){if(n===Sp)return Hl;if(Xs(n,0,127))return n;var r,s;Xs(n,128,2047)?(r=1,s=192):Xs(n,2048,65535)?(r=2,s=224):Xs(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const A8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:kp,TextEncoder:Ep},Symbol.toStringTag,{value:"Module"})),C8=xi(A8);var M8=os&&os.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),I8=os&&os.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),js=os&&os.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},j8=os&&os.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&M8(e,t,n);return I8(e,t),e},u3=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});var d3=Nn.deserializeUnchecked=y3=Nn.deserialize=g3=Nn.serialize=Nn.BinaryReader=Nn.BinaryWriter=Nn.BorshError=Nn.baseDecode=Nn.baseEncode=void 0;const Vi=u3(l3),h3=u3(S8),T8=j8(C8),R8=typeof TextDecoder!="function"?T8.TextDecoder:TextDecoder,B8=new R8("utf-8",{fatal:!0});function P8(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),h3.default.encode(Buffer.from(t))}Nn.baseEncode=P8;function L8(t){return Buffer.from(h3.default.decode(t))}Nn.baseDecode=L8;const G0=1024;class Yn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Nn.BorshError=Yn;class f3{constructor(){this.buf=Buffer.alloc(G0),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(G0)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vi.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vi.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vi.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vi.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(G0)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Nn.BinaryWriter=f3;function Ts(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Yn("Reached the end of buffer when deserializing")}throw i}}}class Nr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Vi.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Vi.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Vi.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Vi.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Yn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return B8.decode(n)}catch(r){throw new Yn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}js([Ts],Nr.prototype,"readU8",null);js([Ts],Nr.prototype,"readU16",null);js([Ts],Nr.prototype,"readU32",null);js([Ts],Nr.prototype,"readU64",null);js([Ts],Nr.prototype,"readU128",null);js([Ts],Nr.prototype,"readU256",null);js([Ts],Nr.prototype,"readU512",null);js([Ts],Nr.prototype,"readString",null);js([Ts],Nr.prototype,"readFixedArray",null);js([Ts],Nr.prototype,"readArray",null);Nn.BinaryReader=Nr;function p3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Lo(t,e,n,r,s){try{if(typeof r=="string")s[`write${p3(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Yn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Yn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Lo(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{Lo(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Lo(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Lo(t,e,o,r.key,s),Lo(t,e,i,r.value,s)});break}default:throw new Yn(`FieldType ${r} unrecognized`)}else m3(t,n,s)}catch(i){throw i instanceof Yn&&i.addToFieldPath(e),i}}function m3(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Yn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Lo(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),Lo(t,o,e[o],a,n);break}}}else throw new Yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function O8(t,e,n=f3){const r=new n;return m3(t,e,r),r.toArray()}var g3=Nn.serialize=O8;function Oo(t,e,n,r){try{if(typeof n=="string")return r[`read${p3(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Oo(t,null,n[0],r));return s}else return r.readArray(()=>Oo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Oo(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=Oo(t,e,n.key,r),l=Oo(t,e,n.value,r);s.set(a,l)}return s}return yw(t,n,r)}catch(s){throw s instanceof Yn&&s.addToFieldPath(e),s}}function yw(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Yn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=Oo(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Yn(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=Oo(t,i,o,n);return new e({[i]:a})}throw new Yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function D8(t,e,n,r=Nr){const s=new r(n),i=yw(t,e,s);if(s.offset<n.length)throw new Yn(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var y3=Nn.deserialize=D8;function z8(t,e,n,r=Nr){const s=new r(n);return yw(t,e,s)}d3=Nn.deserializeUnchecked=z8;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.s16=J.s8=J.nu64be=J.u48be=J.u40be=J.u32be=J.u24be=J.u16be=_n=J.nu64=J.u48=J.u40=ve=J.u32=J.u24=jr=J.u16=et=J.u8=lo=J.offset=J.greedy=J.Constant=J.UTF8=J.CString=J.Blob=J.Boolean=J.BitField=J.BitStructure=J.VariantLayout=J.Union=J.UnionLayoutDiscriminator=J.UnionDiscriminator=J.Structure=J.Sequence=J.DoubleBE=J.Double=J.FloatBE=J.Float=J.NearInt64BE=J.NearInt64=J.NearUInt64BE=J.NearUInt64=J.IntBE=J.Int=J.UIntBE=J.UInt=J.OffsetLayout=J.GreedyCount=J.ExternalLayout=J.bindConstructorLayout=J.nameWithProperty=J.Layout=J.uint8ArrayToBuffer=J.checkUint8Array=void 0;J.constant=J.utf8=J.cstr=vt=J.blob=J.unionLayoutDiscriminator=J.union=Cn=J.seq=J.bits=be=J.struct=J.f64be=J.f64=J.f32be=J.f32=J.ns64be=J.s48be=J.s40be=J.s32be=J.s24be=J.s16be=gr=J.ns64=J.s48=J.s40=J.s32=J.s24=void 0;const xw=je;function hc(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}J.checkUint8Array=hc;function st(t){return hc(t),xw.Buffer.from(t.buffer,t.byteOffset,t.length)}J.uint8ArrayToBuffer=st;class ut{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}J.Layout=ut;function ww(t,e){return e.property?t+"["+e.property+"]":t}J.nameWithProperty=ww;function W8(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ut))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}J.bindConstructorLayout=W8;class sr extends ut{isCount(){throw new Error("ExternalLayout is abstract")}}J.ExternalLayout=sr;class x3 extends sr{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){hc(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}J.GreedyCount=x3;class vw extends sr{constructor(e,n=0,r){if(!(e instanceof ut))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Wr||this.layout instanceof rs}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}J.OffsetLayout=vw;class Wr extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readUIntLE(n,this.span)}encode(e,n,r=0){return st(n).writeUIntLE(e,r,this.span),this.span}}J.UInt=Wr;class rs extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readUIntBE(n,this.span)}encode(e,n,r=0){return st(n).writeUIntBE(e,r,this.span),this.span}}J.UIntBE=rs;class Ea extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readIntLE(n,this.span)}encode(e,n,r=0){return st(n).writeIntLE(e,r,this.span),this.span}}J.Int=Ea;class fc extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readIntBE(n,this.span)}encode(e,n,r=0){return st(n).writeIntBE(e,r,this.span),this.span}}J.IntBE=fc;const Fy=Math.pow(2,32);function Am(t){const e=Math.floor(t/Fy),n=t-e*Fy;return{hi32:e,lo32:n}}function Cm(t,e){return t*Fy+e}class w3 extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Cm(i,s)}encode(e,n,r=0){const s=Am(e),i=st(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}J.NearUInt64=w3;class v3 extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Cm(s,i)}encode(e,n,r=0){const s=Am(e),i=st(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}J.NearUInt64BE=v3;class b3 extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Cm(i,s)}encode(e,n,r=0){const s=Am(e),i=st(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}J.NearInt64=b3;class S3 extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Cm(s,i)}encode(e,n,r=0){const s=Am(e),i=st(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}J.NearInt64BE=S3;class _3 extends ut{constructor(e){super(4,e)}decode(e,n=0){return st(e).readFloatLE(n)}encode(e,n,r=0){return st(n).writeFloatLE(e,r),4}}J.Float=_3;class k3 extends ut{constructor(e){super(4,e)}decode(e,n=0){return st(e).readFloatBE(n)}encode(e,n,r=0){return st(n).writeFloatBE(e,r),4}}J.FloatBE=k3;class E3 extends ut{constructor(e){super(8,e)}decode(e,n=0){return st(e).readDoubleLE(n)}encode(e,n,r=0){return st(n).writeDoubleLE(e,r),8}}J.Double=E3;class N3 extends ut{constructor(e){super(8,e)}decode(e,n=0){return st(e).readDoubleBE(n)}encode(e,n,r=0){return st(n).writeDoubleBE(e,r),8}}J.DoubleBE=N3;class A3 extends ut{constructor(e,n,r){if(!(e instanceof ut))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof sr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof sr)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof sr&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof sr&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof sr&&this.count.encode(e.length,n,r),i}}J.Sequence=A3;class C3 extends ut{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof ut,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){hc(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}J.Structure=C3;class bw{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}J.UnionDiscriminator=bw;class Np extends bw{constructor(e,n){if(!(e instanceof sr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}J.UnionLayoutDiscriminator=Np;class Sw extends ut{constructor(e,n,r){let s;if(e instanceof Wr||e instanceof rs)s=new Np(new vw(e));else if(e instanceof sr&&e.isCount())s=new Np(e);else if(e instanceof bw)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ut))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Wr||e instanceof rs)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Wr||e instanceof rs,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new M3(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}J.Union=Sw;class M3 extends ut{constructor(e,n,r,s){if(!(e instanceof Sw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof ut))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}J.VariantLayout=M3;function Ua(t){return 0>t&&(t+=4294967296),t}class _w extends ut{constructor(e,n,r){if(!(e instanceof Wr||e instanceof rs))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Ua(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new kw(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new I3(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}J.BitStructure=_w;class kw{constructor(e,n,r){if(!(e instanceof _w))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Ua(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ua(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ua(e&this.valueMask))throw new TypeError(ww("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ua(e<<this.start);this.container._packedSetValue(Ua(n&~this.wordMask)|r)}}J.BitField=kw;let I3=class extends kw{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};J.Boolean=I3;class j3 extends ut{constructor(e,n){if(!(e instanceof sr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof sr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),st(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof sr&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(ww("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=st(e);return st(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof sr&&this.length.encode(s,n,r),s}}J.Blob=j3;class T3 extends ut{constructor(e){super(-1,e)}getSpan(e,n=0){hc(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return st(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=xw.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=st(n);return s.copy(o,r),o[r+i]=0,i+1}}J.CString=T3;class R3 extends ut{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return hc(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return st(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=xw.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(st(n),r),i}}J.UTF8=R3;class B3 extends ut{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}J.Constant=B3;J.greedy=(t,e)=>new x3(t,e);var lo=J.offset=(t,e,n)=>new vw(t,e,n),et=J.u8=t=>new Wr(1,t),jr=J.u16=t=>new Wr(2,t);J.u24=t=>new Wr(3,t);var ve=J.u32=t=>new Wr(4,t);J.u40=t=>new Wr(5,t);J.u48=t=>new Wr(6,t);var _n=J.nu64=t=>new w3(t);J.u16be=t=>new rs(2,t);J.u24be=t=>new rs(3,t);J.u32be=t=>new rs(4,t);J.u40be=t=>new rs(5,t);J.u48be=t=>new rs(6,t);J.nu64be=t=>new v3(t);J.s8=t=>new Ea(1,t);J.s16=t=>new Ea(2,t);J.s24=t=>new Ea(3,t);J.s32=t=>new Ea(4,t);J.s40=t=>new Ea(5,t);J.s48=t=>new Ea(6,t);var gr=J.ns64=t=>new b3(t);J.s16be=t=>new fc(2,t);J.s24be=t=>new fc(3,t);J.s32be=t=>new fc(4,t);J.s40be=t=>new fc(5,t);J.s48be=t=>new fc(6,t);J.ns64be=t=>new S3(t);J.f32=t=>new _3(t);J.f32be=t=>new k3(t);J.f64=t=>new E3(t);J.f64be=t=>new N3(t);var be=J.struct=(t,e,n)=>new C3(t,e,n);J.bits=(t,e,n)=>new _w(t,e,n);var Cn=J.seq=(t,e,n)=>new A3(t,e,n);J.union=(t,e,n)=>new Sw(t,e,n);J.unionLayoutDiscriminator=(t,e)=>new Np(t,e);var vt=J.blob=(t,e)=>new j3(t,e);J.cstr=t=>new T3(t);J.utf8=(t,e)=>new R3(t,e);J.constant=(t,e)=>new B3(t,e);var F8=8078e3,$8=8078001,U8=8078004,H8=8078005,V8=8078006,K8=8078011;function P3(t){return Array.isArray(t)?"%5B"+t.map(P3).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function q8([t,e]){return`${t}=${P3(e)}`}function Y8(t){const e=Object.entries(t).map(q8).join("&");return btoa(e)}function G8(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Y8(e)}'`),`${n}\``}}var El=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=G8(e,r);super(i,s);ke(this,"cause",this.cause);ke(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function Z8(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function X8(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Z8(e,t));return t.write(e,n,0),n}})}function Q8(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Oa(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function J8(t,e){if(Oa(t)!==Oa(e))throw new El(U8);if(Oa(t)&&Oa(e)&&t.fixedSize!==e.fixedSize)throw new El(H8,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Oa(t)&&!Oa(e)&&t.maxSize!==e.maxSize)throw new El(V8,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function eR(t,e,n=0){if(e.length-n<=0)throw new El(F8,{codecDescription:t})}function tR(t,e,n,r=0){const s=n.length-r;if(s<e)throw new El($8,{bytesLength:s,codecDescription:t,expected:e})}function nR(t,e,n,r){if(r<e||r>n)throw new El(K8,{codecDescription:t,max:n,min:e,value:r})}function L3(t){return(t==null?void 0:t.endian)!==1}function rR(t){return X8({fixedSize:t.size,write(e,n,r){t.range&&nR(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,L3(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function sR(t){return Q8({fixedSize:t.size,read(e,n=0){eR(t.name,e,n),tR(t.name,t.size,e,n);const r=new DataView(iR(e,n,t.size));return[t.get(r,L3(t.config)),n+t.size]}})}function iR(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var O3=(t={})=>rR({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),oR=(t={})=>sR({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),aR=(t={})=>J8(O3(t),oR(t));class lR extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function cR(t){return Od(t)&&typeof t[Symbol.iterator]=="function"}function Od(t){return typeof t=="object"&&t!=null}function Ap(t){return Od(t)&&!Array.isArray(t)}function ls(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function uR(t){const{done:e,value:n}=t.next();return e?void 0:n}function dR(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ls(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*m2(t,e,n,r){cR(t)||(t=[t]);for(const s of t){const i=dR(s,e,n,r);i&&(yield i)}}function*Ew(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,h]of e.entries(t,a)){const p=Ew(d,h,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,d],coerce:i,mask:o,message:n.message});for(const m of p)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(d=m[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):Od(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Rs=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,c)=>{const d=s(l,c);return m2(d,c,this,l)}:this.validator=()=>[],i?this.refiner=(l,c)=>{const d=i(l,c);return m2(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return D3(e,this,n)}create(e,n){return he(e,this,n)}is(e){return z3(e,this)}mask(e,n){return hR(e,this,n)}validate(e,n={}){return Dd(e,this,n)}};function D3(t,e,n){const r=Dd(t,e,{message:n});if(r[0])throw r[0]}function he(t,e,n){const r=Dd(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function hR(t,e,n){const r=Dd(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function z3(t,e){return!Dd(t,e)[0]}function Dd(t,e,n={}){const r=Ew(t,e,n),s=uR(r);return s[0]?[new lR(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Na(t,e){return new Rs({type:t,schema:null,validator:e})}function fR(){return Na("any",()=>!0)}function fe(t){return new Rs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ls(e)}`}})}function Is(){return Na("boolean",t=>typeof t=="boolean")}function Nw(t){return Na("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ls(e)}`)}function It(t){const e=ls(t),n=typeof t;return new Rs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ls(r)}`}})}function pR(){return Na("never",()=>!1)}function me(t){return new Rs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Q(){return Na("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ls(t)}`)}function Ie(t){return new Rs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function W3(t,e){return new Rs({type:"record",schema:null,*entries(n){if(Od(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return Ap(n)||`Expected an object, but received: ${ls(n)}`},coercer(n){return Ap(n)?{...n}:n}})}function de(){return Na("string",t=>typeof t=="string"||`Expected a string, but received: ${ls(t)}`)}function Aw(t){const e=pR();return new Rs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ls(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function se(t){const e=Object.keys(t);return new Rs({type:"type",schema:t,*entries(n){if(Od(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ap(n)||`Expected an object, but received: ${ls(n)}`},coercer(n){return Ap(n)?{...n}:n}})}function Zn(t){const e=t.map(n=>n.type).join(" | ");return new Rs({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=Ew(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ls(n)}`,...s]}})}function pc(){return Na("unknown",()=>!0)}function zd(t,e,n){return new Rs({...t,coercer:(r,s)=>z3(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Sh,mR=new Uint8Array(16);function F3(){if(!Sh&&(Sh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Sh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sh(mR)}const gR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mm(t){return typeof t=="string"&&gR.test(t)}var Sn=[];for(var Z0=0;Z0<256;++Z0)Sn.push((Z0+256).toString(16).substr(1));function Im(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Sn[t[e+0]]+Sn[t[e+1]]+Sn[t[e+2]]+Sn[t[e+3]]+"-"+Sn[t[e+4]]+Sn[t[e+5]]+"-"+Sn[t[e+6]]+Sn[t[e+7]]+"-"+Sn[t[e+8]]+Sn[t[e+9]]+"-"+Sn[t[e+10]]+Sn[t[e+11]]+Sn[t[e+12]]+Sn[t[e+13]]+Sn[t[e+14]]+Sn[t[e+15]]).toLowerCase();if(!Mm(n))throw TypeError("Stringified UUID is invalid");return n}var g2,X0,Q0=0,J0=0;function yR(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||g2,o=t.clockseq!==void 0?t.clockseq:X0;if(i==null||o==null){var a=t.random||(t.rng||F3)();i==null&&(i=g2=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=X0=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:J0+1,d=l-Q0+(c-J0)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||l>Q0)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Q0=l,J0=c,X0=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;s[r++]=h>>>24&255,s[r++]=h>>>16&255,s[r++]=h>>>8&255,s[r++]=h&255;var p=l/4294967296*1e4&268435455;s[r++]=p>>>8&255,s[r++]=p&255,s[r++]=p>>>24&15|16,s[r++]=p>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||Im(s)}function $3(t){if(!Mm(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function xR(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var wR="6ba7b810-9dad-11d1-80b4-00c04fd430c8",vR="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function U3(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=xR(s)),typeof i=="string"&&(i=$3(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return Im(l)}try{r.name=t}catch{}return r.DNS=wR,r.URL=vR,r}function bR(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return SR(_R(kR(t),t.length*8))}function SR(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function H3(t){return(t+64>>>9<<4)+14+1}function _R(t,e){t[e>>5]|=128<<e%32,t[H3(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=s,d=i;n=Ln(n,r,s,i,t[o],7,-680876936),i=Ln(i,n,r,s,t[o+1],12,-389564586),s=Ln(s,i,n,r,t[o+2],17,606105819),r=Ln(r,s,i,n,t[o+3],22,-1044525330),n=Ln(n,r,s,i,t[o+4],7,-176418897),i=Ln(i,n,r,s,t[o+5],12,1200080426),s=Ln(s,i,n,r,t[o+6],17,-1473231341),r=Ln(r,s,i,n,t[o+7],22,-45705983),n=Ln(n,r,s,i,t[o+8],7,1770035416),i=Ln(i,n,r,s,t[o+9],12,-1958414417),s=Ln(s,i,n,r,t[o+10],17,-42063),r=Ln(r,s,i,n,t[o+11],22,-1990404162),n=Ln(n,r,s,i,t[o+12],7,1804603682),i=Ln(i,n,r,s,t[o+13],12,-40341101),s=Ln(s,i,n,r,t[o+14],17,-1502002290),r=Ln(r,s,i,n,t[o+15],22,1236535329),n=On(n,r,s,i,t[o+1],5,-165796510),i=On(i,n,r,s,t[o+6],9,-1069501632),s=On(s,i,n,r,t[o+11],14,643717713),r=On(r,s,i,n,t[o],20,-373897302),n=On(n,r,s,i,t[o+5],5,-701558691),i=On(i,n,r,s,t[o+10],9,38016083),s=On(s,i,n,r,t[o+15],14,-660478335),r=On(r,s,i,n,t[o+4],20,-405537848),n=On(n,r,s,i,t[o+9],5,568446438),i=On(i,n,r,s,t[o+14],9,-1019803690),s=On(s,i,n,r,t[o+3],14,-187363961),r=On(r,s,i,n,t[o+8],20,1163531501),n=On(n,r,s,i,t[o+13],5,-1444681467),i=On(i,n,r,s,t[o+2],9,-51403784),s=On(s,i,n,r,t[o+7],14,1735328473),r=On(r,s,i,n,t[o+12],20,-1926607734),n=Dn(n,r,s,i,t[o+5],4,-378558),i=Dn(i,n,r,s,t[o+8],11,-2022574463),s=Dn(s,i,n,r,t[o+11],16,1839030562),r=Dn(r,s,i,n,t[o+14],23,-35309556),n=Dn(n,r,s,i,t[o+1],4,-1530992060),i=Dn(i,n,r,s,t[o+4],11,1272893353),s=Dn(s,i,n,r,t[o+7],16,-155497632),r=Dn(r,s,i,n,t[o+10],23,-1094730640),n=Dn(n,r,s,i,t[o+13],4,681279174),i=Dn(i,n,r,s,t[o],11,-358537222),s=Dn(s,i,n,r,t[o+3],16,-722521979),r=Dn(r,s,i,n,t[o+6],23,76029189),n=Dn(n,r,s,i,t[o+9],4,-640364487),i=Dn(i,n,r,s,t[o+12],11,-421815835),s=Dn(s,i,n,r,t[o+15],16,530742520),r=Dn(r,s,i,n,t[o+2],23,-995338651),n=zn(n,r,s,i,t[o],6,-198630844),i=zn(i,n,r,s,t[o+7],10,1126891415),s=zn(s,i,n,r,t[o+14],15,-1416354905),r=zn(r,s,i,n,t[o+5],21,-57434055),n=zn(n,r,s,i,t[o+12],6,1700485571),i=zn(i,n,r,s,t[o+3],10,-1894986606),s=zn(s,i,n,r,t[o+10],15,-1051523),r=zn(r,s,i,n,t[o+1],21,-2054922799),n=zn(n,r,s,i,t[o+8],6,1873313359),i=zn(i,n,r,s,t[o+15],10,-30611744),s=zn(s,i,n,r,t[o+6],15,-1560198380),r=zn(r,s,i,n,t[o+13],21,1309151649),n=zn(n,r,s,i,t[o+4],6,-145523070),i=zn(i,n,r,s,t[o+11],10,-1120210379),s=zn(s,i,n,r,t[o+2],15,718787259),r=zn(r,s,i,n,t[o+9],21,-343485551),n=Ki(n,a),r=Ki(r,l),s=Ki(s,c),i=Ki(i,d)}return[n,r,s,i]}function kR(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(H3(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ki(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function ER(t,e){return t<<e|t>>>32-e}function jm(t,e,n,r,s,i){return Ki(ER(Ki(Ki(e,t),Ki(r,i)),s),n)}function Ln(t,e,n,r,s,i,o){return jm(e&n|~e&r,t,e,s,i,o)}function On(t,e,n,r,s,i,o){return jm(e&r|n&~r,t,e,s,i,o)}function Dn(t,e,n,r,s,i,o){return jm(e^n^r,t,e,s,i,o)}function zn(t,e,n,r,s,i,o){return jm(n^(e|~r),t,e,s,i,o)}var NR=U3("v3",48,bR);function AR(t,e,n){t=t||{};var r=t.random||(t.rng||F3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return Im(r)}function CR(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function eg(t,e){return t<<e|t>>>32-e}function MR(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[h][m];for(var y=16;y<80;++y)p[y]=eg(p[y-3]^p[y-8]^p[y-14]^p[y-16],1);for(var w=n[0],b=n[1],g=n[2],S=n[3],_=n[4],A=0;A<80;++A){var R=Math.floor(A/20),W=eg(w,5)+CR(R,b,g,S)+_+e[R]+p[A]>>>0;_=S,S=g,g=eg(b,30)>>>0,b=w,w=W}n[0]=n[0]+w>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+S>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var IR=U3("v5",80,MR);const jR="00000000-0000-0000-0000-000000000000";function TR(t){if(!Mm(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const RR=Object.freeze(Object.defineProperty({__proto__:null,NIL:jR,parse:$3,stringify:Im,v1:yR,v3:NR,v4:AR,v5:IR,validate:Mm,version:TR},Symbol.toStringTag,{value:"Module"})),V3=xi(RR),BR=V3.v4,PR=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return BR()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var LR=PR;const OR=V3.v4,DR=LR,ld=function(t,e){if(!(this instanceof ld))return new ld(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return OR()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var zR=ld;ld.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{i=DR(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,d){s._parseResponse(c,d,r)}),i};ld.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const WR=wa(zR);var K3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,h||l,p),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,d,h,p,m,y){var w=n?n+c:c;if(!this._events[w])return!1;var b=this._events[w],g=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,p),!0;case 5:return b.fn.call(b.context,d,h,p,m),!0;case 6:return b.fn.call(b.context,d,h,p,m,y),!0}for(_=1,S=new Array(g-1);_<g;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var A=b.length,R;for(_=0;_<A;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),g){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,h);break;case 4:b[_].fn.call(b[_].context,d,h,p);break;default:if(!S)for(R=1,S=new Array(g-1);R<g;R++)S[R-1]=arguments[R];b[_].fn.apply(b[_].context,S)}}return!0},a.prototype.on=function(c,d,h){return i(this,c,d,h,!1)},a.prototype.once=function(c,d,h){return i(this,c,d,h,!0)},a.prototype.removeListener=function(c,d,h,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var w=0,b=[],g=y.length;w<g;w++)(y[w].fn!==d||p&&!y[w].once||h&&y[w].context!==h)&&b.push(y[w]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(K3);var FR=K3.exports;const Tm=wa(FR);var $R=class extends Tm{constructor(e,n,r){super();ke(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function UR(t,e){return new $R(t,e)}var HR=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},VR=class extends Tm{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},l,c){super();ke(this,"address");ke(this,"rpc_id");ke(this,"queue");ke(this,"options");ke(this,"autoconnect");ke(this,"ready");ke(this,"reconnect");ke(this,"reconnect_timer_id");ke(this,"reconnect_interval");ke(this,"max_reconnects");ke(this,"rest_options");ke(this,"current_reconnects");ke(this,"generate_request_id");ke(this,"socket");ke(this,"webSocketFactory");ke(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new HR,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,c=>{if(c)return o(c);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=je.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const KR=BigInt(0),Wc=BigInt(1),qR=BigInt(2),YR=BigInt(7),GR=BigInt(256),ZR=BigInt(113),q3=[],Y3=[],G3=[];for(let t=0,e=Wc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],q3.push(2*(5*r+n)),Y3.push((t+1)*(t+2)/2%64);let s=KR;for(let i=0;i<7;i++)e=(e<<Wc^(e>>YR)*ZR)%GR,e&qR&&(s^=Wc<<(Wc<<BigInt(i))-Wc);G3.push(s)}const Z3=zN(G3,!0),XR=Z3[0],QR=Z3[1],y2=(t,e,n)=>n>32?vT(t,e,n):xT(t,e,n),x2=(t,e,n)=>n>32?bT(t,e,n):wT(t,e,n);function JR(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],d=n[l+1],h=y2(c,d,1)^n[a],p=x2(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Y3[o],l=y2(s,i,a),c=x2(s,i,a),d=q3[o];s=t[d],i=t[d+1],t[d]=l,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=XR[r],t[1]^=QR[r]}mo(n)}class Cw extends lw{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,od(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=lT(this.state)}clone(){return this._cloneInto()}keccak(){e2(this.state32),JR(this.state32,this.rounds),e2(this.state32),this.posOut=0,this.pos=0}update(e){$l(this),e=km(e),pi(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){$l(this,!1),pi(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return od(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mo(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Cw(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const eB=(t,e,n)=>cw(()=>new Cw(e,t,n)),w2=eB(1,136,256/8);class X3 extends lw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PN(e);const r=km(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),mo(i)}update(e){return $l(this),this.iHash.update(e),this}digestInto(e){$l(this),pi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Q3=(t,e,n)=>new X3(t,e).update(n).digest();Q3.create=(t,e)=>new X3(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v2=(t,e)=>(t+(t>=0?e:-e)/J3)/e;function tB(t,e,n){const[[r,s],[i,o]]=e,a=v2(o*t,n),l=v2(-s*t,n);let c=t-a*r-l*i,d=-a*s-l*o;const h=c<ri,p=d<ri;h&&(c=-c),p&&(d=-d);const m=Pd(Math.ceil(HN(n)/2))+Nl;if(c<ri||c>=m||d<ri||d>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:h,k1:c,k2neg:p,k2:d}}function $y(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function tg(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return fa(n.lowS,"lowS"),fa(n.prehash,"prehash"),n.format!==void 0&&$y(n.format),n}class nB extends Error{constructor(e=""){super(e)}}const Ys={Err:nB,_tlv:{encode:(t,e)=>{const{Err:n}=Ys;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=wh(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?wh(s.length/2|128):"";return wh(t)+i+s+e},decode(t,e){const{Err:n}=Ys;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)o=o<<8|d;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Ys;if(t<ri)throw new e("integer: negative integers are not allowed");let n=wh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ys;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Em(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ys,s=Yt("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Ys,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},ri=BigInt(0),Nl=BigInt(1),J3=BigInt(2),_h=BigInt(3),rB=BigInt(4);function fl(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=Yt("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function sB(t,e={}){const n=o3("weierstrass",t,e),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;Ld(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(i.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=t4(r,s);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h(V,M,f){const{x,y:k}=M.toAffine(),I=r.toBytes(x);if(fa(f,"isCompressed"),f){d();const C=!r.isOdd(k);return Ss(e4(C),I)}else return Ss(Uint8Array.of(4),I,r.toBytes(k))}function p(V){Jr(V,void 0,"Point");const{publicKey:M,publicKeyUncompressed:f}=c,x=V.length,k=V[0],I=V.subarray(1);if(x===M&&(k===2||k===3)){const C=r.fromBytes(I);if(!r.isValid(C))throw new Error("bad point: is not on curve, wrong x");const j=w(C);let P;try{P=r.sqrt(j)}catch(L){const X=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}d();const T=r.isOdd(P);return(k&1)===1!==T&&(P=r.neg(P)),{x:C,y:P}}else if(x===f&&k===4){const C=r.BYTES,j=r.fromBytes(I.subarray(0,C)),P=r.fromBytes(I.subarray(C,C*2));if(!b(j,P))throw new Error("bad point: is not on curve");return{x:j,y:P}}else throw new Error(`bad point: got length ${x}, expected compressed=${M} or uncompressed=${f}`)}const m=e.toBytes||h,y=e.fromBytes||p;function w(V){const M=r.sqr(V),f=r.mul(M,V);return r.add(r.add(f,r.mul(V,i.a)),i.b)}function b(V,M){const f=r.sqr(M),x=w(V);return r.eql(f,x)}if(!b(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(i.a,_h),rB),S=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(g,S)))throw new Error("bad curve params: a or b");function _(V,M,f=!1){if(!r.isValid(M)||f&&r.is0(M))throw new Error(`bad point coordinate ${V}`);return M}function A(V){if(!(V instanceof F))throw new Error("ProjectivePoint expected")}function R(V){if(!l||!l.basises)throw new Error("no endo");return tB(V,l.basises,s.ORDER)}const W=vp((V,M)=>{const{X:f,Y:x,Z:k}=V;if(r.eql(k,r.ONE))return{x:f,y:x};const I=V.is0();M==null&&(M=I?r.ONE:r.inv(k));const C=r.mul(f,M),j=r.mul(x,M),P=r.mul(k,M);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:C,y:j}}),O=vp(V=>{if(V.is0()){if(e.allowInfinityPoint&&!r.is0(V.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:f}=V.toAffine();if(!r.isValid(M)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!b(M,f))throw new Error("bad point: equation left != right");if(!V.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function B(V,M,f,x,k){return f=new F(r.mul(f.X,V),f.Y,f.Z),M=bp(x,M),f=bp(k,f),M.add(f)}class F{constructor(M,f,x){this.X=_("x",M),this.Y=_("y",f,!0),this.Z=_("z",x),Object.freeze(this)}static CURVE(){return i}static fromAffine(M){const{x:f,y:x}=M||{};if(!M||!r.isValid(f)||!r.isValid(x))throw new Error("invalid affine point");if(M instanceof F)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(x)?F.ZERO:new F(f,x,r.ONE)}static fromBytes(M){const f=F.fromAffine(y(Jr(M,void 0,"point")));return f.assertValidity(),f}static fromHex(M){return F.fromBytes(Yt("pointHex",M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,f=!0){return H.createCache(this,M),f||this.multiply(_h),this}assertValidity(){O(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){A(M);const{X:f,Y:x,Z:k}=this,{X:I,Y:C,Z:j}=M,P=r.eql(r.mul(f,j),r.mul(I,k)),T=r.eql(r.mul(x,j),r.mul(C,k));return P&&T}negate(){return new F(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:f}=i,x=r.mul(f,_h),{X:k,Y:I,Z:C}=this;let j=r.ZERO,P=r.ZERO,T=r.ZERO,v=r.mul(k,k),L=r.mul(I,I),X=r.mul(C,C),Z=r.mul(k,I);return Z=r.add(Z,Z),T=r.mul(k,C),T=r.add(T,T),j=r.mul(M,T),P=r.mul(x,X),P=r.add(j,P),j=r.sub(L,P),P=r.add(L,P),P=r.mul(j,P),j=r.mul(Z,j),T=r.mul(x,T),X=r.mul(M,X),Z=r.sub(v,X),Z=r.mul(M,Z),Z=r.add(Z,T),T=r.add(v,v),v=r.add(T,v),v=r.add(v,X),v=r.mul(v,Z),P=r.add(P,v),X=r.mul(I,C),X=r.add(X,X),v=r.mul(X,Z),j=r.sub(j,v),T=r.mul(X,L),T=r.add(T,T),T=r.add(T,T),new F(j,P,T)}add(M){A(M);const{X:f,Y:x,Z:k}=this,{X:I,Y:C,Z:j}=M;let P=r.ZERO,T=r.ZERO,v=r.ZERO;const L=i.a,X=r.mul(i.b,_h);let Z=r.mul(f,I),te=r.mul(x,C),ne=r.mul(k,j),le=r.add(f,x),ce=r.add(I,C);le=r.mul(le,ce),ce=r.add(Z,te),le=r.sub(le,ce),ce=r.add(f,k);let pe=r.add(I,j);return ce=r.mul(ce,pe),pe=r.add(Z,ne),ce=r.sub(ce,pe),pe=r.add(x,k),P=r.add(C,j),pe=r.mul(pe,P),P=r.add(te,ne),pe=r.sub(pe,P),v=r.mul(L,ce),P=r.mul(X,ne),v=r.add(P,v),P=r.sub(te,v),v=r.add(te,v),T=r.mul(P,v),te=r.add(Z,Z),te=r.add(te,Z),ne=r.mul(L,ne),ce=r.mul(X,ce),te=r.add(te,ne),ne=r.sub(Z,ne),ne=r.mul(L,ne),ce=r.add(ce,ne),Z=r.mul(te,ce),T=r.add(T,Z),Z=r.mul(pe,ce),P=r.mul(le,P),P=r.sub(P,Z),Z=r.mul(le,te),v=r.mul(pe,v),v=r.add(v,Z),new F(P,T,v)}subtract(M){return this.add(M.negate())}is0(){return this.equals(F.ZERO)}multiply(M){const{endo:f}=e;if(!s.isValidNot0(M))throw new Error("invalid scalar: out of range");let x,k;const I=C=>H.cached(this,C,j=>Vo(F,j));if(f){const{k1neg:C,k1:j,k2neg:P,k2:T}=R(M),{p:v,f:L}=I(j),{p:X,f:Z}=I(T);k=L.add(Z),x=B(f.beta,v,X,C,P)}else{const{p:C,f:j}=I(M);x=C,k=j}return Vo(F,[x,k])[0]}multiplyUnsafe(M){const{endo:f}=e,x=this;if(!s.isValid(M))throw new Error("invalid scalar: out of range");if(M===ri||x.is0())return F.ZERO;if(M===Nl)return x;if(H.hasCache(this))return this.multiply(M);if(f){const{k1neg:k,k1:I,k2neg:C,k2:j}=R(M),{p1:P,p2:T}=YT(F,x,I,j);return B(f.beta,P,T,k,C)}else return H.unsafe(x,M)}multiplyAndAddUnsafe(M,f,x){const k=this.multiplyUnsafe(f).add(M.multiplyUnsafe(x));return k.is0()?void 0:k}toAffine(M){return W(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return o===Nl?!0:M?M(F,this):H.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=e;return o===Nl?this:M?M(F,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(M=!0){return fa(M,"isCompressed"),this.assertValidity(),m(F,this,M)}toHex(M=!0){return ra(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(M=!0){return this.toBytes(M)}_setWindowSize(M){this.precompute(M)}static normalizeZ(M){return Vo(F,M)}static msm(M,f){return i3(F,s,M,f)}static fromPrivateKey(M){return F.BASE.multiply(fl(s,M))}}F.BASE=new F(i.Gx,i.Gy,r.ONE),F.ZERO=new F(r.ZERO,r.ONE,r.ZERO),F.Fp=r,F.Fn=s;const U=s.BITS,H=new s3(F,e.endo?Math.ceil(U/2):U);return F.BASE.precompute(8),F}function e4(t){return Uint8Array.of(t?2:3)}function t4(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function iB(t,e={}){const{Fn:n}=t,r=e.randomBytes||uw,s=Object.assign(t4(t.Fp,n),{seed:t3(n.ORDER)});function i(m){try{return!!fl(n,m)}catch{return!1}}function o(m,y){const{publicKey:w,publicKeyUncompressed:b}=s;try{const g=m.length;return y===!0&&g!==w||y===!1&&g!==b?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(s.seed)){return VT(Jr(m,s.seed,"seed"),n.ORDER)}function l(m,y=!0){return t.BASE.multiply(fl(n,m)).toBytes(y)}function c(m){const y=a(m);return{secretKey:y,publicKey:l(y)}}function d(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:y,publicKey:w,publicKeyUncompressed:b}=s;if(n.allowedLengths||y===w)return;const g=Yt("key",m).length;return g===w||g===b}function h(m,y,w=!0){if(d(m)===!0)throw new Error("first arg must be private key");if(d(y)===!1)throw new Error("second arg must be public key");const b=fl(n,m);return t.fromHex(y).multiply(b).toBytes(w)}return Object.freeze({getPublicKey:l,getSharedSecret:h,keygen:c,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:m=>fl(n,m),precompute(m=8,y=t.BASE){return y.precompute(m,!1)}},lengths:s})}function oB(t,e,n={}){PN(e),Ld(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||uw,s=n.hmac||((f,...x)=>Q3(e,f,Ss(...x))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:d,getSharedSecret:h,utils:p,lengths:m}=iB(t,n),y={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},w="compact";function b(f){const x=a>>Nl;return f>x}function g(f,x){if(!o.isValidNot0(x))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return x}function S(f,x){$y(x);const k=m.signature,I=x==="compact"?k:x==="recovered"?k+1:void 0;return Jr(f,I,`${x} signature`)}class _{constructor(x,k,I){this.r=g("r",x),this.s=g("s",k),I!=null&&(this.recovery=I),Object.freeze(this)}static fromBytes(x,k=w){S(x,k);let I;if(k==="der"){const{r:T,s:v}=Ys.toSig(Jr(x));return new _(T,v)}k==="recovered"&&(I=x[0],k="compact",x=x.subarray(1));const C=o.BYTES,j=x.subarray(0,C),P=x.subarray(C,C*2);return new _(o.fromBytes(j),o.fromBytes(P),I)}static fromHex(x,k){return this.fromBytes(wp(x),k)}addRecoveryBit(x){return new _(this.r,this.s,x)}recoverPublicKey(x){const k=i.ORDER,{r:I,s:C,recovery:j}=this;if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");if(a*J3<k&&j>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=j===2||j===3?I+a:I;if(!i.isValid(T))throw new Error("recovery id 2 or 3 invalid");const v=i.toBytes(T),L=t.fromBytes(Ss(e4((j&1)===0),v)),X=o.inv(T),Z=R(Yt("msgHash",x)),te=o.create(-Z*X),ne=o.create(C*X),le=t.BASE.multiplyUnsafe(te).add(L.multiplyUnsafe(ne));if(le.is0())throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return b(this.s)}toBytes(x=w){if($y(x),x==="der")return wp(Ys.hexFromSig(this));const k=o.toBytes(this.r),I=o.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ss(Uint8Array.of(this.recovery),k,I)}return Ss(k,I)}toHex(x){return ra(this.toBytes(x))}assertValidity(){}static fromCompact(x){return _.fromBytes(Yt("sig",x),"compact")}static fromDER(x){return _.fromBytes(Yt("sig",x),"der")}normalizeS(){return this.hasHighS()?new _(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ra(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ra(this.toBytes("compact"))}}const A=n.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const k=Em(x),I=x.length*8-l;return I>0?k>>BigInt(I):k},R=n.bits2int_modN||function(x){return o.create(A(x))},W=Pd(l);function O(f){return zy("num < 2^"+l,f,ri,W),o.toBytes(f)}function B(f,x){return Jr(f,void 0,"message"),x?Jr(e(f),void 0,"prehashed message"):f}function F(f,x,k){if(["recovered","canonical"].some(te=>te in k))throw new Error("sign() legacy options not supported");const{lowS:I,prehash:C,extraEntropy:j}=tg(k,y);f=B(f,C);const P=R(f),T=fl(o,x),v=[O(T),O(P)];if(j!=null&&j!==!1){const te=j===!0?r(m.secretKey):j;v.push(Yt("extraEntropy",te))}const L=Ss(...v),X=P;function Z(te){const ne=A(te);if(!o.isValidNot0(ne))return;const le=o.inv(ne),ce=t.BASE.multiply(ne).toAffine(),pe=o.create(ce.x);if(pe===ri)return;const Pe=o.create(le*o.create(X+pe*T));if(Pe===ri)return;let Re=(ce.x===pe?0:2)|Number(ce.y&Nl),it=Pe;return I&&b(Pe)&&(it=o.neg(Pe),Re^=1),new _(pe,it,Re)}return{seed:L,k2sig:Z}}function U(f,x,k={}){f=Yt("message",f);const{seed:I,k2sig:C}=F(f,x,k);return PT(e.outputLen,o.BYTES,s)(I,C)}function H(f){let x;const k=typeof f=="string"||Bd(f),I=!k&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!k&&!I)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(I)x=new _(f.r,f.s);else if(k){try{x=_.fromBytes(Yt("sig",f),"der")}catch(C){if(!(C instanceof Ys.Err))throw C}if(!x)try{x=_.fromBytes(Yt("sig",f),"compact")}catch{return!1}}return x||!1}function V(f,x,k,I={}){const{lowS:C,prehash:j,format:P}=tg(I,y);if(k=Yt("publicKey",k),x=B(Yt("message",x),j),"strict"in I)throw new Error("options.strict was renamed to lowS");const T=P===void 0?H(f):_.fromBytes(Yt("sig",f),P);if(T===!1)return!1;try{const v=t.fromBytes(k);if(C&&T.hasHighS())return!1;const{r:L,s:X}=T,Z=R(x),te=o.inv(X),ne=o.create(Z*te),le=o.create(L*te),ce=t.BASE.multiplyUnsafe(ne).add(v.multiplyUnsafe(le));return ce.is0()?!1:o.create(ce.x)===L}catch{return!1}}function M(f,x,k={}){const{prehash:I}=tg(k,y);return x=B(x,I),_.fromBytes(f,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:c,getPublicKey:d,getSharedSecret:h,utils:p,lengths:m,Point:t,sign:U,verify:V,recoverPublicKey:M,Signature:_,hash:e})}function aB(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=_a(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function lB(t){const{CURVE:e,curveOpts:n}=aB(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function cB(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,JN(n.Fn.ORDER,n.Fn.BITS))})}function uB(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=lB(t),i=sB(e,n),o=oB(i,r,s);return cB(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dB(t,e){const n=r=>uB({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},hB={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},b2=BigInt(2);function fB(t){const e=Mw.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,h=qt(d,n,e)*d%e,p=qt(h,n,e)*d%e,m=qt(p,b2,e)*c%e,y=qt(m,s,e)*m%e,w=qt(y,i,e)*y%e,b=qt(w,a,e)*w%e,g=qt(b,l,e)*b%e,S=qt(g,a,e)*w%e,_=qt(S,n,e)*d%e,A=qt(_,o,e)*y%e,R=qt(A,r,e)*c%e,W=qt(R,b2,e);if(!Uy.eql(Uy.sqr(W),t))throw new Error("Cannot find square root");return W}const Uy=_a(Mw.p,{sqrt:fB}),Iw=dB({...Mw,Fp:Uy,lowS:!0,endo:hB},FN),pB=ka.utils.randomPrivateKey,S2=()=>{const t=ka.utils.randomPrivateKey(),e=Cp(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Cp=ka.getPublicKey;function _2(t){try{return ka.ExtendedPoint.fromHex(t),!0}catch{return!1}}const jw=(t,e)=>ka.sign(t,e.slice(0,32)),mB=ka.verify,Ue=t=>je.Buffer.isBuffer(t)?t:t instanceof Uint8Array?je.Buffer.from(t.buffer,t.byteOffset,t.byteLength):je.Buffer.from(t);class Tw{constructor(e){Object.assign(this,e)}encode(){return je.Buffer.from(g3(Iu,this))}static decode(e){return y3(Iu,this,e)}static decodeUnchecked(e){return d3(Iu,this,e)}}class gB extends Tw{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Iu=new Map;var n4;const r4=32,Cs=32;function yB(t){return t._bn!==void 0}let k2=1;class ue extends Tw{constructor(e){if(super({}),this._bn=void 0,yB(e))this._bn=e._bn;else{if(typeof e=="string"){const n=An.decode(e);if(n.length!=Cs)throw new Error("Invalid public key input");this._bn=new f2(n)}else this._bn=new f2(e);if(this._bn.byteLength()>Cs)throw new Error("Invalid public key input")}}static unique(){const e=new ue(k2);return k2+=1,new ue(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return An.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(je.Buffer);if(e.length===Cs)return e;const n=je.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=je.Buffer.concat([e.toBuffer(),je.Buffer.from(n),r.toBuffer()]),i=p2(s);return new ue(i)}static createProgramAddressSync(e,n){let r=je.Buffer.alloc(0);e.forEach(function(i){if(i.length>r4)throw new TypeError("Max seed length exceeded");r=je.Buffer.concat([r,Ue(i)])}),r=je.Buffer.concat([r,n.toBuffer(),je.Buffer.from("ProgramDerivedAddress")]);const s=p2(r);if(_2(s))throw new Error("Invalid seeds, address must fall off the curve");return new ue(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(je.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new ue(e);return _2(n.toBytes())}}n4=ue;ue.default=new n4("11111111111111111111111111111111");Iu.set(ue,{kind:"struct",fields:[["_bn","u256"]]});class xB{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Ue(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Ue(pB()),this._publicKey=Ue(Cp(this._secretKey))}get publicKey(){return new ue(this._publicKey)}get secretKey(){return je.Buffer.concat([this._secretKey,this._publicKey],64)}}const wB=new ue("BPFLoader1111111111111111111111111111111111"),co=1232,Rm=127,Vl=64;class Rw extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Rw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Bw extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Bw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class pl extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cd{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Ke=(t="publicKey")=>vt(32,t),vB=(t="signature")=>vt(64,t),Ko=(t="string")=>{const e=be([ve("length"),ve("lengthPadding"),vt(lo(ve(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const l={chars:je.Buffer.from(i,"utf8")};return r(l,o,a)},s.alloc=i=>ve().span+ve().span+je.Buffer.from(i,"utf8").length,s},bB=(t="authorized")=>be([Ke("staker"),Ke("withdrawer")],t),SB=(t="lockup")=>be([gr("unixTimestamp"),gr("epoch"),Ke("custodian")],t),_B=(t="voteInit")=>be([Ke("nodePubkey"),Ke("authorizedVoter"),Ke("authorizedWithdrawer"),et("commission")],t),kB=(t="voteAuthorizeWithSeedArgs")=>be([ve("voteAuthorizationType"),Ke("currentAuthorityDerivedKeyOwnerPubkey"),Ko("currentAuthorityDerivedKeySeed"),Ke("newAuthorized")],t);function s4(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return s4({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function tr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function yr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function rt(t,e){if(!t)throw new Error(e||"Assertion failed")}class Bm{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Bm(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{rt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];rt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new ue(l)),...r.map(([l])=>new ue(l)),...s.map(([l])=>new ue(l)),...i.map(([l])=>new ue(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new ue(i),l=e.findIndex(c=>c.equals(a));l>=0&&(rt(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const i4="Reached end of buffer unexpectedly";function _s(t){if(t.length===0)throw new Error(i4);return t.shift()}function nr(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(i4);return t.splice(...e)}class cs{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new ue(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:An.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cd(this.staticAccountKeys)}static compile(e){const n=Bm.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new cd(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:An.encode(a.data)}));return new cs({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];yr(n,e);const r=this.instructions.map(h=>{const{accounts:p,programIdIndex:m}=h,y=Array.from(An.decode(h.data));let w=[];yr(w,p.length);let b=[];return yr(b,y.length),{programIdIndex:m,keyIndicesCount:je.Buffer.from(w),keyIndices:p,dataLength:je.Buffer.from(b),data:y}});let s=[];yr(s,r.length);let i=je.Buffer.alloc(co);je.Buffer.from(s).copy(i);let o=s.length;r.forEach(h=>{const m=be([et("programIdIndex"),vt(h.keyIndicesCount.length,"keyIndicesCount"),Cn(et("keyIndex"),h.keyIndices.length,"keyIndices"),vt(h.dataLength.length,"dataLength"),Cn(et("userdatum"),h.data.length,"data")]).encode(h,i,o);o+=m}),i=i.slice(0,o);const a=be([vt(1,"numRequiredSignatures"),vt(1,"numReadonlySignedAccounts"),vt(1,"numReadonlyUnsignedAccounts"),vt(n.length,"keyCount"),Cn(Ke("key"),e,"keys"),Ke("recentBlockhash")]),l={numRequiredSignatures:je.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:je.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:je.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:je.Buffer.from(n),keys:this.accountKeys.map(h=>Ue(h.toBytes())),recentBlockhash:An.decode(this.recentBlockhash)};let c=je.Buffer.alloc(2048);const d=a.encode(l,c);return i.copy(c,d),c.slice(0,d+i.length)}static from(e){let n=[...e];const r=_s(n);if(r!==(r&Rm))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=_s(n),i=_s(n),o=tr(n);let a=[];for(let p=0;p<o;p++){const m=nr(n,0,Cs);a.push(new ue(je.Buffer.from(m)))}const l=nr(n,0,Cs),c=tr(n);let d=[];for(let p=0;p<c;p++){const m=_s(n),y=tr(n),w=nr(n,0,y),b=tr(n),g=nr(n,0,b),S=An.encode(je.Buffer.from(g));d.push({programIdIndex:m,accounts:w,data:S})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:An.encode(je.Buffer.from(l)),accountKeys:a,instructions:d};return new cs(h)}}class pa{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cd(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Bm.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const d of i){const h=n.extractTableLookup(d);if(h!==void 0){const[p,{writable:m,readonly:y}]=h;r.push(p),s.writable.push(...m),s.readonly.push(...y)}}const[o,a]=n.getMessageComponents(),c=new cd(a,s).compileInstructions(e.instructions);return new pa({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();yr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();yr(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();yr(i,this.addressTableLookups.length);const o=be([et("prefix"),be([et("numRequiredSignatures"),et("numReadonlySignedAccounts"),et("numReadonlyUnsignedAccounts")],"header"),vt(e.length,"staticAccountKeysLength"),Cn(Ke(),this.staticAccountKeys.length,"staticAccountKeys"),Ke("recentBlockhash"),vt(r.length,"instructionsLength"),vt(n.length,"serializedInstructions"),vt(i.length,"addressTableLookupsLength"),vt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(co),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:An.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(co);for(const r of this.compiledInstructions){const s=Array();yr(s,r.accountKeyIndexes.length);const i=Array();yr(i,r.data.length);const o=be([et("programIdIndex"),vt(s.length,"encodedAccountKeyIndexesLength"),Cn(et(),r.accountKeyIndexes.length,"accountKeyIndexes"),vt(i.length,"encodedDataLength"),vt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(co);for(const r of this.addressTableLookups){const s=Array();yr(s,r.writableIndexes.length);const i=Array();yr(i,r.readonlyIndexes.length);const o=be([Ke("accountKey"),vt(s.length,"encodedWritableIndexesLength"),Cn(et(),r.writableIndexes.length,"writableIndexes"),vt(i.length,"encodedReadonlyIndexesLength"),Cn(et(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=_s(n),s=r&Rm;rt(r!==s,"Expected versioned message but received legacy message");const i=s;rt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:_s(n),numReadonlySignedAccounts:_s(n),numReadonlyUnsignedAccounts:_s(n)},a=[],l=tr(n);for(let y=0;y<l;y++)a.push(new ue(nr(n,0,Cs)));const c=An.encode(nr(n,0,Cs)),d=tr(n),h=[];for(let y=0;y<d;y++){const w=_s(n),b=tr(n),g=nr(n,0,b),S=tr(n),_=new Uint8Array(nr(n,0,S));h.push({programIdIndex:w,accountKeyIndexes:g,data:_})}const p=tr(n),m=[];for(let y=0;y<p;y++){const w=new ue(nr(n,0,Cs)),b=tr(n),g=nr(n,0,b),S=tr(n),_=nr(n,0,S);m.push({accountKey:w,writableIndexes:g,readonlyIndexes:_})}return new pa({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:m})}}const Pm={deserializeMessageVersion(t){const e=t[0],n=e&Rm;return n===e?"legacy":n},deserialize:t=>{const e=Pm.deserializeMessageVersion(t);if(e==="legacy")return cs.from(t);if(e===0)return pa.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let $s=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const EB=je.Buffer.alloc(Vl).fill(0);class ht{constructor(e){this.keys=void 0,this.programId=void 0,this.data=je.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ge{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ht(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let w=0;w<n.length;w++)if(n[w].programId===void 0)throw new Error(`Transaction instruction index ${w} has undefined program id`);const s=[],i=[];n.forEach(w=>{w.keys.forEach(g=>{i.push({...g})});const b=w.programId.toString();s.includes(b)||s.push(b)}),s.forEach(w=>{i.push({pubkey:new ue(w),isSigner:!1,isWritable:!1})});const o=[];i.forEach(w=>{const b=w.pubkey.toString(),g=o.findIndex(S=>S.pubkey.toString()===b);g>-1?(o[g].isWritable=o[g].isWritable||w.isWritable,o[g].isSigner=o[g].isSigner||w.isSigner):o.push(w)}),o.sort(function(w,b){if(w.isSigner!==b.isSigner)return w.isSigner?-1:1;if(w.isWritable!==b.isWritable)return w.isWritable?-1:1;const g={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return w.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",g)});const a=o.findIndex(w=>w.pubkey.equals(r));if(a>-1){const[w]=o.splice(a,1);w.isSigner=!0,w.isWritable=!0,o.unshift(w)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const w of this.signatures){const b=o.findIndex(g=>g.pubkey.equals(w.publicKey));if(b>-1)o[b].isSigner||(o[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${w.publicKey.toString()}`)}let l=0,c=0,d=0;const h=[],p=[];o.forEach(({pubkey:w,isSigner:b,isWritable:g})=>{b?(h.push(w.toString()),l+=1,g||(c+=1)):(p.push(w.toString()),g||(d+=1))});const m=h.concat(p),y=n.map(w=>{const{data:b,programId:g}=w;return{programIdIndex:m.indexOf(g.toString()),accounts:w.keys.map(S=>m.indexOf(S.pubkey.toString())),data:An.encode(b)}});return y.forEach(w=>{rt(w.programIdIndex>=0),w.accounts.forEach(b=>rt(b>=0))}),new cs({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:e,instructions:y})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=jw(r,s.secretKey);this._addSignature(s.publicKey,Ue(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){rt(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=je.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):mB(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];yr(r,n.length);const s=r.length+n.length*64+e.length,i=je.Buffer.alloc(s);return rt(n.length<256),je.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(rt(o.length===64,"signature has invalid length"),je.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),rt(i.length<=co,`Transaction too large: ${i.length} > ${co}`),i}get keys(){return rt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return rt(this.instructions.length===1),this.instructions[0].programId}get data(){return rt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=tr(n);let s=[];for(let i=0;i<r;i++){const o=nr(n,0,Vl);s.push(An.encode(je.Buffer.from(o)))}return Ge.populate(cs.from(n),s)}static populate(e,n=[]){const r=new Ge;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==An.encode(EB)?null:An.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ht({keys:i,programId:e.accountKeys[s.programIdIndex],data:An.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Pw{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=o-a;rt(c>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-l;rt(d>=0,"Message header is invalid");const h=e.getAccountKeys(n),p=h.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const y of s){const w=[];for(const g of y.accountKeyIndexes){const S=h.get(g);if(S===void 0)throw new Error(`Failed to find key for account key index ${g}`);const _=g<o;let A;_?A=g<c:g<h.staticAccountKeys.length?A=g-o<d:A=g-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,w.push({pubkey:S,isSigner:g<r.numRequiredSignatures,isWritable:A})}const b=h.get(y.programIdIndex);if(b===void 0)throw new Error(`Failed to find program id for program id index ${y.programIdIndex}`);m.push(new ht({programId:b,data:Ue(y.data),keys:w}))}return new Pw({payerKey:p,instructions:m,recentBlockhash:i})}compileToLegacyMessage(){return cs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return pa.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Kl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)rt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(Vl));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();yr(n,this.signatures.length);const r=be([vt(n.length,"encodedSignaturesLength"),Cn(vB(),this.signatures.length,"signatures"),vt(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=tr(n);for(let o=0;o<s;o++)r.push(new Uint8Array(nr(n,0,Vl)));const i=Pm.deserialize(new Uint8Array(n));return new Kl(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));rt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=jw(n,s.secretKey)}}addSignature(e,n){rt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));rt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const NB=160,AB=64,CB=NB/AB,o4=1e3/CB,ws=new ue("SysvarC1ock11111111111111111111111111111111"),MB=new ue("SysvarEpochSchedu1e111111111111111111111111"),IB=new ue("Sysvar1nstructions1111111111111111111111111"),cf=new ue("SysvarRecentB1ockHashes11111111111111111111"),ql=new ue("SysvarRent111111111111111111111111111111111"),jB=new ue("SysvarRewards111111111111111111111111111111"),TB=new ue("SysvarS1otHashes111111111111111111111111111"),RB=new ue("SysvarS1otHistory11111111111111111111111111"),uf=new ue("SysvarStakeHistory1111111111111111111111111");class ud extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const BB={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ee extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Hy(t,e,n,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await t.sendTransaction(e,n,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new ud({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function Do(t){return new Promise(e=>setTimeout(e,t))}function Xe(t,e){const n=t.layout.span>=0?t.layout.span:s4(t,e),r=je.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}function ot(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const a4=_n("lamportsPerSignature"),l4=be([ve("version"),ve("state"),Ke("authorizedPubkey"),Ke("nonce"),be([a4],"feeCalculator")]),Vy=l4.span;class Lm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=l4.decode(Ue(e),0);return new Lm({authorizedPubkey:new ue(n.authorizedPubkey),nonce:new ue(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Yl(t){const e=vt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=aR();return s.decode=(o,a)=>{const l=n(o,a);return i.decode(l)},s.encode=(o,a,l)=>{const c=i.encode(o);return r(c,a,l)},s}class PB{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(pt))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:s}=ot(pt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new ue(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=ot(pt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:s}=ot(pt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new ue(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=ot(pt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:s,programId:i}=ot(pt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ue(n),seed:r,space:s,programId:new ue(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=ot(pt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ue(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:s}=ot(pt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ue(n),seed:r,programId:new ue(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:s,space:i,programId:o}=ot(pt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ue(n),seed:r,lamports:s,space:i,programId:new ue(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=ot(pt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ue(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ot(pt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=ot(pt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=ot(pt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ue(n)}}static checkProgramId(e){if(!e.equals(cn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pt=Object.freeze({Create:{index:0,layout:be([ve("instruction"),gr("lamports"),gr("space"),Ke("programId")])},Assign:{index:1,layout:be([ve("instruction"),Ke("programId")])},Transfer:{index:2,layout:be([ve("instruction"),Yl("lamports")])},CreateWithSeed:{index:3,layout:be([ve("instruction"),Ke("base"),Ko("seed"),gr("lamports"),gr("space"),Ke("programId")])},AdvanceNonceAccount:{index:4,layout:be([ve("instruction")])},WithdrawNonceAccount:{index:5,layout:be([ve("instruction"),gr("lamports")])},InitializeNonceAccount:{index:6,layout:be([ve("instruction"),Ke("authorized")])},AuthorizeNonceAccount:{index:7,layout:be([ve("instruction"),Ke("authorized")])},Allocate:{index:8,layout:be([ve("instruction"),gr("space")])},AllocateWithSeed:{index:9,layout:be([ve("instruction"),Ke("base"),Ko("seed"),gr("space"),Ke("programId")])},AssignWithSeed:{index:10,layout:be([ve("instruction"),Ke("base"),Ko("seed"),Ke("programId")])},TransferWithSeed:{index:11,layout:be([ve("instruction"),Yl("lamports"),Ko("seed"),Ke("programId")])},UpgradeNonceAccount:{index:12,layout:be([ve("instruction")])}});class cn{constructor(){}static createAccount(e){const n=pt.Create,r=Xe(n,{lamports:e.lamports,space:e.space,programId:Ue(e.programId.toBuffer())});return new ht({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=pt.TransferWithSeed;n=Xe(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ue(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=pt.Transfer;n=Xe(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ht({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=pt.AssignWithSeed;n=Xe(s,{base:Ue(e.basePubkey.toBuffer()),seed:e.seed,programId:Ue(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=pt.Assign;n=Xe(s,{programId:Ue(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ht({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=pt.CreateWithSeed,r=Xe(n,{base:Ue(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ue(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ht({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Ge;"basePubkey"in e&&"seed"in e?n.add(cn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Vy,programId:this.programId})):n.add(cn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Vy,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=pt.InitializeNonceAccount,r=Xe(n,{authorized:Ue(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ht(s)}static nonceAdvance(e){const n=pt.AdvanceNonceAccount,r=Xe(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ht(s)}static nonceWithdraw(e){const n=pt.WithdrawNonceAccount,r=Xe(n,{lamports:e.lamports});return new ht({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=pt.AuthorizeNonceAccount,r=Xe(n,{authorized:Ue(e.newAuthorizedPubkey.toBuffer())});return new ht({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=pt.AllocateWithSeed;n=Xe(s,{base:Ue(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ue(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=pt.Allocate;n=Xe(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ht({keys:r,programId:this.programId,data:n})}}cn.programId=new ue("11111111111111111111111111111111");const LB=co-300;class ma{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ma.chunkSize)+1+1)}static async load(e,n,r,s,i){{const h=await e.getMinimumBalanceForRentExemption(i.length),p=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==i.length&&(m=m||new Ge,m.add(cn.allocate({accountPubkey:r.publicKey,space:i.length}))),p.owner.equals(s)||(m=m||new Ge,m.add(cn.assign({accountPubkey:r.publicKey,programId:s}))),p.lamports<h&&(m=m||new Ge,m.add(cn.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:h-p.lamports})))}else m=new Ge().add(cn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:h>0?h:1,space:i.length,programId:s}));m!==null&&await Hy(e,m,[n,r],{commitment:"confirmed"})}const o=be([ve("instruction"),ve("offset"),ve("bytesLength"),ve("bytesLengthPadding"),Cn(et("byte"),lo(ve(),-8),"bytes")]),a=ma.chunkSize;let l=0,c=i,d=[];for(;c.length>0;){const h=c.slice(0,a),p=je.Buffer.alloc(a+16);o.encode({instruction:0,offset:l,bytes:h,bytesLength:0,bytesLengthPadding:0},p);const m=new Ge().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:p});d.push(Hy(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Do(1e3/4),l+=a,c=c.slice(a)}await Promise.all(d);{const h=be([ve("instruction")]),p=je.Buffer.alloc(h.span);h.encode({instruction:1},p);const m=new Ge().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ql,isSigner:!1,isWritable:!1}],programId:s,data:p}),y="processed",w=await e.sendTransaction(m,[n,r],{preflightCommitment:y}),{context:b,value:g}=await e.confirmTransaction({signature:w,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},y);if(g.err)throw new Error(`Transaction ${w} failed (${JSON.stringify(g)})`);for(;;){try{if(await e.getSlot({commitment:y})>b.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(o4/2)))}}return!0}}ma.chunkSize=LB;const OB=new ue("BPFLoader2111111111111111111111111111111111");class DB{static getMinNumSignatures(e){return ma.getMinNumSignatures(e)}static load(e,n,r,s,i){return ma.load(e,n,r,i,s)}}function zB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng,E2;function WB(){if(E2)return ng;E2=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,l,c,d,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(h=t.call(r),h==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(h==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",i=0;i<o;)c=l[i],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return ng=function(r){var s=n(r,!1);if(s!==void 0)return""+s},ng}var FB=WB(),N2=zB(FB);const Fc=32;function rg(t){let e=0;for(;t>1;)t/=2,e++;return e}function $B(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class c4{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=rg($B(e+Fc+1))-rg(Fc)-1,r=this.getSlotsInEpoch(n),s=e-(r-Fc);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Fc:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+rg(Fc)):this.slotsPerEpoch}}var UB=globalThis.fetch;class HB extends VR{constructor(e,n,r){const s=i=>{const o=UR(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function VB(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const A2=56;class Ky{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=VB(KB,e),r=e.length-A2;rt(r>=0,"lookup table is invalid"),rt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=be([Cn(Ke(),s,"addresses")]).decode(e.slice(A2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ue(n.authority[0]):void 0,addresses:i.map(o=>new ue(o))}}}const KB={index:1,layout:be([ve("typeIndex"),Yl("deactivationSlot"),_n("lastExtendedSlot"),et("lastExtendedStartIndex"),et(),Cn(Ke(),lo(et(),-1),"authority")])},qB=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function YB(t){const e=t.match(qB);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${i}`}const Rt=zd(Nw(ue),de(),t=>new ue(t)),u4=Aw([de(),It("base64")]),Lw=zd(Nw(je.Buffer),u4,t=>je.Buffer.from(t[0],"base64")),d4=30*1e3;function GB(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ft(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function C2(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function h4(t){return Zn([se({jsonrpc:It("2.0"),id:de(),result:t}),se({jsonrpc:It("2.0"),id:de(),error:se({code:pc(),message:de(),data:Ie(fR())})})])}const ZB=h4(pc());function $e(t){return zd(h4(t),ZB,e=>"error"in e?e:{...e,result:he(e.result,t)})}function Qt(t){return $e(se({context:se({slot:Q()}),value:t}))}function Om(t){return se({context:se({slot:Q()}),value:t})}function sg(t,e){return t===0?new pa({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new ue(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:An.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new cs(e)}const XB=se({foundation:Q(),foundationTerm:Q(),initial:Q(),taper:Q(),terminal:Q()}),QB=$e(fe(me(se({epoch:Q(),effectiveSlot:Q(),amount:Q(),postBalance:Q(),commission:Ie(me(Q()))})))),JB=fe(se({slot:Q(),prioritizationFee:Q()})),eP=se({total:Q(),validator:Q(),foundation:Q(),epoch:Q()}),tP=se({epoch:Q(),slotIndex:Q(),slotsInEpoch:Q(),absoluteSlot:Q(),blockHeight:Ie(Q()),transactionCount:Ie(Q())}),nP=se({slotsPerEpoch:Q(),leaderScheduleSlotOffset:Q(),warmup:Is(),firstNormalEpoch:Q(),firstNormalSlot:Q()}),rP=W3(de(),fe(Q())),Aa=me(Zn([se({}),de()])),sP=se({err:Aa}),iP=It("receivedSignature"),oP=se({"solana-core":de(),"feature-set":Ie(Q())}),aP=se({program:de(),programId:Rt,parsed:pc()}),lP=se({programId:Rt,accounts:fe(Rt),data:de()}),M2=Qt(se({err:me(Zn([se({}),de()])),logs:me(fe(de())),accounts:Ie(me(fe(me(se({executable:Is(),owner:de(),lamports:Q(),data:fe(de()),rentEpoch:Ie(Q())}))))),unitsConsumed:Ie(Q()),returnData:Ie(me(se({programId:de(),data:Aw([de(),It("base64")])}))),innerInstructions:Ie(me(fe(se({index:Q(),instructions:fe(Zn([aP,lP]))}))))})),cP=Qt(se({byIdentity:W3(de(),fe(Q())),range:se({firstSlot:Q(),lastSlot:Q()})}));function uP(t,e,n,r,s,i){const o=n||UB;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,h)=>{const p=await new Promise((m,y)=>{try{r(d,h,(w,b)=>m([w,b]))}catch(w){y(w)}});return await o(...p)}),new WR(async(d,h)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},uL)};try{let m=5,y,w=500;for(;l?y=await l(t,p):y=await o(t,p),!(y.status!==429||s===!0||(m-=1,m===0));)console.error(`Server responded with ${y.status} ${y.statusText}.  Retrying after ${w}ms delay...`),await Do(w),w*=2;const b=await y.text();y.ok?h(null,b):h(new Error(`${y.status} ${y.statusText}: ${b}`))}catch(m){m instanceof Error&&h(m)}},{})}function dP(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function hP(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const fP=$e(XB),pP=$e(eP),mP=$e(JB),gP=$e(tP),yP=$e(nP),xP=$e(rP),wP=$e(Q()),vP=Qt(se({total:Q(),circulating:Q(),nonCirculating:Q(),nonCirculatingAccounts:fe(Rt)})),qy=se({amount:de(),uiAmount:me(Q()),decimals:Q(),uiAmountString:Ie(de())}),bP=Qt(fe(se({address:Rt,amount:de(),uiAmount:me(Q()),decimals:Q(),uiAmountString:Ie(de())}))),SP=Qt(fe(se({pubkey:Rt,account:se({executable:Is(),owner:Rt,lamports:Q(),data:Lw,rentEpoch:Q()})}))),Yy=se({program:de(),parsed:pc(),space:Q()}),_P=Qt(fe(se({pubkey:Rt,account:se({executable:Is(),owner:Rt,lamports:Q(),data:Yy,rentEpoch:Q()})}))),kP=Qt(fe(se({lamports:Q(),address:Rt}))),dd=se({executable:Is(),owner:Rt,lamports:Q(),data:Lw,rentEpoch:Q()}),EP=se({pubkey:Rt,account:dd}),NP=zd(Zn([Nw(je.Buffer),Yy]),Zn([u4,Yy]),t=>Array.isArray(t)?he(t,Lw):t),Gy=se({executable:Is(),owner:Rt,lamports:Q(),data:NP,rentEpoch:Q()}),AP=se({pubkey:Rt,account:Gy}),CP=se({state:Zn([It("active"),It("inactive"),It("activating"),It("deactivating")]),active:Q(),inactive:Q()}),MP=$e(fe(se({signature:de(),slot:Q(),err:Aa,memo:me(de()),blockTime:Ie(me(Q()))}))),IP=$e(fe(se({signature:de(),slot:Q(),err:Aa,memo:me(de()),blockTime:Ie(me(Q()))}))),jP=se({subscription:Q(),result:Om(dd)}),TP=se({pubkey:Rt,account:dd}),RP=se({subscription:Q(),result:Om(TP)}),BP=se({parent:Q(),slot:Q(),root:Q()}),PP=se({subscription:Q(),result:BP}),LP=Zn([se({type:Zn([It("firstShredReceived"),It("completed"),It("optimisticConfirmation"),It("root")]),slot:Q(),timestamp:Q()}),se({type:It("createdBank"),parent:Q(),slot:Q(),timestamp:Q()}),se({type:It("frozen"),slot:Q(),timestamp:Q(),stats:se({numTransactionEntries:Q(),numSuccessfulTransactions:Q(),numFailedTransactions:Q(),maxTransactionsPerEntry:Q()})}),se({type:It("dead"),slot:Q(),timestamp:Q(),err:de()})]),OP=se({subscription:Q(),result:LP}),DP=se({subscription:Q(),result:Om(Zn([sP,iP]))}),zP=se({subscription:Q(),result:Q()}),WP=se({pubkey:de(),gossip:me(de()),tpu:me(de()),rpc:me(de()),version:me(de())}),I2=se({votePubkey:de(),nodePubkey:de(),activatedStake:Q(),epochVoteAccount:Is(),epochCredits:fe(Aw([Q(),Q(),Q()])),commission:Q(),lastVote:Q(),rootSlot:me(Q())}),FP=$e(se({current:fe(I2),delinquent:fe(I2)})),$P=Zn([It("processed"),It("confirmed"),It("finalized")]),UP=se({slot:Q(),confirmations:me(Q()),err:Aa,confirmationStatus:Ie($P)}),HP=Qt(fe(me(UP))),VP=$e(Q()),f4=se({accountKey:Rt,writableIndexes:fe(Q()),readonlyIndexes:fe(Q())}),Ow=se({signatures:fe(de()),message:se({accountKeys:fe(de()),header:se({numRequiredSignatures:Q(),numReadonlySignedAccounts:Q(),numReadonlyUnsignedAccounts:Q()}),instructions:fe(se({accounts:fe(Q()),data:de(),programIdIndex:Q()})),recentBlockhash:de(),addressTableLookups:Ie(fe(f4))})}),p4=se({pubkey:Rt,signer:Is(),writable:Is(),source:Ie(Zn([It("transaction"),It("lookupTable")]))}),m4=se({accountKeys:fe(p4),signatures:fe(de())}),g4=se({parsed:pc(),program:de(),programId:Rt}),y4=se({accounts:fe(Rt),data:de(),programId:Rt}),KP=Zn([y4,g4]),qP=Zn([se({parsed:pc(),program:de(),programId:de()}),se({accounts:fe(de()),data:de(),programId:de()})]),x4=zd(KP,qP,t=>"accounts"in t?he(t,y4):he(t,g4)),w4=se({signatures:fe(de()),message:se({accountKeys:fe(p4),instructions:fe(x4),recentBlockhash:de(),addressTableLookups:Ie(me(fe(f4)))})}),Mp=se({accountIndex:Q(),mint:de(),owner:Ie(de()),programId:Ie(de()),uiTokenAmount:qy}),v4=se({writable:fe(Rt),readonly:fe(Rt)}),Dm=se({err:Aa,fee:Q(),innerInstructions:Ie(me(fe(se({index:Q(),instructions:fe(se({accounts:fe(Q()),data:de(),programIdIndex:Q()}))})))),preBalances:fe(Q()),postBalances:fe(Q()),logMessages:Ie(me(fe(de()))),preTokenBalances:Ie(me(fe(Mp))),postTokenBalances:Ie(me(fe(Mp))),loadedAddresses:Ie(v4),computeUnitsConsumed:Ie(Q()),costUnits:Ie(Q())}),Dw=se({err:Aa,fee:Q(),innerInstructions:Ie(me(fe(se({index:Q(),instructions:fe(x4)})))),preBalances:fe(Q()),postBalances:fe(Q()),logMessages:Ie(me(fe(de()))),preTokenBalances:Ie(me(fe(Mp))),postTokenBalances:Ie(me(fe(Mp))),loadedAddresses:Ie(v4),computeUnitsConsumed:Ie(Q()),costUnits:Ie(Q())}),mc=Zn([It(0),It("legacy")]),Ca=se({pubkey:de(),lamports:Q(),postBalance:me(Q()),rewardType:me(de()),commission:Ie(me(Q()))}),YP=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),transactions:fe(se({transaction:Ow,meta:me(Dm),version:Ie(mc)})),rewards:Ie(fe(Ca)),blockTime:me(Q()),blockHeight:me(Q())}))),GP=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),rewards:Ie(fe(Ca)),blockTime:me(Q()),blockHeight:me(Q())}))),ZP=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),transactions:fe(se({transaction:m4,meta:me(Dm),version:Ie(mc)})),rewards:Ie(fe(Ca)),blockTime:me(Q()),blockHeight:me(Q())}))),XP=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),transactions:fe(se({transaction:w4,meta:me(Dw),version:Ie(mc)})),rewards:Ie(fe(Ca)),blockTime:me(Q()),blockHeight:me(Q())}))),QP=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),transactions:fe(se({transaction:m4,meta:me(Dw),version:Ie(mc)})),rewards:Ie(fe(Ca)),blockTime:me(Q()),blockHeight:me(Q())}))),JP=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),rewards:Ie(fe(Ca)),blockTime:me(Q()),blockHeight:me(Q())}))),eL=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),transactions:fe(se({transaction:Ow,meta:me(Dm)})),rewards:Ie(fe(Ca)),blockTime:me(Q())}))),j2=$e(me(se({blockhash:de(),previousBlockhash:de(),parentSlot:Q(),signatures:fe(de()),blockTime:me(Q())}))),ig=$e(me(se({slot:Q(),meta:me(Dm),blockTime:Ie(me(Q())),transaction:Ow,version:Ie(mc)}))),kh=$e(me(se({slot:Q(),transaction:w4,meta:me(Dw),blockTime:Ie(me(Q())),version:Ie(mc)}))),tL=Qt(se({blockhash:de(),lastValidBlockHeight:Q()})),nL=Qt(Is()),rL=se({slot:Q(),numTransactions:Q(),numSlots:Q(),samplePeriodSecs:Q()}),sL=$e(fe(rL)),iL=Qt(me(se({feeCalculator:se({lamportsPerSignature:Q()})}))),oL=$e(de()),aL=$e(de()),lL=se({err:Aa,logs:fe(de()),signature:de()}),cL=se({result:Om(lL),subscription:Q()}),uL={"solana-client":"js/1.0.0-maintenance"};class b4{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:h,config:p}=ft(d),m=this._buildArgs([],h,void 0,p),y=N2(m);return c[y]=c[y]??(async()=>{try{const w=await this._rpcRequest("getBlockHeight",m),b=he(w,$e(Q()));if("error"in b)throw new Ee(b.error,"failed to get block height information");return b.result}finally{delete c[y]}})(),await c[y]}})();let r,s,i,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=GB(e),this._rpcWsEndpoint=r||YB(e),this._rpcClient=uP(e,s,i,o,a,l),this._rpcRequest=dP(this._rpcClient),this._rpcBatchRequest=hP(this._rpcClient),this._rpcWebSocket=new HB(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=he(o,Qt(Q()));if("error"in a)throw new Ee(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=he(n,$e(me(Q())));if("error"in r)throw new Ee(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=he(e,$e(Q()));if("error"in n)throw new Ee(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=he(e,wP);if("error"in n)throw new Ee(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=he(r,vP);if("error"in s)throw new Ee(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=he(s,Qt(qy));if("error"in i)throw new Ee(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=he(s,Qt(qy));if("error"in i)throw new Ee(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=ft(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=he(l,SP);if("error"in c)throw new Ee(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=he(o,_P);if("error"in a)throw new Ee(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=he(s,kP);if("error"in i)throw new Ee(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=he(s,bP);if("error"in i)throw new Ee(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=he(o,Qt(me(dd)));if("error"in a)throw new Ee(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=he(o,Qt(me(Gy)));if("error"in a)throw new Ee(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=ft(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),l=he(a,Qt(fe(me(Gy))));if("error"in l)throw new Ee(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=ft(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),l=he(a,Qt(fe(me(dd))));if("error"in l)throw new Ee(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=ft(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=he(a,$e(CP));if("error"in l)throw new Ee(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=ft(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:C2(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=fe(EP),d=o.withContext===!0?he(l,Qt(c)):he(l,$e(c));if("error"in d)throw new Ee(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=he(o,$e(fe(AP)));if("error"in a)throw new Ee(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=An.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return rt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(h,p)=>{r=void 0;const m={context:p,value:h};l({__type:$s.PROCESSED,response:m})},e);const d=new Promise(h=>{r==null?h():s=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&h()})});(async()=>{if(await d,i)return;const h=await this.getSignatureStatus(n);if(i||h==null)return;const{context:p,value:m}=h;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:$s.PROCESSED,response:{context:p,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(h=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=r;)if(await Do(1e3),i||(m=await p(),i))return;h({__type:$s.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),c=this.getCancellationPromise(n);let d;try{const h=await Promise.race([c,l,o]);if(h.__type===$s.PROCESSED)d=h.response;else throw new Rw(s)}finally{i=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const l=new Promise(m=>{let y=i,w=null;const b=async()=>{try{const{context:g,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return w=g.slot,S==null?void 0:S.nonce}catch{return y}};(async()=>{if(y=await b(),!a)for(;;){if(i!==y){m({__type:$s.NONCE_INVALID,slotInWhichNonceDidAdvance:w});return}if(await Do(2e3),a||(y=await b(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(n);let p;try{const m=await Promise.race([h,d,l]);if(m.__type===$s.PROCESSED)p=m.response;else{let y;for(;;){const w=await this.getSignatureStatus(o);if(w==null)break;if(w.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Do(400);continue}y=w;break}if(y!=null&&y.value){const w=e||"finalized",{confirmationStatus:b}=y.value;switch(w){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new pl(o);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new pl(o);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new pl(o);break;default:}p={context:y.context,value:{err:y.value.err}}}else throw new pl(o)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:$s.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,s]);if(l.__type===$s.PROCESSED)a=l.response;else throw new Bw(n,l.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=he(e,$e(fe(WP)));if("error"in n)throw new Ee(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=he(r,FP);if("error"in s)throw new Ee(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=ft(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=he(i,$e(Q()));if("error"in o)throw new Ee(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=ft(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=he(i,$e(de()));if("error"in o)throw new Ee(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=he(s,$e(fe(Rt)));if("error"in i)throw new Ee(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);rt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=he(s,HP);if("error"in i)throw new Ee(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=ft(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=he(i,$e(Q()));if("error"in o)throw new Ee(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=he(r,fP);if("error"in s)throw new Ee(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=ft(r),o=this._buildArgs([e.map(c=>c.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=he(a,QB);if("error"in l)throw new Ee(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=he(e,pP);if("error"in n)throw new Ee(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ft(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=he(i,gP);if("error"in o)throw new Ee(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=he(e,yP);if("error"in n)throw new Ee(n.error,"failed to get epoch schedule");const r=n.result;return new c4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=he(e,xP);if("error"in n)throw new Ee(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=he(s,VP);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=he(n,sL);if("error"in r)throw new Ee(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=he(s,iL);if("error"in i)throw new Ee(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Ue(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=he(i,Qt(me(Q())));if("error"in o)throw new Ee(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=he(s,mP);if("error"in i)throw new Ee(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ft(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=he(i,tL);if("error"in o)throw new Ee(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=he(o,nL);if("error"in a)throw new Ee(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=he(e,$e(oP));if("error"in n)throw new Ee(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=he(e,$e(de()));if("error"in n)throw new Ee(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=he(o,ZP);if("error"in a)throw a.error;return a.result}case"none":{const a=he(o,GP);if("error"in a)throw a.error;return a.result}default:{const a=he(o,YP);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:h})=>({meta:d,transaction:{...c,message:sg(h,c.message)},version:h}))}:null}}}catch(a){throw new Ee(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=he(o,QP);if("error"in a)throw a.error;return a.result}case"none":{const a=he(o,JP);if("error"in a)throw a.error;return a.result}default:{const a=he(o,XP);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ee(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=he(i,cP);if("error"in o)throw new Ee(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=he(o,ig);if("error"in a)throw new Ee(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:sg(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=ft(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=he(o,kh);if("error"in a)throw new Ee(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=ft(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=he(l,kh);if("error"in c)throw new Ee(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:s}=ft(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=he(l,ig);if("error"in c)throw new Ee(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:sg(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=he(s,eL);if("error"in i)throw new Ee(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const d=new cs(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Ge.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=he(i,$e(fe(Q())));if("error"in o)throw new Ee(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=he(s,j2);if("error"in i)throw new Ee(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=he(s,j2);if("error"in i)throw new Ee(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=he(s,ig);if("error"in i)throw new Ee(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new cs(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:Ge.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=he(s,kh);if("error"in i)throw new Ee(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=he(o,kh);if("error"in a)throw new Ee(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=he(i,MP);if("error"in o)throw new Ee(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=he(i,IP);if("error"in o)throw new Ee(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new Ky({key:e,state:Ky.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=Lm.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=he(r,oL);if("error"in s)throw new Ee(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Do(100);const r=Date.now()-this._blockhashInfo.lastFetch>=d4;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Do(o4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ft(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=he(i,Qt(Q()));if("error"in o)throw new Ee(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const w=e.serialize(),b=je.Buffer.from(w).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const g=n||{};g.encoding="base64","commitment"in g||(g.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(g.innerInstructions=n.innerInstructions);const S=[b,g],_=await this._rpcRequest("simulateTransaction",S),A=he(_,M2);if("error"in A)throw new Error("failed to simulate transaction: "+A.error.message);return A.result}let s;if(e instanceof Ge){let y=e;s=new Ge,s.feePayer=y.feePayer,s.instructions=e.instructions,s.nonceInfo=y.nonceInfo,s.signatures=y.signatures}else s=Ge.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let y=this._disableBlockhashCaching;for(;;){const w=await this._blockhashWithExpiryBlockHeight(y);if(s.lastValidBlockHeight=w.lastValidBlockHeight,s.recentBlockhash=w.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const b=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else y=!0}}const o=s._compile(),a=o.serialize(),c=s._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const y=(Array.isArray(r)?r:o.nonProgramIds()).map(w=>w.toBase58());d.accounts={encoding:"base64",addresses:y}}i&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const h=[c,d],p=await this._rpcRequest("simulateTransaction",h),m=he(p,M2);if("error"in m){let y;if("data"in m.error&&(y=m.error.data.logs,y&&Array.isArray(y))){const w=`
    `,b=w+y.join(w);console.error(m.error.message,b)}throw new ud({action:"simulate",signature:"",transactionMessage:m.error.message,logs:y})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=Ue(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=he(a,aL);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new ud({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=he(e,jP);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=N2([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];rt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=ft(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=he(e,RP);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=ft(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:C2(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=he(e,cL);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=he(e,PP);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=he(e,OP);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=he(e,DP);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=he(e,zP);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Al{constructor(e){this._keypair=void 0,this._keypair=e??S2()}static generate(){return new Al(S2())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const s=e.slice(0,32),i=Cp(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Al({publicKey:r,secretKey:e})}static fromSeed(e){const n=Cp(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Al({publicKey:n,secretKey:r})}get publicKey(){return new ue(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Qs=Object.freeze({CreateLookupTable:{index:0,layout:be([ve("instruction"),Yl("recentSlot"),et("bumpSeed")])},FreezeLookupTable:{index:1,layout:be([ve("instruction")])},ExtendLookupTable:{index:2,layout:be([ve("instruction"),Yl(),Cn(Ke(),lo(ve(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:be([ve("instruction")])},CloseLookupTable:{index:4,layout:be([ve("instruction")])}});class dL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Qs))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=ot(Qs.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=ot(Qs.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new ue(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(zw.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class zw{constructor(){}static createLookupTable(e){const[n,r]=ue.findProgramAddressSync([e.authority.toBuffer(),O3().encode(e.recentSlot)],this.programId),s=Qs.CreateLookupTable,i=Xe(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:cn.programId,isSigner:!1,isWritable:!1}];return[new ht({programId:this.programId,keys:o,data:i}),n]}static freezeLookupTable(e){const n=Qs.FreezeLookupTable,r=Xe(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ht({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const n=Qs.ExtendLookupTable,r=Xe(n,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:cn.programId,isSigner:!1,isWritable:!1}),new ht({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const n=Qs.DeactivateLookupTable,r=Xe(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ht({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const n=Qs.CloseLookupTable,r=Xe(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ht({programId:this.programId,keys:s,data:r})}}zw.programId=new ue("AddressLookupTab1e1111111111111111111111111");class hL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=et("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ks))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=ot(ks.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=ot(ks.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=ot(ks.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=ot(ks.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(Ww.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ks=Object.freeze({RequestUnits:{index:0,layout:be([et("instruction"),ve("units"),ve("additionalFee")])},RequestHeapFrame:{index:1,layout:be([et("instruction"),ve("bytes")])},SetComputeUnitLimit:{index:2,layout:be([et("instruction"),ve("units")])},SetComputeUnitPrice:{index:3,layout:be([et("instruction"),Yl("microLamports")])}});class Ww{constructor(){}static requestUnits(e){const n=ks.RequestUnits,r=Xe(n,e);return new ht({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=ks.RequestHeapFrame,r=Xe(n,e);return new ht({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=ks.SetComputeUnitLimit,r=Xe(n,e);return new ht({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=ks.SetComputeUnitPrice,r=Xe(n,{microLamports:BigInt(e.microLamports)});return new ht({keys:[],programId:this.programId,data:r})}}Ww.programId=new ue("ComputeBudget111111111111111111111111111111");const T2=64,R2=32,B2=64,P2=be([et("numSignatures"),et("padding"),jr("signatureOffset"),jr("signatureInstructionIndex"),jr("publicKeyOffset"),jr("publicKeyInstructionIndex"),jr("messageDataOffset"),jr("messageDataSize"),jr("messageInstructionIndex")]);class zm{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:s,instructionIndex:i}=e;rt(n.length===R2,`Public Key must be ${R2} bytes but received ${n.length} bytes`),rt(s.length===B2,`Signature must be ${B2} bytes but received ${s.length} bytes`);const o=P2.span,a=o+n.length,l=a+s.length,c=1,d=je.Buffer.alloc(l+r.length),h=i??65535;return P2.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:h,publicKeyOffset:o,publicKeyInstructionIndex:h,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:h},d),d.fill(n,o),d.fill(s,a),d.fill(r,l),new ht({keys:[],programId:zm.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:s}=e;rt(n.length===T2,`Private key must be ${T2} bytes but received ${n.length} bytes`);try{const i=Al.fromSecretKey(n),o=i.publicKey.toBytes(),a=jw(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}zm.programId=new ue("Ed25519SigVerify111111111111111111111111111");const fL=(t,e)=>{const n=Iw.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};Iw.utils.isValidPrivateKey;const pL=Iw.getPublicKey,L2=32,og=20,O2=64,mL=11,ag=be([et("numSignatures"),jr("signatureOffset"),et("signatureInstructionIndex"),jr("ethAddressOffset"),et("ethAddressInstructionIndex"),jr("messageDataOffset"),jr("messageDataSize"),et("messageInstructionIndex"),vt(20,"ethAddress"),vt(64,"signature"),et("recoveryId")]);class Cl{constructor(){}static publicKeyToEthAddress(e){rt(e.length===O2,`Public key must be ${O2} bytes but received ${e.length} bytes`);try{return je.Buffer.from(w2(Ue(e))).slice(-og)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Cl.createInstructionWithEthAddress({ethAddress:Cl.publicKeyToEthAddress(n),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=je.Buffer.from(n.substr(2),"hex"):a=je.Buffer.from(n,"hex"):a=n,rt(a.length===og,`Address must be ${og} bytes but received ${a.length} bytes`);const l=1+mL,c=l,d=l+a.length,h=d+s.length+1,p=1,m=je.Buffer.alloc(ag.span+r.length);return ag.encode({numSignatures:p,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:c,ethAddressInstructionIndex:o,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:o,signature:Ue(s),ethAddress:Ue(a),recoveryId:i},m),m.fill(Ue(r),ag.span),new ht({keys:[],programId:Cl.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:s}=e;rt(n.length===L2,`Private key must be ${L2} bytes but received ${n.length} bytes`);try{const i=Ue(n),o=pL(i,!1).slice(1),a=je.Buffer.from(w2(Ue(r))),[l,c]=fL(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:l,recoveryId:c,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Cl.programId=new ue("KeccakSecp256k11111111111111111111111111111");var S4;const _4=new ue("StakeConfig11111111111111111111111111111111");class k4{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Wd{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}S4=Wd;Wd.default=new S4(0,0,ue.default);class gL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(mn))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=ot(mn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new k4(new ue(n.staker),new ue(n.withdrawer)),lockup:new Wd(r.unixTimestamp,r.epoch,new ue(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ot(mn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=ot(mn.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ue(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ot(mn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ue(i),newAuthorizedPubkey:new ue(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=ot(mn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ot(mn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=ot(mn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ot(mn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Wm.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const mn=Object.freeze({Initialize:{index:0,layout:be([ve("instruction"),bB(),SB()])},Authorize:{index:1,layout:be([ve("instruction"),Ke("newAuthorized"),ve("stakeAuthorizationType")])},Delegate:{index:2,layout:be([ve("instruction")])},Split:{index:3,layout:be([ve("instruction"),gr("lamports")])},Withdraw:{index:4,layout:be([ve("instruction"),gr("lamports")])},Deactivate:{index:5,layout:be([ve("instruction")])},Merge:{index:7,layout:be([ve("instruction")])},AuthorizeWithSeed:{index:8,layout:be([ve("instruction"),Ke("newAuthorized"),ve("stakeAuthorizationType"),Ko("authoritySeed"),Ke("authorityOwner")])}}),yL=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Wm{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:s}=e,i=s||Wd.default,o=mn.Initialize,a=Xe(o,{authorized:{staker:Ue(r.staker.toBuffer()),withdrawer:Ue(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Ue(i.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ql,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ht(l)}static createAccountWithSeed(e){const n=new Ge;n.add(cn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const n=new Ge;n.add(cn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:s}=e,i=mn.Delegate,o=Xe(i);return new Ge().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:_4,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=mn.Authorize,l=Xe(a,{newAuthorized:Ue(s.toBuffer()),stakeAuthorizationType:i.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ws,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Ge().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:l}=e,c=mn.AuthorizeWithSeed,d=Xe(c,{newAuthorized:Ue(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Ue(i.toBuffer())}),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ws,isSigner:!1,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!0,isWritable:!1}),new Ge().add({keys:h,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=mn.Split,a=Xe(o,{lamports:i});return new ht({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Ge;return r.add(cn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:l}=e,c=new Ge;return c.add(cn.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(cn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:s}=e,i=mn.Merge,o=Xe(i);return new Ge().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=mn.Withdraw,l=Xe(a,{lamports:i}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Ge().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,s=mn.Deactivate,i=Xe(s);return new Ge().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}Wm.programId=new ue("Stake11111111111111111111111111111111111111");Wm.space=200;class E4{constructor(e,n,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=s}}class xL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Es))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=ot(Es.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new E4(new ue(n.nodePubkey),new ue(n.authorizedVoter),new ue(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=ot(Es.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ue(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ot(Es.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ue(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ue(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=ot(Es.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Es=Object.freeze({InitializeAccount:{index:0,layout:be([ve("instruction"),_B()])},Authorize:{index:1,layout:be([ve("instruction"),Ke("newAuthorized"),ve("voteAuthorizationType")])},Withdraw:{index:3,layout:be([ve("instruction"),gr("lamports")])},UpdateValidatorIdentity:{index:4,layout:be([ve("instruction")])},AuthorizeWithSeed:{index:10,layout:be([ve("instruction"),kB()])}}),wL=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class gc{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:s}=e,i=Es.InitializeAccount,o=Xe(i,{voteInit:{nodePubkey:Ue(s.nodePubkey.toBuffer()),authorizedVoter:Ue(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Ue(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ht(a)}static createAccount(e){const n=new Ge;return n.add(cn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Es.Authorize,a=Xe(o,{newAuthorized:Ue(s.toBuffer()),voteAuthorizationType:i.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ge().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,l=Es.AuthorizeWithSeed,c=Xe(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ue(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Ue(i.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ws,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ge().add({keys:d,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Es.Withdraw,a=Xe(o,{lamports:s}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ge().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return gc.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Es.UpdateValidatorIdentity,o=Xe(i),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ge().add({keys:a,programId:this.programId,data:o})}}gc.programId=new ue("Vote111111111111111111111111111111111111111");gc.space=3762;const N4=new ue("Va1idator1nfo111111111111111111111111111111"),vL=se({name:de(),website:Ie(de()),details:Ie(de()),iconUrl:Ie(de()),keybaseUsername:Ie(de())});class Fw{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(tr(n)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ue(nr(n,0,Cs)),a=_s(n)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(N4)&&s[1].isSigner){const i=Ko().decode(je.Buffer.from(n)),o=JSON.parse(i);return D3(o,vL),new Fw(s[1].publicKey,o)}return null}}const bL=new ue("Vote111111111111111111111111111111111111111"),SL=be([Ke("nodePubkey"),Ke("authorizedWithdrawer"),et("commission"),_n(),Cn(be([_n("slot"),ve("confirmationCount")]),lo(ve(),-8),"votes"),et("rootSlotValid"),_n("rootSlot"),_n(),Cn(be([_n("epoch"),Ke("authorizedVoter")]),lo(ve(),-8),"authorizedVoters"),be([Cn(be([Ke("authorizedPubkey"),_n("epochOfLastAuthorizedSwitch"),_n("targetEpoch")]),32,"buf"),_n("idx"),et("isEmpty")],"priorVoters"),_n(),Cn(be([_n("epoch"),_n("credits"),_n("prevCredits")]),lo(ve(),-8),"epochCredits"),be([_n("slot"),_n("timestamp")],"lastTimestamp")]);class $w{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=SL.decode(Ue(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new $w({nodePubkey:new ue(r.nodePubkey),authorizedWithdrawer:new ue(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(_L),priorVoters:kL(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function _L({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ue(t)}}function D2({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new ue(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function kL({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(D2),...t.slice(0,e).map(D2)]}const z2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function A4(t,e){const n=e===!1?"http":"https";if(!t)return z2[n].devnet;const r=z2[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function EL(t,e,n,r){let s,i;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,i=r):i=n;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await t.sendRawTransaction(e,o),l=i&&i.commitment,d=(await(s?t.confirmTransaction(s,l):t.confirmTransaction(a,l))).value;if(d.err)throw a!=null?new ud({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const Uw=1e9,NL=Object.freeze(Object.defineProperty({__proto__:null,Account:xB,AddressLookupTableAccount:Ky,AddressLookupTableInstruction:dL,AddressLookupTableProgram:zw,Authorized:k4,BLOCKHASH_CACHE_TIMEOUT_MS:d4,BPF_LOADER_DEPRECATED_PROGRAM_ID:wB,BPF_LOADER_PROGRAM_ID:OB,BpfLoader:DB,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ks,ComputeBudgetInstruction:hL,ComputeBudgetProgram:Ww,Connection:b4,Ed25519Program:zm,Enum:gB,EpochSchedule:c4,FeeCalculatorLayout:a4,Keypair:Al,LAMPORTS_PER_SOL:Uw,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Qs,Loader:ma,Lockup:Wd,MAX_SEED_LENGTH:r4,Message:cs,MessageAccountKeys:cd,MessageV0:pa,NONCE_ACCOUNT_LENGTH:Vy,NonceAccount:Lm,PACKET_DATA_SIZE:co,PUBLIC_KEY_LENGTH:Cs,PublicKey:ue,SIGNATURE_LENGTH_IN_BYTES:Vl,SOLANA_SCHEMA:Iu,STAKE_CONFIG_ID:_4,STAKE_INSTRUCTION_LAYOUTS:mn,SYSTEM_INSTRUCTION_LAYOUTS:pt,SYSVAR_CLOCK_PUBKEY:ws,SYSVAR_EPOCH_SCHEDULE_PUBKEY:MB,SYSVAR_INSTRUCTIONS_PUBKEY:IB,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:cf,SYSVAR_RENT_PUBKEY:ql,SYSVAR_REWARDS_PUBKEY:jB,SYSVAR_SLOT_HASHES_PUBKEY:TB,SYSVAR_SLOT_HISTORY_PUBKEY:RB,SYSVAR_STAKE_HISTORY_PUBKEY:uf,Secp256k1Program:Cl,SendTransactionError:ud,SolanaJSONRPCError:Ee,SolanaJSONRPCErrorCode:BB,StakeAuthorizationLayout:yL,StakeInstruction:gL,StakeProgram:Wm,Struct:Tw,SystemInstruction:PB,SystemProgram:cn,Transaction:Ge,TransactionExpiredBlockheightExceededError:Rw,TransactionExpiredNonceInvalidError:pl,TransactionExpiredTimeoutError:Bw,TransactionInstruction:ht,TransactionMessage:Pw,TransactionStatus:$s,VALIDATOR_INFO_KEY:N4,VERSION_PREFIX_MASK:Rm,VOTE_PROGRAM_ID:bL,ValidatorInfo:Fw,VersionedMessage:Pm,VersionedTransaction:Kl,VoteAccount:$w,VoteAuthorizationLayout:wL,VoteInit:E4,VoteInstruction:xL,VoteProgram:gc,clusterApiUrl:A4,sendAndConfirmRawTransaction:EL,sendAndConfirmTransaction:Hy},Symbol.toStringTag,{value:"Module"})),C4=D.createContext({});function Hw(){return D.useContext(C4)}const AL=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=D.useMemo(()=>new b4(e,n),[e,n]);return K.createElement(C4.Provider,{value:{connection:r}},t)};class Xt extends Error{constructor(e,n){super(e),this.error=n}}class hd extends Xt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class CL extends Xt{constructor(){super(...arguments),this.name="WalletLoadError"}}class ml extends Xt{constructor(){super(...arguments),this.name="WalletConfigError"}}class Vw extends Xt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Kw extends Xt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class qw extends Xt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class qi extends Xt{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ip extends Xt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class ML extends Xt{constructor(){super(...arguments),this.name="WalletKeypairError"}}class lr extends Xt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Yi extends Xt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class si extends Xt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Yw extends Xt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Zy extends Xt{constructor(){super(...arguments),this.name="WalletSignInError"}}class IL extends Xt{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class jL extends Xt{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class TL extends Xt{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var kt;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(kt||(kt={}));class Gw extends Tm{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new lr;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function M4(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function I4(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function ii(t){return"version"in t}class j4 extends Gw{async sendTransaction(e,n,r={}){let s=!0;try{if(ii(e)){if(!this.supportedTransactionVersions)throw new Yi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Yi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof si?(s=!1,i):new Yi(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof si?(s=!1,i):new Yi(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(ii(r)){if(!this.supportedTransactionVersions)throw new si("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new si(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Zw extends j4{}class RL extends Zw{}const Js="solana:signAndSendTransaction",df="solana:signIn",Ha="solana:signMessage",gn="solana:signTransaction",BL="solana:signAndSendAllTransactions",PL=Object.freeze(Object.defineProperty({__proto__:null,SignAndSendAllTransactions:BL,SolanaSignAndSendTransaction:Js,SolanaSignIn:df,SolanaSignMessage:Ha,SolanaSignTransaction:gn},Symbol.toStringTag,{value:"Module"})),Fm="standard:connect",LL=Fm,jp="standard:disconnect",OL=jp,$m="standard:events",DL=$m,zL=Object.freeze(Object.defineProperty({__proto__:null,Connect:LL,Disconnect:OL,Events:DL,StandardConnect:Fm,StandardDisconnect:jp,StandardEvents:$m},Symbol.toStringTag,{value:"Module"}));function T4(t){return Fm in t.features&&$m in t.features&&(Js in t.features||gn in t.features)}var Tp;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(Tp||(Tp={}));const WL=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Zw,BaseSignInMessageSignerWalletAdapter:RL,BaseSignerWalletAdapter:j4,BaseWalletAdapter:Gw,EventEmitter:Tm,WalletAccountError:qi,get WalletAdapterNetwork(){return Tp},WalletConfigError:ml,WalletConnectionError:Vw,WalletDisconnectedError:Kw,WalletDisconnectionError:qw,WalletError:Xt,WalletKeypairError:ML,WalletLoadError:CL,WalletNotConnectedError:lr,WalletNotReadyError:hd,WalletPublicKeyError:Ip,get WalletReadyState(){return kt},WalletSendTransactionError:Yi,WalletSignInError:Zy,WalletSignMessageError:Yw,WalletSignTransactionError:si,WalletTimeoutError:IL,WalletWindowBlockedError:jL,WalletWindowClosedError:TL,isIosAndRedirectable:I4,isVersionedTransaction:ii,isWalletAdapterCompatibleStandardWallet:T4,scopePollingDetectionStrategy:M4},Symbol.toStringTag,{value:"Module"}));class W2 extends Xt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const FL=[],Um={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){qr("call","select")},connect(){return Promise.reject(qr("call","connect"))},disconnect(){return Promise.reject(qr("call","disconnect"))},sendTransaction(){return Promise.reject(qr("call","sendTransaction"))},signTransaction(){return Promise.reject(qr("call","signTransaction"))},signAllTransactions(){return Promise.reject(qr("call","signAllTransactions"))},signMessage(){return Promise.reject(qr("call","signMessage"))},signIn(){return Promise.reject(qr("call","signIn"))}};Object.defineProperty(Um,"wallets",{get(){return qr("read","wallets"),FL}});Object.defineProperty(Um,"wallet",{get(){return qr("read","wallet"),null}});Object.defineProperty(Um,"publicKey",{get(){return qr("read","publicKey"),null}});function qr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const R4=D.createContext(Um);function Hm(){return D.useContext(R4)}function $L(t,e){const n=D.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=D.useRef(!0);return D.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var So={};const UL=xi(WL),B4=xi(NL),P4=xi(PL);var Bs={},Fd={},HL=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},L4={},Ar={};let Xw;const VL=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ar.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ar.getSymbolTotalCodewords=function(e){return VL[e]};Ar.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ar.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Xw=e};Ar.isKanjiModeEnabled=function(){return typeof Xw<"u"};Ar.toSJIS=function(e){return Xw(e)};var Vm={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(Vm);function O4(){this.buffer=[],this.length=0}O4.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var KL=O4;function $d(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}$d.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};$d.prototype.get=function(t,e){return this.data[t*this.size+e]};$d.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};$d.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var qL=$d,D4={};(function(t){const e=Ar.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(D4);var z4={};const YL=Ar.getSymbolSize,F2=7;z4.getPositions=function(e){const n=YL(e);return[[0,0],[n-F2,0],[0,n-F2]]};var W4={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,d=null;for(let h=0;h<i;h++){a=l=0,c=d=null;for(let p=0;p<i;p++){let m=s.get(h,p);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=s.get(p,h),m===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let d=0;d<i;d++)a=a<<1&2047|s.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),d<l&&(l=d,a=c)}return a}})(W4);var Km={};const Gi=Vm,Eh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Nh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Km.getBlocksCount=function(e,n){switch(n){case Gi.L:return Eh[(e-1)*4+0];case Gi.M:return Eh[(e-1)*4+1];case Gi.Q:return Eh[(e-1)*4+2];case Gi.H:return Eh[(e-1)*4+3];default:return}};Km.getTotalCodewordsCount=function(e,n){switch(n){case Gi.L:return Nh[(e-1)*4+0];case Gi.M:return Nh[(e-1)*4+1];case Gi.Q:return Nh[(e-1)*4+2];case Gi.H:return Nh[(e-1)*4+3];default:return}};var F4={},qm={};const ju=new Uint8Array(512),Rp=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ju[n]=e,Rp[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ju[n]=ju[n-255]})();qm.log=function(e){if(e<1)throw new Error("log("+e+")");return Rp[e]};qm.exp=function(e){return ju[e]};qm.mul=function(e,n){return e===0||n===0?0:ju[Rp[e]+Rp[n]]};(function(t){const e=qm;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(F4);const $4=F4;function Qw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Qw.prototype.initialize=function(e){this.degree=e,this.genPoly=$4.generateECPolynomial(this.degree)};Qw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=$4.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var GL=Qw,U4={},_o={},Jw={};Jw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ps={};const H4="[0-9]+",ZL="[A-Z $%*+\\-./:]+";let fd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";fd=fd.replace(/u/g,"\\u");const XL="(?:(?![A-Z0-9 $%*+\\-./:]|"+fd+`)(?:.|[\r
]))+`;Ps.KANJI=new RegExp(fd,"g");Ps.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ps.BYTE=new RegExp(XL,"g");Ps.NUMERIC=new RegExp(H4,"g");Ps.ALPHANUMERIC=new RegExp(ZL,"g");const QL=new RegExp("^"+fd+"$"),JL=new RegExp("^"+H4+"$"),eO=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ps.testKanji=function(e){return QL.test(e)};Ps.testNumeric=function(e){return JL.test(e)};Ps.testAlphanumeric=function(e){return eO.test(e)};(function(t){const e=Jw,n=Ps;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(_o);(function(t){const e=Ar,n=Km,r=Vm,s=_o,i=Jw,o=7973,a=e.getBCHDigit(o);function l(p,m,y){for(let w=1;w<=40;w++)if(m<=t.getCapacity(w,y,p))return w}function c(p,m){return s.getCharCountIndicator(p,m)+4}function d(p,m){let y=0;return p.forEach(function(w){const b=c(w.mode,m);y+=b+w.getBitsLength()}),y}function h(p,m){for(let y=1;y<=40;y++)if(d(p,y)<=t.getCapacity(y,m,s.MIXED))return y}t.from=function(m,y){return i.isValid(m)?parseInt(m,10):y},t.getCapacity=function(m,y,w){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);const b=e.getSymbolTotalCodewords(m),g=n.getTotalCodewordsCount(m,y),S=(b-g)*8;if(w===s.MIXED)return S;const _=S-c(w,m);switch(w){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(m,y){let w;const b=r.from(y,r.M);if(Array.isArray(m)){if(m.length>1)return h(m,b);if(m.length===0)return 1;w=m[0]}else w=m;return l(w.mode,w.getLength(),b)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;e.getBCHDigit(y)-a>=0;)y^=o<<e.getBCHDigit(y)-a;return m<<12|y}})(U4);var V4={};const Xy=Ar,K4=1335,tO=21522,$2=Xy.getBCHDigit(K4);V4.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;Xy.getBCHDigit(s)-$2>=0;)s^=K4<<Xy.getBCHDigit(s)-$2;return(r<<10|s)^tO};var q4={};const nO=_o;function Gl(t){this.mode=nO.NUMERIC,this.data=t.toString()}Gl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Gl.prototype.getLength=function(){return this.data.length};Gl.prototype.getBitsLength=function(){return Gl.getBitsLength(this.data.length)};Gl.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var rO=Gl;const sO=_o,lg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Zl(t){this.mode=sO.ALPHANUMERIC,this.data=t}Zl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Zl.prototype.getLength=function(){return this.data.length};Zl.prototype.getBitsLength=function(){return Zl.getBitsLength(this.data.length)};Zl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=lg.indexOf(this.data[n])*45;r+=lg.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(lg.indexOf(this.data[n]),6)};var iO=Zl;const oO=_o;function Xl(t){this.mode=oO.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Xl.getBitsLength=function(e){return e*8};Xl.prototype.getLength=function(){return this.data.length};Xl.prototype.getBitsLength=function(){return Xl.getBitsLength(this.data.length)};Xl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var aO=Xl;const lO=_o,cO=Ar;function Ql(t){this.mode=lO.KANJI,this.data=t}Ql.getBitsLength=function(e){return e*13};Ql.prototype.getLength=function(){return this.data.length};Ql.prototype.getBitsLength=function(){return Ql.getBitsLength(this.data.length)};Ql.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=cO.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var uO=Ql,Y4={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,h,p,m,y,w,b;!a.empty();){l=a.pop(),c=l.value,h=l.cost,p=n[c]||{};for(d in p)p.hasOwnProperty(d)&&(m=p[d],y=h+m,w=o[d],b=typeof o[d]>"u",(b||w>y)&&(o[d]=y,a.push(d,y),i[d]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var g=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(g)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Y4);var dO=Y4.exports;(function(t){const e=_o,n=rO,r=iO,s=aO,i=uO,o=Ps,a=Ar,l=dO;function c(g){return unescape(encodeURIComponent(g)).length}function d(g,S,_){const A=[];let R;for(;(R=g.exec(_))!==null;)A.push({data:R[0],index:R.index,mode:S,length:R[0].length});return A}function h(g){const S=d(o.NUMERIC,e.NUMERIC,g),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,g);let A,R;return a.isKanjiModeEnabled()?(A=d(o.BYTE,e.BYTE,g),R=d(o.KANJI,e.KANJI,g)):(A=d(o.BYTE_KANJI,e.BYTE,g),R=[]),S.concat(_,A,R).sort(function(O,B){return O.index-B.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function p(g,S){switch(S){case e.NUMERIC:return n.getBitsLength(g);case e.ALPHANUMERIC:return r.getBitsLength(g);case e.KANJI:return i.getBitsLength(g);case e.BYTE:return s.getBitsLength(g)}}function m(g){return g.reduce(function(S,_){const A=S.length-1>=0?S[S.length-1]:null;return A&&A.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function y(g){const S=[];for(let _=0;_<g.length;_++){const A=g[_];switch(A.mode){case e.NUMERIC:S.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:S.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:S.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:S.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return S}function w(g,S){const _={},A={start:{}};let R=["start"];for(let W=0;W<g.length;W++){const O=g[W],B=[];for(let F=0;F<O.length;F++){const U=O[F],H=""+W+F;B.push(H),_[H]={node:U,lastCount:0},A[H]={};for(let V=0;V<R.length;V++){const M=R[V];_[M]&&_[M].node.mode===U.mode?(A[M][H]=p(_[M].lastCount+U.length,U.mode)-p(_[M].lastCount,U.mode),_[M].lastCount+=U.length):(_[M]&&(_[M].lastCount=U.length),A[M][H]=p(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,S))}}R=B}for(let W=0;W<R.length;W++)A[R[W]].end=0;return{map:A,table:_}}function b(g,S){let _;const A=e.getBestModeForData(g);if(_=e.from(S,A),_!==e.BYTE&&_.bit<A.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(A));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(g);case e.ALPHANUMERIC:return new r(g);case e.KANJI:return new i(g);case e.BYTE:return new s(g)}}t.fromArray=function(S){return S.reduce(function(_,A){return typeof A=="string"?_.push(b(A,null)):A.data&&_.push(b(A.data,A.mode)),_},[])},t.fromString=function(S,_){const A=h(S,a.isKanjiModeEnabled()),R=y(A),W=w(R,_),O=l.find_path(W.map,"start","end"),B=[];for(let F=1;F<O.length-1;F++)B.push(W.table[O[F]].node);return t.fromArray(m(B))},t.rawSplit=function(S){return t.fromArray(h(S,a.isKanjiModeEnabled()))}})(q4);const Ym=Ar,cg=Vm,hO=KL,fO=qL,pO=D4,mO=z4,Qy=W4,Jy=Km,gO=GL,Bp=U4,yO=V4,xO=_o,ug=q4;function wO(t,e){const n=t.size,r=mO.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function vO(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function bO(t,e){const n=pO.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function SO(t,e){const n=t.size,r=Bp.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function dg(t,e,n){const r=t.size,s=yO.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function _O(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function kO(t,e,n){const r=new hO;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),xO.getCharCountIndicator(l.mode,t)),l.write(r)});const s=Ym.getSymbolTotalCodewords(t),i=Jy.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return EO(r,t,e)}function EO(t,e,n){const r=Ym.getSymbolTotalCodewords(e),s=Jy.getTotalCodewordsCount(e,n),i=r-s,o=Jy.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(i/o),h=d+1,p=c-d,m=new gO(p);let y=0;const w=new Array(o),b=new Array(o);let g=0;const S=new Uint8Array(t.buffer);for(let O=0;O<o;O++){const B=O<l?d:h;w[O]=S.slice(y,y+B),b[O]=m.encode(w[O]),y+=B,g=Math.max(g,B)}const _=new Uint8Array(r);let A=0,R,W;for(R=0;R<g;R++)for(W=0;W<o;W++)R<w[W].length&&(_[A++]=w[W][R]);for(R=0;R<p;R++)for(W=0;W<o;W++)_[A++]=b[W][R];return _}function NO(t,e,n,r){let s;if(Array.isArray(t))s=ug.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=ug.rawSplit(t);c=Bp.getBestVersionForData(d,n)}s=ug.fromString(t,c||40)}else throw new Error("Invalid data");const i=Bp.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=kO(e,n,s),a=Ym.getSymbolSize(e),l=new fO(a);return wO(l,e),vO(l),bO(l,e),dg(l,n,0),e>=7&&SO(l,e),_O(l,o),isNaN(r)&&(r=Qy.getBestMask(l,dg.bind(null,l,n))),Qy.applyMask(r,l),dg(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}L4.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=cg.M,s,i;return typeof n<"u"&&(r=cg.from(n.errorCorrectionLevel,cg.M),s=Bp.from(n.version),i=Qy.from(n.maskPattern),n.toSJISFunc&&Ym.setToSJISFunction(n.toSJISFunc)),NO(e,s,r,i)};var G4={},ev={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),d=i.margin*l,h=[i.color.light,i.color.dark];for(let p=0;p<c;p++)for(let m=0;m<c;m++){let y=(p*c+m)*4,w=i.color.light;if(p>=d&&m>=d&&p<c-d&&m<c-d){const b=Math.floor((p-d)/l),g=Math.floor((m-d)/l);w=h[a[b*o+g]?1:0]}r[y++]=w.r,r[y++]=w.g,r[y++]=w.b,r[y]=w.a}}})(ev);(function(t){const e=ev;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(i.modules.size,l),h=c.getContext("2d"),p=h.createImageData(d,d);return e.qrToImageData(p.data,i,l),n(h,c,d),h.putImageData(p,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),d=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(d,h.quality)}})(G4);var Z4={};const AO=ev;function U2(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function hg(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function CO(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?hg("M",l+n,.5+c+n):hg("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=hg("h",o),o=0)):s++}return r}Z4.render=function(e,n,r){const s=AO.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+U2(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+U2(s.color.dark,"stroke")+' d="'+CO(o,i,s.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const MO=HL,e1=L4,X4=G4,IO=Z4;function tv(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!MO())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=e1.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=e1.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}Fd.create=e1.create;Fd.toCanvas=tv.bind(null,X4.render);Fd.toDataURL=tv.bind(null,X4.renderToDataURL);Fd.toString=tv.bind(null,function(t,e,n){return IO.render(t,n)});const jO=xi(zL);var Xr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(Xr);var Ls={};function hf(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Pp="https://api.mainnet-beta.solana.com",Q4="https://api.devnet.solana.com",J4="https://api.testnet.solana.com",eA="http://localhost:8899";function tA(t){return t.includes(Pp)?Xr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?Xr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?Xr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Xr.SOLANA_LOCALNET_CHAIN:Xr.SOLANA_MAINNET_CHAIN}function TO(t,e){return e||(t===Xr.SOLANA_MAINNET_CHAIN?Pp:t===Xr.SOLANA_DEVNET_CHAIN?Q4:t===Xr.SOLANA_TESTNET_CHAIN?J4:t===Xr.SOLANA_LOCALNET_CHAIN?eA:Pp)}function nA(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function RO(t,e){return nA(t,e)}function nv({message:t,signedMessage:e,signature:n,publicKey:r}){return RO(t,e)&&ka.verify(n,e,r)}function BO(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:s,signature:i}=e;return nv({message:n,signedMessage:s,signature:i,publicKey:r})}function PO(t,e){const{signedMessage:n,signature:r,account:{publicKey:s}}=e,i=rA(t,e);return!!i&&nv({message:i,signedMessage:n,signature:r,publicKey:s})}function rA(t,e){const n=sA(t,e);return n?new TextEncoder().encode(n):null}function sA(t,e){const n=iA(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!nA(t.resources,n.resources))return null}else if(n.resources)return null;return rv(n)}function iA(t){const e=new TextDecoder().decode(t);return oA(e)}const LO="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",OO="(?<address>[^\\n]+)(?:\\n|$)",DO="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",zO="(?:\\nURI: (?<uri>[^\\n]+))?",WO="(?:\\nVersion: (?<version>[^\\n]+))?",FO="(?:\\nChain ID: (?<chainId>[^\\n]+))?",$O="(?:\\nNonce: (?<nonce>[^\\n]+))?",UO="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",HO="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",VO="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",KO="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",qO="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",YO=`${zO}${WO}${FO}${$O}${UO}${HO}${VO}${KO}${qO}`,GO=new RegExp(`^${LO}${OO}${DO}${YO}\\n*$`);function oA(t){var r;const e=GO.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function ZO(t){const e=rv(t);return new TextEncoder().encode(e)}function rv(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const XO=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:Q4,LOCALNET_ENDPOINT:eA,MAINNET_ENDPOINT:Pp,TESTNET_ENDPOINT:J4,createSignInMessage:ZO,createSignInMessageText:rv,deriveSignInMessage:rA,deriveSignInMessageText:sA,getChainForEndpoint:tA,getCommitment:hf,getEndpointForChain:TO,parseSignInMessage:iA,parseSignInMessageText:oA,verifyMessageSignature:nv,verifySignIn:PO,verifySignMessage:BO},Symbol.toStringTag,{value:"Module"})),QO=xi(XO);Object.defineProperty(Ls,"__esModule",{value:!0});var JO=QO;const vr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class br extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}const eD={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class Gm extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function lt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function tD(t){return window.btoa(t)}function t1(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function nD(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function ff(t,e){return lt(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function rD(t){return JO.createSignInMessageText(t)}function sD(t){return tD(rD(t))}const aA="solana:signTransactions",n1="solana:cloneAuthorization",iD="solana:signInWithSolana";function lA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return lt(this,void 0,void 0,function*(){const{method:i,params:o}=oD(r,s,t),a=yield e(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield lD(o.sign_in_payload,a,e)),aD(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function oD(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function aD(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[aA];return r.supports_clone_authorization===!0&&s.push(n1),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(n1)})}}}return e}function lD(t,e,n){var r;return lt(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,o=sD(Object.assign(Object.assign({},t),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const oi=4;function cD(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(oi);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const r1=12,sv=65;function uD(t,e,n){return lt(this,void 0,void 0,function*(){const r=cD(e),s=new Uint8Array(r1);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(uA(r,s),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function cA(t,e){return lt(this,void 0,void 0,function*(){const n=t.slice(0,oi),r=t.slice(oi,oi+r1),s=t.slice(oi+r1),i=yield crypto.subtle.decrypt(uA(n,r),e,s);return dD().decode(i)})}function uA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let fg;function dD(){return fg===void 0&&(fg=new TextDecoder("utf-8")),fg}function dA(){return lt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function pf(){return lt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function hA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function hD(){return fA(49152+Math.floor(Math.random()*16384))}function fA(t){if(t<49152||t>65535)throw new br(vr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function pA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const fD="solana-wallet";function H2(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function mA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new br(vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${fD}:/`));const r=t.startsWith("/")?t:[...H2(n.pathname),...H2(t)].join("/");return new URL(r,n)}function pD(t,e,n,r=["v1"]){return lt(this,void 0,void 0,function*(){const s=fA(e),i=yield crypto.subtle.exportKey("raw",t),o=hA(i),a=mA("v1/associate/local",n);return a.searchParams.set("association",pA(o)),a.searchParams.set("port",`${s}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function mD(t,e,n,r,s=["v1"]){return lt(this,void 0,void 0,function*(){const i=yield crypto.subtle.exportKey("raw",t),o=hA(i),a=mA("v1/associate/remote",r);return a.searchParams.set("association",pA(o)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${t1(n,!0)}`),s.forEach(l=>{a.searchParams.set("v",l)}),a})}function gA(t,e){return lt(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return uD(n,r,e)})}function yA(t,e){return lt(this,void 0,void 0,function*(){const n=yield cA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Gm(r.id,r.error.code,r.error.message);return r})}function xA(t,e,n){return lt(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,sv),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function wA(t,e){return lt(this,void 0,void 0,function*(){const n=yield cA(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new br(vr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const Lp={Firefox:0,Other:1};function gD(){return navigator.userAgent.indexOf("Firefox/")!==-1?Lp.Firefox:Lp.Other}function yD(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let $c=null;function xD(t){$c==null&&($c=document.createElement("iframe"),$c.style.display="none",document.body.appendChild($c)),$c.contentWindow.location.href=t.toString()}function wD(t){return lt(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=gD();switch(e){case Lp.Firefox:xD(t);break;case Lp.Other:{const n=yD();window.location.assign(t),yield n;break}default:}}catch{throw new br(vr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function vD(t,e){return lt(this,void 0,void 0,function*(){const n=hD(),r=yield pD(t,n,e);return yield wD(r),n})}const Op={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},vA="com.solana.mobilewalletadapter.v1",V2="com.solana.mobilewalletadapter.v1.base64";function bA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new br(vr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function SA(t){let e;try{e=new URL(t)}catch{throw new br(vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new br(vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Dp(t){return new DataView(t).getUint32(0,!1)}function bD(t){var e=new Uint8Array(t),n=t.byteLength,r=10,s=0,i=0,o;do{if(i>=n||i>r)throw new RangeError("Failed to decode varint");o=e[i++],s|=(o&127)<<7*i}while(o>=128);return{value:s,offset:i}}function SD(t){let{value:e,offset:n}=bD(t);return new Uint8Array(t.slice(n,n+e))}function _D(t,e){return lt(this,void 0,void 0,function*(){bA();const n=yield dA(),s=`ws://localhost:${yield vD(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const d=[...Op.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((d,h)=>{let p;const m={},y=()=>lt(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",y);const{associationKeypair:R}=c,W=yield pf();p.send(yield ff(W.publicKey,R.privateKey)),c={__type:"hello_req_sent",associationPublicKey:R.publicKey,ecdhPrivateKey:W.privateKey}}),w=R=>{R.wasClean?c={__type:"disconnected"}:h(new br(vr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${R.code}: ${R.reason}).`,{closeEvent:R})),S()},b=R=>lt(this,void 0,void 0,function*(){S(),Date.now()-i>=Op.timeoutMs?h(new br(vr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(W=>{const O=o();_=window.setTimeout(W,O)}),A())}),g=R=>lt(this,void 0,void 0,function*(){const W=yield R.data.arrayBuffer();switch(c.__type){case"connecting":if(W.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const O=yield pf();p.send(yield ff(O.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:O.privateKey};break;case"connected":try{const B=W.slice(0,oi),F=Dp(B);if(F!==l+1)throw new Error("Encrypted message has invalid sequence number");l=F;const U=yield yA(W,c.sharedSecret),H=m[U.id];delete m[U.id],H.resolve(U.result)}catch(B){if(B instanceof Gm){const F=m[B.jsonRpcMessageId];delete m[B.jsonRpcMessageId],F.reject(B)}else throw B}break;case"hello_req_sent":{if(W.byteLength===0){const V=yield pf();p.send(yield ff(V.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:V.privateKey};break}const B=yield xA(W,c.associationPublicKey,c.ecdhPrivateKey),F=W.slice(sv),U=F.byteLength!==0?yield lt(this,void 0,void 0,function*(){const V=F.slice(0,oi),M=Dp(V);if(M!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=M,wA(F,B)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:B,sessionProperties:U};const H=lA(U.protocol_version,(V,M)=>lt(this,void 0,void 0,function*(){const f=a++;return p.send(yield gA({id:f,jsonrpc:"2.0",method:V,params:M??{}},B)),new Promise((x,k)=>{m[f]={resolve(I){switch(V){case"authorize":case"reauthorize":{const{wallet_uri_base:C}=I;if(C!=null)try{SA(C)}catch(j){k(j);return}break}}x(I)},reject:k}})}));try{d(yield t(H))}catch(V){h(V)}finally{S(),p.close()}break}}});let S,_;const A=()=>{S&&S(),c={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),p=new WebSocket(s,[vA]),p.addEventListener("open",y),p.addEventListener("close",w),p.addEventListener("error",b),p.addEventListener("message",g),S=()=>{window.clearTimeout(_),p.removeEventListener("open",y),p.removeEventListener("close",w),p.removeEventListener("error",b),p.removeEventListener("message",g)}};A()})})}function kD(t){return lt(this,void 0,void 0,function*(){bA();const e=yield dA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const s=(()=>{const w=[...Op.retryDelayScheduleMs];return()=>w.length>1?w.shift():w[0]})();let i=1,o=0,a,l={__type:"disconnected"},c,d,h=w=>lt(this,void 0,void 0,function*(){if(a=="base64"){const b=yield w.data;return nD(b).buffer}else return yield w.data.arrayBuffer()});const p=yield new Promise((w,b)=>{const g=()=>lt(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(V2)?a="base64":a="binary",c.removeEventListener("open",g)}),S=O=>{O.wasClean?l={__type:"disconnected"}:b(new br(vr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${O.code}: ${O.reason}).`,{closeEvent:O})),d()},_=O=>lt(this,void 0,void 0,function*(){d(),Date.now()-r>=Op.timeoutMs?b(new br(vr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(B=>{const F=s();R=window.setTimeout(B,F)}),W())}),A=O=>lt(this,void 0,void 0,function*(){const B=yield h(O);if(l.__type==="connecting"){if(B.byteLength==0)throw new Error("Encountered unexpected message while connecting");const F=SD(B);l={__type:"reflector_id_received",reflectorId:F};const U=yield mD(e.publicKey,t.remoteHostAuthority,F,t==null?void 0:t.baseUri);c.removeEventListener("message",A),w(U)}});let R;const W=()=>{d&&d(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[vA,V2]),c.addEventListener("open",g),c.addEventListener("close",S),c.addEventListener("error",_),c.addEventListener("message",A),d=()=>{window.clearTimeout(R),c.removeEventListener("open",g),c.removeEventListener("close",S),c.removeEventListener("error",_),c.removeEventListener("message",A)}};W()});let m=!1,y;return{associationUrl:p,close:()=>{c.close(),y()},wallet:new Promise((w,b)=>{const g={},S=_=>lt(this,void 0,void 0,function*(){const A=yield h(_);switch(l.__type){case"reflector_id_received":if(A.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const R=yield pf(),W=yield ff(R.publicKey,e.privateKey);a=="base64"?c.send(t1(W)):c.send(W),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:R.privateKey};break;case"connected":try{const O=A.slice(0,oi),B=Dp(O);if(B!==o+1)throw new Error("Encrypted message has invalid sequence number");o=B;const F=yield yA(A,l.sharedSecret),U=g[F.id];delete g[F.id],U.resolve(F.result)}catch(O){if(O instanceof Gm){const B=g[O.jsonRpcMessageId];delete g[O.jsonRpcMessageId],B.reject(O)}else throw O}break;case"hello_req_sent":{const O=yield xA(A,l.associationPublicKey,l.ecdhPrivateKey),B=A.slice(sv),F=B.byteLength!==0?yield lt(this,void 0,void 0,function*(){const H=B.slice(0,oi),V=Dp(H);if(V!==o+1)throw new Error("Encrypted message has invalid sequence number");return o=V,wA(B,O)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:O,sessionProperties:F};const U=lA(F.protocol_version,(H,V)=>lt(this,void 0,void 0,function*(){const M=i++,f=yield gA({id:M,jsonrpc:"2.0",method:H,params:V??{}},O);return a=="base64"?c.send(t1(f)):c.send(f),new Promise((x,k)=>{g[M]={resolve(I){switch(H){case"authorize":case"reauthorize":{const{wallet_uri_base:C}=I;if(C!=null)try{SA(C)}catch(j){k(j);return}break}}x(I)},reject:k}})}));m=!0;try{w(U)}catch(H){b(H)}break}}});c.addEventListener("message",S),y=()=>{c.removeEventListener("message",S),d(),m||b(new br(vr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}Ls.SolanaCloneAuthorization=n1;Ls.SolanaMobileWalletAdapterError=br;Ls.SolanaMobileWalletAdapterErrorCode=vr;Ls.SolanaMobileWalletAdapterProtocolError=Gm;Ls.SolanaMobileWalletAdapterProtocolErrorCode=eD;Ls.SolanaSignInWithSolana=iD;Ls.SolanaSignTransactions=aA;var ED=Ls.startRemoteScenario=kD,ND=Ls.transact=_D;function AD(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var A=m[b],R=0,W=S-1;(A!==0||R<w)&&W!==-1;W--,R++)A+=256*_[W]>>>0,_[W]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");w=R,b++}for(var O=S-w;O!==S&&_[O]===0;)O++;for(var B=a.repeat(y);O<S;++O)B+=t.charAt(_[O]);return B}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);m[y];){var _=m.charCodeAt(y);if(_>255)return;var A=e[_];if(A===255)return;for(var R=0,W=g-1;(A!==0||R<b)&&W!==-1;W--,R++)A+=o*S[W]>>>0,S[W]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=R,y++}for(var O=g-b;O!==g&&S[O]===0;)O++;for(var B=new Uint8Array(w+(g-O)),F=w;O!==g;)B[F++]=S[O++];return B}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var CD=AD;const MD=CD,ID="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var _A=MD(ID);const jD=wa(_A);function pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Tu(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function kA(t){return window.btoa(String.fromCharCode.call(null,...t))}function mg(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function K2(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return kA(e)}function TD(t){const n=t[0]*Vl+1;return Pm.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Ge.from(t):Kl.deserialize(t)}function RD(t,e){return Tu(this,void 0,void 0,function*(){return yield ND(r=>t(EA(r)),e)})}function BD(t){return Tu(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield ED(t);return{wallet:e.then(i=>EA(i)),close:n,associationUrl:r}})}function EA(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:i,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,d=pg(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Tu(this,void 0,void 0,function*(){const h=c.map(K2),p={min_context_slot:s,commitment:i,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),Object.values(p).some(w=>w!=null)?{options:p}:null),{payloads:h}));return m.map(mg).map(jD.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,i=pg(r,["payloads"]);return Tu(this,void 0,void 0,function*(){const o=s.map(kA),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:o}));return a.map(mg)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,i=pg(r,["transactions"]);return Tu(this,void 0,void 0,function*(){const o=s.map(K2),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:o}));return a.map(mg).map(TD)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const PD=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:BD,transact:RD},Symbol.toStringTag,{value:"Module"})),LD=xi(PD);Object.defineProperty(Bs,"__esModule",{value:!0});var xn=P4,pd=B4,OD=Fd,Ml=jO,q2=Xr,NA=LD,DD=_A;function AA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var zD=AA(OD),zp=AA(DD);function We(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Y(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function He(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ru,on,Io,Va,CA,MA,IA,mf;const WD=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,FD=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,$D=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class jA{constructor(){ru.add(this),on.set(this,null),Io.set(this,{}),Va.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Y(this,ru,"m",MA).call(this),Y(this,on,"f")&&(Y(this,on,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),Y(this,ru,"m",IA).call(this),Y(this,on,"f")&&(Y(this,on,"f").style.display="none"),(n=Y(this,Io,"f").close)===null||n===void 0||n.forEach(r=>r(e))},mf.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),He(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return We(this,void 0,void 0,function*(){console.log("Injecting modal"),Y(this,ru,"m",CA).call(this)})}addEventListener(e,n){var r;return!((r=Y(this,Io,"f")[e])===null||r===void 0)&&r.push(n)||(Y(this,Io,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;Y(this,Io,"f")[e]=(r=Y(this,Io,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}on=new WeakMap,Io=new WeakMap,Va=new WeakMap,mf=new WeakMap,ru=new WeakSet,CA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Y(this,on,"f")||He(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}He(this,on,document.createElement("div")),Y(this,on,"f").id="mobile-wallet-adapter-embedded-root-ui",Y(this,on,"f").innerHTML=WD,Y(this,on,"f").style.display="none";const e=Y(this,on,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=FD+this.contentStyles;const r=document.createElement("div");r.innerHTML=$D,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(Y(this,on,"f")),document.body.appendChild(r)},MA=function(){if(!Y(this,on,"f")||Y(this,Va,"f"))return;[...Y(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Y(this,mf,"f")),He(this,Va,!0)},IA=function(){if(!Y(this,Va,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Y(this,mf,"f")),!Y(this,on,"f")))return;[...Y(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),He(this,Va,!1)};class UD extends jA{constructor(){super(...arguments),this.contentStyles=VD,this.contentHtml=HD}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return We(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return We(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const s=yield zD.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(s,r.firstElementChild):r.appendChild(s)}else console.error("QRCode Container not found")})}}const HD=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,VD=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,TA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function RA(t){return"version"in t}function BA(t){return window.btoa(String.fromCharCode.call(null,...t))}function Zi(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Ka,qo,s1,i1,o1,a1,su,Vn,Us,Ii,qa,Ya,gf,iu,yf,l1,xf,PA,c1,wf,Ga,u1,ou,vf,Za,au,bf,d1,h1,Sf,f1,p1,m1,_f,Xa,Yo,g1,y1,x1,w1,lu,Kn,ji,Ti,Qa,Ja,kf,cu,Ef,Nf,Vr,v1,Af,LA,b1,Cf,uu,S1,du,Mf,el,hu,If,_1,k1,jf,E1,N1,A1,Tf;const iv="Mobile Wallet Adapter",OA=64,DA=[xn.SolanaSignAndSendTransaction,xn.SolanaSignTransaction,xn.SolanaSignMessage,xn.SolanaSignIn];class zA{constructor(e){Ka.add(this),qo.set(this,{}),s1.set(this,"1.0.0"),i1.set(this,iv),o1.set(this,"https://solanamobile.com/wallets"),a1.set(this,TA),su.set(this,void 0),Vn.set(this,void 0),Us.set(this,void 0),Ii.set(this,!1),qa.set(this,0),Ya.set(this,[]),gf.set(this,void 0),iu.set(this,void 0),yf.set(this,void 0),l1.set(this,(n,r)=>{var s;return!((s=Y(this,qo,"f")[n])===null||s===void 0)&&s.push(r)||(Y(this,qo,"f")[n]=[r]),()=>Y(this,Ka,"m",PA).call(this,n,r)}),c1.set(this,({silent:n}={})=>We(this,void 0,void 0,function*(){if(Y(this,Ii,"f")||this.connected)return{accounts:this.accounts};He(this,Ii,!0);try{if(n){const r=yield Y(this,Us,"f").get();if(r)yield Y(this,Ga,"f").call(this,r);else return{accounts:this.accounts}}else yield Y(this,wf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{He(this,Ii,!1)}return{accounts:this.accounts}})),wf.set(this,n=>We(this,void 0,void 0,function*(){try{const r=yield Y(this,Us,"f").get();if(r)return Y(this,Ga,"f").call(this,r),r;const s=yield Y(this,gf,"f").select(Y(this,Ya,"f"));return yield Y(this,Za,"f").call(this,i=>We(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:Y(this,su,"f"),sign_in_payload:n})]),l=Y(this,bf,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([Y(this,u1,"f").call(this,o),Y(this,Us,"f").set(c),Y(this,Ga,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ga.set(this,n=>We(this,void 0,void 0,function*(){var r;const s=Y(this,Vn,"f")==null||((r=Y(this,Vn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||Y(this,Vn,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);He(this,Vn,n),s&&Y(this,Ka,"m",xf).call(this,"change",{accounts:this.accounts})})),u1.set(this,n=>We(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=xn.SolanaSignAndSendTransaction in this.features!==s||xn.SolanaSignTransaction in this.features!==r;He(this,iu,Object.assign(Object.assign({},(s||!s&&!r)&&{[xn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Y(this,Sf,"f")}}),r&&{[xn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Y(this,f1,"f")}})),i&&Y(this,Ka,"m",xf).call(this,"change",{features:this.features})})),ou.set(this,(n,r,s)=>We(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:Y(this,su,"f"),chain:s}),o=Y(this,bf,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([Y(this,Us,"f").set(a),Y(this,Ga,"f").call(this,a)])}catch(i){throw Y(this,vf,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),vf.set(this,()=>We(this,void 0,void 0,function*(){var n;Y(this,Us,"f").clear(),He(this,Ii,!1),He(this,qa,(n=Y(this,qa,"f"),n++,n)),He(this,Vn,void 0),Y(this,Ka,"m",xf).call(this,"change",{accounts:this.accounts})})),Za.set(this,n=>We(this,void 0,void 0,function*(){var r;const s=(r=Y(this,Vn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=Y(this,qa,"f");try{return yield NA.transact(n,i)}catch(a){throw Y(this,qa,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield Y(this,yf,"f").call(this,this)),a}})),au.set(this,()=>{if(!Y(this,Vn,"f"))throw new Error("Wallet not connected");return{authToken:Y(this,Vn,"f").auth_token,chain:Y(this,Vn,"f").chain}}),bf.set(this,n=>n.map(r=>{var s,i;const o=Zi(r.address);return{address:zp.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:Y(this,Ya,"f"),features:(i=r.features)!==null&&i!==void 0?i:DA}})),d1.set(this,n=>We(this,void 0,void 0,function*(){const{authToken:r,chain:s}=Y(this,au,"f").call(this);try{return yield Y(this,Za,"f").call(this,i=>We(this,void 0,void 0,function*(){return yield Y(this,ou,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),h1.set(this,(n,r)=>We(this,void 0,void 0,function*(){const{authToken:s,chain:i}=Y(this,au,"f").call(this);try{return yield Y(this,Za,"f").call(this,o=>We(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),Y(this,ou,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Sf.set(this,(...n)=>We(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=pd.VersionedTransaction.deserialize(s.transaction),o=yield Y(this,h1,"f").call(this,i,s.options);r.push({signature:zp.default.decode(o)})}return r})),f1.set(this,(...n)=>We(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>pd.VersionedTransaction.deserialize(i));return(yield Y(this,d1,"f").call(this,r)).map(i=>({signedTransaction:RA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),p1.set(this,(...n)=>We(this,void 0,void 0,function*(){const{authToken:r,chain:s}=Y(this,au,"f").call(this),i=n.map(({account:a})=>BA(a.publicKey)),o=n.map(({message:a})=>a);try{return yield Y(this,Za,"f").call(this,a=>We(this,void 0,void 0,function*(){return yield Y(this,ou,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-OA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),m1.set(this,(...n)=>We(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield Y(this,_f,"f").call(this,s));else return[yield Y(this,_f,"f").call(this,n[0])];return r})),_f.set(this,n=>We(this,void 0,void 0,function*(){var r,s;He(this,Ii,!0);try{const i=yield Y(this,wf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Zi(o)}),signedMessage:Zi(i.sign_in_result.signed_message),signature:Zi(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{He(this,Ii,!1)}})),He(this,Us,e.authorizationCache),He(this,su,e.appIdentity),He(this,Ya,e.chains),He(this,gf,e.chainSelector),He(this,yf,e.onWalletNotFound),He(this,iu,{[xn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Y(this,Sf,"f")}})}get version(){return Y(this,s1,"f")}get name(){return Y(this,i1,"f")}get url(){return Y(this,o1,"f")}get icon(){return Y(this,a1,"f")}get chains(){return Y(this,Ya,"f")}get features(){return Object.assign({[Ml.StandardConnect]:{version:"1.0.0",connect:Y(this,c1,"f")},[Ml.StandardDisconnect]:{version:"1.0.0",disconnect:Y(this,vf,"f")},[Ml.StandardEvents]:{version:"1.0.0",on:Y(this,l1,"f")},[xn.SolanaSignMessage]:{version:"1.0.0",signMessage:Y(this,p1,"f")},[xn.SolanaSignIn]:{version:"1.0.0",signIn:Y(this,m1,"f")}},Y(this,iu,"f"))}get accounts(){var e,n;return(n=(e=Y(this,Vn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!Y(this,Vn,"f")}get isAuthorized(){return!!Y(this,Vn,"f")}get currentAuthorization(){return Y(this,Vn,"f")}get cachedAuthorizationResult(){return Y(this,Us,"f").get()}}qo=new WeakMap,s1=new WeakMap,i1=new WeakMap,o1=new WeakMap,a1=new WeakMap,su=new WeakMap,Vn=new WeakMap,Us=new WeakMap,Ii=new WeakMap,qa=new WeakMap,Ya=new WeakMap,gf=new WeakMap,iu=new WeakMap,yf=new WeakMap,l1=new WeakMap,c1=new WeakMap,wf=new WeakMap,Ga=new WeakMap,u1=new WeakMap,ou=new WeakMap,vf=new WeakMap,Za=new WeakMap,au=new WeakMap,bf=new WeakMap,d1=new WeakMap,h1=new WeakMap,Sf=new WeakMap,f1=new WeakMap,p1=new WeakMap,m1=new WeakMap,_f=new WeakMap,Ka=new WeakSet,xf=function(e,...n){var r;(r=Y(this,qo,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},PA=function(e,n){var r;Y(this,qo,"f")[e]=(r=Y(this,qo,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};class WA{constructor(e){Xa.add(this),Yo.set(this,{}),g1.set(this,"1.0.0"),y1.set(this,iv),x1.set(this,"https://solanamobile.com/wallets"),w1.set(this,TA),lu.set(this,void 0),Kn.set(this,void 0),ji.set(this,void 0),Ti.set(this,!1),Qa.set(this,0),Ja.set(this,[]),kf.set(this,void 0),cu.set(this,void 0),Ef.set(this,void 0),Nf.set(this,void 0),Vr.set(this,void 0),v1.set(this,(n,r)=>{var s;return!((s=Y(this,Yo,"f")[n])===null||s===void 0)&&s.push(r)||(Y(this,Yo,"f")[n]=[r]),()=>Y(this,Xa,"m",LA).call(this,n,r)}),b1.set(this,({silent:n}={})=>We(this,void 0,void 0,function*(){if(Y(this,Ti,"f")||this.connected)return{accounts:this.accounts};He(this,Ti,!0);try{yield Y(this,Cf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{He(this,Ti,!1)}return{accounts:this.accounts}})),Cf.set(this,n=>We(this,void 0,void 0,function*(){try{const r=yield Y(this,ji,"f").get();if(r)return Y(this,uu,"f").call(this,r),r;Y(this,Vr,"f")&&He(this,Vr,void 0,"f");const s=yield Y(this,kf,"f").select(Y(this,Ja,"f"));return yield Y(this,el,"f").call(this,i=>We(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:Y(this,lu,"f"),sign_in_payload:n})]),l=Y(this,If,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([Y(this,S1,"f").call(this,o),Y(this,ji,"f").set(c),Y(this,uu,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),uu.set(this,n=>We(this,void 0,void 0,function*(){var r;const s=Y(this,Kn,"f")==null||((r=Y(this,Kn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||Y(this,Kn,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);He(this,Kn,n),s&&Y(this,Xa,"m",Af).call(this,"change",{accounts:this.accounts})})),S1.set(this,n=>We(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),i=xn.SolanaSignAndSendTransaction in this.features!==s||xn.SolanaSignTransaction in this.features!==r;He(this,cu,Object.assign(Object.assign({},s&&{[xn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:Y(this,jf,"f")}}),r&&{[xn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:Y(this,E1,"f")}})),i&&Y(this,Xa,"m",Af).call(this,"change",{features:this.features})})),du.set(this,(n,r,s)=>We(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:Y(this,lu,"f")}),o=Y(this,If,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([Y(this,ji,"f").set(a),Y(this,uu,"f").call(this,a)])}catch(i){throw Y(this,Mf,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),Mf.set(this,()=>We(this,void 0,void 0,function*(){var n,r;(n=Y(this,Vr,"f"))===null||n===void 0||n.close(),Y(this,ji,"f").clear(),He(this,Ti,!1),He(this,Qa,(r=Y(this,Qa,"f"),r++,r)),He(this,Kn,void 0),He(this,Vr,void 0),Y(this,Xa,"m",Af).call(this,"change",{accounts:this.accounts})})),el.set(this,n=>We(this,void 0,void 0,function*(){var r;const s=(r=Y(this,Kn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=Object.assign(Object.assign({},s?{baseUri:s}:void 0),{remoteHostAuthority:Y(this,Nf,"f")}),a=Y(this,Qa,"f"),l=new UD;if(Y(this,Vr,"f"))return n(Y(this,Vr,"f").wallet);try{const{associationUrl:c,close:d,wallet:h}=yield NA.startRemoteScenario(o),p=l.addEventListener("close",m=>{m&&d()});return l.initWithQR(c.toString()),l.open(),He(this,Vr,{close:d,wallet:yield h},"f"),p(),l.close(),yield n(Y(this,Vr,"f").wallet)}catch(c){throw l.close(),Y(this,Qa,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield Y(this,Ef,"f").call(this,this)),c}})),hu.set(this,()=>{if(!Y(this,Kn,"f"))throw new Error("Wallet not connected");return{authToken:Y(this,Kn,"f").auth_token,chain:Y(this,Kn,"f").chain}}),If.set(this,n=>n.map(r=>{var s,i;const o=Zi(r.address);return{address:zp.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:Y(this,Ja,"f"),features:(i=r.features)!==null&&i!==void 0?i:DA}})),_1.set(this,n=>We(this,void 0,void 0,function*(){const{authToken:r,chain:s}=Y(this,hu,"f").call(this);try{return yield Y(this,el,"f").call(this,i=>We(this,void 0,void 0,function*(){return yield Y(this,du,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),k1.set(this,(n,r)=>We(this,void 0,void 0,function*(){const{authToken:s,chain:i}=Y(this,hu,"f").call(this);try{return yield Y(this,el,"f").call(this,o=>We(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),Y(this,du,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),jf.set(this,(...n)=>We(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=pd.VersionedTransaction.deserialize(s.transaction),o=yield Y(this,k1,"f").call(this,i,s.options);r.push({signature:zp.default.decode(o)})}return r})),E1.set(this,(...n)=>We(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>pd.VersionedTransaction.deserialize(i));return(yield Y(this,_1,"f").call(this,r)).map(i=>({signedTransaction:RA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),N1.set(this,(...n)=>We(this,void 0,void 0,function*(){const{authToken:r,chain:s}=Y(this,hu,"f").call(this),i=n.map(({account:a})=>BA(a.publicKey)),o=n.map(({message:a})=>a);try{return yield Y(this,el,"f").call(this,a=>We(this,void 0,void 0,function*(){return yield Y(this,du,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-OA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),A1.set(this,(...n)=>We(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield Y(this,Tf,"f").call(this,s));else return[yield Y(this,Tf,"f").call(this,n[0])];return r})),Tf.set(this,n=>We(this,void 0,void 0,function*(){var r,s;He(this,Ti,!0);try{const i=yield Y(this,Cf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Zi(o)}),signedMessage:Zi(i.sign_in_result.signed_message),signature:Zi(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{He(this,Ti,!1)}})),He(this,ji,e.authorizationCache),He(this,lu,e.appIdentity),He(this,Ja,e.chains),He(this,kf,e.chainSelector),He(this,Nf,e.remoteHostAuthority),He(this,Ef,e.onWalletNotFound),He(this,cu,{[xn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Y(this,jf,"f")}})}get version(){return Y(this,g1,"f")}get name(){return Y(this,y1,"f")}get url(){return Y(this,x1,"f")}get icon(){return Y(this,w1,"f")}get chains(){return Y(this,Ja,"f")}get features(){return Object.assign({[Ml.StandardConnect]:{version:"1.0.0",connect:Y(this,b1,"f")},[Ml.StandardDisconnect]:{version:"1.0.0",disconnect:Y(this,Mf,"f")},[Ml.StandardEvents]:{version:"1.0.0",on:Y(this,v1,"f")},[xn.SolanaSignMessage]:{version:"1.0.0",signMessage:Y(this,N1,"f")},[xn.SolanaSignIn]:{version:"1.0.0",signIn:Y(this,A1,"f")}},Y(this,cu,"f"))}get accounts(){var e,n;return(n=(e=Y(this,Kn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!Y(this,Vr,"f")&&!!Y(this,Kn,"f")}get isAuthorized(){return!!Y(this,Kn,"f")}get currentAuthorization(){return Y(this,Kn,"f")}get cachedAuthorizationResult(){return Y(this,ji,"f").get()}}Yo=new WeakMap,g1=new WeakMap,y1=new WeakMap,x1=new WeakMap,w1=new WeakMap,lu=new WeakMap,Kn=new WeakMap,ji=new WeakMap,Ti=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,kf=new WeakMap,cu=new WeakMap,Ef=new WeakMap,Nf=new WeakMap,Vr=new WeakMap,v1=new WeakMap,b1=new WeakMap,Cf=new WeakMap,uu=new WeakMap,S1=new WeakMap,du=new WeakMap,Mf=new WeakMap,el=new WeakMap,hu=new WeakMap,If=new WeakMap,_1=new WeakMap,k1=new WeakMap,jf=new WeakMap,E1=new WeakMap,N1=new WeakMap,A1=new WeakMap,Tf=new WeakMap,Xa=new WeakSet,Af=function(e,...n){var r;(r=Y(this,Yo,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},LA=function(e,n){var r;Y(this,Yo,"f")[e]=(r=Y(this,Yo,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};var KD=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},qD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Rf;function Y2(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new YD(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class YD extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Rf.set(this,void 0),KD(this,Rf,e,"f")}get detail(){return qD(this,Rf,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Rf=new WeakMap;function GD(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function ZD(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function XD(t){GD()?Y2(new zA(t)):ZD()&&t.remoteHostAuthority!==void 0&&Y2(new WA(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const QD="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",JD="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class ez extends jA{constructor(){super(...arguments),this.contentStyles=nz,this.contentHtml=tz}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=QD,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=JD,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const tz=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,nz=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function FA(){return We(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new ez;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function rz(){return()=>We(this,void 0,void 0,function*(){FA()})}const gg="SolanaMobileWalletAdapterDefaultAuthorizationCache";function sz(){let t;try{t=window.localStorage}catch{}return{clear(){return We(this,void 0,void 0,function*(){if(t)try{t.removeItem(gg)}catch{}})},get(){return We(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(gg));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new pd.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return We(this,void 0,void 0,function*(){if(t)try{t.setItem(gg,JSON.stringify(e))}catch{}})}}}function iz(){return{select(t){return We(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(q2.SOLANA_MAINNET_CHAIN)?q2.SOLANA_MAINNET_CHAIN:t[0]})}}}Bs.LocalSolanaMobileWalletAdapterWallet=zA;Bs.RemoteSolanaMobileWalletAdapterWallet=WA;Bs.SolanaMobileWalletAdapterWalletName=iv;Bs.createDefaultAuthorizationCache=sz;Bs.createDefaultChainSelector=iz;Bs.createDefaultWalletNotFoundHandler=rz;Bs.defaultErrorModalWalletNotFoundHandler=FA;Bs.registerMwa=XD;Object.defineProperty(So,"__esModule",{value:!0});var an=UL,Bf=B4,zo=P4,Jl=Bs;function dt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Te(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function fr(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const C1="standard:connect",oz="standard:disconnect",az="standard:events";function yg(t){return window.btoa(String.fromCharCode.call(null,...t))}function lz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var fn,Ct,Wi,ei,Pf,Gs,jo,M1,I1,$A,Wp,Lf,Pi;const cz="Mobile Wallet Adapter",uz=64;function dz(t){return"version"in t}function ov(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class UA extends an.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),fn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Ct.set(this,void 0),Wi.set(this,!1),ei.set(this,lz()?an.WalletReadyState.Loadable:an.WalletReadyState.Unsupported),Pf.set(this,void 0),Gs.set(this,void 0),jo.set(this,void 0),M1.set(this,r=>dt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Te(this,fn,"m",$A).call(this);const s=yield Te(this,Pf,"f").call(this,r.accounts);s!==Te(this,Gs,"f")&&(fr(this,Gs,s),fr(this,jo,void 0),this.emit("connect",this.publicKey))}})),fr(this,Pf,r=>dt(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>yg(o)));return(s=r.find(({publicKey:o})=>yg(o)===i))!==null&&s!==void 0?s:r[0]})),fr(this,Ct,e),Te(this,Ct,"f").features[az].on("change",Te(this,M1,"f")),this.name=Te(this,Ct,"f").name,this.icon=Te(this,Ct,"f").icon,this.url=Te(this,Ct,"f").url}get publicKey(){var e;if(!Te(this,jo,"f")&&Te(this,Gs,"f"))try{fr(this,jo,new Bf.PublicKey(Te(this,Gs,"f").publicKey),"f")}catch(n){throw new an.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Te(this,jo,"f"))!==null&&e!==void 0?e:null}get connected(){return Te(this,Ct,"f").connected}get connecting(){return Te(this,Wi,"f")}get readyState(){return Te(this,ei,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return dt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return dt(this,void 0,void 0,function*(){Te(this,fn,"m",I1).call(this,!0)})}connect(){return dt(this,void 0,void 0,function*(){Te(this,fn,"m",I1).call(this)})}performAuthorization(e){return dt(this,void 0,void 0,function*(){try{const n=yield Te(this,Ct,"f").cachedAuthorizationResult;return n?(yield Te(this,Ct,"f").features[C1].connect({silent:!0}),n):(e?yield Te(this,Ct,"f").features[zo.SolanaSignIn].signIn(e):yield Te(this,Ct,"f").features[C1].connect(),yield yield Te(this,Ct,"f").cachedAuthorizationResult)}catch(n){throw new an.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return dt(this,void 0,void 0,function*(){return yield Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){fr(this,Wi,!1),fr(this,jo,void 0),fr(this,Gs,void 0),yield Te(this,Ct,"f").features[oz].disconnect(),this.emit("disconnect")}))})}signIn(e){return dt(this,void 0,void 0,function*(){return Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){var n;if(Te(this,ei,"f")!==an.WalletReadyState.Installed&&Te(this,ei,"f")!==an.WalletReadyState.Loadable)throw new an.WalletNotReadyError;fr(this,Wi,!0);try{const r=yield Te(this,Ct,"f").features[zo.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new an.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{fr(this,Wi,!1)}}))})}signMessage(e){return dt(this,void 0,void 0,function*(){return yield Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){const n=Te(this,fn,"m",Wp).call(this);try{return(yield Te(this,Ct,"f").features[zo.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new an.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return dt(this,void 0,void 0,function*(){return yield Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){const s=Te(this,fn,"m",Wp).call(this);try{let o=function(){let a;switch(n.commitment){case"confirmed":case"finalized":case"processed":a=n.commitment;break;default:a="finalized"}let l;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":l=r.preflightCommitment;break;case void 0:l=a;break;default:l="finalized"}return(l==="finalized"?2:l==="confirmed"?1:0)<(a==="finalized"?2:a==="confirmed"?1:0)?l:a};var i=o;if(zo.SolanaSignAndSendTransaction in Te(this,Ct,"f").features){const a=ov(Te(this,Ct,"f").currentAuthorization.chain),[l]=(yield Te(this,Ct,"f").features[zo.SolanaSignAndSendTransaction].signAndSendTransaction({account:s,transaction:e.serialize(),chain:a,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(c=>yg(c.signature));return l}else{const[a]=yield Te(this,fn,"m",Lf).call(this,[e]);if(dz(a))return yield n.sendTransaction(a);{const l=a.serialize();return yield n.sendRawTransaction(l,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new an.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return dt(this,void 0,void 0,function*(){return yield Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){const[n]=yield Te(this,fn,"m",Lf).call(this,[e]);return n}))})}signAllTransactions(e){return dt(this,void 0,void 0,function*(){return yield Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){return yield Te(this,fn,"m",Lf).call(this,e)}))})}}Ct=new WeakMap,Wi=new WeakMap,ei=new WeakMap,Pf=new WeakMap,Gs=new WeakMap,jo=new WeakMap,M1=new WeakMap,fn=new WeakSet,I1=function(e=!1){return dt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Te(this,fn,"m",Pi).call(this,()=>dt(this,void 0,void 0,function*(){if(Te(this,ei,"f")!==an.WalletReadyState.Installed&&Te(this,ei,"f")!==an.WalletReadyState.Loadable)throw new an.WalletNotReadyError;fr(this,Wi,!0);try{yield Te(this,Ct,"f").features[C1].connect({silent:e})}catch(n){throw new an.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{fr(this,Wi,!1)}}))})},$A=function(){Te(this,ei,"f")!==an.WalletReadyState.Installed&&this.emit("readyStateChange",fr(this,ei,an.WalletReadyState.Installed))},Wp=function(){if(!Te(this,Ct,"f").isAuthorized||!Te(this,Gs,"f"))throw new an.WalletNotConnectedError;return Te(this,Gs,"f")},Lf=function(e){return dt(this,void 0,void 0,function*(){const n=Te(this,fn,"m",Wp).call(this);try{if(zo.SolanaSignTransaction in Te(this,Ct,"f").features)return Te(this,Ct,"f").features[zo.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*uz+1;return Bf.VersionedMessage.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?Bf.Transaction.from(i):Bf.VersionedTransaction.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new an.WalletSignTransactionError(r==null?void 0:r.message,r)}})},Pi=function(e){return dt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class HA extends UA{constructor(e){var n;const r=ov((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new Jl.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>dt(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:Jl.createDefaultChainSelector(),onWalletNotFound:()=>dt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class hz extends UA{constructor(e){const n=ov(e.chain);super(new Jl.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>dt(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:Jl.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>dt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class fz extends HA{}function pz(){return{select(t){return dt(this,void 0,void 0,function*(){return t[0]})}}}function mz(){return Jl.createDefaultAuthorizationCache()}function gz(t){return dt(this,void 0,void 0,function*(){return Jl.defaultErrorModalWalletNotFoundHandler()})}function yz(){return gz}So.LocalSolanaMobileWalletAdapter=HA;So.RemoteSolanaMobileWalletAdapter=hz;var xz=So.SolanaMobileWalletAdapter=fz,Of=So.SolanaMobileWalletAdapterWalletName=cz,wz=So.createDefaultAddressSelector=pz,vz=So.createDefaultAuthorizationResultCache=mz,bz=So.createDefaultWalletNotFoundHandler=yz;function Sz(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _z(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),h=d.charCodeAt(0);if(e[h]!==255)throw new TypeError(d+" is ambiguous");e[h]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,h=0,p=0;const m=c.length;for(;p!==m&&c[p]===0;)p++,d++;const y=(m-p)*i+1>>>0,w=new Uint8Array(y);for(;p!==m;){let S=c[p],_=0;for(let A=y-1;(S!==0||_<h)&&A!==-1;A--,_++)S+=256*w[A]>>>0,w[A]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");h=_,p++}let b=y-h;for(;b!==y&&w[b]===0;)b++;let g=r.repeat(d);for(;b<y;++b)g+=t.charAt(w[b]);return g}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,h=0,p=0;for(;c[d]===r;)h++,d++;const m=(c.length-d)*s+1>>>0,y=new Uint8Array(m);for(;d<c.length;){const S=c.charCodeAt(d);if(S>255)return;let _=e[S];if(_===255)return;let A=0;for(let R=m-1;(_!==0||A<p)&&R!==-1;R--,A++)_+=n*y[R]>>>0,y[R]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");p=A,d++}let w=m-p;for(;w!==m&&y[w]===0;)w++;const b=new Uint8Array(h+(m-w));let g=h;for(;w!==m;)b[g++]=y[w++];return b}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var kz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Ez=_z(kz);var _e=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},nn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},En,er,Go,Zo,To,fu,Fp,nt,$p,j1,Df,T1,Ru,R1,G2,Z2,X2,Q2;class Nz extends Gw{get name(){return _e(this,nt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return _e(this,nt,"f").icon}get readyState(){return _e(this,$p,"f")}get publicKey(){return _e(this,Go,"f")}get connecting(){return _e(this,Zo,"f")}get supportedTransactionVersions(){return _e(this,Fp,"f")}get wallet(){return _e(this,nt,"f")}get standard(){return!0}constructor({wallet:e}){super(),En.add(this),er.set(this,void 0),Go.set(this,void 0),Zo.set(this,void 0),To.set(this,void 0),fu.set(this,void 0),Fp.set(this,void 0),nt.set(this,void 0),$p.set(this,typeof window>"u"||typeof document>"u"?kt.Unsupported:kt.Installed),R1.set(this,n=>{if("accounts"in n){const r=_e(this,nt,"f").accounts[0];_e(this,er,"f")&&!_e(this,To,"f")&&r!==_e(this,er,"f")&&(r?_e(this,En,"m",Df).call(this,r):(this.emit("error",new Kw),_e(this,En,"m",T1).call(this)))}"features"in n&&_e(this,En,"m",Ru).call(this)}),nn(this,nt,e,"f"),nn(this,er,null,"f"),nn(this,Go,null,"f"),nn(this,Zo,!1,"f"),nn(this,To,!1,"f"),nn(this,fu,_e(this,nt,"f").features[$m].on("change",_e(this,R1,"f")),"f"),_e(this,En,"m",Ru).call(this)}destroy(){nn(this,er,null,"f"),nn(this,Go,null,"f"),nn(this,Zo,!1,"f"),nn(this,To,!1,"f");const e=_e(this,fu,"f");e&&(nn(this,fu,null,"f"),e())}async autoConnect(){return _e(this,En,"m",j1).call(this,{silent:!0})}async connect(){return _e(this,En,"m",j1).call(this)}async disconnect(){if(jp in _e(this,nt,"f").features)try{nn(this,To,!0,"f"),await _e(this,nt,"f").features[jp].disconnect()}catch(e){this.emit("error",new qw(e==null?void 0:e.message,e))}finally{nn(this,To,!1,"f")}_e(this,En,"m",T1).call(this)}async sendTransaction(e,n,r={}){try{const s=_e(this,er,"f");if(!s)throw new lr;let i;if(Js in _e(this,nt,"f").features)if(s.features.includes(Js))i=Js;else if(gn in _e(this,nt,"f").features&&s.features.includes(gn))i=gn;else throw new qi;else if(gn in _e(this,nt,"f").features){if(!s.features.includes(gn))throw new qi;i=gn}else throw new ml;const o=tA(n.rpcEndpoint);if(!s.chains.includes(o))throw new Yi;try{const{signers:a,...l}=r;let c;if(ii(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Js){const[d]=await _e(this,nt,"f").features[Js].signAndSendTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:hf(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Ez.encode(d.signature)}else{const[d]=await _e(this,nt,"f").features[gn].signTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:hf(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...l,preflightCommitment:hf(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Xt?a:new Yi(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}er=new WeakMap,Go=new WeakMap,Zo=new WeakMap,To=new WeakMap,fu=new WeakMap,Fp=new WeakMap,nt=new WeakMap,$p=new WeakMap,R1=new WeakMap,En=new WeakSet,j1=async function(e){try{if(this.connected||this.connecting)return;if(_e(this,$p,"f")!==kt.Installed)throw new hd;if(nn(this,Zo,!0,"f"),!_e(this,nt,"f").accounts.length)try{await _e(this,nt,"f").features[Fm].connect(e)}catch(r){throw new Vw(r==null?void 0:r.message,r)}const n=_e(this,nt,"f").accounts[0];if(!n)throw new qi;_e(this,En,"m",Df).call(this,n)}catch(n){throw this.emit("error",n),n}finally{nn(this,Zo,!1,"f")}},Df=function(e){let n;try{n=new ue(e.address)}catch(r){throw new Ip(r==null?void 0:r.message,r)}nn(this,er,e,"f"),nn(this,Go,n,"f"),_e(this,En,"m",Ru).call(this),this.emit("connect",n)},T1=function(){nn(this,er,null,"f"),nn(this,Go,null,"f"),_e(this,En,"m",Ru).call(this),this.emit("disconnect")},Ru=function(){var n,r;const e=Js in _e(this,nt,"f").features?_e(this,nt,"f").features[Js].supportedTransactionVersions:_e(this,nt,"f").features[gn].supportedTransactionVersions;nn(this,Fp,Sz(e,["legacy"])?null:new Set(e),"f"),gn in _e(this,nt,"f").features&&((n=_e(this,er,"f"))!=null&&n.features.includes(gn))?(this.signTransaction=_e(this,En,"m",G2),this.signAllTransactions=_e(this,En,"m",Z2)):(delete this.signTransaction,delete this.signAllTransactions),Ha in _e(this,nt,"f").features&&((r=_e(this,er,"f"))!=null&&r.features.includes(Ha))?this.signMessage=_e(this,En,"m",X2):delete this.signMessage,df in _e(this,nt,"f").features?this.signIn=_e(this,En,"m",Q2):delete this.signIn},G2=async function(e){try{const n=_e(this,er,"f");if(!n)throw new lr;if(!(gn in _e(this,nt,"f").features))throw new ml;if(!n.features.includes(gn))throw new qi;try{const s=(await _e(this,nt,"f").features[gn].signTransaction({account:n,transaction:ii(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ii(e)?Kl.deserialize(s):Ge.from(s)}catch(r){throw r instanceof Xt?r:new si(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Z2=async function(e){try{const n=_e(this,er,"f");if(!n)throw new lr;if(!(gn in _e(this,nt,"f").features))throw new ml;if(!n.features.includes(gn))throw new qi;try{const r=await _e(this,nt,"f").features[gn].signTransaction(...e.map(s=>({account:n,transaction:ii(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const o=r[i].signedTransaction;return ii(s)?Kl.deserialize(o):Ge.from(o)})}catch(r){throw new si(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},X2=async function(e){try{const n=_e(this,er,"f");if(!n)throw new lr;if(!(Ha in _e(this,nt,"f").features))throw new ml;if(!n.features.includes(Ha))throw new qi;try{return(await _e(this,nt,"f").features[Ha].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Yw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Q2=async function(e={}){try{if(!(df in _e(this,nt,"f").features))throw new ml;let n;try{[n]=await _e(this,nt,"f").features[df].signIn(e)}catch(r){throw new Zy(r==null?void 0:r.message,r)}if(!n)throw new Zy;return _e(this,En,"m",Df).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const Az=T4;var Cz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Mz=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},zf;let mr;const Zm=new Set;function Iz(t){Bu=void 0,Zm.add(t)}function jz(t){Bu=void 0,Zm.delete(t)}const gl={};function Tz(){if(mr||(mr=Object.freeze({register:J2,get:Rz,on:Bz}),typeof window>"u"))return mr;const t=Object.freeze({register:J2});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Pz(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return mr}function J2(...t){var e;return t=t.filter(n=>!Zm.has(n)),t.length?(t.forEach(n=>Iz(n)),(e=gl.register)==null||e.forEach(n=>B1(()=>n(...t))),function(){var r;t.forEach(s=>jz(s)),(r=gl.unregister)==null||r.forEach(s=>B1(()=>s(...t)))}):()=>{}}let Bu;function Rz(){return Bu||(Bu=[...Zm]),Bu}function Bz(t,e){var n;return(n=gl[t])!=null&&n.push(e)||(gl[t]=[e]),function(){var s;gl[t]=(s=gl[t])==null?void 0:s.filter(i=>e!==i)}}function B1(t){try{t()}catch(e){console.error(e)}}class Pz extends Event{get detail(){return Cz(this,zf,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),zf.set(this,void 0),Mz(this,zf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}zf=new WeakMap;function Lz(){if(mr||(mr=Tz(),typeof window>"u"))return mr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),mr;const{register:e}=mr,n=(...r)=>r.forEach(s=>B1(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),mr}return n(...t),mr}function Oz(t){const e=eS(()=>new Set),{get:n,on:r}=eS(()=>Lz()),[s,i]=D.useState(()=>tS(n()));D.useEffect(()=>{const a=[r("register",(...l)=>i(c=>[...c,...tS(l)])),r("unregister",(...l)=>i(c=>c.filter(d=>l.some(h=>h===d.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=Dz(s);return D.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,s]),D.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),D.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function eS(t){const e=D.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function Dz(t){const e=D.useRef(void 0);return D.useEffect(()=>{e.current=t}),e.current}function tS(t){return t.filter(Az).map(e=>new Nz({wallet:e}))}var Il;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Il||(Il={}));function zz(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function Wz({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Of&&n.readyState===kt.Installed)?Il.DESKTOP_WEB:e&&/android/i.test(e)&&!zz(e)?Il.MOBILE_WEB:Il.DESKTOP_WEB}function Fz(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function $z({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const l=D.useRef(!1),[c,d]=D.useState(!1),h=D.useRef(!1),[p,m]=D.useState(!1),[y,w]=D.useState(()=>(n==null?void 0:n.publicKey)??null),[b,g]=D.useState(()=>(n==null?void 0:n.connected)??!1),S=D.useRef(o);D.useEffect(()=>(S.current=o,()=>{S.current=void 0}),[o]);const _=D.useRef((x,k)=>(r.current||(S.current?S.current(x,k):(console.error(x,k),x instanceof hd&&typeof window<"u"&&k&&window.open(k.url,"_blank"))),x)),[A,R]=D.useState(()=>e.map(x=>({adapter:x,readyState:x.readyState})).filter(({readyState:x})=>x!==kt.Unsupported));D.useEffect(()=>{R(k=>e.map((I,C)=>{const j=k[C];return j&&j.adapter===I&&j.readyState===I.readyState?j:{adapter:I,readyState:I.readyState}}).filter(({readyState:I})=>I!==kt.Unsupported));function x(k){R(I=>{const C=I.findIndex(({adapter:P})=>P===this);if(C===-1)return I;const{adapter:j}=I[C];return[...I.slice(0,C),{adapter:j,readyState:k},...I.slice(C+1)].filter(({readyState:P})=>P!==kt.Unsupported)})}return e.forEach(k=>k.on("readyStateChange",x,k)),()=>{e.forEach(k=>k.off("readyStateChange",x,k))}},[n,e]);const W=D.useMemo(()=>A.find(x=>x.adapter===n)??null,[n,A]);D.useEffect(()=>{if(!n)return;const x=C=>{w(C),l.current=!1,d(!1),g(!0),h.current=!1,m(!1)},k=()=>{r.current||(w(null),l.current=!1,d(!1),g(!1),h.current=!1,m(!1))},I=C=>{_.current(C,n)};return n.on("connect",x),n.on("disconnect",k),n.on("error",I),()=>{n.off("connect",x),n.off("disconnect",k),n.off("error",I),k()}},[n,r]);const O=D.useRef(!1);D.useEffect(()=>()=>{O.current=!1},[n]),D.useEffect(()=>{O.current||l.current||b||!s||!((W==null?void 0:W.readyState)===kt.Installed||(W==null?void 0:W.readyState)===kt.Loadable)||(l.current=!0,d(!0),O.current=!0,async function(){try{await s()}catch{i()}finally{d(!1),l.current=!1}}())},[b,s,i,W]);const B=D.useCallback(async(x,k,I)=>{if(!n)throw _.current(new W2);if(!b)throw _.current(new lr,n);return await n.sendTransaction(x,k,I)},[n,b]),F=D.useMemo(()=>n&&"signTransaction"in n?async x=>{if(!b)throw _.current(new lr,n);return await n.signTransaction(x)}:void 0,[n,b]),U=D.useMemo(()=>n&&"signAllTransactions"in n?async x=>{if(!b)throw _.current(new lr,n);return await n.signAllTransactions(x)}:void 0,[n,b]),H=D.useMemo(()=>n&&"signMessage"in n?async x=>{if(!b)throw _.current(new lr,n);return await n.signMessage(x)}:void 0,[n,b]),V=D.useMemo(()=>n&&"signIn"in n?async x=>await n.signIn(x):void 0,[n]),M=D.useCallback(async()=>{if(l.current||h.current||W!=null&&W.adapter.connected)return;if(!W)throw _.current(new W2);const{adapter:x,readyState:k}=W;if(!(k===kt.Installed||k===kt.Loadable))throw _.current(new hd,x);l.current=!0,d(!0);try{await x.connect()}catch(I){throw i(),I}finally{d(!1),l.current=!1}},[i,W]),f=D.useCallback(async()=>{if(!h.current&&n){h.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),h.current=!1}}},[n]);return K.createElement(R4.Provider,{value:{autoConnect:!!s,wallets:A,wallet:W,publicKey:y,connected:b,connecting:c,disconnecting:p,select:a,connect:M,disconnect:f,sendTransaction:B,signTransaction:F,signAllTransactions:U,signMessage:H,signIn:V}},t)}let xg;function Uz(){var t;return xg===void 0&&(xg=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),xg}function nS(t){const e=Uz();return Wz({adapters:t,userAgentString:e})===Il.MOBILE_WEB}function Hz(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Vz({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=Hw(),o=Oz(e),a=D.useMemo(()=>{if(!nS(o))return null;const S=o.find(_=>_.name===Of);return S||new xz({addressSelector:wz(),appIdentity:{uri:Hz()},authorizationResultCache:vz(),cluster:Fz(i==null?void 0:i.rpcEndpoint),onWalletNotFound:bz()})},[o,i==null?void 0:i.rpcEndpoint]),l=D.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,d]=$L(r,null),h=D.useMemo(()=>l.find(S=>S.name===c)??null,[l,c]),p=D.useCallback(S=>{c!==S&&(h&&h.name!==Of&&h.disconnect(),d(S))},[h,d,c]);D.useEffect(()=>{if(!h)return;function S(){w.current||d(null)}return h.on("disconnect",S),()=>{h.off("disconnect",S)}},[h,o,d,c]);const m=D.useRef(!1),y=D.useMemo(()=>{if(!(!n||!h))return async()=>{(n===!0||await n(h))&&(m.current?await h.connect():await h.autoConnect())}},[n,h]),w=D.useRef(!1);D.useEffect(()=>{if(c===Of&&nS(o)){w.current=!1;return}function S(){w.current=!0}return window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)}},[o,c]);const b=D.useCallback(()=>{h&&p(null)},[h,p]),g=D.useCallback(S=>{m.current=!0,p(S)},[p]);return K.createElement($z,{wallets:l,adapter:h,isUnloadingRef:w,onAutoConnectRequest:y,onConnectError:b,onError:s,onSelectWallet:g},t)}const Kz="Phantom";class qz extends Zw{constructor(e={}){super(),this.name=Kz,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?kt.Unsupported:kt.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Kw),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new ue(n.toBytes())}catch(s){this.emit("error",new Ip(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==kt.Unsupported&&(I4()?(this._readyState=kt.Loadable,this.emit("readyStateChange",this._readyState)):M4(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=kt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===kt.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===kt.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==kt.Installed)throw new hd;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new Vw(s==null?void 0:s.message,s)}if(!n.publicKey)throw new qi;let r;try{r=new ue(n.publicKey.toBytes())}catch(s){throw new Ip(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new qw(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new lr;try{const{signers:i,...o}=r;ii(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof Xt?i:new Yi(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new lr;try{return await n.signTransaction(e)||e}catch(r){throw new si(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new lr;try{return await n.signAllTransactions(e)||e}catch(r){throw new si(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new lr;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Yw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const VA={setVisible(t){console.error(KA("call","setVisible"))},visible:!1};Object.defineProperty(VA,"visible",{get(){return console.error(KA("read","visible")),!1}});function KA(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const qA=D.createContext(VA);function YA(){return D.useContext(qA)}function Yz({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:l,wallets:c}=Hm();let d;r?d="connecting":n?d="connected":i?d="disconnecting":l?d="has-wallet":d="no-wallet";const h=D.useCallback(()=>{e().catch(()=>{})},[e]),p=D.useCallback(()=>{s().catch(()=>{})},[s]),m=D.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:d,onConnect:d==="has-wallet"?h:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?p:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const GA=t=>K.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&K.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&K.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),ZA=({wallet:t,...e})=>t&&K.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Gz({walletIcon:t,walletName:e,...n}){return K.createElement(GA,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?K.createElement(ZA,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Zz({children:t,labels:e,...n}){const{setVisible:r}=YA(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=Yz({onSelectWallet(){r(!0)}}),[d,h]=D.useState(!1),[p,m]=D.useState(!1),y=D.useRef(null);D.useEffect(()=>{const b=g=>{const S=y.current;!S||S.contains(g.target)||m(!1)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[]);const w=D.useMemo(()=>{if(t)return t;if(a){const b=a.toBase58();return b.slice(0,4)+".."+b.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return K.createElement("div",{className:"wallet-adapter-dropdown"},K.createElement(Gz,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},w),K.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:y,role:"menu"},a?K.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),h(!0),setTimeout(()=>h(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,K.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?K.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const rS=({id:t,children:e,expanded:n=!1})=>{const r=D.useRef(null),s=D.useRef(!0),i="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return D.useLayoutEffect(()=>{n?o():a()},[n]),D.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function d(h){l&&h.target===l&&h.propertyName==="height"&&c()}return s.current&&(c(),s.current=!1),l.addEventListener("transitionend",d),()=>l.removeEventListener("transitionend",d)},[n]),K.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},wg=({handleClick:t,tabIndex:e,wallet:n})=>K.createElement("li",null,K.createElement(GA,{onClick:t,startIcon:K.createElement(ZA,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===kt.Installed&&K.createElement("span",null,"Detected"))),Xz=()=>K.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),K.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),K.createElement("g",{clipPath:"url(#clip0_880_5115)"},K.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),K.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),K.createElement("defs",null,K.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#9945FF"}),K.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),K.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),K.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),K.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),K.createElement("stop",{offset:"1",stopColor:"#00D18C"})),K.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#9945FF"}),K.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),K.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),K.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),K.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),K.createElement("stop",{offset:"1",stopColor:"#00D18C"})),K.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#9945FF"}),K.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),K.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),K.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),K.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),K.createElement("stop",{offset:"1",stopColor:"#00D18C"})),K.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#9945FF"}),K.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),K.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),K.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),K.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),K.createElement("stop",{offset:"1",stopColor:"#00D18C"})),K.createElement("clipPath",{id:"clip0_880_5115"},K.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Qz=({className:t="",container:e="body"})=>{const n=D.useRef(null),{wallets:r,select:s}=Hm(),{setVisible:i}=YA(),[o,a]=D.useState(!1),[l,c]=D.useState(!1),[d,h]=D.useState(null),[p,m]=D.useMemo(()=>{const _=[],A=[];for(const R of r)R.readyState===kt.Installed?_.push(R):A.push(R);return _.length?[_,A]:[A,[]]},[r]),y=D.useCallback(()=>{c(!1),setTimeout(()=>i(!1),150)},[i]),w=D.useCallback(_=>{_.preventDefault(),y()},[y]),b=D.useCallback((_,A)=>{s(A),w(_)},[s,w]),g=D.useCallback(()=>a(!o),[o]),S=D.useCallback(_=>{const A=n.current;if(!A)return;const R=A.querySelectorAll("button"),W=R[0],O=R[R.length-1];_.shiftKey?document.activeElement===W&&(O.focus(),_.preventDefault()):document.activeElement===O&&(W.focus(),_.preventDefault())},[n]);return D.useLayoutEffect(()=>{const _=R=>{R.key==="Escape"?y():R.key==="Tab"&&S(R)},{overflow:A}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=A,window.removeEventListener("keydown",_,!1)}},[y,S]),D.useLayoutEffect(()=>h(document.querySelector(e)),[e]),d&&bN.createPortal(K.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},K.createElement("div",{className:"wallet-adapter-modal-container"},K.createElement("div",{className:"wallet-adapter-modal-wrapper"},K.createElement("button",{onClick:w,className:"wallet-adapter-modal-button-close"},K.createElement("svg",{width:"14",height:"14"},K.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?K.createElement(K.Fragment,null,K.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),K.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(_=>K.createElement(wg,{key:_.adapter.name,handleClick:A=>b(A,_.adapter.name),wallet:_})),m.length?K.createElement(rS,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(_=>K.createElement(wg,{key:_.adapter.name,handleClick:A=>b(A,_.adapter.name),tabIndex:o?0:-1,wallet:_}))):null),m.length?K.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:g,tabIndex:0},K.createElement("span",null,o?"Less ":"More ","options"),K.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},K.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):K.createElement(K.Fragment,null,K.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),K.createElement("div",{className:"wallet-adapter-modal-middle"},K.createElement(Xz,null)),m.length?K.createElement(K.Fragment,null,K.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:g,tabIndex:0},K.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),K.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},K.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),K.createElement(rS,{expanded:o,id:"wallet-adapter-modal-collapse"},K.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(_=>K.createElement(wg,{key:_.adapter.name,handleClick:A=>b(A,_.adapter.name),tabIndex:o?0:-1,wallet:_}))))):null))),K.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:w})),d)},Jz=({children:t,...e})=>{const[n,r]=D.useState(!1);return K.createElement(qA.Provider,{value:{visible:n,setVisible:r}},t,n&&K.createElement(Qz,{...e}))},e7={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function t7(t){return K.createElement(Zz,{...t,labels:e7})}require("@solana/wallet-adapter-react-ui/styles.css");const n7=D.createContext({}),r7=({children:t})=>{const e=Tp.Devnet,n=D.useMemo(()=>A4(e),[e]),r=D.useMemo(()=>[new qz],[]);return u.jsx(AL,{endpoint:n,children:u.jsx(Vz,{wallets:r,autoConnect:!0,children:u.jsx(Jz,{children:u.jsx(n7.Provider,{value:{},children:t})})})})},s7=()=>{const t=Sa(),{accentColor:e}=Qj(),[n,r]=D.useState(!1),s=D.useRef(null);D.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const i=[{name:"DISCOVER",path:"/discover"},{name:"TERMINAL",path:"/pro-terminal"},{name:"STRATEGY",path:"/strategy-builder"},{name:"INSIGHTS",path:"/tracker"},{name:"PERPETUALS",path:"/perpetuals"},{name:"PORTFOLIO",path:"/portfolio"}],o=()=>{r(!n)},a=()=>{r(!1)};return u.jsx("header",{className:"header",children:u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{className:"header-left",children:[u.jsx(Mu,{to:"/",className:"logo-link",children:u.jsx("div",{className:"logo-container",children:u.jsx("img",{src:"/White 3d Logo.png",alt:"Cyphr Logo",className:"logo-image",onLoad:()=>console.log("Logo loaded successfully"),onError:l=>console.error("Logo failed to load:",l)})})}),u.jsx("nav",{className:"navigation desktop-nav",children:i.map(l=>u.jsx(Mu,{to:l.path,className:`nav-link ${t.pathname===l.path?"active":""}`,children:l.name},l.name))})]}),u.jsxs("div",{className:"header-right",children:[u.jsx("button",{className:"deposit-button",children:"Deposit"}),u.jsxs("button",{className:"action-button star-button",children:[u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),u.jsx("span",{className:"notification-badge",children:"1"})]}),u.jsxs("div",{className:"money-bag",children:[u.jsx("svg",{className:"money-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"})}),u.jsx("span",{className:"money-amount",children:"$0.07"})]}),u.jsxs("div",{className:"profile-dropdown-container",ref:s,children:[u.jsx("button",{className:`action-button profile-button ${n?"active":""}`,onClick:o,children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),u.jsxs("div",{className:`profile-dropdown ${n?"open":""}`,children:[u.jsxs(Mu,{to:"/dashboard",className:"dropdown-item",onClick:a,children:[u.jsx("svg",{className:"dropdown-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),"Dashboard"]}),u.jsxs("button",{className:"dropdown-item",children:[u.jsx("svg",{className:"dropdown-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})}),"Settings"]})]})]})]})]})})},i7=()=>u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-content",children:[u.jsx("div",{className:"footer-left",children:u.jsxs("div",{className:"footer-brand",children:[u.jsx("span",{className:"brand-name",children:"Cyphr"}),u.jsx("span",{className:"brand-version",children:"v1.0"})]})}),u.jsxs("div",{className:"footer-center",children:[u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/WalletIcon.png",alt:"Wallet",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Wallet Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PhoneIcon.png",alt:"Phone",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Twitter Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PulseIcon.png",alt:"Pulse",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Pulse Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PNLIcon.png",alt:"PnL",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"PnL Tracker"]})]}),u.jsxs("div",{className:"footer-right",children:[u.jsx("div",{className:"footer-balance",children:u.jsx("span",{className:"balance-amount",children:"$186.9"})}),u.jsxs("div",{className:"connection-status",children:[u.jsx("div",{className:"status-indicator"}),u.jsx("span",{className:"status-text",children:"Connection is stable"})]}),u.jsxs("div",{className:"server-location",children:[u.jsx("span",{className:"location-text",children:"US-W"}),u.jsx("span",{className:"location-arrow",children:"▼"})]}),u.jsxs("div",{className:"footer-actions",children:[u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}),u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),u.jsx("button",{className:"action-button",children:u.jsxs("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),u.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})}),sa=({token:t,size:e="md",className:n=""})=>{const r={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"},s=i=>({CO:"https://picsum.photos/40/40?random=1",RIB:"https://picsum.photos/40/40?random=2",PER:"https://picsum.photos/40/40?random=3",PAC:"https://picsum.photos/40/40?random=4",MU:"https://picsum.photos/40/40?random=5",PR:"https://picsum.photos/40/40?random=6",DX:"https://picsum.photos/40/40?random=7",NY:"https://picsum.photos/40/40?random=8",SOL:"https://picsum.photos/40/40?random=9",ETH:"https://picsum.photos/40/40?random=10",BTC:"https://picsum.photos/40/40?random=11",PEPE:"https://picsum.photos/40/40?random=12",DOGE:"https://picsum.photos/40/40?random=13",SHIB:"https://picsum.photos/40/40?random=14",BONK:"https://picsum.photos/40/40?random=15",GNOME:"https://picsum.photos/40/40?random=16",GONK:"https://picsum.photos/40/40?random=17"})[i]||`https://picsum.photos/40/40?random=${i.charCodeAt(0)}`;return u.jsx("div",{className:`${r[e]} ${n}`,children:u.jsxs("div",{className:`${r[e]} rounded-full bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold shadow-lg border-2 border-cyphr-gray/20 overflow-hidden`,children:[t.icon?u.jsx("img",{src:t.icon,alt:t.name,className:"w-full h-full object-cover rounded-full"}):u.jsx("img",{src:s(t.symbol||t.name),alt:t.name,className:"w-full h-full object-cover rounded-full",onError:i=>{var o;i.currentTarget.style.display="none",(o=i.currentTarget.nextElementSibling)==null||o.classList.remove("hidden")}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold text-sm hidden",children:(t.symbol||t.name).charAt(0)})]})})},XA=({address:t,className:e=""})=>{const n=s=>s.length<=7?s:`${s.slice(0,4)}...${s.slice(-3)}`,r=async()=>{try{await navigator.clipboard.writeText(t)}catch(s){console.error("Failed to copy address:",s)}};return u.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[u.jsx("span",{className:"text-cyphr-gray font-sf-pro",children:n(t)}),u.jsx("img",{src:"/CopyIcon.png",alt:"Copy",width:"10",height:"10",onClick:r,className:"opacity-60 hover:opacity-80 transition-all duration-200 cursor-pointer",title:"Copy address"})]})},o7=()=>{const[t,e]=D.useState("trending"),[n,r]=D.useState("1m"),s=["1m","5m","30m","1h"],i=[{id:1,name:"CO",symbol:"CO",fullName:"AWZy",address:"0xAWZy123456789abcdef123456789abcdef123456",time:"8s",marketCap:"$64.3K",marketCapChange:"-2.45%",liquidity:"$19.8K",volume:"$19.2K",txns:"169",buyTxns:"100",sellTxns:"69",buyTax:"22.2%",sellTax:"1.53%",totalTax:"4.18%",paid:!1,paidAmount:"0.14%",holders:"389",supply:"214",badgeType:"swap"},{id:2,name:"RIB",symbol:"RIB",fullName:"3RxT",address:"0x3RxT456789abcdef123456789abcdef12345678",time:"19h",marketCap:"$1.29M",marketCapChange:"+2.062%",liquidity:"$74.6K",volume:"$26K",txns:"124",buyTxns:"68",sellTxns:"56",buyTax:"16.3%",sellTax:"6.27%",totalTax:"4.77%",paid:!0,paidAmount:"0%",holders:"3925",supply:"833",badgeType:"swap"},{id:3,name:"PER",symbol:"PER",fullName:"5mEC",address:"0x5mEC789abcdef123456789abcdef123456789ab",time:"5m",marketCap:"$57.5K",marketCapChange:"-24.2%",liquidity:"$15.9K",volume:"$12.9K",txns:"181",buyTxns:"91",sellTxns:"90",buyTax:"28.79%",sellTax:"0.07%",totalTax:"2.02%",paid:!1,paidAmount:"0%",holders:"442",supply:"221",badgeType:"trending"},{id:4,name:"PAC",symbol:"PAC",fullName:"24xh",address:"0x24xh456789abcdef123456789abcdef12345678",time:"17s",marketCap:"$12.9K",marketCapChange:"+7.893%",liquidity:"$8.6K",volume:"$6.38K",txns:"36",buyTxns:"28",sellTxns:"8",buyTax:"27.74%",sellTax:"0%",totalTax:"23.14%",paid:!1,paidAmount:"23.14%",holders:"23",supply:"14",badgeType:"trending"},{id:5,name:"MU",symbol:"MU",fullName:"5bqe",address:"0x5bqe456789abcdef123456789abcdef12345678",time:"11m",marketCap:"$34.1K",marketCapChange:"+8.368%",liquidity:"$13.7K",volume:"$1.34K",txns:"24",buyTxns:"18",sellTxns:"6",buyTax:"25.74%",sellTax:"0%",totalTax:"25.74%",paid:!1,paidAmount:"25.74%",holders:"89",supply:"45",badgeType:"swap"},{id:6,name:"PR",symbol:"PR",fullName:"22nF",address:"0x22nF456789abcdef123456789abcdef12345678",time:"3h",marketCap:"$1.8M",marketCapChange:"-5.2%",liquidity:"$95K",volume:"$67K",txns:"178",buyTxns:"92",sellTxns:"86",buyTax:"15.8%",sellTax:"9.1%",totalTax:"4.12%",paid:!1,paidAmount:"0.25%",holders:"3456",supply:"987",badgeType:"trending"},{id:7,name:"DX",symbol:"DX",fullName:"EZut",address:"0xEZut456789abcdef123456789abcdef12345678",time:"45m",marketCap:"$890K",marketCapChange:"+12.3%",liquidity:"$67K",volume:"$45K",txns:"123",buyTxns:"78",sellTxns:"45",buyTax:"8.9%",sellTax:"5.4%",totalTax:"2.78%",paid:!0,paidAmount:"0%",holders:"2345",supply:"567",badgeType:"trending"},{id:8,name:"NY",symbol:"NY",fullName:"FUrE",address:"0xFUrE456789abcdef123456789abcdef12345678",time:"1h",marketCap:"$1.2M",marketCapChange:"+7.8%",liquidity:"$89K",volume:"$67K",txns:"156",buyTxns:"89",sellTxns:"67",buyTax:"11.2%",sellTax:"7.1%",totalTax:"3.45%",paid:!1,paidAmount:"0.18%",holders:"3456",supply:"789",badgeType:"swap"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Discover"}),u.jsx("p",{className:"text-cyphr-gray",children:"Find the latest trending tokens and opportunities"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["trending","new","top","watchlist"].map(o=>u.jsx("button",{onClick:()=>e(o),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===o?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:o})},o))}),u.jsx("div",{className:"flex gap-2",children:s.map(o=>u.jsx("button",{onClick:()=>r(o),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===o?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:o},o))}),u.jsx("div",{className:"flex gap-2 ml-4",children:u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),u.jsx("span",{children:"Filter"}),u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("img",{src:"/SearchIcon.png",alt:"Search",className:"w-4 h-4",style:{marginRight:"8px"}}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("img",{src:"/WatchlistStar.png",alt:"Watchlist",className:"w-4 h-4",style:{marginRight:"8px"}}),"Watchlist"]})]})]}),u.jsx("div",{className:"ultra-premium-glass overflow-hidden animate-slide-up shadow-elite-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20",children:[u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Token"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Market Cap"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Liquidity"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Volume"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Txns"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Tax"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Paid"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Actions"})]})}),u.jsx("tbody",{children:i.map(o=>u.jsxs("tr",{className:"border-b border-cyphr-gray/10 hover:bg-cyphr-gray/5 transition-colors duration-300",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(sa,{token:{name:o.name,symbol:o.symbol||o.name},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-cyphr-white font-semibold text-base mb-1",children:["$",o.name]}),u.jsx("div",{className:"text-cyphr-gray text-sm mb-1",children:o.fullName}),u.jsx("div",{className:"mb-1",children:u.jsx(XA,{address:o.address,className:"text-xs"})}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.time," ago"]})]})]})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:o.marketCap}),u.jsx("div",{className:`text-xs ${o.marketCapChange.startsWith("+")?"text-green-500":"text-red-500"}`,children:o.marketCapChange})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-cyphr-white text-sm",children:o.liquidity})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-cyphr-white text-sm",children:o.volume})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-cyphr-white text-sm",children:o.txns}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.buyTxns," buy / ",o.sellTxns," sell"]})]}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-cyphr-white text-sm",children:o.totalTax}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.buyTax," / ",o.sellTax]})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o.paid?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[o.paid?"✓":"✗"," ",o.paidAmount]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Mu,{to:`/token/${o.id}`,className:"cyphr-button-primary px-3 py-1 text-xs font-semibold transition-all duration-300 hover:scale-105 no-underline",children:"View"}),u.jsx("button",{className:"cyphr-button px-3 py-1 text-xs font-semibold transition-all duration-300 hover:scale-105 flex items-center justify-center",children:u.jsx("img",{src:"/WatchlistStar.png",alt:"Watchlist",className:"w-4 h-4"})})]})})]},o.id))})]})})})]})},a7=()=>{const t=[{day:1,value:1e4},{day:2,value:10200},{day:3,value:10150},{day:4,value:10300},{day:5,value:10500},{day:6,value:10700},{day:7,value:11e3},{day:8,value:11200},{day:9,value:11500},{day:10,value:11800},{day:11,value:12e3},{day:12,value:12200},{day:13,value:12500},{day:14,value:12847}],e=400,n=120,r=20,s=e-r*2,i=n-r*2,o=Math.min(...t.map(h=>h.value)),l=Math.max(...t.map(h=>h.value))-o,c=t.map((h,p)=>{const m=r+p/(t.length-1)*s,y=r+i-(h.value-o)/l*i;return`${m},${y}`}).join(" "),d=[...c.split(" ").map(h=>h.replace(","," ")),`${e-r} ${n-r}`,`${r} ${n-r}`].join(" L ");return u.jsx("div",{className:"w-full h-32 relative",children:u.jsxs("svg",{width:e,height:n,className:"w-full h-full",viewBox:`0 0 ${e} ${n}`,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.1"})]}),u.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7"}),u.jsx("stop",{offset:"100%",stopColor:"#BD496F"})]})]}),u.jsx("path",{d:`M ${d}`,fill:"url(#chartGradient)",opacity:"0.3"}),u.jsx("polyline",{points:c,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((h,p)=>{const m=r+p/(t.length-1)*s,y=r+i-(h.value-o)/l*i;return p>=t.length-3?u.jsx("circle",{cx:m,cy:y,r:"3",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"1"},p):null}),u.jsx("text",{x:e-r-5,y:r+15,textAnchor:"end",fill:"#6D8FC7",fontSize:"12",fontWeight:"600",fontFamily:"system-ui",children:"+$2,847"})]})})},l7=()=>{const[t,e]=D.useState("SOL"),[n,r]=D.useState("100"),s={totalValue:"$12,847.32",change24h:"+$1,234.56",changePercent:"+10.6%",tokens:[{name:"SOL",amount:"45.2",value:"$8,456.32",change:"+15.2%",color:"#6D8FC7"},{name:"ETH",amount:"2.1",value:"$3,234.00",change:"+8.7%",color:"#bd496f"},{name:"BTC",amount:"0.12",value:"$1,157.00",change:"+5.4%",color:"#a6a6a6"}]},i=[{token:"PEPE",signal:"BUY",strength:"Strong",price:"$0.00001234",change:"+23.4%",time:"2m ago"},{token:"DOGE",signal:"SELL",strength:"Medium",price:"$0.0789",change:"-5.2%",time:"5m ago"},{token:"SHIB",signal:"HOLD",strength:"Weak",price:"$0.00002345",change:"+1.8%",time:"8m ago"},{token:"BONK",signal:"BUY",strength:"Strong",price:"$0.00004567",change:"+45.6%",time:"12m ago"}],o=[{name:"SOL",price:"$187.23",change:"+2.4%"},{name:"ETH",price:"$1,540.00",change:"+1.8%"},{name:"BTC",price:"$9,641.67",change:"+0.9%"},{name:"PEPE",price:"$0.00001234",change:"+23.4%"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Dashboard"}),u.jsx("p",{className:"text-cyphr-gray",children:"Your trading overview and portfolio"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-cyphr-gray font-sf-pro text-sm font-semibold tracking-wide",children:"TOTAL PORTFOLIO"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{d:"M8 12h4a2 2 0 100-4h-1a2 2 0 110-4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})]})})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-2xl font-bold text-cyphr-white font-nulshock",children:s.totalValue}),u.jsx("div",{className:"text-cyphr-teal font-semibold text-base",children:s.change24h})]}),u.jsxs("div",{className:"text-cyphr-teal font-sf-pro text-sm font-semibold",children:[s.changePercent," today"]})]}),u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-2 shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Portfolio Performance"}),u.jsx("div",{className:"flex gap-2",children:["1D","1W","1M","3M","1Y"].map(a=>u.jsx("button",{className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:a},a))})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(a7,{})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Live Signals"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("polyline",{points:"13 2 13 9 20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("polyline",{points:"11 22 11 15 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("polyline",{points:"20 9 20 20 4 20 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.jsx("div",{className:"space-y-3",children:i.map((a,l)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${a.signal==="BUY"?"bg-cyphr-teal":a.signal==="SELL"?"bg-cyphr-pink":"bg-cyphr-gray"}`}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-sm",children:a.token}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[a.strength," ",a.signal]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.price}),u.jsx("div",{className:`text-xs font-semibold ${a.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.change}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:a.time})]})]},l))})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Quick Trade"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M13 2L13 9L20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M11 22L11 15L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M20 9L20 20L4 20L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Select Token"}),u.jsx("select",{value:t,onChange:a=>e(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:o.map(a=>u.jsxs("option",{value:a.name,children:[a.name," - ",a.price," (",a.change,")"]},a.name))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:n,onChange:a=>r(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(a=>u.jsxs("button",{onClick:()=>r(a),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",a]},a))}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{className:"px-4 py-2 bg-cyphr-teal text-cyphr-black rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Buy"}),u.jsx("button",{className:"px-4 py-2 bg-cyphr-pink text-cyphr-white rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Sell"})]})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Token Holdings"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{d:"M16 3v4M8 3v4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]}),u.jsx("div",{className:"space-y-3",children:s.tokens.map((a,l)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(sa,{token:{name:a.name,symbol:a.name},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:a.name}),u.jsxs("div",{className:"text-cyphr-gray text-sm",children:[a.amount," tokens"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.value}),u.jsx("div",{className:"text-cyphr-teal text-xs font-semibold",children:a.change})]})]},l))})]})]})]})},c7=({pair:t,timeframe:e})=>{const[n,r]=D.useState([]),s=(O,B)=>{const F=[],U=Date.now(),H=e==="1m"?6e4:e==="5m"?3e5:e==="15m"?9e5:e==="1h"?36e5:e==="4h"?144e5:864e5;let V=O;for(let M=50;M>=0;M--){const f=U-M*H,x=V,k=(Math.random()-.5)*B*V,I=Math.max(x+k,O*.8),C=Math.abs(I-x)*(1+Math.random()*2),j=Math.max(x,I)+C*Math.random(),P=Math.min(x,I)-C*Math.random(),T=Math.random()*1e6+1e5;F.push({time:f,open:x,high:j,low:P,close:I,volume:T}),V=I}return F};D.useEffect(()=>{const B={"SOL/USD":{basePrice:187.23,volatility:.02},"ETH/USD":{basePrice:1540,volatility:.015},"BTC/USD":{basePrice:9641.67,volatility:.012},"PEPE/USD":{basePrice:1234e-8,volatility:.08}}[t];B&&r(s(B.basePrice,B.volatility))},[t,e]);const i=800,o=500,a=60,l=80;if(n.length===0)return null;const c=i-a*2,d=o-a*2-l,h=n.flatMap(O=>[O.high,O.low]),p=Math.min(...h),m=Math.max(...h),y=m-p,w=Math.max(...n.map(O=>O.volume));Math.min(...n.map(O=>O.volume));const b=c/n.length*.8,g=c/n.length,S=n[n.length-1],_=n[n.length-2],A=S.close-((_==null?void 0:_.close)||S.open),R=A/((_==null?void 0:_.close)||S.open)*100,W=n.slice(-20).reduce((O,B)=>O+B.close,0)/Math.min(20,n.length);return n.slice(-50).reduce((O,B)=>O+B.close,0)/Math.min(50,n.length),u.jsx("div",{className:"w-full",children:u.jsxs("svg",{width:i,height:o,className:"w-full h-full",viewBox:`0 0 ${i} ${o}`,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:`candleGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.3"})]}),u.jsxs("linearGradient",{id:`volumeGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.6"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.2"})]})]}),[0,1,2,3,4].map(O=>u.jsx("line",{x1:a,y1:a+O*d/4,x2:i-a,y2:a+O*d/4,stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},`grid-${O}`)),[0,1,2,3,4].map(O=>{const B=m-O*y/4;return u.jsxs("text",{x:a-10,y:a+O*d/4+4,textAnchor:"end",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["$",B.toFixed(t==="PEPE/USD"?8:2)]},`price-${O}`)}),n.map((O,B)=>{if(B<19)return null;const F=a+B*g+g/2,U=a+d-(W-p)/y*d;return u.jsx("circle",{cx:F,cy:U,r:"1",fill:"#FFD700",opacity:"0.8"},`sma20-${B}`)}),n.map((O,B)=>{const F=a+B*g+(g-b)/2,U=O.close>=O.open,H=a+d-(Math.max(O.open,O.close)-p)/y*d,M=a+d-(Math.min(O.open,O.close)-p)/y*d-H,f=a+d-(O.high-p)/y*d,x=a+d-(O.low-p)/y*d;return u.jsxs("g",{children:[u.jsx("line",{x1:F+b/2,y1:f,x2:F+b/2,y2:x,stroke:U?"#6D8FC7":"#BD496F",strokeWidth:"1"}),u.jsx("rect",{x:F,y:H,width:b,height:Math.max(M,1),fill:U?"#6D8FC7":"#BD496F",stroke:U?"#6D8FC7":"#BD496F",strokeWidth:"1"})]},B)}),n.map((O,B)=>{const F=a+B*g+(g-b)/2,U=O.volume/w*60,H=o-a-U,V=O.close>=O.open;return u.jsx("rect",{x:F,y:H,width:b,height:U,fill:V?"#6D8FC7":"#BD496F",opacity:"0.3"},`volume-${B}`)}),u.jsx("line",{x1:a,y1:a+d-(S.close-p)/y*d,x2:i-a,y2:a+d-(S.close-p)/y*d,stroke:"rgba(109, 146, 203, 0.5)",strokeWidth:"1",strokeDasharray:"5,5"}),u.jsx("circle",{cx:i-a,cy:a+d-(S.close-p)/y*d,r:"4",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"2"}),u.jsxs("text",{x:i-a+10,y:a+d-(S.close-p)/y*d,textAnchor:"start",fill:"#6D8FC7",fontSize:"14",fontWeight:"600",fontFamily:"system-ui",children:["$",S.close.toFixed(t==="PEPE/USD"?8:2)]}),u.jsxs("text",{x:i-a+10,y:a+d-(S.close-p)/y*d+20,textAnchor:"start",fill:A>=0?"#6D8FC7":"#BD496F",fontSize:"12",fontWeight:"500",fontFamily:"system-ui",children:[A>=0?"+":"",R.toFixed(2),"%"]}),u.jsxs("text",{x:i-a+10,y:o-a-40,textAnchor:"start",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["Vol: ",S.volume.toLocaleString()]}),[0,12,25,37,50].map(O=>{var U;const F=new Date(((U=n[O])==null?void 0:U.time)||Date.now()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return u.jsx("text",{x:a+O*g+g/2,y:o-a+15,textAnchor:"middle",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:F},`time-${O}`)})]})})},u7=()=>{const[t,e]=D.useState("SOL/USD"),[n,r]=D.useState("market"),[s,i]=D.useState("buy"),[o,a]=D.useState("100"),[l,c]=D.useState("10x"),[d,h]=D.useState("1m"),[p,m]=D.useState(!1),y=[{pair:"SOL/USD",price:"$187.23",change:"+2.4%",volume:"$45.2M"},{pair:"ETH/USD",price:"$1,540.00",change:"+1.8%",volume:"$23.1M"},{pair:"BTC/USD",price:"$9,641.67",change:"+0.9%",volume:"$67.8M"},{pair:"PEPE/USD",price:"$0.00001234",change:"+23.4%",volume:"$12.8M"}],w=[{price:"187.25",size:"1,234",total:"1,234",side:"sell"},{price:"187.24",size:"2,156",total:"3,390",side:"sell"},{price:"187.23",size:"3,421",total:"6,811",side:"sell"},{price:"187.22",size:"892",total:"7,703",side:"sell"},{price:"187.21",size:"1,567",total:"9,270",side:"sell"},{price:"187.20",size:"2,345",total:"11,615",side:"buy"},{price:"187.19",size:"1,789",total:"13,404",side:"buy"},{price:"187.18",size:"3,156",total:"16,560",side:"buy"},{price:"187.17",size:"2,234",total:"18,794",side:"buy"},{price:"187.16",size:"1,567",total:"20,361",side:"buy"}],b=[{price:"187.23",size:"45.2",side:"buy",time:"12:34:56"},{price:"187.22",size:"23.1",side:"sell",time:"12:34:52"},{price:"187.24",size:"67.8",side:"buy",time:"12:34:48"},{price:"187.21",size:"12.8",side:"sell",time:"12:34:44"},{price:"187.25",size:"34.5",side:"buy",time:"12:34:40"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Perpetuals"}),u.jsx("p",{className:"text-cyphr-gray",children:"Trade with leverage and advanced order types"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(g=>u.jsx("button",{onClick:()=>e(g.pair),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===g.pair?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold",children:g.pair}),u.jsx("div",{className:"text-xs",children:g.price}),u.jsx("div",{className:`text-xs ${g.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:g.change})]})},g.pair))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Indicators"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Settings"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-3 shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:[t," Chart"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-cyphr-gray",children:[u.jsx("span",{children:"MA20"}),u.jsx("div",{className:"w-3 h-0.5 bg-yellow-400"}),u.jsx("span",{children:"Volume"}),u.jsx("div",{className:"w-3 h-0.5 bg-cyphr-teal opacity-30"})]})]}),u.jsx("div",{className:"flex gap-2",children:["1m","5m","15m","1h","4h","1d"].map(g=>u.jsx("button",{onClick:()=>h(g),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${d===g?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:g},g))})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(c7,{pair:t,timeframe:d})})]}),u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order Form"}),u.jsx("button",{onClick:()=>m(!p),className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs",children:p?"Simple":"Advanced"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Order Type"}),u.jsx("div",{className:"flex gap-2",children:["market","limit","stop"].map(g=>u.jsx("button",{onClick:()=>r(g),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${n===g?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Side"}),u.jsx("div",{className:"flex gap-2",children:["buy","sell"].map(g=>u.jsx("button",{onClick:()=>i(g),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${s===g?g==="buy"?"bg-green-600 text-white":"bg-red-600 text-white":"premium-nav-button text-cyphr-gray hover:text-cyphr-white"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:o,onChange:g=>a(g.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(g=>u.jsxs("button",{onClick:()=>a(g),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",g]},g))}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Leverage"}),u.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:["1x","2x","5x","10x","20x","50x","100x"].map(g=>u.jsx("option",{value:g,children:g},g))})]}),p&&u.jsxs("div",{className:"mb-4 space-y-3 p-3 rounded-lg bg-cyphr-black/20 border border-cyphr-gray/20",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Stop Loss"}),u.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Stop loss price"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Take Profit"}),u.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Take profit price"})]})]}),u.jsxs("button",{className:"w-full elite-button px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-white bg-gradient-to-r from-cyphr-teal to-cyphr-pink",children:["Execute ",s.charAt(0).toUpperCase()+s.slice(1)," Order"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Market Stats"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:"📊"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h High"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$192.45"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Low"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$181.20"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Volume"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$45.2M"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"Open Interest"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$12.8M"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"Funding Rate"}),u.jsx("span",{className:"text-cyphr-teal font-semibold",children:"+0.0125%"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Order Book"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:"📋"})]}),u.jsx("div",{className:"space-y-1",children:w.map((g,S)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:`font-mono ${g.side==="sell"?"text-red-400":"text-green-400"}`,children:g.price}),u.jsx("span",{className:"text-cyphr-white",children:g.size}),u.jsx("span",{className:"text-cyphr-gray",children:g.total})]},S))})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Recent Trades"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:"🔄"})]}),u.jsx("div",{className:"space-y-1",children:b.map((g,S)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:`font-mono ${g.side==="sell"?"text-red-400":"text-green-400"}`,children:g.price}),u.jsx("span",{className:"text-cyphr-white",children:g.size}),u.jsx("span",{className:"text-cyphr-gray",children:g.time})]},S))})]})]})]})},d7=()=>{var O;const[t,e]=D.useState("ai-insights"),[n,r]=D.useState("USDC"),[s,i]=D.useState(""),[o,a]=D.useState(!1),[l,c]=D.useState(""),[d,h]=D.useState(!1),[p,m]=D.useState([]),y=[{name:"Trades",icon:"☰",path:"trades"},{name:"My Holdings",icon:"💰",path:"holdings"},{name:"Token Details",icon:"⭐",path:"details"},{name:"AI Insights",icon:"🤖",path:"ai-insights"},{name:"Bubble Map",icon:"🌐",path:"bubble"}],w={USDC:{name:"USD Coin",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDtlv",bubbleConfig:{centralSize:80,clusters:{yellow:{count:8,sizeRange:[20,45],position:{x:[20,80],y:[30,70]}},purple:{count:6,sizeRange:[18,40],position:{x:[60,90],y:[10,50]}},pink:{count:4,sizeRange:[15,35],position:{x:[10,40],y:[60,90]}},blue:{count:5,sizeRange:[16,38],position:{x:[70,95],y:[60,90]}}},scattered:{count:35,sizeRange:[6,18]}}},SOL:{name:"Solana",address:"So11111111111111111111111111111111111111112",bubbleConfig:{centralSize:85,clusters:{yellow:{count:10,sizeRange:[22,48],position:{x:[15,85],y:[25,75]}},purple:{count:7,sizeRange:[20,42],position:{x:[55,95],y:[5,55]}},pink:{count:6,sizeRange:[18,38],position:{x:[5,45],y:[55,95]}},blue:{count:6,sizeRange:[19,40],position:{x:[65,95],y:[55,95]}}},scattered:{count:40,sizeRange:[6,20]}}},ETH:{name:"Ethereum",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",bubbleConfig:{centralSize:90,clusters:{yellow:{count:12,sizeRange:[25,50],position:{x:[10,90],y:[20,80]}},purple:{count:8,sizeRange:[22,45],position:{x:[50,95],y:[5,60]}},pink:{count:7,sizeRange:[20,42],position:{x:[5,50],y:[50,95]}},blue:{count:8,sizeRange:[21,44],position:{x:[55,95],y:[50,95]}}},scattered:{count:45,sizeRange:[6,22]}}},BONK:{name:"Bonk",address:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",bubbleConfig:{centralSize:70,clusters:{yellow:{count:6,sizeRange:[18,38],position:{x:[30,70],y:[35,65]}},purple:{count:4,sizeRange:[16,32],position:{x:[65,85],y:[20,50]}},pink:{count:3,sizeRange:[14,30],position:{x:[20,50],y:[65,85]}},blue:{count:4,sizeRange:[15,34],position:{x:[65,85],y:[65,85]}}},scattered:{count:25,sizeRange:[6,16]}}},PEPE:{name:"Pepe",address:"0x6982508145454Ce325dDbE47a25d4ec3d2311933",bubbleConfig:{centralSize:75,clusters:{yellow:{count:7,sizeRange:[20,40],position:{x:[25,75],y:[30,70]}},purple:{count:5,sizeRange:[18,35],position:{x:[60,90],y:[15,55]}},pink:{count:4,sizeRange:[16,32],position:{x:[15,50],y:[60,90]}},blue:{count:5,sizeRange:[17,36],position:{x:[65,90],y:[60,90]}}},scattered:{count:30,sizeRange:[6,18]}}},DOGE:{name:"Dogecoin",address:"0x3832d2F059E559F2088cd4e4d0d24290818Bbe3B",bubbleConfig:{centralSize:65,clusters:{yellow:{count:5,sizeRange:[16,32],position:{x:[35,65],y:[40,60]}},purple:{count:3,sizeRange:[14,28],position:{x:[65,85],y:[25,55]}},pink:{count:3,sizeRange:[12,26],position:{x:[25,55],y:[65,85]}},blue:{count:3,sizeRange:[15,30],position:{x:[65,85],y:[65,85]}}},scattered:{count:20,sizeRange:[6,14]}}}},b=B=>{r(B),i(""),a(!1)},g=async B=>{if(B.length<2){m([]);return}h(!0),await new Promise(U=>setTimeout(U,800));const F=[{name:`${B.toUpperCase()} Token`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:B.toUpperCase()},{name:`${B.toUpperCase()} Protocol`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${B.toUpperCase()}P`},{name:`${B.toUpperCase()} Finance`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${B.toUpperCase()}F`}];m(F),h(!1)},S=B=>{const F={centralSize:70+Math.random()*30,clusters:{yellow:{count:5+Math.floor(Math.random()*8),sizeRange:[15,40],position:{x:[20,80],y:[25,75]}},purple:{count:4+Math.floor(Math.random()*6),sizeRange:[12,35],position:{x:[60,90],y:[10,60]}},pink:{count:3+Math.floor(Math.random()*5),sizeRange:[10,30],position:{x:[10,50],y:[60,90]}},blue:{count:4+Math.floor(Math.random()*6),sizeRange:[12,32],position:{x:[65,95],y:[60,90]}}},scattered:{count:20+Math.floor(Math.random()*30),sizeRange:[5,18]}};return _(F)},_=(B,F)=>{const U=[];let H=1;U.push({id:H++,x:50,y:50,size:B.centralSize,color:"#6D8FC7",type:"central",isCentral:!0}),Object.entries(B.clusters).forEach(([V,M])=>{for(let f=0;f<M.count;f++){const x=M.position.x[0]+Math.random()*(M.position.x[1]-M.position.x[0]),k=M.position.y[0]+Math.random()*(M.position.y[1]-M.position.y[0]),I=M.sizeRange[0]+Math.random()*(M.sizeRange[1]-M.sizeRange[0]);U.push({id:H++,x,y:k,size:I,color:R(V),type:"connected",isCentral:!1})}});for(let V=0;V<B.scattered.count;V++)U.push({id:H++,x:Math.random()*100,y:Math.random()*100,size:B.scattered.sizeRange[0]+Math.random()*(B.scattered.sizeRange[1]-B.scattered.sizeRange[0]),color:R(["yellow","purple","pink","blue"][Math.floor(Math.random()*4)]),type:"scattered",isCentral:!1});return U},A=B=>{const F=w[B];return F?_(F.bubbleConfig):S()},R=B=>{var U;return((U={yellow:["#facc15","#fde047","#fef08a"],purple:["#c084fc","#d8b4fe","#e9d5ff"],pink:["#f472b6","#f9a8d4","#fbcfe8"],blue:["#60a5fa","#93c5fd","#bfdbfe"]}[B])==null?void 0:U[Math.floor(Math.random()*3)])||"#ffffff"};D.useEffect(()=>{r("USDC")},[]);const W=A(n);return console.log("Generated bubbles:",W),console.log("Bubble count:",W.length),console.log("Connected bubbles:",W.filter(B=>B.type==="connected").length),u.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-32 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Insights"}),u.jsx("p",{className:"text-cyphr-gray",children:"AI-powered analysis and market insights"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(B=>u.jsx("button",{onClick:()=>e(B.path),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===B.path?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"transition-transform duration-300 hover:scale-105",children:B.name})},B.path))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"AI Summary"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("p",{className:"text-cyphr-white text-xs leading-relaxed",children:["This token shows ",u.jsx("span",{className:"text-cyphr-teal font-medium",children:"medium risk"}),". Liquidity is mostly unlocked, and deployer has a 60% migration rate. 40% of supply is held by 3 wallets, 2 of which are new."]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-lg mb-6 flex items-center gap-3 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyphr-teal",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-cyphr-teal font-mono text-sm font-semibold",children:"Risk Level:"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-cyphr-teal rounded-full animate-pulse"}),u.jsx("span",{className:"text-cyphr-white text-sm font-medium font-mono",children:"Medium"})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Pool Overview"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Liquidity:"}),u.jsx("span",{className:"text-cyphr-white",children:"$2.4M"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Volume 24h:"}),u.jsx("span",{className:"text-cyphr-white",children:"$890K"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Holders:"}),u.jsx("span",{className:"text-cyphr-white",children:"1,247"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Liquidity Events"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Recent Add:"}),u.jsx("span",{className:"text-green-500",children:"+$450K"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Recent Remove:"}),u.jsx("span",{className:"text-red-500",children:"-$120K"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Net Change:"}),u.jsx("span",{className:"text-cyphr-teal",children:"+$330K"})]})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),"Who's In"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Top Holder:"}),u.jsx("span",{className:"text-cyphr-white",children:"15.2%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Top 10:"}),u.jsx("span",{className:"text-cyphr-white",children:"42.8%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"New Wallets:"}),u.jsx("span",{className:"text-cyphr-teal",children:"67%"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deployer Insights"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Migration Rate:"}),u.jsx("span",{className:"text-cyphr-white",children:"60%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Success Rate:"}),u.jsx("span",{className:"text-green-500",children:"78%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Avg Hold Time:"}),u.jsx("span",{className:"text-cyphr-white",children:"3.2 days"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Historical Liquidity Events"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"2h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$120K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"4h ago:"}),u.jsx("span",{className:"text-red-500",children:"-$80K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"6h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$200K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"8h ago:"}),u.jsx("span",{className:"text-red-500",children:"-$150K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"12h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$300K"})]})]})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a8 8 0 00-8 8c0 1.5.4 2.9 1.1 4.1a1 1 0 00.8.3h13.4a1 1 0 00.8-.3C17.6 13.9 18 12.5 18 11a8 8 0 00-8-8zm0 14a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"})}),"Interactive Bubble Map"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"1H"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"24H"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"7D"})]})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:s,onChange:B=>{i(B.target.value),g(B.target.value)},placeholder:"Search any token for holder distribution...",className:"w-full elite-input px-4 py-3 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm"}),d&&u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyphr-teal"})}),p.length>0&&s.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-cyphr-black/90 border border-cyphr-gray/30 rounded-lg z-50 max-h-48 overflow-y-auto",children:p.map((B,F)=>u.jsx("button",{onClick:()=>{c(B.symbol),i(B.name),m([]),r(B.symbol)},className:"w-full px-4 py-3 text-left hover:bg-cyphr-gray/20 transition-colors duration-200 border-b border-cyphr-gray/20 last:border-b-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:B.name}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:B.symbol})]}),u.jsxs("div",{className:"text-cyphr-gray text-xs font-mono",children:[B.address.slice(0,8),"..."]})]})},F))})]})}),u.jsx("div",{className:"flex items-center gap-4 mb-4",children:u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Object.keys(w).slice(0,6).map(B=>u.jsxs("button",{onClick:()=>b(B),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===B?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-gray/20 text-cyphr-gray hover:text-cyphr-white hover:bg-cyphr-gray/30"}`,children:[u.jsx(sa,{token:{name:B,symbol:B},size:"md"}),B]},B)),l&&u.jsxs("button",{onClick:()=>r(l),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===l?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink/20 text-cyphr-pink hover:bg-cyphr-pink/30 border border-cyphr-pink/30"}`,children:[u.jsx(sa,{token:{name:l,symbol:l},size:"md"}),l," 🔍"]})]})}),u.jsxs("div",{className:"relative w-full h-96 rounded-lg overflow-hidden",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.08) 0%, rgba(189,73,111,0.08) 100%)",border:"1px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.08)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[u.jsx("div",{className:"absolute top-4 left-4 z-20 bg-cyphr-black/80 backdrop-blur-md rounded-lg p-3 border border-cyphr-gray/30",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sa,{token:{name:n,symbol:n},size:"md"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white text-sm font-semibold",children:n}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:(O=w[n])==null?void 0:O.name})]})]})}),u.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2",children:[u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"1H"}),u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"24H"}),u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"7D"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("linearGradient",{id:"connectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.9)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(109,143,199,0.5)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0.1)"})]}),u.jsxs("radialGradient",{id:"bubbleGlow",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.4)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0)"})]})]}),(()=>{const B=W.find(F=>F.isCentral);return B?u.jsx("circle",{cx:`${B.x}%`,cy:`${B.y}%`,r:"80",fill:"url(#bubbleGlow)",opacity:"0.7"}):null})(),(()=>{const B=W.find(U=>U.isCentral),F=W.filter(U=>U.type==="connected"&&!U.isCentral);return B?F.slice(0,6).map((U,H)=>u.jsxs("g",{children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:`connection-glow-${H}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(45,186,161,0.3)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(45,186,161,0.1)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(45,186,161,0)"})]})}),u.jsx("line",{x1:`${B.x}%`,y1:`${B.y}%`,x2:`${U.x}%`,y2:`${U.y}%`,stroke:`url(#connection-glow-${H})`,strokeWidth:"8",opacity:"0.4"}),u.jsx("line",{x1:`${B.x}%`,y1:`${B.y}%`,x2:`${U.x}%`,y2:`${U.y}%`,stroke:"rgba(45,186,161,0.2)",strokeWidth:"1",opacity:"0.6"})]},`connection-indicator-${H}`)):null})()]}),W.map((B,F)=>u.jsxs("div",{className:"absolute rounded-full flex items-center justify-center text-white text-xs font-medium transition-all duration-700 hover:scale-125 cursor-pointer",style:{left:`${B.x}%`,top:`${B.y}%`,width:`${B.size}px`,height:`${B.size}px`,background:B.type==="central"?"radial-gradient(circle, rgba(45,186,161,1) 0%, rgba(45,186,161,0.9) 40%, rgba(45,186,161,0.6) 70%, rgba(45,186,161,0.2) 100%)":B.type==="connected"?`radial-gradient(circle, ${B.color} 0%, ${B.color}90 40%, ${B.color}60 70%, ${B.color}20 100%)`:`radial-gradient(circle, ${B.color} 0%, ${B.color}80 50%, ${B.color}40 80%, ${B.color}10 100%)`,transform:"translate(-50%, -50%)",boxShadow:B.type==="central"?"0 0 60px rgba(45,186,161,0.8), 0 0 120px rgba(45,186,161,0.4), 0 0 180px rgba(45,186,161,0.2)":B.type==="connected"?`0 0 ${B.size*1.5}px ${B.color}60, 0 0 ${B.size*2.2}px ${B.color}40`:`0 0 ${B.size*.8}px ${B.color}40`,opacity:B.type==="scattered"?.85:1,zIndex:B.type==="central"?50:B.type==="connected"?25:10,animation:`fadeInUp ${.3+F*.05}s ease-out forwards`,position:"absolute",pointerEvents:"auto"},children:[B.type==="central"&&u.jsxs("div",{className:"absolute inset-0 rounded-full flex items-center justify-center",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full opacity-95 shadow-lg"}),u.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/50 animate-pulse"}),u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/30 animate-ping",style:{animationDelay:"0.5s"}})]}),B.type==="connected"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/40 animate-ping",style:{animationDelay:`${F*.3}s`}}),u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${F*.2}s`}})]}),B.type==="scattered"&&u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${F*.4}s`}})]},B.id))]})]})]})]})},h7=()=>{const{id:t}=kj(),[e,n]=D.useState("overview"),[r,s]=D.useState("100"),[i,o]=D.useState("buy"),a={name:"PEPE",symbol:"PEPE",address:"0x6982508145454ce325ddbe47a25d4ec3d2311933",price:"$0.00001234",change24h:"+23.4%",marketCap:"$1.2B",volume24h:"$45.2M",liquidity:"$23.1M",holders:"125,432",totalSupply:"420,690,000,000,000",circulatingSupply:"420,690,000,000,000",buyTax:"2%",sellTax:"3%",description:"PEPE is a meme token inspired by the popular internet frog character. It has gained significant traction in the crypto community and continues to show strong momentum.",socialLinks:{website:"https://pepe.vip",telegram:"https://t.me/pepecoin",twitter:"https://twitter.com/pepecoineth",discord:"https://discord.gg/pepe"}},l=["1m","5m","15m","1h","4h","1d","1w"],c=[{time:"12:34:56",price:"0.00001234",amount:"1,234,567",side:"buy"},{time:"12:34:52",price:"0.00001233",amount:"2,345,678",side:"sell"},{time:"12:34:48",price:"0.00001235",amount:"3,456,789",side:"buy"},{time:"12:34:44",price:"0.00001232",amount:"4,567,890",side:"sell"},{time:"12:34:40",price:"0.00001236",amount:"5,678,901",side:"buy"}],d=[{range:"0-1K",count:"45,234",percentage:"36.1%"},{range:"1K-10K",count:"32,156",percentage:"25.7%"},{range:"10K-100K",count:"28,945",percentage:"23.1%"},{range:"100K-1M",count:"15,678",percentage:"12.5%"},{range:"1M+",count:"3,419",percentage:"2.7%"}];return console.log("Token ID:",t),u.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[u.jsx(sa,{token:{name:a.name,symbol:a.symbol},size:"lg"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-cyphr-white mb-2 font-nulshock",children:a.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-cyphr-gray font-sf-pro",children:[a.symbol," •"]}),u.jsx(XA,{address:a.address,className:"text-sm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.15) 0%, rgba(189,73,111,0.15) 100%)",border:"2px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.12)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Price"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-white mb-1",children:a.price}),u.jsx("div",{className:"text-cyphr-blue font-semibold",children:a.change24h})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Market Cap"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.marketCap})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Volume 24h"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.volume24h})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Holders"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.holders})]})]})]}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","trading","holders"].map(h=>u.jsx("button",{onClick:()=>n(h),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${e===h?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})}),e==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Token Information"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"ℹ️"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Total Supply"}),u.jsx("span",{className:"text-cyphr-white font-mono",children:a.totalSupply})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Circulating Supply"}),u.jsx("span",{className:"text-cyphr-white font-mono",children:a.circulatingSupply})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Buy Tax"}),u.jsx("span",{className:"text-cyphr-blue font-semibold",children:a.buyTax})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Sell Tax"}),u.jsx("span",{className:"text-cyphr-pink font-semibold",children:a.sellTax})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Liquidity"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:a.liquidity})]})]})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["About ",a.name]}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"📝"})]}),u.jsx("p",{className:"text-cyphr-gray leading-relaxed mb-6",children:a.description}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-cyphr-white font-semibold mb-3",children:"Social Links"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a.socialLinks).map(([h,p])=>u.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"elite-button flex items-center gap-2 p-3 rounded-lg transition-all duration-300 hover:scale-105 text-cyphr-gray",children:[u.jsx("span",{className:"text-cyphr-blue",children:h==="website"?"🌐":h==="telegram"?"📱":h==="twitter"?"🐦":"💬"}),u.jsx("span",{className:"text-cyphr-white capitalize",children:h})]},h))})]})]})]}),e==="chart"&&u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:[a.name," Price Chart"]}),u.jsx("div",{className:"flex gap-2",children:l.map(h=>u.jsx("button",{className:"elite-button px-3 py-1 rounded-lg text-xs font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:h},h))})]}),u.jsx("div",{className:"h-96 bg-gradient-to-br from-cyphr-blue/10 to-cyphr-pink/10 rounded-xl flex items-center justify-center border border-cyphr-gray/30",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-cyphr-gray text-6xl mb-4",children:"📈"}),u.jsx("div",{className:"text-cyphr-gray font-sf-pro text-xl",children:"Price Chart"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Interactive trading chart"})]})})]}),e==="trading"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["Trade ",a.name]}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"⚡"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:["buy","sell"].map(h=>u.jsx("button",{onClick:()=>o(h),className:`px-4 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${i===h?h==="buy"?"cyphr-button-primary":"cyphr-button-secondary":"elite-button text-cyphr-gray"}`,children:h.toUpperCase()},h))}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-cyphr-gray text-sm font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:r,onChange:h=>s(h.target.value),className:"w-full elite-input px-4 py-3 rounded-xl border border-cyphr-gray/30 focus:border-cyphr-blue text-cyphr-white bg-cyphr-black/50",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:["100","500","1000"].map(h=>u.jsxs("button",{onClick:()=>s(h),className:"elite-button px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:["$",h]},h))}),u.jsxs("button",{className:`w-full py-4 rounded-xl font-bold text-xl transition-all duration-300 hover:scale-105 ${i==="buy"?"cyphr-button-primary":"cyphr-button-secondary"}`,children:[i.toUpperCase()," ",a.name]})]}),u.jsxs("div",{className:"lg:col-span-2 cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Recent Trades"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"📋"})]}),u.jsx("div",{className:"space-y-2",children:c.map((h,p)=>u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${h.side==="buy"?"bg-cyphr-blue":"bg-cyphr-pink"}`}),u.jsx("span",{className:`font-mono font-semibold ${h.side==="buy"?"text-cyphr-blue":"text-cyphr-pink"}`,children:h.price})]}),u.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:h.amount}),u.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:h.time})]},p))})]})]}),e==="holders"&&u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Holder Distribution"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"👥"})]}),u.jsx("div",{className:"space-y-4",children:d.map((h,p)=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${p*60}, 70%, 60%)`}}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:h.range})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white",children:h.count}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:h.percentage})]})]},p))})]})]})},f7=()=>{const[t,e]=D.useState("active"),[n,r]=D.useState(null),s=[{id:"ORD-001",token:"PEPE",type:"BUY",amount:"1000",price:"$0.00001234",status:"pending",time:"2 minutes ago",progress:75},{id:"ORD-002",token:"DOGE",type:"SELL",amount:"500",price:"$0.0789",status:"executing",time:"5 minutes ago",progress:45},{id:"ORD-003",token:"SHIB",type:"BUY",amount:"2000",price:"$0.00002345",status:"pending",time:"8 minutes ago",progress:20}],i=[{id:"ORD-004",token:"PEPE",type:"BUY",amount:"500",price:"$0.00001230",status:"completed",time:"1 hour ago",executedPrice:"$0.00001232"},{id:"ORD-005",token:"DOGE",type:"SELL",amount:"1000",price:"$0.0790",status:"cancelled",time:"2 hours ago",executedPrice:null},{id:"ORD-006",token:"BONK",type:"BUY",amount:"1500",price:"$0.00004500",status:"completed",time:"3 hours ago",executedPrice:"$0.00004567"}],o={totalOrders:156,pendingOrders:8,totalVolume:"$45,234.56",successRate:"91.0%"};return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Orders"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your trading orders and view order history"})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Orders"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-white",children:o.totalOrders})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Success Rate"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-teal",children:o.successRate})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Volume"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:o.totalVolume})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Pending"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-pink",children:o.pendingOrders})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active","history"].map(a=>u.jsx("button",{onClick:()=>e(a),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===a?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:a})},a))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),t==="active"&&u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Active Orders"}),u.jsx("span",{className:"text-cyphr-teal text-lg",children:"⚡"})]}),s.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-cyphr-gray text-4xl mb-4",children:"📋"}),u.jsx("div",{className:"text-cyphr-gray font-sf-pro text-lg",children:"No active orders"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Your active orders will appear here"})]}):u.jsx("div",{className:"space-y-4",children:s.map(a=>u.jsxs("div",{className:"p-6 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(sa,{token:{name:a.token,symbol:a.token},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-lg mb-1",children:a.token}),u.jsxs("div",{className:"text-cyphr-gray text-sm",children:["Order #",a.id]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-lg font-bold ${a.type==="BUY"?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.type}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:a.time})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Amount"}),u.jsxs("div",{className:"font-bold text-cyphr-white",children:["$",a.amount]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Price"}),u.jsx("div",{className:"font-bold text-cyphr-white",children:a.price})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Status"}),u.jsx("div",{className:`font-semibold ${a.status==="pending"?"text-cyphr-pink":"text-cyphr-teal"}`,children:a.status.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Progress"}),u.jsxs("div",{className:"font-bold text-cyphr-white",children:[a.progress,"%"]})]})]}),u.jsx("div",{className:"w-full bg-cyphr-dark-gray rounded-full h-2 mb-4",children:u.jsx("div",{className:"bg-gradient-to-r from-cyphr-teal to-cyphr-pink h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Cancel Order"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Modify"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"View Details"})]})]},a.id))})]}),t==="history"&&u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order History"}),u.jsx("span",{className:"text-cyphr-teal text-lg",children:"📊"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b-2 border-cyphr-gray",children:[u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Order ID"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Token"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Type"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Amount"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Price"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Executed Price"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Time"})]})}),u.jsx("tbody",{children:i.map(a=>u.jsxs("tr",{className:"border-b border-cyphr-gray/30 hover:bg-cyphr-black/30 transition-all duration-200",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"font-mono text-cyphr-white text-sm",children:a.id})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-lg flex items-center justify-center text-cyphr-black font-bold text-sm shadow-lg",children:a.token.charAt(0)}),u.jsx("span",{className:"font-bold text-cyphr-white",children:a.token})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.type==="BUY"?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink text-cyphr-white"}`,children:a.type})}),u.jsxs("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:["$",a.amount]}),u.jsx("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:a.price}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.status==="completed"?"bg-cyphr-teal text-cyphr-black":a.status==="cancelled"?"bg-cyphr-pink text-cyphr-white":"bg-cyphr-gray text-cyphr-black"}`,children:a.status.toUpperCase()})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-cyphr-gray text-sm",children:a.executedPrice||"N/A"})}),u.jsx("td",{className:"px-6 py-4 text-cyphr-gray text-sm",children:a.time})]},a.id))})]})})]})]})},p7=()=>{const[t,e]=D.useState("wallets"),[n,r]=D.useState(""),s=[{id:1,name:"Axiom Main",address:"TzKG...h4W9",balance:"2.47",holdings:"12",color:"#ff6b35"},{id:2,name:"Trading Wallet",address:"Ax7K...mN3P",balance:"1.23",holdings:"8",color:"#6D8FC7"},{id:3,name:"Staking Pool",address:"Bx9L...qR5T",balance:"0.89",holdings:"5",color:"#bd496f"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Portfolio"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your wallets and track your investments"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(i=>u.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"Axiom Main"}),u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"2.47 SOL"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"cyphr-button-primary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:"+"}),"Add Wallet"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("img",{src:"/WalletIcon.png",alt:"Wallet",style:{width:"20px",height:"20px"}}),"Wallets"]})}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",placeholder:"Search by name or address...",value:n,onChange:i=>r(i.target.value),className:"elite-input w-full text-sm"})})}),u.jsx("div",{className:"space-y-4",children:s.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-cyphr-gray/20 hover:border-cyphr-teal/30 transition-all duration-300 cursor-pointer group",style:{background:"linear-gradient(135deg, rgba(45,186,161,0.05) 0%, rgba(189,73,111,0.05) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:i.color},children:i.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:i.name}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:i.address})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-cyphr-white font-semibold text-sm",children:[i.balance," SOL"]}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[i.holdings," holdings"]})]})]},i.id))})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📊"}),"Total Value"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),u.jsx("div",{className:"text-3xl font-bold text-cyphr-white mb-2",children:"$4.59"}),u.jsx("div",{className:"text-green-500 text-sm",children:"+12.5% (24h)"})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"⚡"}),"Recent Activity"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full flex items-center justify-center text-white text-xs font-bold",children:"B"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"Bought BONK"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"2 hours ago"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"+$0.23"}),u.jsx("div",{className:"text-green-500 text-xs",children:"+15.2%"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-pink to-cyphr-teal rounded-full flex items-center justify-center text-white text-xs font-bold",children:"S"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"Sold PEPE"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"5 hours ago"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"-$0.12"}),u.jsx("div",{className:"text-red-500 text-xs",children:"-8.7%"})]})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📈"}),"Performance"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),u.jsx("div",{className:"h-32 bg-gradient-to-r from-cyphr-teal/20 to-cyphr-pink/20 rounded-lg flex items-center justify-center",children:u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Chart placeholder"})})]})]})]})]})},m7=()=>{const[t,e]=D.useState("active"),[n,r]=D.useState("max"),s=["1d","7d","30d","max"];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Spot Trading"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your spot positions and trading history"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(i=>u.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),u.jsx("div",{className:"flex gap-2",children:s.map(i=>u.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:i.toUpperCase()},i))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:"Axiom Main"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"2.47"})]}),u.jsx("span",{className:"text-cyphr-gray",children:"▼"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm mb-1 font-semibold",children:"Balance"}),u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total Value: ",u.jsx("span",{className:"text-cyphr-teal",children:"$89.47"})]})]}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Unrealized PNL: ",u.jsx("span",{className:"text-cyphr-teal",children:"+$12.34"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Available Balance: ",u.jsx("span",{className:"text-cyphr-teal",children:"$77.13"})]})})]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Realized PNL"})}),u.jsxs("div",{className:"h-40 bg-gradient-to-br from-cyphr-pink/5 to-cyphr-teal/5 rounded-lg flex items-center justify-center relative border border-cyphr-gray/20",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-cyphr-pink/20 via-cyphr-pink/10 to-transparent transform rotate-12 rounded-lg"})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-cyphr-pink to-transparent transform rotate-12"})}),u.jsx("div",{className:"absolute bottom-3 left-3 text-cyphr-gray text-xl",children:"📊"})]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Performance"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-colors p-1 rounded hover:bg-cyphr-black/30",children:"📤"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total PNL: ",u.jsx("span",{className:"text-cyphr-teal",children:"+$23.67"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total TXNS: ",u.jsx("span",{className:"text-cyphr-teal",children:"47 / 23"})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold",children:"PNL Distribution"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🟢 >500%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"3"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🟢 200% ~ 500%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"8"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🟢 0% ~ 200%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"12"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🔴 0% ~ -50%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"4"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🔴 < -50%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"2"})]})]}),u.jsx("div",{className:"w-full h-1 bg-cyphr-black/30 rounded-full mt-2 border border-cyphr-gray/20",children:u.jsx("div",{className:"w-4/5 h-1 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full shadow-lg"})})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active positions","history","top 100"].map(i=>u.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[u.jsx("input",{type:"text",placeholder:"Search by name or address",className:"elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white placeholder-cyphr-gray"}),u.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Show Hidden"}),u.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"↑↓ USD"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsx("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:u.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Bought"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Sold"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Remaining ↓"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"PNL"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Action"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"S"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"SOL"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"Solana"})]})]})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$22.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$12.34"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-pink to-cyphr-teal rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"B"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"BONK"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"Bonk"})]})]})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$0"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$8.90"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]})]})]})})}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Activity"})}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Type"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Amount ⓘ"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Market Cap ⓘ"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Age"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"SOL"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.5B"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"2h ago"})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-pink/20 text-cyphr-pink",children:"SELL"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"4h ago"})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"6h ago"})]})]})]})})]})]})]})]})},g7=()=>{const[t,e]=D.useState(null),[n,r]=D.useState("overview"),[s,i]=D.useState("1D"),[o,a]=D.useState([]),[l,c]=D.useState(""),[d,h]=D.useState(!1),[p,m]=D.useState([]),[y,w]=D.useState(!1),[b,g]=D.useState(""),[S,_]=D.useState(!0);D.useEffect(()=>{const f="Cyphr Terminal";let x=0;const k=setInterval(()=>{x<f.length?(g(f.slice(0,x+1)),x++):(_(!1),clearInterval(k))},150);return()=>clearInterval(k)},[]);const A=[{symbol:"SOL",name:"Solana",price:177.45,change24h:5.67,volume24h:284e7,marketCap:45e9,holders:125e4,riskLevel:"Medium",liquidityEvents:[{type:"Large Buy",amount:5e5,timestamp:"2h ago",impact:"Positive"},{type:"Whale Movement",amount:12e5,timestamp:"6h ago",impact:"Neutral"},{type:"Liquidity Added",amount:8e5,timestamp:"12h ago",impact:"Positive"},{type:"Institutional Inflow",amount:25e5,timestamp:"1h ago",impact:"Positive"}],aiInsights:[{type:"Bullish",confidence:78,analysis:"Strong momentum with increasing volume and institutional buying pressure. RSI showing bullish divergence.",recommendation:"Consider long position with tight stop loss at $95.20"},{type:"Neutral",confidence:65,analysis:"Technical indicators show consolidation near resistance. MACD histogram flattening.",recommendation:"Wait for breakout confirmation above $100 resistance"},{type:"Bullish",confidence:82,analysis:"On-chain metrics show strong accumulation by smart money. Network activity increasing.",recommendation:"Accumulate on dips, target $110-115 range"}]}],R=async f=>{if(!f.trim())return[];h(!0);try{const k=await(await fetch(`https://api.coingecko.com/api/v3/search?query=${encodeURIComponent(f)}`)).json();if(k.coins&&k.coins.length>0){const I=k.coins.slice(0,5),C=I.map(v=>v.id).join(","),P=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${C}&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true&include_market_cap=true`)).json();return I.map(v=>{const L=P[v.id];return{id:v.id,symbol:v.symbol.toUpperCase(),name:v.name,price:(L==null?void 0:L.usd)||0,change24h:(L==null?void 0:L.usd_24h_change)||0,volume24h:(L==null?void 0:L.usd_24h_vol)||0,marketCap:(L==null?void 0:L.usd_market_cap)||0,image:v.large,contractAddress:v.contract_address||null}})}}catch(x){console.log("API error, using mock data:",x)}return h(!1),[]},W=async f=>{if(c(f),f.trim().length>=2){w(!0);const x=await R(f);m(x)}else m([]),w(!1);h(!1)},O=()=>{c(""),m([]),w(!1)},B=async f=>{h(!0);try{const x={symbol:f.symbol,name:f.name,price:f.price,change24h:f.change24h,volume24h:f.volume24h,marketCap:f.marketCap,holders:Math.floor(Math.random()*1e6)+1e5,riskLevel:f.change24h>10?"High":f.change24h>5?"Medium":"Low",liquidityEvents:[{type:"Recent Trade",amount:f.volume24h*.01,timestamp:"5m ago",impact:"Positive"},{type:"Volume Spike",amount:f.volume24h*.02,timestamp:"15m ago",impact:"Neutral"}],aiInsights:[{type:f.change24h>0?"Bullish":"Bearish",confidence:Math.abs(f.change24h)>10?85:65,analysis:`Price showing ${f.change24h>0?"strong upward":"downward"} momentum with ${f.volume24h>1e6?"high":"moderate"} volume.`,recommendation:f.change24h>0?"Consider long position with stop loss":"Monitor for reversal signals"}]};e(x),a(F(f.symbol,s)),c(f.symbol),m([]),w(!1),setTimeout(()=>{a(F(f.symbol,s))},100)}catch(x){console.log("Error selecting token:",x)}h(!1)},F=(f,x)=>{const k=[];let j=100,P=15*60*1e3;switch(x){case"1H":j=60,P=1*60*1e3;break;case"4H":j=240,P=1*60*1e3;break;case"1D":j=144,P=10*60*1e3;break;case"1W":j=168,P=1*60*60*1e3;break;case"1M":j=30,P=24*60*60*1e3;break}let T=98;const v=Date.now();for(let L=0;L<j;L++){const X=v-(j-L)*P,Z=(Math.random()-.5)*.05*T,te=T,ne=T+Z,le=Math.max(te,ne)+Math.random()*.05*T*.5,ce=Math.min(te,ne)-Math.random()*.05*T*.5,pe=Math.random()*1e6+5e5;k.push({timestamp:X,open:te,high:le,low:ce,close:ne,volume:pe}),T=ne}return k};D.useEffect(()=>{const f=A.find(x=>x.symbol==="SOL");f&&(e(f),a(F("SOL",s)))},[]),D.useEffect(()=>{t&&a(F(t.symbol,s))},[s,t]),D.useEffect(()=>{const f=setTimeout(()=>{l&&l!==(t==null?void 0:t.symbol)&&l.trim().length>=2&&W(l)},500);return()=>clearTimeout(f)},[l]);const U=f=>f>=1e9?(f/1e9).toFixed(2)+"B":f>=1e6?(f/1e6).toFixed(2)+"M":f>=1e3?(f/1e3).toFixed(2)+"K":f.toFixed(2),H=f=>{switch(f){case"Low":return"text-green-400";case"Medium":return"text-yellow-400";case"High":return"text-red-400";default:return"text-gray-400"}},V=f=>{switch(f){case"Bullish":return"text-green-400";case"Bearish":return"text-red-400";case"Neutral":return"text-blue-400";default:return"text-gray-400"}},M=({data:f})=>{const[x,k]=K.useState(1),[I,C]=K.useState(!1),[j,P]=K.useState(!1);if(!f||f.length===0)return u.jsx("div",{className:"chart-placeholder",children:"Loading chart..."});const T=800,v=400,L={top:40,right:40,bottom:60,left:60},X=T-L.left-L.right,Z=v-L.top-L.bottom,te=f.map(re=>[re.low,re.high,re.open,re.close]).flat(),ne=Math.min(...te)*.995,le=Math.max(...te)*1.005,ce=re=>L.left+re/(f.length-1)*X,pe=re=>L.top+Z-(re-ne)/(le-ne)*Z,Pe=re=>{re.preventDefault();const ge=re.deltaY>0?.9:1.1;k(oe=>Math.max(.5,Math.min(5,oe*ge)))},Re=re=>re>=1e9?(re/1e9).toFixed(2)+"B":re>=1e6?(re/1e6).toFixed(2)+"M":re>=1e3?(re/1e3).toFixed(2)+"K":re.toFixed(0),Oe=[...f.map(re=>re.volume)].sort((re,ge)=>ge-re),Le=Oe[Math.floor(Oe.length*.2)];return u.jsxs("div",{className:"interactive-chart-container",onWheel:Pe,children:[u.jsxs("div",{className:"chart-controls",children:[u.jsxs("div",{className:"chart-control-group",children:[u.jsx("button",{className:`chart-control-btn ${I?"active":""}`,onClick:re=>{re.preventDefault(),re.stopPropagation(),C(!I)},title:"Highlight Large Buys",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),P(!0)},title:"Zoom Chart",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15 3l6 6-6 6M9 21l-6-6 6-6"})})})]}),u.jsx("div",{className:"chart-control-divider"}),u.jsxs("div",{className:"chart-control-group",children:[u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),k(ge=>Math.min(5,ge*1.2))},title:"Zoom In",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 4v16m8-8H4"})})}),u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),k(ge=>Math.max(.5,ge*.8))},title:"Zoom Out",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M4 12h16"})})}),u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),k(1)},title:"Reset Zoom",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16M8 12h8"})})})]})]}),u.jsxs("svg",{width:T,height:v,className:"candlestick-chart",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[0,1,2,3,4,5].map(re=>u.jsx("g",{children:u.jsx("line",{x1:L.left,y1:L.top+re*Z/5,x2:T-L.right,y2:L.top+re*Z/5,stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})},`grid-h-${re}`)),[0,1,2,3,4,5,6,7,8].map(re=>u.jsx("g",{children:u.jsx("line",{x1:L.left+re*X/8,y1:L.top,x2:L.left+re*X/8,y2:v-L.bottom,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-v-${re}`)),[0,1,2,3,4,5].map(re=>{const ge=le-re*(le-ne)/5;return u.jsxs("text",{x:L.left-10,y:L.top+re*Z/5+4,textAnchor:"end",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:["$",ge.toFixed(2)]},`price-${re}`)}),[0,1,2,3,4,5,6,7,8].map(re=>u.jsx("text",{x:L.left+re*X/8,y:v-L.bottom+15,textAnchor:"middle",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:re===0?"9:30":re===8?"16:00":`${10+re}:00`},`time-${re}`)),f.map((re,ge)=>{const oe=ce(ge),ie=pe(re.open),ye=pe(re.close),xe=pe(re.high),Ae=pe(re.low),Se=re.close>=re.open,ze=Math.abs(ye-ie)||1,Fe=I&&re.volume>=Le;return u.jsxs("g",{children:[u.jsx("line",{x1:oe,y1:xe,x2:oe,y2:Ae,stroke:Se?"#10b981":"#ef4444",strokeWidth:Fe?"3":"2",opacity:Fe?1:.9,filter:Fe?"url(#glow)":"none"}),u.jsx("rect",{x:oe-2,y:Se?ye:ie,width:"4",height:ze,fill:Se?"#10b981":"#ef4444",stroke:Se?"#059669":"#dc2626",strokeWidth:Fe?"2":"1",opacity:Fe?1:.9,filter:Fe?"url(#glow)":"none"}),Fe&&u.jsxs("g",{children:[u.jsx("circle",{cx:oe,cy:pe(re.close),r:"8",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2"}),u.jsxs("text",{x:oe,y:pe(re.close)-15,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"10",fontWeight:"bold",fontFamily:"Courier New",children:["$",Re(re.volume)]})]})]},ge)})]}),j&&u.jsx("div",{className:"zoom-popup-overlay",onClick:()=>P(!1),children:u.jsxs("div",{className:"zoom-popup-content",onClick:re=>re.stopPropagation(),children:[u.jsxs("div",{className:"zoom-popup-header",children:[u.jsx("h3",{children:"Chart Zoom View"}),u.jsx("button",{className:"zoom-popup-close",onClick:()=>P(!1),children:"×"})]}),u.jsx("div",{className:"zoom-popup-chart",children:u.jsxs("svg",{width:"1200",height:"800",className:"candlestick-chart",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]})}),[0,1,2,3,4,5].map(re=>u.jsx("g",{children:u.jsx("line",{x1:L.left,y1:L.top+re*Z/5,x2:1200-L.right,y2:L.top+re*Z/5,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-${re}`)),f.map((re,ge)=>{const oe=L.left+ge/(f.length-1)*(1200-L.left-L.right),ie=L.top+Z-(re.open-ne)/(le-ne)*Z,ye=L.top+Z-(re.close-ne)/(le-ne)*Z,xe=L.top+Z-(re.high-ne)/(le-ne)*Z,Ae=L.top+Z-(re.low-ne)/(le-ne)*Z,Se=re.close>=re.open,ze=Math.abs(ye-ie)||1,Fe=I&&re.volume>=Le;return u.jsxs("g",{children:[u.jsx("line",{x1:oe,y1:xe,x2:oe,y2:Ae,stroke:Se?"#10b981":"#ef4444",strokeWidth:Fe?"4":"3",opacity:Fe?1:.9,filter:Fe?"url(#glow)":"none"}),u.jsx("rect",{x:oe-4,y:Se?ye:ie,width:"8",height:ze,fill:Se?"#10b981":"#ef4444",stroke:Se?"#059669":"#dc2626",strokeWidth:Fe?"3":"2",opacity:Fe?1:.9,filter:Fe?"url(#glow)":"none"}),Fe&&u.jsxs("g",{children:[u.jsx("circle",{cx:oe,cy:ye,r:"12",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"3"}),u.jsxs("text",{x:oe,y:ye-20,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"14",fontWeight:"bold",fontFamily:"Courier New",children:["$",Re(re.volume)]})]})]},ge)})]})})]})})]})};return t?u.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Cyphr Terminal"}),u.jsx("p",{className:"text-cyphr-gray",children:"Professional Trading Intelligence Platform"})]}),u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"status-indicator"}),u.jsx("span",{className:"text-green-400 text-sm font-semibold bg-green-400/10 border border-green-400/30 px-2 py-1 rounded-md",children:"LIVE"})]}),u.jsxs("div",{className:"w-64",children:[u.jsxs("div",{className:"search-container",children:[u.jsx("input",{type:"text",placeholder:"Search tokens...",value:l,onChange:f=>c(f.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),200),className:"pro-search-input"}),l&&u.jsx("button",{onClick:O,className:"clear-search-btn",title:"Clear search",children:"✕"}),d&&u.jsx("div",{className:"search-spinner",children:u.jsx("div",{className:"spinner"})})]}),y&&p.length>0&&u.jsx("div",{className:"search-results",children:p.map(f=>u.jsxs("div",{className:"search-result-item",onClick:()=>B(f),children:[u.jsx("div",{className:"result-symbol",children:f.symbol}),u.jsx("div",{className:"result-name",children:f.name}),u.jsxs("div",{className:`result-change ${f.change24h>=0?"text-green-400":"text-red-400"}`,children:[f.change24h>=0?"+":"",f.change24h.toFixed(2),"%"]})]},f.id))})]})]}),u.jsxs("div",{className:"pro-terminal-content",children:[u.jsxs("div",{className:"token-info-bar",children:[u.jsxs("div",{className:"token-basic-info",children:[u.jsx("h2",{className:"token-symbol",children:t.symbol}),u.jsx("span",{className:"token-name",children:t.name})]}),u.jsxs("div",{className:"token-price-info",children:[u.jsxs("div",{className:"current-price",children:["$",t.price.toLocaleString()]}),u.jsxs("div",{className:`price-change ${t.change24h>=0?"positive":"negative"}`,children:[t.change24h>=0?"+":"",t.change24h.toFixed(2),"%"]})]}),u.jsxs("div",{className:"token-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Volume 24h"}),u.jsxs("span",{className:"stat-value",children:["$",U(t.volume24h)]})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Market Cap"}),u.jsxs("span",{className:"stat-value",children:["$",U(t.marketCap)]})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Holders"}),u.jsx("span",{className:"stat-value",children:U(t.holders)})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Risk Level"}),u.jsx("span",{className:`stat-value ${H(t.riskLevel)}`,children:t.riskLevel})]})]})]}),u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","insights","holders","liquidity"].map(f=>u.jsx("button",{className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===f?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,onClick:()=>r(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))}),u.jsxs("div",{className:"pro-tab-content",children:[n==="overview"&&u.jsxs("div",{className:"overview-grid",children:[u.jsxs("div",{className:"chart-section",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"section-title",children:"Price Chart"}),u.jsx("div",{className:"flex gap-2",children:["1H","4H","1D","1W","1M"].map(f=>u.jsx("button",{className:`timeframe-btn flex-1 lg:flex-none ${s===f?"active":""}`,onClick:()=>i(f),children:f},f))})]}),u.jsx("div",{className:"chart-container",children:u.jsx(M,{data:o})})]}),u.jsxs("div",{className:"insights-section",children:[u.jsx("h3",{className:"section-title",children:"AI Insights"}),u.jsx("div",{className:"insights-list",children:t.aiInsights.map((f,x)=>u.jsxs("div",{className:"insight-card",children:[u.jsxs("div",{className:"insight-header",children:[u.jsx("span",{className:`insight-type ${V(f.type)}`,children:f.type}),u.jsxs("span",{className:"insight-confidence",children:[f.confidence,"% confidence"]})]}),u.jsx("p",{className:"insight-analysis",children:f.analysis}),u.jsx("p",{className:"insight-recommendation",children:f.recommendation})]},x))})]}),u.jsxs("div",{className:"quick-stats",children:[u.jsx("h3",{className:"section-title",children:"AI Asset Overview"}),u.jsxs("div",{className:"ai-overview-grid",children:[u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"📊"}),u.jsx("div",{className:"ai-card-title",children:"Holder Distribution"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Top 10%"}),u.jsx("span",{className:"ai-stat-value",children:"45% of supply"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Smart Money"}),u.jsx("span",{className:"ai-stat-value",children:"32% increase"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"💰"}),u.jsx("div",{className:"ai-card-title",children:"Smart Money Flow"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Net Flow"}),u.jsx("span",{className:"ai-stat-value positive",children:"+$2.4M"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Whale Activity"}),u.jsx("span",{className:"ai-stat-value",children:"High"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"👥"}),u.jsx("div",{className:"ai-card-title",children:"Notorious Wallets"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Tracked"}),u.jsx("span",{className:"ai-stat-value",children:"1,247 wallets"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Risk Level"}),u.jsx("span",{className:"ai-stat-value",children:"Medium"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"📈"}),u.jsx("div",{className:"ai-card-title",children:"Key Metrics"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"RSI"}),u.jsx("span",{className:"ai-stat-value",children:"68.5"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"MACD"}),u.jsx("span",{className:"ai-stat-value positive",children:"Bullish"})]})]})]})]})]})]}),n==="chart"&&u.jsxs("div",{className:"chart-section",children:[u.jsx("h3",{className:"section-title",children:"Advanced Chart"}),u.jsx("div",{className:"chart-container",children:u.jsx(M,{data:o})})]}),n==="insights"&&u.jsxs("div",{className:"insights-section",children:[u.jsx("h3",{className:"section-title",children:"Detailed AI Insights"}),u.jsx("div",{className:"insights-list",children:t.aiInsights.map((f,x)=>u.jsxs("div",{className:"insight-card",children:[u.jsxs("div",{className:"insight-header",children:[u.jsx("span",{className:`insight-type ${V(f.type)}`,children:f.type}),u.jsxs("span",{className:"insight-confidence",children:[f.confidence,"% confidence"]})]}),u.jsx("p",{className:"insight-analysis",children:f.analysis}),u.jsx("p",{className:"insight-recommendation",children:f.recommendation})]},x))})]}),n==="holders"&&u.jsxs("div",{className:"holders-section",children:[u.jsx("h3",{className:"section-title",children:"Holder Distribution"}),u.jsxs("div",{className:"holders-content",children:[u.jsxs("div",{className:"holder-stat",children:[u.jsx("span",{className:"holder-label",children:"Total Holders"}),u.jsx("span",{className:"holder-value",children:U(t.holders)})]}),u.jsxs("div",{className:"holder-stat",children:[u.jsx("span",{className:"holder-label",children:"Average Holding"}),u.jsxs("span",{className:"holder-value",children:["$",U(t.marketCap/t.holders)]})]})]})]}),n==="liquidity"&&u.jsxs("div",{className:"liquidity-section",children:[u.jsx("h3",{className:"section-title",children:"Liquidity Events"}),u.jsx("div",{className:"liquidity-list",children:t.liquidityEvents.map((f,x)=>u.jsxs("div",{className:"liquidity-card",children:[u.jsxs("div",{className:"liquidity-header",children:[u.jsx("span",{className:"liquidity-type",children:f.type}),u.jsxs("span",{className:"liquidity-amount",children:["$",U(f.amount)]})]}),u.jsxs("div",{className:"liquidity-details",children:[u.jsx("span",{className:"liquidity-time",children:f.timestamp}),u.jsx("span",{className:`liquidity-impact ${f.impact.toLowerCase()}`,children:f.impact})]})]},x))})]})]})]})]}):u.jsx("div",{className:"pro-terminal-container",children:u.jsx("div",{className:"terminal-loading",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("h2",{children:"Loading Terminal..."}),u.jsx("p",{children:"Initializing trading intelligence platform"})]})})})};function Tn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Tn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var QA={exports:{}},JA={},eC={exports:{}},tC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=D;function y7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var x7=typeof Object.is=="function"?Object.is:y7,w7=ec.useState,v7=ec.useEffect,b7=ec.useLayoutEffect,S7=ec.useDebugValue;function _7(t,e){var n=e(),r=w7({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return b7(function(){s.value=n,s.getSnapshot=e,vg(s)&&i({inst:s})},[t,n,e]),v7(function(){return vg(s)&&i({inst:s}),t(function(){vg(s)&&i({inst:s})})},[t]),S7(n),n}function vg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!x7(t,n)}catch{return!0}}function k7(t,e){return e()}var E7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k7:_7;tC.useSyncExternalStore=ec.useSyncExternalStore!==void 0?ec.useSyncExternalStore:E7;eC.exports=tC;var N7=eC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=D,A7=N7;function C7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M7=typeof Object.is=="function"?Object.is:C7,I7=A7.useSyncExternalStore,j7=Xm.useRef,T7=Xm.useEffect,R7=Xm.useMemo,B7=Xm.useDebugValue;JA.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=j7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=R7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var y=o.value;if(s(y,m))return h=y}return h=m}if(y=h,M7(d,m))return y;var w=r(m);return s!==void 0&&s(y,w)?(d=m,y):(d=m,h=w)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=I7(t,i[0],i[1]);return T7(function(){o.hasValue=!0,o.value=a},[a]),B7(a),a};QA.exports=JA;var P7=QA.exports;const L7=wa(P7),O7={},sS=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(O7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},D7=t=>t?sS(t):sS,{useDebugValue:z7}=K,{useSyncExternalStoreWithSelector:W7}=L7,F7=t=>t;function nC(t,e=F7,n){const r=W7(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return z7(r),r}const iS=(t,e)=>{const n=D7(t),r=(s,i=e)=>nC(n,s,i);return Object.assign(r,n),r},$7=(t,e)=>t?iS(t,e):iS;function bn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var U7={value:()=>{}};function Qm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wf(n)}function Wf(t){this._=t}function H7(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wf.prototype=Qm.prototype={constructor:Wf,on:function(t,e){var n=this._,r=H7(t+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(t=r[i]).type)&&(s=V7(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(s=(t=r[i]).type)n[s]=oS(n[s],t.name,e);else if(e==null)for(s in n)n[s]=oS(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Wf(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function V7(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function oS(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=U7,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var P1="http://www.w3.org/1999/xhtml";const aS={svg:"http://www.w3.org/2000/svg",xhtml:P1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),aS.hasOwnProperty(e)?{space:aS[e],local:t}:t}function K7(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===P1&&e.documentElement.namespaceURI===P1?e.createElement(t):e.createElementNS(n,t)}}function q7(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rC(t){var e=Jm(t);return(e.local?q7:K7)(e)}function Y7(){}function av(t){return t==null?Y7:function(){return this.querySelector(t)}}function G7(t){typeof t!="function"&&(t=av(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=new Array(o),l,c,d=0;d<o;++d)(l=i[d])&&(c=t.call(l,l.__data__,d,i))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new _r(r,this._parents)}function Z7(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function X7(){return[]}function sC(t){return t==null?X7:function(){return this.querySelectorAll(t)}}function Q7(t){return function(){return Z7(t.apply(this,arguments))}}function J7(t){typeof t=="function"?t=Q7(t):t=sC(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var o=e[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),s.push(l));return new _r(r,s)}function iC(t){return function(){return this.matches(t)}}function oC(t){return function(e){return e.matches(t)}}var e9=Array.prototype.find;function t9(t){return function(){return e9.call(this.children,t)}}function n9(){return this.firstElementChild}function r9(t){return this.select(t==null?n9:t9(typeof t=="function"?t:oC(t)))}var s9=Array.prototype.filter;function i9(){return Array.from(this.children)}function o9(t){return function(){return s9.call(this.children,t)}}function a9(t){return this.selectAll(t==null?i9:o9(typeof t=="function"?t:oC(t)))}function l9(t){typeof t!="function"&&(t=iC(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&a.push(l);return new _r(r,this._parents)}function aC(t){return new Array(t.length)}function c9(){return new _r(this._enter||this._groups.map(aC),this._parents)}function Up(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Up.prototype={constructor:Up,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function u9(t){return function(){return t}}function d9(t,e,n,r,s,i){for(var o=0,a,l=e.length,c=i.length;o<c;++o)(a=e[o])?(a.__data__=i[o],r[o]=a):n[o]=new Up(t,i[o]);for(;o<l;++o)(a=e[o])&&(s[o]=a)}function h9(t,e,n,r,s,i,o){var a,l,c=new Map,d=e.length,h=i.length,p=new Array(d),m;for(a=0;a<d;++a)(l=e[a])&&(p[a]=m=o.call(l,l.__data__,a,e)+"",c.has(m)?s[a]=l:c.set(m,l));for(a=0;a<h;++a)m=o.call(t,i[a],a,i)+"",(l=c.get(m))?(r[a]=l,l.__data__=i[a],c.delete(m)):n[a]=new Up(t,i[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(p[a])===l&&(s[a]=l)}function f9(t){return t.__data__}function p9(t,e){if(!arguments.length)return Array.from(this,f9);var n=e?h9:d9,r=this._parents,s=this._groups;typeof t!="function"&&(t=u9(t));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var d=r[c],h=s[c],p=h.length,m=m9(t.call(d,d&&d.__data__,c,r)),y=m.length,w=a[c]=new Array(y),b=o[c]=new Array(y),g=l[c]=new Array(p);n(d,h,w,b,g,m,e);for(var S=0,_=0,A,R;S<y;++S)if(A=w[S]){for(S>=_&&(_=S+1);!(R=b[_])&&++_<y;);A._next=R||null}}return o=new _r(o,r),o._enter=a,o._exit=l,o}function m9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g9(){return new _r(this._exit||this._groups.map(aC),this._parents)}function y9(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function x9(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var c=n[l],d=r[l],h=c.length,p=a[l]=new Array(h),m,y=0;y<h;++y)(m=c[y]||d[y])&&(p[y]=m);for(;l<s;++l)a[l]=n[l];return new _r(a,this._parents)}function w9(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function v9(t){t||(t=b9);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(e)}return new _r(s,this._parents).order()}function b9(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function S9(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function _9(){return Array.from(this)}function k9(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function E9(){let t=0;for(const e of this)++t;return t}function N9(){return!this.node()}function A9(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&t.call(a,a.__data__,i,s);return this}function C9(t){return function(){this.removeAttribute(t)}}function M9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function I9(t,e){return function(){this.setAttribute(t,e)}}function j9(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T9(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function R9(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function B9(t,e){var n=Jm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?M9:C9:typeof e=="function"?n.local?R9:T9:n.local?j9:I9)(n,e))}function lC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function P9(t){return function(){this.style.removeProperty(t)}}function L9(t,e,n){return function(){this.style.setProperty(t,e,n)}}function O9(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function D9(t,e,n){return arguments.length>1?this.each((e==null?P9:typeof e=="function"?O9:L9)(t,e,n??"")):tc(this.node(),t)}function tc(t,e){return t.style.getPropertyValue(e)||lC(t).getComputedStyle(t,null).getPropertyValue(e)}function z9(t){return function(){delete this[t]}}function W9(t,e){return function(){this[t]=e}}function F9(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $9(t,e){return arguments.length>1?this.each((e==null?z9:typeof e=="function"?F9:W9)(t,e)):this.node()[t]}function cC(t){return t.trim().split(/^|\s+/)}function lv(t){return t.classList||new uC(t)}function uC(t){this._node=t,this._names=cC(t.getAttribute("class")||"")}uC.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dC(t,e){for(var n=lv(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function hC(t,e){for(var n=lv(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function U9(t){return function(){dC(this,t)}}function H9(t){return function(){hC(this,t)}}function V9(t,e){return function(){(e.apply(this,arguments)?dC:hC)(this,t)}}function K9(t,e){var n=cC(t+"");if(arguments.length<2){for(var r=lv(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?V9:e?U9:H9)(n,e))}function q9(){this.textContent=""}function Y9(t){return function(){this.textContent=t}}function G9(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Z9(t){return arguments.length?this.each(t==null?q9:(typeof t=="function"?G9:Y9)(t)):this.node().textContent}function X9(){this.innerHTML=""}function Q9(t){return function(){this.innerHTML=t}}function J9(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function eW(t){return arguments.length?this.each(t==null?X9:(typeof t=="function"?J9:Q9)(t)):this.node().innerHTML}function tW(){this.nextSibling&&this.parentNode.appendChild(this)}function nW(){return this.each(tW)}function rW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sW(){return this.each(rW)}function iW(t){var e=typeof t=="function"?t:rC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function oW(){return null}function aW(t,e){var n=typeof t=="function"?t:rC(t),r=e==null?oW:typeof e=="function"?e:av(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lW(){var t=this.parentNode;t&&t.removeChild(this)}function cW(){return this.each(lW)}function uW(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dW(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hW(t){return this.select(t?dW:uW)}function fW(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pW(t){return function(e){t.call(this,e,this.__data__)}}function mW(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function gW(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function yW(t,e,n){return function(){var r=this.__on,s,i=pW(e);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function xW(t,e,n){var r=mW(t+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(s=0,d=a[l];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?yW:gW,s=0;s<i;++s)this.each(a(r[s],e,n));return this}function fC(t,e,n){var r=lC(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function wW(t,e){return function(){return fC(this,t,e)}}function vW(t,e){return function(){return fC(this,t,e.apply(this,arguments))}}function bW(t,e){return this.each((typeof e=="function"?vW:wW)(t,e))}function*SW(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var pC=[null];function _r(t,e){this._groups=t,this._parents=e}function Ud(){return new _r([[document.documentElement]],pC)}function _W(){return this}_r.prototype=Ud.prototype={constructor:_r,select:G7,selectAll:J7,selectChild:r9,selectChildren:a9,filter:l9,data:p9,enter:c9,exit:g9,join:y9,merge:x9,selection:_W,order:w9,sort:v9,call:S9,nodes:_9,node:k9,size:E9,empty:N9,each:A9,attr:B9,style:D9,property:$9,classed:K9,text:Z9,html:eW,raise:nW,lower:sW,append:iW,insert:aW,remove:cW,clone:hW,datum:fW,on:xW,dispatch:bW,[Symbol.iterator]:SW};function Br(t){return typeof t=="string"?new _r([[document.querySelector(t)]],[document.documentElement]):new _r([[t]],pC)}function kW(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Gr(t,e){if(t=kW(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const EW={passive:!1},md={capture:!0,passive:!1};function bg(t){t.stopImmediatePropagation()}function jl(t){t.preventDefault(),t.stopImmediatePropagation()}function mC(t){var e=t.document.documentElement,n=Br(t).on("dragstart.drag",jl,md);"onselectstart"in e?n.on("selectstart.drag",jl,md):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function gC(t,e){var n=t.document.documentElement,r=Br(t).on("dragstart.drag",null);e&&(r.on("click.drag",jl,md),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ah=t=>()=>t;function L1(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}L1.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function NW(t){return!t.ctrlKey&&!t.button}function AW(){return this.parentNode}function CW(t,e){return e??{x:t.x,y:t.y}}function MW(){return navigator.maxTouchPoints||"ontouchstart"in this}function IW(){var t=NW,e=AW,n=CW,r=MW,s={},i=Qm("start","drag","end"),o=0,a,l,c,d,h=0;function p(A){A.on("mousedown.drag",m).filter(r).on("touchstart.drag",b).on("touchmove.drag",g,EW).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(A,R){if(!(d||!t.call(this,A,R))){var W=_(this,e.call(this,A,R),A,R,"mouse");W&&(Br(A.view).on("mousemove.drag",y,md).on("mouseup.drag",w,md),mC(A.view),bg(A),c=!1,a=A.clientX,l=A.clientY,W("start",A))}}function y(A){if(jl(A),!c){var R=A.clientX-a,W=A.clientY-l;c=R*R+W*W>h}s.mouse("drag",A)}function w(A){Br(A.view).on("mousemove.drag mouseup.drag",null),gC(A.view,c),jl(A),s.mouse("end",A)}function b(A,R){if(t.call(this,A,R)){var W=A.changedTouches,O=e.call(this,A,R),B=W.length,F,U;for(F=0;F<B;++F)(U=_(this,O,A,R,W[F].identifier,W[F]))&&(bg(A),U("start",A,W[F]))}}function g(A){var R=A.changedTouches,W=R.length,O,B;for(O=0;O<W;++O)(B=s[R[O].identifier])&&(jl(A),B("drag",A,R[O]))}function S(A){var R=A.changedTouches,W=R.length,O,B;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<W;++O)(B=s[R[O].identifier])&&(bg(A),B("end",A,R[O]))}function _(A,R,W,O,B,F){var U=i.copy(),H=Gr(F||W,R),V,M,f;if((f=n.call(A,new L1("beforestart",{sourceEvent:W,target:p,identifier:B,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:U}),O))!=null)return V=f.x-H[0]||0,M=f.y-H[1]||0,function x(k,I,C){var j=H,P;switch(k){case"start":s[B]=x,P=o++;break;case"end":delete s[B],--o;case"drag":H=Gr(C||I,R),P=o;break}U.call(k,A,new L1(k,{sourceEvent:I,subject:f,target:p,identifier:B,active:P,x:H[0]+V,y:H[1]+M,dx:H[0]-j[0],dy:H[1]-j[1],dispatch:U}),O)}}return p.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Ah(!!A),p):t},p.container=function(A){return arguments.length?(e=typeof A=="function"?A:Ah(A),p):e},p.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Ah(A),p):n},p.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Ah(!!A),p):r},p.on=function(){var A=i.on.apply(i,arguments);return A===i?p:A},p.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,p):Math.sqrt(h)},p}function cv(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yC(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hd(){}var gd=.7,Hp=1/gd,Tl="\\s*([+-]?\\d+)\\s*",yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ms="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jW=/^#([0-9a-f]{3,8})$/,TW=new RegExp(`^rgb\\(${Tl},${Tl},${Tl}\\)$`),RW=new RegExp(`^rgb\\(${Ms},${Ms},${Ms}\\)$`),BW=new RegExp(`^rgba\\(${Tl},${Tl},${Tl},${yd}\\)$`),PW=new RegExp(`^rgba\\(${Ms},${Ms},${Ms},${yd}\\)$`),LW=new RegExp(`^hsl\\(${yd},${Ms},${Ms}\\)$`),OW=new RegExp(`^hsla\\(${yd},${Ms},${Ms},${yd}\\)$`),lS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cv(Hd,xd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cS,formatHex:cS,formatHex8:DW,formatHsl:zW,formatRgb:uS,toString:uS});function cS(){return this.rgb().formatHex()}function DW(){return this.rgb().formatHex8()}function zW(){return xC(this).formatHsl()}function uS(){return this.rgb().formatRgb()}function xd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dS(e):n===3?new cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ch(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ch(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TW.exec(t))?new cr(e[1],e[2],e[3],1):(e=RW.exec(t))?new cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BW.exec(t))?Ch(e[1],e[2],e[3],e[4]):(e=PW.exec(t))?Ch(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LW.exec(t))?pS(e[1],e[2]/100,e[3]/100,1):(e=OW.exec(t))?pS(e[1],e[2]/100,e[3]/100,e[4]):lS.hasOwnProperty(t)?dS(lS[t]):t==="transparent"?new cr(NaN,NaN,NaN,0):null}function dS(t){return new cr(t>>16&255,t>>8&255,t&255,1)}function Ch(t,e,n,r){return r<=0&&(t=e=n=NaN),new cr(t,e,n,r)}function WW(t){return t instanceof Hd||(t=xd(t)),t?(t=t.rgb(),new cr(t.r,t.g,t.b,t.opacity)):new cr}function O1(t,e,n,r){return arguments.length===1?WW(t):new cr(t,e,n,r??1)}function cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cv(cr,O1,yC(Hd,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gd:Math.pow(gd,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new cr(ia(this.r),ia(this.g),ia(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hS,formatHex:hS,formatHex8:FW,formatRgb:fS,toString:fS}));function hS(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function FW(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function fS(){const t=Vp(this.opacity);return`${t===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${t===1?")":`, ${t})`}`}function Vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xo(t){return t=ia(t),(t<16?"0":"")+t.toString(16)}function pS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qr(t,e,n,r)}function xC(t){if(t instanceof Qr)return new Qr(t.h,t.s,t.l,t.opacity);if(t instanceof Hd||(t=xd(t)),!t)return new Qr;if(t instanceof Qr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(e===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Qr(o,a,l,t.opacity)}function $W(t,e,n,r){return arguments.length===1?xC(t):new Qr(t,e,n,r??1)}function Qr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cv(Qr,$W,yC(Hd,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new Qr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gd:Math.pow(gd,t),new Qr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new cr(Sg(t>=240?t-240:t+120,s,r),Sg(t,s,r),Sg(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Qr(mS(this.h),Mh(this.s),Mh(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vp(this.opacity);return`${t===1?"hsl(":"hsla("}${mS(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mS(t){return t=(t||0)%360,t<0?t+360:t}function Mh(t){return Math.max(0,Math.min(1,t||0))}function Sg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wC=t=>()=>t;function UW(t,e){return function(n){return t+n*e}}function HW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VW(t){return(t=+t)==1?vC:function(e,n){return n-e?HW(e,n,t):wC(isNaN(e)?n:e)}}function vC(t,e){var n=e-t;return n?UW(t,n):wC(isNaN(t)?e:t)}const gS=function t(e){var n=VW(e);function r(s,i){var o=n((s=O1(s)).r,(i=O1(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),c=vC(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return r.gamma=t,r}(1);function Li(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var D1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_g=new RegExp(D1.source,"g");function KW(t){return function(){return t}}function qW(t){return function(e){return t(e)+""}}function YW(t,e){var n=D1.lastIndex=_g.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=D1.exec(t))&&(s=_g.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Li(r,s)})),n=_g.lastIndex;return n<e.length&&(i=e.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?qW(l[0].x):KW(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)a[(h=l[d]).i]=h.x(c);return a.join("")})}var yS=180/Math.PI,z1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bC(t,e,n,r,s,i){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*yS,skewX:Math.atan(l)*yS,scaleX:o,scaleY:a}}var Ih;function GW(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?z1:bC(e.a,e.b,e.c,e.d,e.e,e.f)}function ZW(t){return t==null||(Ih||(Ih=document.createElementNS("http://www.w3.org/2000/svg","g")),Ih.setAttribute("transform",t),!(t=Ih.transform.baseVal.consolidate()))?z1:(t=t.matrix,bC(t.a,t.b,t.c,t.d,t.e,t.f))}function SC(t,e,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,h,p,m,y){if(c!==h||d!==p){var w=m.push("translate(",null,e,null,n);y.push({i:w-4,x:Li(c,h)},{i:w-2,x:Li(d,p)})}else(h||p)&&m.push("translate("+h+e+p+n)}function o(c,d,h,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:h.push(s(h)+"rotate(",null,r)-2,x:Li(c,d)})):d&&h.push(s(h)+"rotate("+d+r)}function a(c,d,h,p){c!==d?p.push({i:h.push(s(h)+"skewX(",null,r)-2,x:Li(c,d)}):d&&h.push(s(h)+"skewX("+d+r)}function l(c,d,h,p,m,y){if(c!==h||d!==p){var w=m.push(s(m)+"scale(",null,",",null,")");y.push({i:w-4,x:Li(c,h)},{i:w-2,x:Li(d,p)})}else(h!==1||p!==1)&&m.push(s(m)+"scale("+h+","+p+")")}return function(c,d){var h=[],p=[];return c=t(c),d=t(d),i(c.translateX,c.translateY,d.translateX,d.translateY,h,p),o(c.rotate,d.rotate,h,p),a(c.skewX,d.skewX,h,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,p),c=d=null,function(m){for(var y=-1,w=p.length,b;++y<w;)h[(b=p[y]).i]=b.x(m);return h.join("")}}}var XW=SC(GW,"px, ","px)","deg)"),QW=SC(ZW,", ",")",")"),JW=1e-12;function xS(t){return((t=Math.exp(t))+1/t)/2}function eF(t){return((t=Math.exp(t))-1/t)/2}function tF(t){return((t=Math.exp(2*t))-1)/(t+1)}const nF=function t(e,n,r){function s(i,o){var a=i[0],l=i[1],c=i[2],d=o[0],h=o[1],p=o[2],m=d-a,y=h-l,w=m*m+y*y,b,g;if(w<JW)g=Math.log(p/c)/e,b=function(O){return[a+O*m,l+O*y,c*Math.exp(e*O*g)]};else{var S=Math.sqrt(w),_=(p*p-c*c+r*w)/(2*c*n*S),A=(p*p-c*c-r*w)/(2*p*n*S),R=Math.log(Math.sqrt(_*_+1)-_),W=Math.log(Math.sqrt(A*A+1)-A);g=(W-R)/e,b=function(O){var B=O*g,F=xS(R),U=c/(n*S)*(F*tF(e*B+R)-eF(R));return[a+U*m,l+U*y,c*F/xS(e*B+R)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return t(o,a,l)},s}(Math.SQRT2,2,4);var nc=0,pu=0,Uc=0,_C=1e3,Kp,mu,qp=0,ga=0,e0=0,wd=typeof performance=="object"&&performance.now?performance:Date,kC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function uv(){return ga||(kC(rF),ga=wd.now()+e0)}function rF(){ga=0}function Yp(){this._call=this._time=this._next=null}Yp.prototype=EC.prototype={constructor:Yp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?uv():+n)+(e==null?0:+e),!this._next&&mu!==this&&(mu?mu._next=this:Kp=this,mu=this),this._call=t,this._time=n,W1()},stop:function(){this._call&&(this._call=null,this._time=1/0,W1())}};function EC(t,e,n){var r=new Yp;return r.restart(t,e,n),r}function sF(){uv(),++nc;for(var t=Kp,e;t;)(e=ga-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nc}function wS(){ga=(qp=wd.now())+e0,nc=pu=0;try{sF()}finally{nc=0,oF(),ga=0}}function iF(){var t=wd.now(),e=t-qp;e>_C&&(e0-=e,qp=t)}function oF(){for(var t,e=Kp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Kp=n);mu=t,W1(r)}function W1(t){if(!nc){pu&&(pu=clearTimeout(pu));var e=t-ga;e>24?(t<1/0&&(pu=setTimeout(wS,t-wd.now()-e0)),Uc&&(Uc=clearInterval(Uc))):(Uc||(qp=wd.now(),Uc=setInterval(iF,_C)),nc=1,kC(wS))}}function vS(t,e,n){var r=new Yp;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var aF=Qm("start","end","cancel","interrupt"),lF=[],NC=0,bS=1,F1=2,Ff=3,SS=4,$1=5,$f=6;function t0(t,e,n,r,s,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;cF(t,n,{name:e,index:r,group:s,on:aF,tween:lF,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:NC})}function dv(t,e){var n=us(t,e);if(n.state>NC)throw new Error("too late; already scheduled");return n}function Os(t,e){var n=us(t,e);if(n.state>Ff)throw new Error("too late; already running");return n}function us(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function cF(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=EC(i,0,n.time);function i(c){n.state=bS,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,h,p,m;if(n.state!==bS)return l();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Ff)return vS(o);m.state===SS?(m.state=$f,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[d]):+d<e&&(m.state=$f,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[d])}if(vS(function(){n.state===Ff&&(n.state=SS,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=F1,n.on.call("start",t,t.__data__,n.index,n.group),n.state===F1){for(n.state=Ff,s=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(m=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=m);s.length=h+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=$1,1),h=-1,p=s.length;++h<p;)s[h].call(t,d);n.state===$1&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=$f,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Uf(t,e){var n=t.__transition,r,s,i=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}s=r.state>F1&&r.state<$1,r.state=$f,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function uF(t){return this.each(function(){Uf(this,t)})}function dF(t,e){var n,r;return function(){var s=Os(this,t),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function hF(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Os(this,t),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:e,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===e){s[l]=a;break}l===c&&s.push(a)}i.tween=s}}function fF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=us(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===t)return o.value;return null}return this.each((e==null?dF:hF)(n,t,e))}function hv(t,e,n){var r=t._id;return t.each(function(){var s=Os(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return us(s,r).value[e]}}function AC(t,e){var n;return(typeof e=="number"?Li:e instanceof xd?gS:(n=xd(e))?(e=n,gS):YW)(t,e)}function pF(t){return function(){this.removeAttribute(t)}}function mF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gF(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function yF(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function xF(t,e,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a)))}}function wF(t,e,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a)))}}function vF(t,e){var n=Jm(t),r=n==="transform"?QW:AC;return this.attrTween(t,typeof e=="function"?(n.local?wF:xF)(n,r,hv(this,"attr."+t,e)):e==null?(n.local?mF:pF)(n):(n.local?yF:gF)(n,r,e))}function bF(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function SF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _F(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&SF(t,i)),n}return s._value=e,s}function kF(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&bF(t,i)),n}return s._value=e,s}function EF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jm(t);return this.tween(n,(r.local?_F:kF)(r,e))}function NF(t,e){return function(){dv(this,t).delay=+e.apply(this,arguments)}}function AF(t,e){return e=+e,function(){dv(this,t).delay=e}}function CF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?NF:AF)(e,t)):us(this.node(),e).delay}function MF(t,e){return function(){Os(this,t).duration=+e.apply(this,arguments)}}function IF(t,e){return e=+e,function(){Os(this,t).duration=e}}function jF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?MF:IF)(e,t)):us(this.node(),e).duration}function TF(t,e){if(typeof e!="function")throw new Error;return function(){Os(this,t).ease=e}}function RF(t){var e=this._id;return arguments.length?this.each(TF(e,t)):us(this.node(),e).ease}function BF(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Os(this,t).ease=n}}function PF(t){if(typeof t!="function")throw new Error;return this.each(BF(this._id,t))}function LF(t){typeof t!="function"&&(t=iC(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&a.push(l);return new mi(r,this._parents,this._name,this._id)}function OF(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=e[a],c=n[a],d=l.length,h=o[a]=new Array(d),p,m=0;m<d;++m)(p=l[m]||c[m])&&(h[m]=p);for(;a<r;++a)o[a]=e[a];return new mi(o,this._parents,this._name,this._id)}function DF(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function zF(t,e,n){var r,s,i=DF(e)?dv:Os;return function(){var o=i(this,t),a=o.on;a!==r&&(s=(r=a).copy()).on(e,n),o.on=s}}function WF(t,e){var n=this._id;return arguments.length<2?us(this.node(),n).on.on(t):this.each(zF(n,t,e))}function FF(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $F(){return this.on("end.remove",FF(this._id))}function UF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=av(t));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,c=i[o]=new Array(l),d,h,p=0;p<l;++p)(d=a[p])&&(h=t.call(d,d.__data__,p,a))&&("__data__"in d&&(h.__data__=d.__data__),c[p]=h,t0(c[p],e,n,p,c,us(d,n)));return new mi(i,this._parents,e,n)}function HF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sC(t));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var p=t.call(d,d.__data__,h,l),m,y=us(d,n),w=0,b=p.length;w<b;++w)(m=p[w])&&t0(m,e,n,w,p,y);i.push(p),o.push(d)}return new mi(i,o,e,n)}var VF=Ud.prototype.constructor;function KF(){return new VF(this._groups,this._parents)}function qF(t,e){var n,r,s;return function(){var i=tc(this,t),o=(this.style.removeProperty(t),tc(this,t));return i===o?null:i===n&&o===r?s:s=e(n=i,r=o)}}function CC(t){return function(){this.style.removeProperty(t)}}function YF(t,e,n){var r,s=n+"",i;return function(){var o=tc(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}function GF(t,e,n){var r,s,i;return function(){var o=tc(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),tc(this,t))),o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a))}}function ZF(t,e){var n,r,s,i="style."+e,o="end."+i,a;return function(){var l=Os(this,t),c=l.on,d=l.value[i]==null?a||(a=CC(e)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),l.on=r}}function XF(t,e,n){var r=(t+="")=="transform"?XW:AC;return e==null?this.styleTween(t,qF(t,r)).on("end.style."+t,CC(t)):typeof e=="function"?this.styleTween(t,GF(t,r,hv(this,"style."+t,e))).each(ZF(this._id,t)):this.styleTween(t,YF(t,r,e),n).on("end.style."+t,null)}function QF(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function JF(t,e,n){var r,s;function i(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&QF(t,o,n)),r}return i._value=e,i}function e$(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,JF(t,e,n??""))}function t$(t){return function(){this.textContent=t}}function n$(t){return function(){var e=t(this);this.textContent=e??""}}function r$(t){return this.tween("text",typeof t=="function"?n$(hv(this,"text",t)):t$(t==null?"":t+""))}function s$(t){return function(e){this.textContent=t.call(this,e)}}function i$(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&s$(s)),e}return r._value=t,r}function o$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i$(t))}function a$(){for(var t=this._name,e=this._id,n=MC(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=us(l,e);t0(l,t,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new mi(r,this._parents,t,n)}function l$(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var c=Os(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),s===0&&i()})}var c$=0;function mi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function MC(){return++c$}var Ws=Ud.prototype;mi.prototype={constructor:mi,select:UF,selectAll:HF,selectChild:Ws.selectChild,selectChildren:Ws.selectChildren,filter:LF,merge:OF,selection:KF,transition:a$,call:Ws.call,nodes:Ws.nodes,node:Ws.node,size:Ws.size,empty:Ws.empty,each:Ws.each,on:WF,attr:vF,attrTween:EF,style:XF,styleTween:e$,text:r$,textTween:o$,remove:$F,tween:fF,delay:CF,duration:jF,ease:RF,easeVarying:PF,end:l$,[Symbol.iterator]:Ws[Symbol.iterator]};function u$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var d$={time:null,delay:0,duration:250,ease:u$};function h$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function f$(t){var e,n;t instanceof mi?(e=t._id,t=t._name):(e=MC(),(n=d$).time=uv(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&t0(l,t,e,c,o,n||h$(l,e));return new mi(r,this._parents,t,e)}Ud.prototype.interrupt=uF;Ud.prototype.transition=f$;const jh=t=>()=>t;function p$(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ai(t,e,n){this.k=t,this.x=e,this.y=n}ai.prototype={constructor:ai,scale:function(t){return t===1?this:new ai(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ai(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ci=new ai(1,0,0);ai.prototype;function kg(t){t.stopImmediatePropagation()}function Hc(t){t.preventDefault(),t.stopImmediatePropagation()}function m$(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function g$(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _S(){return this.__zoom||ci}function y$(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function x$(){return navigator.maxTouchPoints||"ontouchstart"in this}function w$(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function IC(){var t=m$,e=g$,n=w$,r=y$,s=x$,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=nF,c=Qm("start","zoom","end"),d,h,p,m=500,y=150,w=0,b=10;function g(f){f.property("__zoom",_S).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",U).filter(s).on("touchstart.zoom",H).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(f,x,k,I){var C=f.selection?f.selection():f;C.property("__zoom",_S),f!==C?R(f,x,k,I):C.interrupt().each(function(){W(this,arguments).event(I).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},g.scaleBy=function(f,x,k,I){g.scaleTo(f,function(){var C=this.__zoom.k,j=typeof x=="function"?x.apply(this,arguments):x;return C*j},k,I)},g.scaleTo=function(f,x,k,I){g.transform(f,function(){var C=e.apply(this,arguments),j=this.__zoom,P=k==null?A(C):typeof k=="function"?k.apply(this,arguments):k,T=j.invert(P),v=typeof x=="function"?x.apply(this,arguments):x;return n(_(S(j,v),P,T),C,o)},k,I)},g.translateBy=function(f,x,k,I){g.transform(f,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),o)},null,I)},g.translateTo=function(f,x,k,I,C){g.transform(f,function(){var j=e.apply(this,arguments),P=this.__zoom,T=I==null?A(j):typeof I=="function"?I.apply(this,arguments):I;return n(ci.translate(T[0],T[1]).scale(P.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof k=="function"?-k.apply(this,arguments):-k),j,o)},I,C)};function S(f,x){return x=Math.max(i[0],Math.min(i[1],x)),x===f.k?f:new ai(x,f.x,f.y)}function _(f,x,k){var I=x[0]-k[0]*f.k,C=x[1]-k[1]*f.k;return I===f.x&&C===f.y?f:new ai(f.k,I,C)}function A(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function R(f,x,k,I){f.on("start.zoom",function(){W(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(I).end()}).tween("zoom",function(){var C=this,j=arguments,P=W(C,j).event(I),T=e.apply(C,j),v=k==null?A(T):typeof k=="function"?k.apply(C,j):k,L=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),X=C.__zoom,Z=typeof x=="function"?x.apply(C,j):x,te=l(X.invert(v).concat(L/X.k),Z.invert(v).concat(L/Z.k));return function(ne){if(ne===1)ne=Z;else{var le=te(ne),ce=L/le[2];ne=new ai(ce,v[0]-le[0]*ce,v[1]-le[1]*ce)}P.zoom(null,ne)}})}function W(f,x,k){return!k&&f.__zooming||new O(f,x)}function O(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,x),this.taps=0}O.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,x){return this.mouse&&f!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var x=Br(this.that).datum();c.call(f,this.that,new p$(f,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),x)}};function B(f,...x){if(!t.apply(this,arguments))return;var k=W(this,x).event(f),I=this.__zoom,C=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),j=Gr(f);if(k.wheel)(k.mouse[0][0]!==j[0]||k.mouse[0][1]!==j[1])&&(k.mouse[1]=I.invert(k.mouse[0]=j)),clearTimeout(k.wheel);else{if(I.k===C)return;k.mouse=[j,I.invert(j)],Uf(this),k.start()}Hc(f),k.wheel=setTimeout(P,y),k.zoom("mouse",n(_(S(I,C),k.mouse[0],k.mouse[1]),k.extent,o));function P(){k.wheel=null,k.end()}}function F(f,...x){if(p||!t.apply(this,arguments))return;var k=f.currentTarget,I=W(this,x,!0).event(f),C=Br(f.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",L,!0),j=Gr(f,k),P=f.clientX,T=f.clientY;mC(f.view),kg(f),I.mouse=[j,this.__zoom.invert(j)],Uf(this),I.start();function v(X){if(Hc(X),!I.moved){var Z=X.clientX-P,te=X.clientY-T;I.moved=Z*Z+te*te>w}I.event(X).zoom("mouse",n(_(I.that.__zoom,I.mouse[0]=Gr(X,k),I.mouse[1]),I.extent,o))}function L(X){C.on("mousemove.zoom mouseup.zoom",null),gC(X.view,I.moved),Hc(X),I.event(X).end()}}function U(f,...x){if(t.apply(this,arguments)){var k=this.__zoom,I=Gr(f.changedTouches?f.changedTouches[0]:f,this),C=k.invert(I),j=k.k*(f.shiftKey?.5:2),P=n(_(S(k,j),I,C),e.apply(this,x),o);Hc(f),a>0?Br(this).transition().duration(a).call(R,P,I,f):Br(this).call(g.transform,P,I,f)}}function H(f,...x){if(t.apply(this,arguments)){var k=f.touches,I=k.length,C=W(this,x,f.changedTouches.length===I).event(f),j,P,T,v;for(kg(f),P=0;P<I;++P)T=k[P],v=Gr(T,this),v=[v,this.__zoom.invert(v),T.identifier],C.touch0?!C.touch1&&C.touch0[2]!==v[2]&&(C.touch1=v,C.taps=0):(C.touch0=v,j=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),j&&(C.taps<2&&(h=v[0],d=setTimeout(function(){d=null},m)),Uf(this),C.start())}}function V(f,...x){if(this.__zooming){var k=W(this,x).event(f),I=f.changedTouches,C=I.length,j,P,T,v;for(Hc(f),j=0;j<C;++j)P=I[j],T=Gr(P,this),k.touch0&&k.touch0[2]===P.identifier?k.touch0[0]=T:k.touch1&&k.touch1[2]===P.identifier&&(k.touch1[0]=T);if(P=k.that.__zoom,k.touch1){var L=k.touch0[0],X=k.touch0[1],Z=k.touch1[0],te=k.touch1[1],ne=(ne=Z[0]-L[0])*ne+(ne=Z[1]-L[1])*ne,le=(le=te[0]-X[0])*le+(le=te[1]-X[1])*le;P=S(P,Math.sqrt(ne/le)),T=[(L[0]+Z[0])/2,(L[1]+Z[1])/2],v=[(X[0]+te[0])/2,(X[1]+te[1])/2]}else if(k.touch0)T=k.touch0[0],v=k.touch0[1];else return;k.zoom("touch",n(_(P,T,v),k.extent,o))}}function M(f,...x){if(this.__zooming){var k=W(this,x).event(f),I=f.changedTouches,C=I.length,j,P;for(kg(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),j=0;j<C;++j)P=I[j],k.touch0&&k.touch0[2]===P.identifier?delete k.touch0:k.touch1&&k.touch1[2]===P.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(P=Gr(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<b)){var T=Br(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return g.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:jh(+f),g):r},g.filter=function(f){return arguments.length?(t=typeof f=="function"?f:jh(!!f),g):t},g.touchable=function(f){return arguments.length?(s=typeof f=="function"?f:jh(!!f),g):s},g.extent=function(f){return arguments.length?(e=typeof f=="function"?f:jh([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),g):e},g.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],g):[i[0],i[1]]},g.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(f){return arguments.length?(n=f,g):n},g.duration=function(f){return arguments.length?(a=+f,g):a},g.interpolate=function(f){return arguments.length?(l=f,g):l},g.on=function(){var f=c.on.apply(c,arguments);return f===c?g:f},g.clickDistance=function(f){return arguments.length?(w=(f=+f)*f,g):Math.sqrt(w)},g.tapDistance=function(f){return arguments.length?(b=+f,g):b},g}const n0=D.createContext(null),v$=n0.Provider,gi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},jC=gi.error001();function yt(t,e){const n=D.useContext(n0);if(n===null)throw new Error(jC);return nC(n,t,e)}const hn=()=>{const t=D.useContext(n0);if(t===null)throw new Error(jC);return D.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},b$=t=>t.userSelectionActive?"none":"all";function fv({position:t,children:e,className:n,style:r,...s}){const i=yt(b$),o=`${t}`.split("-");return K.createElement("div",{className:Tn(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},e)}function S$({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:K.createElement(fv,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},K.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const _$=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d})=>{const h=D.useRef(null),[p,m]=D.useState({x:0,y:0,width:0,height:0}),y=Tn(["react-flow__edge-textwrapper",c]);return D.useEffect(()=>{if(h.current){const w=h.current.getBBox();m({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:K.createElement("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...d},s&&K.createElement("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),K.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l)};var k$=D.memo(_$);const pv=t=>({width:t.offsetWidth,height:t.offsetHeight}),rc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),mv=(t={x:0,y:0},e)=>({x:rc(t.x,e[0][0],e[1][0]),y:rc(t.y,e[0][1],e[1][1])}),kS=(t,e,n)=>t<e?rc(Math.abs(t-e),1,50)/50:t>n?-rc(Math.abs(t-n),1,50)/50:0,TC=(t,e)=>{const n=kS(t.x,35,e.width-35)*20,r=kS(t.y,35,e.height-35)*20;return[n,r]},RC=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},BC=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),vd=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),PC=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),ES=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),E$=(t,e)=>PC(BC(vd(t),vd(e))),U1=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},N$=t=>Lr(t.width)&&Lr(t.height)&&Lr(t.x)&&Lr(t.y),Lr=t=>!isNaN(t)&&isFinite(t),Zt=Symbol.for("internals"),LC=["Enter"," ","Escape"],A$=(t,e)=>{},C$=t=>"nativeEvent"in t;function H1(t){var s,i;const e=C$(t)?t.nativeEvent:t,n=((i=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:i[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const OC=t=>"clientX"in t,uo=(t,e)=>{var i,o;const n=OC(t),r=n?t.clientX:(i=t.touches)==null?void 0:i[0].clientX,s=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},Gp=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Vd=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m=20})=>K.createElement(K.Fragment,null,K.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),m&&K.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&Lr(n)&&Lr(r)?K.createElement(k$,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);Vd.displayName="BaseEdge";function Vc(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(i=>i.id===t);s&&n(r,{...s})}}function DC({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,i=n<t?n+s:n-s,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[i,a,s,o]}function zC({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=t*.125+s*.375+o*.375+n*.125,c=e*.125+i*.375+a*.375+r*.125,d=Math.abs(l-t),h=Math.abs(c-e);return[l,c,d,h]}var ya;(function(t){t.Strict="strict",t.Loose="loose"})(ya||(ya={}));var Qo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Qo||(Qo={}));var bd;(function(t){t.Partial="partial",t.Full="full"})(bd||(bd={}));var Fi;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Fi||(Fi={}));var Zp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Zp||(Zp={}));var Ne;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ne||(Ne={}));function NS({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===Ne.Left||t===Ne.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function WC({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top}){const[o,a]=NS({pos:n,x1:t,y1:e,x2:r,y2:s}),[l,c]=NS({pos:i,x1:r,y1:s,x2:t,y2:e}),[d,h,p,m]=zC({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${s}`,d,h,p,m]}const gv=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ne.Bottom,targetPosition:i=Ne.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})=>{const[b,g,S]=WC({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return K.createElement(Vd,{path:b,labelX:g,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})});gv.displayName="SimpleBezierEdge";const AS={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}},M$=({source:t,sourcePosition:e=Ne.Bottom,target:n})=>e===Ne.Left||e===Ne.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},CS=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function I$({source:t,sourcePosition:e=Ne.Bottom,target:n,targetPosition:r=Ne.Top,center:s,offset:i}){const o=AS[e],a=AS[r],l={x:t.x+o.x*i,y:t.y+o.y*i},c={x:n.x+a.x*i,y:n.y+a.y*i},d=M$({source:l,sourcePosition:e,target:c}),h=d.x!==0?"x":"y",p=d[h];let m=[],y,w;const b={x:0,y:0},g={x:0,y:0},[S,_,A,R]=DC({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*a[h]===-1){y=s.x??S,w=s.y??_;const O=[{x:y,y:l.y},{x:y,y:c.y}],B=[{x:l.x,y:w},{x:c.x,y:w}];o[h]===p?m=h==="x"?O:B:m=h==="x"?B:O}else{const O=[{x:l.x,y:c.y}],B=[{x:c.x,y:l.y}];if(h==="x"?m=o.x===p?B:O:m=o.y===p?O:B,e===r){const M=Math.abs(t[h]-n[h]);if(M<=i){const f=Math.min(i-1,i-M);o[h]===p?b[h]=(l[h]>t[h]?-1:1)*f:g[h]=(c[h]>n[h]?-1:1)*f}}if(e!==r){const M=h==="x"?"y":"x",f=o[h]===a[M],x=l[M]>c[M],k=l[M]<c[M];(o[h]===1&&(!f&&x||f&&k)||o[h]!==1&&(!f&&k||f&&x))&&(m=h==="x"?O:B)}const F={x:l.x+b.x,y:l.y+b.y},U={x:c.x+g.x,y:c.y+g.y},H=Math.max(Math.abs(F.x-m[0].x),Math.abs(U.x-m[0].x)),V=Math.max(Math.abs(F.y-m[0].y),Math.abs(U.y-m[0].y));H>=V?(y=(F.x+U.x)/2,w=m[0].y):(y=m[0].x,w=(F.y+U.y)/2)}return[[t,{x:l.x+b.x,y:l.y+b.y},...m,{x:c.x+g.x,y:c.y+g.y},n],y,w,A,R]}function j$(t,e,n,r){const s=Math.min(CS(t,e)/2,CS(e,n)/2,r),{x:i,y:o}=e;if(t.x===i&&i===n.x||t.y===o&&o===n.y)return`L${i} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function V1({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[d,h,p,m,y]=I$({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:c});return[d.reduce((b,g,S)=>{let _="";return S>0&&S<d.length-1?_=j$(d[S-1],g,d[S+1],o):_=`${S===0?"M":"L"}${g.x} ${g.y}`,b+=_,b},""),h,p,m,y]}const r0=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,sourcePosition:h=Ne.Bottom,targetPosition:p=Ne.Top,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:b})=>{const[g,S,_]=V1({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return K.createElement(Vd,{path:g,labelX:S,labelY:_,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:y,interactionWidth:b})});r0.displayName="SmoothStepEdge";const yv=D.memo(t=>{var e;return K.createElement(r0,{...t,pathOptions:D.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});yv.displayName="StepEdge";function T$({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,i,o,a]=DC({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,i,o,a]}const xv=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m})=>{const[y,w,b]=T$({sourceX:t,sourceY:e,targetX:n,targetY:r});return K.createElement(Vd,{path:y,labelX:w,labelY:b,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m})});xv.displayName="StraightEdge";function Th(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function MS({pos:t,x1:e,y1:n,x2:r,y2:s,c:i}){switch(t){case Ne.Left:return[e-Th(e-r,i),n];case Ne.Right:return[e+Th(r-e,i),n];case Ne.Top:return[e,n-Th(n-s,i)];case Ne.Bottom:return[e,n+Th(s-n,i)]}}function FC({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top,curvature:o=.25}){const[a,l]=MS({pos:n,x1:t,y1:e,x2:r,y2:s,c:o}),[c,d]=MS({pos:i,x1:r,y1:s,x2:t,y2:e,c:o}),[h,p,m,y]=zC({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${a},${l} ${c},${d} ${r},${s}`,h,p,m,y]}const Xp=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ne.Bottom,targetPosition:i=Ne.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:b})=>{const[g,S,_]=FC({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:w==null?void 0:w.curvature});return K.createElement(Vd,{path:g,labelX:S,labelY:_,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:b})});Xp.displayName="BezierEdge";const wv=D.createContext(null),R$=wv.Provider;wv.Consumer;const B$=()=>D.useContext(wv),P$=t=>"id"in t&&"source"in t&&"target"in t,L$=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,K1=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,O$=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),$C=(t,e)=>{if(!t.source||!t.target)return e;let n;return P$(t)?n={...t}:n={...t,id:L$(t)},O$(n,e)?e:e.concat(n)},q1=({x:t,y:e},[n,r,s],i,[o,a])=>{const l={x:(t-n)/s,y:(e-r)/s};return i?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},UC=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),oa=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},s0=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:i,y:o}=oa(s,e).positionAbsolute;return BC(r,vd({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return PC(n)},HC=(t,e,[n,r,s]=[0,0,1],i=!1,o=!1,a=[0,0])=>{const l={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},c=[];return t.forEach(d=>{const{width:h,height:p,selectable:m=!0,hidden:y=!1}=d;if(o&&!m||y)return!1;const{positionAbsolute:w}=oa(d,a),b={x:w.x,y:w.y,width:h||0,height:p||0},g=U1(l,b),S=typeof h>"u"||typeof p>"u"||h===null||p===null,_=i&&g>0,A=(h||0)*(p||0);(S||_||g>=A||d.dragging)&&c.push(d)}),c},VC=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},KC=(t,e,n,r,s,i=.1)=>{const o=e/(t.width*(1+i)),a=n/(t.height*(1+i)),l=Math.min(o,a),c=rc(l,r,s),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,m=n/2-h*c;return{x:p,y:m,zoom:c}},Ro=(t,e=0)=>t.transition().duration(e);function IS(t,e,n,r){return(e[n]||[]).reduce((s,i)=>{var o,a;return`${t.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((a=t.positionAbsolute)==null?void 0:a.y)??0)+i.y+i.height/2}),s},[])}function D$(t,e,n,r,s,i){const{x:o,y:a}=uo(t),c=e.elementsFromPoint(o,a).find(y=>y.classList.contains("react-flow__handle"));if(c){const y=c.getAttribute("data-nodeid");if(y){const w=vv(void 0,c),b=c.getAttribute("data-handleid"),g=i({nodeId:y,id:b,type:w});if(g){const S=s.find(_=>_.nodeId===y&&_.type===w&&_.id===b);return{handle:{id:b,type:w,nodeId:y,x:(S==null?void 0:S.x)||n.x,y:(S==null?void 0:S.y)||n.y},validHandleResult:g}}}}let d=[],h=1/0;if(s.forEach(y=>{const w=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(w<=r){const b=i(y);w<=h&&(w<h?d=[{handle:y,validHandleResult:b}]:w===h&&d.push({handle:y,validHandleResult:b}),h=w)}}),!d.length)return{handle:null,validHandleResult:qC()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:w})=>m?y.type==="target":p?w.isValid:!0)||d[0]}const z$={source:null,target:null,sourceHandle:null,targetHandle:null},qC=()=>({handleDomNode:null,isValid:!1,connection:z$,endHandle:null});function YC(t,e,n,r,s,i,o){const a=s==="target",l=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),c={...qC(),handleDomNode:l};if(l){const d=vv(void 0,l),h=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),w={source:a?h:n,sourceHandle:a?p:r,target:a?n:h,targetHandle:a?r:p};c.connection=w,m&&y&&(e===ya.Strict?a&&d==="source"||!a&&d==="target":h!==n||p!==r)&&(c.endHandle={nodeId:h,handleId:p,type:d},c.isValid=i(w))}return c}function W$({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,i)=>{if(i[Zt]){const{handleBounds:o}=i[Zt];let a=[],l=[];o&&(a=IS(i,o,"source",`${e}-${n}-${r}`),l=IS(i,o,"target",`${e}-${n}-${r}`)),s.push(...a,...l)}return s},[])}function vv(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Eg(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function F$(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function GC({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const d=RC(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:m,connectionRadius:y,onConnectStart:w,panBy:b,getNodes:g,cancelConnection:S}=i();let _=0,A;const{x:R,y:W}=uo(t),O=d==null?void 0:d.elementFromPoint(R,W),B=vv(l,O),F=p==null?void 0:p.getBoundingClientRect();if(!F||!B)return;let U,H=uo(t,F),V=!1,M=null,f=!1,x=null;const k=W$({nodes:g(),nodeId:n,handleId:e,handleType:B}),I=()=>{if(!m)return;const[P,T]=TC(H,F);b({x:P,y:T}),_=requestAnimationFrame(I)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:B,connectionStartHandle:{nodeId:n,handleId:e,type:B},connectionEndHandle:null}),w==null||w(t,{nodeId:n,handleId:e,handleType:B});function C(P){const{transform:T}=i();H=uo(P,F);const{handle:v,validHandleResult:L}=D$(P,d,q1(H,T,!1,[1,1]),y,k,X=>YC(X,h,n,e,s?"target":"source",a,d));if(A=v,V||(I(),V=!0),x=L.handleDomNode,M=L.connection,f=L.isValid,o({connectionPosition:A&&f?UC({x:A.x,y:A.y},T):H,connectionStatus:F$(!!A,f),connectionEndHandle:L.endHandle}),!A&&!f&&!x)return Eg(U);M.source!==M.target&&x&&(Eg(U),U=x,x.classList.add("connecting","react-flow__handle-connecting"),x.classList.toggle("valid",f),x.classList.toggle("react-flow__handle-valid",f))}function j(P){var T,v;(A||x)&&M&&f&&(r==null||r(M)),(v=(T=i()).onConnectEnd)==null||v.call(T,P),l&&(c==null||c(P)),Eg(U),S(),cancelAnimationFrame(_),V=!1,f=!1,M=null,x=null,d.removeEventListener("mousemove",C),d.removeEventListener("mouseup",j),d.removeEventListener("touchmove",C),d.removeEventListener("touchend",j)}d.addEventListener("mousemove",C),d.addEventListener("mouseup",j),d.addEventListener("touchmove",C),d.addEventListener("touchend",j)}const jS=()=>!0,$$=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),U$=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n}},ZC=D.forwardRef(({type:t="source",position:e=Ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:h,...p},m)=>{var F,U;const y=o||null,w=t==="target",b=hn(),g=B$(),{connectOnClick:S,noPanClassName:_}=yt($$,bn),{connecting:A,clickConnecting:R}=yt(U$(g,y,t),bn);g||(U=(F=b.getState()).onError)==null||U.call(F,"010",gi.error010());const W=H=>{const{defaultEdgeOptions:V,onConnect:M,hasDefaultEdges:f}=b.getState(),x={...V,...H};if(f){const{edges:k,setEdges:I}=b.getState();I($C(x,k))}M==null||M(x),a==null||a(x)},O=H=>{if(!g)return;const V=OC(H);s&&(V&&H.button===0||!V)&&GC({event:H,handleId:y,nodeId:g,onConnect:W,isTarget:w,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||jS}),V?d==null||d(H):h==null||h(H)},B=H=>{const{onClickConnectStart:V,onClickConnectEnd:M,connectionClickStartHandle:f,connectionMode:x,isValidConnection:k}=b.getState();if(!g||!f&&!s)return;if(!f){V==null||V(H,{nodeId:g,handleId:y,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:g,type:t,handleId:y}});return}const I=RC(H.target),C=n||k||jS,{connection:j,isValid:P}=YC({nodeId:g,id:y,type:t},x,f.nodeId,f.handleId||null,f.type,C,I);P&&W(j),M==null||M(H),b.setState({connectionClickStartHandle:null})};return K.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":e,"data-id":`${g}-${y}-${t}`,className:Tn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,connecting:R,connectionindicator:r&&(s&&!A||i&&A)}]),onMouseDown:O,onTouchStart:O,onClick:S?B:void 0,ref:m,...p},l)});ZC.displayName="Handle";var go=D.memo(ZC);const XC=({data:t,isConnectable:e,targetPosition:n=Ne.Top,sourcePosition:r=Ne.Bottom})=>K.createElement(K.Fragment,null,K.createElement(go,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,K.createElement(go,{type:"source",position:r,isConnectable:e}));XC.displayName="DefaultNode";var Y1=D.memo(XC);const QC=({data:t,isConnectable:e,sourcePosition:n=Ne.Bottom})=>K.createElement(K.Fragment,null,t==null?void 0:t.label,K.createElement(go,{type:"source",position:n,isConnectable:e}));QC.displayName="InputNode";var JC=D.memo(QC);const eM=({data:t,isConnectable:e,targetPosition:n=Ne.Top})=>K.createElement(K.Fragment,null,K.createElement(go,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);eM.displayName="OutputNode";var tM=D.memo(eM);const bv=()=>null;bv.displayName="GroupNode";const H$=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Rh=t=>t.id;function V$(t,e){return bn(t.selectedNodes.map(Rh),e.selectedNodes.map(Rh))&&bn(t.selectedEdges.map(Rh),e.selectedEdges.map(Rh))}const nM=D.memo(({onSelectionChange:t})=>{const e=hn(),{selectedNodes:n,selectedEdges:r}=yt(H$,V$);return D.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(i=>i(s))},[n,r,t]),null});nM.displayName="SelectionListener";const K$=t=>!!t.onSelectionChange;function q$({onSelectionChange:t}){const e=yt(K$);return t||e?K.createElement(nM,{onSelectionChange:t}):null}const Y$=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Da(t,e){D.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Ve(t,e,n){D.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const G$=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:w,maxZoom:b,nodeExtent:g,onNodesChange:S,onEdgesChange:_,elementsSelectable:A,connectionMode:R,snapGrid:W,snapToGrid:O,translateExtent:B,connectOnClick:F,defaultEdgeOptions:U,fitView:H,fitViewOptions:V,onNodesDelete:M,onEdgesDelete:f,onNodeDrag:x,onNodeDragStart:k,onNodeDragStop:I,onSelectionDrag:C,onSelectionDragStart:j,onSelectionDragStop:P,noPanClassName:T,nodeOrigin:v,rfId:L,autoPanOnConnect:X,autoPanOnNodeDrag:Z,onError:te,connectionRadius:ne,isValidConnection:le,nodeDragThreshold:ce})=>{const{setNodes:pe,setEdges:Pe,setDefaultNodesAndEdges:Re,setMinZoom:it,setMaxZoom:Oe,setTranslateExtent:Le,setNodeExtent:re,reset:ge}=yt(Y$,bn),oe=hn();return D.useEffect(()=>{const ie=r==null?void 0:r.map(ye=>({...ye,...U}));return Re(n,ie),()=>{ge()}},[]),Ve("defaultEdgeOptions",U,oe.setState),Ve("connectionMode",R,oe.setState),Ve("onConnect",s,oe.setState),Ve("onConnectStart",i,oe.setState),Ve("onConnectEnd",o,oe.setState),Ve("onClickConnectStart",a,oe.setState),Ve("onClickConnectEnd",l,oe.setState),Ve("nodesDraggable",c,oe.setState),Ve("nodesConnectable",d,oe.setState),Ve("nodesFocusable",h,oe.setState),Ve("edgesFocusable",p,oe.setState),Ve("edgesUpdatable",m,oe.setState),Ve("elementsSelectable",A,oe.setState),Ve("elevateNodesOnSelect",y,oe.setState),Ve("snapToGrid",O,oe.setState),Ve("snapGrid",W,oe.setState),Ve("onNodesChange",S,oe.setState),Ve("onEdgesChange",_,oe.setState),Ve("connectOnClick",F,oe.setState),Ve("fitViewOnInit",H,oe.setState),Ve("fitViewOnInitOptions",V,oe.setState),Ve("onNodesDelete",M,oe.setState),Ve("onEdgesDelete",f,oe.setState),Ve("onNodeDrag",x,oe.setState),Ve("onNodeDragStart",k,oe.setState),Ve("onNodeDragStop",I,oe.setState),Ve("onSelectionDrag",C,oe.setState),Ve("onSelectionDragStart",j,oe.setState),Ve("onSelectionDragStop",P,oe.setState),Ve("noPanClassName",T,oe.setState),Ve("nodeOrigin",v,oe.setState),Ve("rfId",L,oe.setState),Ve("autoPanOnConnect",X,oe.setState),Ve("autoPanOnNodeDrag",Z,oe.setState),Ve("onError",te,oe.setState),Ve("connectionRadius",ne,oe.setState),Ve("isValidConnection",le,oe.setState),Ve("nodeDragThreshold",ce,oe.setState),Da(t,pe),Da(e,Pe),Da(w,it),Da(b,Oe),Da(B,Le),Da(g,re),null},TS={display:"none"},Z$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rM="react-flow__node-desc",sM="react-flow__edge-desc",X$="react-flow__aria-live",Q$=t=>t.ariaLiveMessage;function J$({rfId:t}){const e=yt(Q$);return K.createElement("div",{id:`${X$}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Z$},e)}function eU({rfId:t,disableKeyboardA11y:e}){return K.createElement(K.Fragment,null,K.createElement("div",{id:`${rM}-${t}`,style:TS},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),K.createElement("div",{id:`${sM}-${t}`,style:TS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&K.createElement(J$,{rfId:t}))}var Sd=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=D.useState(!1),s=D.useRef(!1),i=D.useRef(new Set([])),[o,a]=D.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=c.reduce((h,p)=>h.concat(...p),[]);return[c,d]}return[[],[]]},[t]);return D.useEffect(()=>{const l=typeof document<"u"?document:null,c=(e==null?void 0:e.target)||l;if(t!==null){const d=m=>{if(s.current=m.ctrlKey||m.metaKey||m.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&H1(m))return!1;const w=BS(m.code,a);i.current.add(m[w]),RS(o,i.current,!1)&&(m.preventDefault(),r(!0))},h=m=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&H1(m))return!1;const w=BS(m.code,a);RS(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[w]),m.key==="Meta"&&i.current.clear(),s.current=!1},p=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[t,r]),n};function RS(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function BS(t,e){return e.includes(t)?"code":"key"}function iM(t,e,n,r){var a,l;const s=t.parentNode||t.parentId;if(!s)return n;const i=e.get(s),o=oa(i,r);return iM(i,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[Zt])==null?void 0:a.z)??0)>(n.z??0)?((l=i[Zt])==null?void 0:l.z)??0:n.z??0},r)}function oM(t,e,n){t.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:a,z:l}=iM(r,t,{...r.position,z:((i=r[Zt])==null?void 0:i.z)??0},e);r.positionAbsolute={x:o,y:a},r[Zt].z=l,n!=null&&n[r.id]&&(r[Zt].isParent=!0)}})}function Ng(t,e,n,r){const s=new Map,i={},o=r?1e3:0;return t.forEach(a=>{var m;const l=(Lr(a.zIndex)?a.zIndex:0)+(a.selected?o:0),c=e.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},h=a.parentNode||a.parentId;h&&(i[h]=!0);const p=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(d,Zt,{enumerable:!1,value:{handleBounds:p||(m=c==null?void 0:c[Zt])==null?void 0:m.handleBounds,z:l}}),s.set(a.id,d)}),oM(s,n,i),s}function aM(t,e={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:h}=t(),p=e.initial&&!c&&d;if(a&&l&&(p||!e.initial)){const y=n().filter(b=>{var S;const g=e.includeHiddenNodes?b.width&&b.height:!b.hidden;return(S=e.nodes)!=null&&S.length?g&&e.nodes.some(_=>_.id===b.id):g}),w=y.every(b=>b.width&&b.height);if(y.length>0&&w){const b=s0(y,h),{x:g,y:S,zoom:_}=KC(b,r,s,e.minZoom??i,e.maxZoom??o,e.padding??.1),A=ci.translate(g,S).scale(_);return typeof e.duration=="number"&&e.duration>0?a.transform(Ro(l,e.duration),A):a.transform(l,A),!0}}return!1}function tU(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Zt]:r[Zt],selected:n.selected})}),new Map(e)}function nU(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Bh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();t!=null&&t.length&&(l&&r({nodeInternals:tU(t,s)}),o==null||o(t)),e!=null&&e.length&&(c&&r({edges:nU(e,i)}),a==null||a(e))}const za=()=>{},rU={zoomIn:za,zoomOut:za,zoomTo:za,getZoom:()=>1,setViewport:za,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:za,fitBounds:za,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},sU=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),iU=()=>{const t=hn(),{d3Zoom:e,d3Selection:n}=yt(sU,bn);return D.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Ro(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(Ro(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>e.scaleTo(Ro(n,i==null?void 0:i.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,i)=>{const[o,a,l]=t.getState().transform,c=ci.translate(s.x??o,s.y??a).scale(s.zoom??l);e.transform(Ro(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[s,i,o]=t.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>aM(t.getState,s),setCenter:(s,i,o)=>{const{width:a,height:l,maxZoom:c}=t.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,h=a/2-s*d,p=l/2-i*d,m=ci.translate(h,p).scale(d);e.transform(Ro(n,o==null?void 0:o.duration),m)},fitBounds:(s,i)=>{const{width:o,height:a,minZoom:l,maxZoom:c}=t.getState(),{x:d,y:h,zoom:p}=KC(s,o,a,l,c,(i==null?void 0:i.padding)??.1),m=ci.translate(d,h).scale(p);e.transform(Ro(n,i==null?void 0:i.duration),m)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:a}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),q1(s,i,o,a)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:a,domNode:l}=t.getState();if(!l)return s;const{x:c,y:d}=l.getBoundingClientRect(),h={x:s.x-c,y:s.y-d};return q1(h,i,o,a)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=t.getState();if(!o)return s;const{x:a,y:l}=o.getBoundingClientRect(),c=UC(s,i);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:rU,[e,n])};function Sv(){const t=iU(),e=hn(),n=D.useCallback(()=>e.getState().getNodes().map(w=>({...w})),[]),r=D.useCallback(w=>e.getState().nodeInternals.get(w),[]),s=D.useCallback(()=>{const{edges:w=[]}=e.getState();return w.map(b=>({...b}))},[]),i=D.useCallback(w=>{const{edges:b=[]}=e.getState();return b.find(g=>g.id===w)},[]),o=D.useCallback(w=>{const{getNodes:b,setNodes:g,hasDefaultNodes:S,onNodesChange:_}=e.getState(),A=b(),R=typeof w=="function"?w(A):w;if(S)g(R);else if(_){const W=R.length===0?A.map(O=>({type:"remove",id:O.id})):R.map(O=>({item:O,type:"reset"}));_(W)}},[]),a=D.useCallback(w=>{const{edges:b=[],setEdges:g,hasDefaultEdges:S,onEdgesChange:_}=e.getState(),A=typeof w=="function"?w(b):w;if(S)g(A);else if(_){const R=A.length===0?b.map(W=>({type:"remove",id:W.id})):A.map(W=>({item:W,type:"reset"}));_(R)}},[]),l=D.useCallback(w=>{const b=Array.isArray(w)?w:[w],{getNodes:g,setNodes:S,hasDefaultNodes:_,onNodesChange:A}=e.getState();if(_){const W=[...g(),...b];S(W)}else if(A){const R=b.map(W=>({item:W,type:"add"}));A(R)}},[]),c=D.useCallback(w=>{const b=Array.isArray(w)?w:[w],{edges:g=[],setEdges:S,hasDefaultEdges:_,onEdgesChange:A}=e.getState();if(_)S([...g,...b]);else if(A){const R=b.map(W=>({item:W,type:"add"}));A(R)}},[]),d=D.useCallback(()=>{const{getNodes:w,edges:b=[],transform:g}=e.getState(),[S,_,A]=g;return{nodes:w().map(R=>({...R})),edges:b.map(R=>({...R})),viewport:{x:S,y:_,zoom:A}}},[]),h=D.useCallback(({nodes:w,edges:b})=>{const{nodeInternals:g,getNodes:S,edges:_,hasDefaultNodes:A,hasDefaultEdges:R,onNodesDelete:W,onEdgesDelete:O,onNodesChange:B,onEdgesChange:F}=e.getState(),U=(w||[]).map(x=>x.id),H=(b||[]).map(x=>x.id),V=S().reduce((x,k)=>{const I=k.parentNode||k.parentId,C=!U.includes(k.id)&&I&&x.find(P=>P.id===I);return(typeof k.deletable=="boolean"?k.deletable:!0)&&(U.includes(k.id)||C)&&x.push(k),x},[]),M=_.filter(x=>typeof x.deletable=="boolean"?x.deletable:!0),f=M.filter(x=>H.includes(x.id));if(V||f){const x=VC(V,M),k=[...f,...x],I=k.reduce((C,j)=>(C.includes(j.id)||C.push(j.id),C),[]);if((R||A)&&(R&&e.setState({edges:_.filter(C=>!I.includes(C.id))}),A&&(V.forEach(C=>{g.delete(C.id)}),e.setState({nodeInternals:new Map(g)}))),I.length>0&&(O==null||O(k),F&&F(I.map(C=>({id:C,type:"remove"})))),V.length>0&&(W==null||W(V),B)){const C=V.map(j=>({id:j.id,type:"remove"}));B(C)}}},[]),p=D.useCallback(w=>{const b=N$(w),g=b?null:e.getState().nodeInternals.get(w.id);return!b&&!g?[null,null,b]:[b?w:ES(g),g,b]},[]),m=D.useCallback((w,b=!0,g)=>{const[S,_,A]=p(w);return S?(g||e.getState().getNodes()).filter(R=>{if(!A&&(R.id===_.id||!R.positionAbsolute))return!1;const W=ES(R),O=U1(W,S);return b&&O>0||O>=S.width*S.height}):[]},[]),y=D.useCallback((w,b,g=!0)=>{const[S]=p(w);if(!S)return!1;const _=U1(S,b);return g&&_>0||_>=S.width*S.height},[]);return D.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:a,addNodes:l,addEdges:c,toObject:d,deleteElements:h,getIntersectingNodes:m,isNodeIntersecting:y}),[t,n,r,s,i,o,a,l,c,d,h,m,y])}const oU={actInsideInputWithModifier:!1};var aU=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=hn(),{deleteElements:r}=Sv(),s=Sd(t,oU),i=Sd(e);D.useEffect(()=>{if(s){const{edges:o,getNodes:a}=n.getState(),l=a().filter(d=>d.selected),c=o.filter(d=>d.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[s]),D.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function lU(t){const e=hn();D.useEffect(()=>{let n;const r=()=>{var i,o;if(!t.current)return;const s=pv(t.current);(s.height===0||s.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",gi.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const _v={position:"absolute",width:"100%",height:"100%",top:0,left:0},cU=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Ph=t=>({x:t.x,y:t.y,zoom:t.k}),Wa=(t,e)=>t.target.closest(`.${e}`),PS=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),LS=t=>{const e=t.ctrlKey&&Gp()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},uU=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),dU=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Qo.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:p,translateExtent:m,minZoom:y,maxZoom:w,zoomActivationKeyCode:b,preventScrolling:g=!0,children:S,noWheelClassName:_,noPanClassName:A})=>{const R=D.useRef(),W=hn(),O=D.useRef(!1),B=D.useRef(!1),F=D.useRef(null),U=D.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:V,d3ZoomHandler:M,userSelectionActive:f}=yt(uU,bn),x=Sd(b),k=D.useRef(0),I=D.useRef(!1),C=D.useRef();return lU(F),D.useEffect(()=>{if(F.current){const j=F.current.getBoundingClientRect(),P=IC().scaleExtent([y,w]).translateExtent(m),T=Br(F.current).call(P),v=ci.translate(p.x,p.y).scale(rc(p.zoom,y,w)),L=[[0,0],[j.width,j.height]],X=P.constrain()(v,L,m);P.transform(T,X),P.wheelDelta(LS),W.setState({d3Zoom:P,d3Selection:T,d3ZoomHandler:T.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:F.current.closest(".react-flow")})}},[]),D.useEffect(()=>{V&&H&&(o&&!x&&!f?V.on("wheel.zoom",j=>{if(Wa(j,_))return!1;j.preventDefault(),j.stopImmediatePropagation();const P=V.property("__zoom").k||1;if(j.ctrlKey&&i){const le=Gr(j),ce=LS(j),pe=P*Math.pow(2,ce);H.scaleTo(V,pe,le,j);return}const T=j.deltaMode===1?20:1;let v=l===Qo.Vertical?0:j.deltaX*T,L=l===Qo.Horizontal?0:j.deltaY*T;!Gp()&&j.shiftKey&&l!==Qo.Vertical&&(v=j.deltaY*T,L=0),H.translateBy(V,-(v/P)*a,-(L/P)*a,{internal:!0});const X=Ph(V.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:te,onViewportChangeEnd:ne}=W.getState();clearTimeout(C.current),I.current||(I.current=!0,e==null||e(j,X),Z==null||Z(X)),I.current&&(t==null||t(j,X),te==null||te(X),C.current=setTimeout(()=>{n==null||n(j,X),ne==null||ne(X),I.current=!1},150))},{passive:!1}):typeof M<"u"&&V.on("wheel.zoom",function(j,P){if(!g&&j.type==="wheel"&&!j.ctrlKey||Wa(j,_))return null;j.preventDefault(),M.call(this,j,P)},{passive:!1}))},[f,o,l,V,H,M,x,i,g,_,e,t,n]),D.useEffect(()=>{H&&H.on("start",j=>{var v,L;if(!j.sourceEvent||j.sourceEvent.internal)return null;k.current=(v=j.sourceEvent)==null?void 0:v.button;const{onViewportChangeStart:P}=W.getState(),T=Ph(j.transform);O.current=!0,U.current=T,((L=j.sourceEvent)==null?void 0:L.type)==="mousedown"&&W.setState({paneDragging:!0}),P==null||P(T),e==null||e(j.sourceEvent,T)})},[H,e]),D.useEffect(()=>{H&&(f&&!O.current?H.on("zoom",null):f||H.on("zoom",j=>{var T;const{onViewportChange:P}=W.getState();if(W.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),B.current=!!(r&&PS(h,k.current??0)),(t||P)&&!((T=j.sourceEvent)!=null&&T.internal)){const v=Ph(j.transform);P==null||P(v),t==null||t(j.sourceEvent,v)}}))},[f,H,t,h,r]),D.useEffect(()=>{H&&H.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=W.getState();if(O.current=!1,W.setState({paneDragging:!1}),r&&PS(h,k.current??0)&&!B.current&&r(j.sourceEvent),B.current=!1,(n||P)&&cU(U.current,j.transform)){const T=Ph(j.transform);U.current=T,clearTimeout(R.current),R.current=setTimeout(()=>{P==null||P(T),n==null||n(j.sourceEvent,T)},o?150:0)}})},[H,o,h,n,r]),D.useEffect(()=>{H&&H.filter(j=>{const P=x||s,T=i&&j.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&j.button===1&&j.type==="mousedown"&&(Wa(j,"react-flow__node")||Wa(j,"react-flow__edge")))return!0;if(!h&&!P&&!o&&!c&&!i||f||!c&&j.type==="dblclick"||Wa(j,_)&&j.type==="wheel"||Wa(j,A)&&(j.type!=="wheel"||o&&j.type==="wheel"&&!x)||!i&&j.ctrlKey&&j.type==="wheel"||!P&&!o&&!T&&j.type==="wheel"||!h&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(h)&&!h.includes(j.button)&&j.type==="mousedown")return!1;const v=Array.isArray(h)&&h.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&v})},[f,H,s,i,o,c,h,d,x]),K.createElement("div",{className:"react-flow__renderer",ref:F,style:_v},S)},hU=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function fU(){const{userSelectionActive:t,userSelectionRect:e}=yt(hU,bn);return t&&e?K.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function OS(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(s>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),e.position.x<0){const o=Math.abs(e.position.x);r.position.x=r.position.x-o,r.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);r.position.y=r.position.y-o,r.style.height+=o,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function lM(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const i=t.filter(a=>a.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const a of i)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&OS(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&OS(r,o);break}case"remove":return r}return r.push(o),r},n)}function cM(t,e){return lM(t,e)}function pU(t,e){return lM(t,e)}const Oi=(t,e)=>({id:t,type:"select",selected:e});function yl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Oi(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Oi(r.id,!1))),n},[])}const Ag=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},mU=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),uM=D.memo(({isSelecting:t,selectionMode:e=bd.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:d,children:h})=>{const p=D.useRef(null),m=hn(),y=D.useRef(0),w=D.useRef(0),b=D.useRef(),{userSelectionActive:g,elementsSelectable:S,dragging:_}=yt(mU,bn),A=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,w.current=0},R=M=>{i==null||i(M),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},W=M=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){M.preventDefault();return}o==null||o(M)},O=a?M=>a(M):void 0,B=M=>{const{resetSelectedElements:f,domNode:x}=m.getState();if(b.current=x==null?void 0:x.getBoundingClientRect(),!S||!t||M.button!==0||M.target!==p.current||!b.current)return;const{x:k,y:I}=uo(M,b.current);f(),m.setState({userSelectionRect:{width:0,height:0,startX:k,startY:I,x:k,y:I}}),r==null||r(M)},F=M=>{const{userSelectionRect:f,nodeInternals:x,edges:k,transform:I,onNodesChange:C,onEdgesChange:j,nodeOrigin:P,getNodes:T}=m.getState();if(!t||!b.current||!f)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const v=uo(M,b.current),L=f.startX??0,X=f.startY??0,Z={...f,x:v.x<L?v.x:L,y:v.y<X?v.y:X,width:Math.abs(v.x-L),height:Math.abs(v.y-X)},te=T(),ne=HC(x,Z,I,e===bd.Partial,!0,P),le=VC(ne,k).map(pe=>pe.id),ce=ne.map(pe=>pe.id);if(y.current!==ce.length){y.current=ce.length;const pe=yl(te,ce);pe.length&&(C==null||C(pe))}if(w.current!==le.length){w.current=le.length;const pe=yl(k,le);pe.length&&(j==null||j(pe))}m.setState({userSelectionRect:Z})},U=M=>{if(M.button!==0)return;const{userSelectionRect:f}=m.getState();!g&&f&&M.target===p.current&&(R==null||R(M)),m.setState({nodesSelectionActive:y.current>0}),A(),s==null||s(M)},H=M=>{g&&(m.setState({nodesSelectionActive:y.current>0}),s==null||s(M)),A()},V=S&&(t||g);return K.createElement("div",{className:Tn(["react-flow__pane",{dragging:_,selection:t}]),onClick:V?void 0:Ag(R,p),onContextMenu:Ag(W,p),onWheel:Ag(O,p),onMouseEnter:V?void 0:l,onMouseDown:V?B:void 0,onMouseMove:V?F:c,onMouseUp:V?U:void 0,onMouseLeave:V?H:d,ref:p,style:_v},h,K.createElement(fU,null))});uM.displayName="Pane";function dM(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:dM(r,e):!1}function DS(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function gU(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!dM(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function yU(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function hM(t,e,n,r,s=[0,0],i){const o=yU(t,t.extent||r);let a=o;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:p,y:m}=oa(h,s).positionAbsolute;a=h&&Lr(p)&&Lr(m)&&Lr(h.width)&&Lr(h.height)?[[p+t.width*s[0],m+t.height*s[1]],[p+h.width-t.width+t.width*s[0],m+h.height-t.height+t.height*s[1]]]:a}else i==null||i("005",gi.error005()),a=o;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:p,y:m}=oa(h,s).positionAbsolute;a=[[t.extent[0][0]+p,t.extent[0][1]+m],[t.extent[1][0]+p,t.extent[1][1]+m]]}let c={x:0,y:0};if(l){const h=n.get(l);c=oa(h,s).positionAbsolute}const d=a&&a!=="parent"?mv(e,a):e;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function Cg({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const zS=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const i=Array.from(s),o=e.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return i.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-a.x)/n,y:(c.top-o.top-a.y)/n,...pv(l)}})};function Kc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function G1({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",gi.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([t])}function xU(){const t=hn();return D.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:i?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function Mg(t){return(e,n,r)=>t==null?void 0:t(e,r)}function fM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const a=hn(),[l,c]=D.useState(!1),d=D.useRef([]),h=D.useRef({x:null,y:null}),p=D.useRef(0),m=D.useRef(null),y=D.useRef({x:0,y:0}),w=D.useRef(null),b=D.useRef(!1),g=D.useRef(!1),S=D.useRef(!1),_=xU();return D.useEffect(()=>{if(t!=null&&t.current){const A=Br(t.current),R=({x:B,y:F})=>{const{nodeInternals:U,onNodeDrag:H,onSelectionDrag:V,updateNodePositions:M,nodeExtent:f,snapGrid:x,snapToGrid:k,nodeOrigin:I,onError:C}=a.getState();h.current={x:B,y:F};let j=!1,P={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&f){const v=s0(d.current,I);P=vd(v)}if(d.current=d.current.map(v=>{const L={x:B-v.distance.x,y:F-v.distance.y};k&&(L.x=x[0]*Math.round(L.x/x[0]),L.y=x[1]*Math.round(L.y/x[1]));const X=[[f[0][0],f[0][1]],[f[1][0],f[1][1]]];d.current.length>1&&f&&!v.extent&&(X[0][0]=v.positionAbsolute.x-P.x+f[0][0],X[1][0]=v.positionAbsolute.x+(v.width??0)-P.x2+f[1][0],X[0][1]=v.positionAbsolute.y-P.y+f[0][1],X[1][1]=v.positionAbsolute.y+(v.height??0)-P.y2+f[1][1]);const Z=hM(v,L,U,X,I,C);return j=j||v.position.x!==Z.position.x||v.position.y!==Z.position.y,v.position=Z.position,v.positionAbsolute=Z.positionAbsolute,v}),!j)return;M(d.current,!0,!0),c(!0);const T=s?H:Mg(V);if(T&&w.current){const[v,L]=Cg({nodeId:s,dragItems:d.current,nodeInternals:U});T(w.current,v,L)}},W=()=>{if(!m.current)return;const[B,F]=TC(y.current,m.current);if(B!==0||F!==0){const{transform:U,panBy:H}=a.getState();h.current.x=(h.current.x??0)-B/U[2],h.current.y=(h.current.y??0)-F/U[2],H({x:B,y:F})&&R(h.current)}p.current=requestAnimationFrame(W)},O=B=>{var I;const{nodeInternals:F,multiSelectionActive:U,nodesDraggable:H,unselectNodesAndEdges:V,onNodeDragStart:M,onSelectionDragStart:f}=a.getState();g.current=!0;const x=s?M:Mg(f);(!o||!i)&&!U&&s&&((I=F.get(s))!=null&&I.selected||V()),s&&i&&o&&G1({id:s,store:a,nodeRef:t});const k=_(B);if(h.current=k,d.current=gU(F,H,k,s),x&&d.current){const[C,j]=Cg({nodeId:s,dragItems:d.current,nodeInternals:F});x(B.sourceEvent,C,j)}};if(e)A.on(".drag",null);else{const B=IW().on("start",F=>{const{domNode:U,nodeDragThreshold:H}=a.getState();H===0&&O(F),S.current=!1;const V=_(F);h.current=V,m.current=(U==null?void 0:U.getBoundingClientRect())||null,y.current=uo(F.sourceEvent,m.current)}).on("drag",F=>{var M,f;const U=_(F),{autoPanOnNodeDrag:H,nodeDragThreshold:V}=a.getState();if(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1&&(S.current=!0),!S.current){if(!b.current&&g.current&&H&&(b.current=!0,W()),!g.current){const x=U.xSnapped-(((M=h==null?void 0:h.current)==null?void 0:M.x)??0),k=U.ySnapped-(((f=h==null?void 0:h.current)==null?void 0:f.y)??0);Math.sqrt(x*x+k*k)>V&&O(F)}(h.current.x!==U.xSnapped||h.current.y!==U.ySnapped)&&d.current&&g.current&&(w.current=F.sourceEvent,y.current=uo(F.sourceEvent,m.current),R(U))}}).on("end",F=>{if(!(!g.current||S.current)&&(c(!1),b.current=!1,g.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:U,nodeInternals:H,onNodeDragStop:V,onSelectionDragStop:M}=a.getState(),f=s?V:Mg(M);if(U(d.current,!1,!1),f){const[x,k]=Cg({nodeId:s,dragItems:d.current,nodeInternals:H});f(F.sourceEvent,x,k)}}}).filter(F=>{const U=F.target;return!F.button&&(!n||!DS(U,`.${n}`,t))&&(!r||DS(U,r,t))});return A.call(B),()=>{A.on(".drag",null)}}}},[t,e,n,r,i,a,s,o,_]),l}function pM(){const t=hn();return D.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:d}=t.getState(),h=o().filter(S=>S.selected&&(S.draggable||d&&typeof S.draggable>"u")),p=a?l[0]:5,m=a?l[1]:5,y=n.isShiftPressed?4:1,w=n.x*p*y,b=n.y*m*y,g=h.map(S=>{if(S.positionAbsolute){const _={x:S.positionAbsolute.x+w,y:S.positionAbsolute.y+b};a&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:A,position:R}=hM(S,_,r,s,void 0,c);S.position=R,S.positionAbsolute=A}return S});i(g,!0,!1)},[])}const Rl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var qc=t=>{const e=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:m,onContextMenu:y,onDoubleClick:w,style:b,className:g,isDraggable:S,isSelectable:_,isConnectable:A,isFocusable:R,selectNodesOnDrag:W,sourcePosition:O,targetPosition:B,hidden:F,resizeObserver:U,dragHandle:H,zIndex:V,isParent:M,noDragClassName:f,noPanClassName:x,initialized:k,disableKeyboardA11y:I,ariaLabel:C,rfId:j,hasHandleBounds:P})=>{const T=hn(),v=D.useRef(null),L=D.useRef(null),X=D.useRef(O),Z=D.useRef(B),te=D.useRef(r),ne=_||S||d||h||p||m,le=pM(),ce=Kc(n,T.getState,h),pe=Kc(n,T.getState,p),Pe=Kc(n,T.getState,m),Re=Kc(n,T.getState,y),it=Kc(n,T.getState,w),Oe=ge=>{const{nodeDragThreshold:oe}=T.getState();if(_&&(!W||!S||oe>0)&&G1({id:n,store:T,nodeRef:v}),d){const ie=T.getState().nodeInternals.get(n);ie&&d(ge,{...ie})}},Le=ge=>{if(!H1(ge)&&!I)if(LC.includes(ge.key)&&_){const oe=ge.key==="Escape";G1({id:n,store:T,unselect:oe,nodeRef:v})}else S&&c&&Object.prototype.hasOwnProperty.call(Rl,ge.key)&&(T.setState({ariaLiveMessage:`Moved selected node ${ge.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),le({x:Rl[ge.key].x,y:Rl[ge.key].y,isShiftPressed:ge.shiftKey}))};D.useEffect(()=>()=>{L.current&&(U==null||U.unobserve(L.current),L.current=null)},[]),D.useEffect(()=>{if(v.current&&!F){const ge=v.current;(!k||!P||L.current!==ge)&&(L.current&&(U==null||U.unobserve(L.current)),U==null||U.observe(ge),L.current=ge)}},[F,k,P]),D.useEffect(()=>{const ge=te.current!==r,oe=X.current!==O,ie=Z.current!==B;v.current&&(ge||oe||ie)&&(ge&&(te.current=r),oe&&(X.current=O),ie&&(Z.current=B),T.getState().updateNodeDimensions([{id:n,nodeElement:v.current,forceUpdate:!0}]))},[n,r,O,B]);const re=fM({nodeRef:v,disabled:F||!S,noDragClassName:f,handleSelector:H,nodeId:n,isSelectable:_,selectNodesOnDrag:W});return F?null:K.createElement("div",{className:Tn(["react-flow__node",`react-flow__node-${r}`,{[x]:S},g,{selected:c,selectable:_,parent:M,dragging:re}]),ref:v,style:{zIndex:V,transform:`translate(${a}px,${l}px)`,pointerEvents:ne?"all":"none",visibility:k?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ce,onMouseMove:pe,onMouseLeave:Pe,onContextMenu:Re,onClick:Oe,onDoubleClick:it,onKeyDown:R?Le:void 0,tabIndex:R?0:void 0,role:R?"button":void 0,"aria-describedby":I?void 0:`${rM}-${j}`,"aria-label":C},K.createElement(R$,{value:n},K.createElement(t,{id:n,data:s,type:r,xPos:i,yPos:o,selected:c,isConnectable:A,sourcePosition:O,targetPosition:B,dragging:re,dragHandle:H,zIndex:V})))};return e.displayName="NodeWrapper",D.memo(e)};const wU=t=>{const e=t.getNodes().filter(n=>n.selected);return{...s0(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function vU({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=hn(),{width:s,height:i,x:o,y:a,transformString:l,userSelectionActive:c}=yt(wU,bn),d=pM(),h=D.useRef(null);if(D.useEffect(()=>{var y;n||(y=h.current)==null||y.focus({preventScroll:!0})},[n]),fM({nodeRef:h}),c||!s||!i)return null;const p=t?y=>{const w=r.getState().getNodes().filter(b=>b.selected);t(y,w)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(Rl,y.key)&&d({x:Rl[y.key].x,y:Rl[y.key].y,isShiftPressed:y.shiftKey})};return K.createElement("div",{className:Tn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},K.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:i,top:a,left:o}}))}var bU=D.memo(vU);const SU=t=>t.nodesSelectionActive,mM=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:b,panActivationKeyCode:g,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:R,panOnScroll:W,panOnScrollSpeed:O,panOnScrollMode:B,zoomOnDoubleClick:F,panOnDrag:U,defaultViewport:H,translateExtent:V,minZoom:M,maxZoom:f,preventScrolling:x,onSelectionContextMenu:k,noWheelClassName:I,noPanClassName:C,disableKeyboardA11y:j})=>{const P=yt(SU),T=Sd(h),v=Sd(g),L=v||U,X=v||W,Z=T||p&&L!==!0;return aU({deleteKeyCode:a,multiSelectionKeyCode:b}),K.createElement(dU,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:R,panOnScroll:X,panOnScrollSpeed:O,panOnScrollMode:B,zoomOnDoubleClick:F,panOnDrag:!T&&L,defaultViewport:H,translateExtent:V,minZoom:M,maxZoom:f,zoomActivationKeyCode:S,preventScrolling:x,noWheelClassName:I,noPanClassName:C},K.createElement(uM,{onSelectionStart:y,onSelectionEnd:w,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:L,isSelecting:!!Z,selectionMode:m},t,P&&K.createElement(bU,{onSelectionContextMenu:k,noPanClassName:C,disableKeyboardA11y:j})))};mM.displayName="FlowRenderer";var _U=D.memo(mM);function kU(t){return yt(D.useCallback(n=>t?HC(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function EU(t){const e={input:qc(t.input||JC),default:qc(t.default||Y1),output:qc(t.output||tM),group:qc(t.group||bv)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=qc(t[i]||Y1),s),n);return{...e,...r}}const NU=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},AU=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),gM=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=yt(AU,bn),a=kU(t.onlyRenderVisibleElements),l=D.useRef(),c=D.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const p=h.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(p)});return l.current=d,d},[]);return D.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),K.createElement("div",{className:"react-flow__nodes",style:_v},a.map(d=>{var R,W,O;let h=d.type||"default";t.nodeTypes[h]||(o==null||o("003",gi.error003(h)),h="default");const p=t.nodeTypes[h]||t.nodeTypes.default,m=!!(d.draggable||e&&typeof d.draggable>"u"),y=!!(d.selectable||s&&typeof d.selectable>"u"),w=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),g=t.nodeExtent?mv(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,S=(g==null?void 0:g.x)??0,_=(g==null?void 0:g.y)??0,A=NU({x:S,y:_,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return K.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||Ne.Bottom,targetPosition:d.targetPosition||Ne.Top,hidden:d.hidden,xPos:S,yPos:_,xPosOrigin:A.x,yPosOrigin:A.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:b,resizeObserver:c,dragHandle:d.dragHandle,zIndex:((R=d[Zt])==null?void 0:R.z)??0,isParent:!!((W=d[Zt])!=null&&W.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((O=d[Zt])!=null&&O.handleBounds)})}))};gM.displayName="NodeRenderer";var CU=D.memo(gM);const MU=(t,e,n)=>n===Ne.Left?t-e:n===Ne.Right?t+e:t,IU=(t,e,n)=>n===Ne.Top?t-e:n===Ne.Bottom?t+e:t,WS="react-flow__edgeupdater",FS=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a})=>K.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Tn([WS,`${WS}-${a}`]),cx:MU(e,r,t),cy:IU(n,r,t),r,stroke:"transparent",fill:"transparent"}),jU=()=>!0;var Fa=t=>{const e=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:a,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,style:b,source:g,target:S,sourceX:_,sourceY:A,targetX:R,targetY:W,sourcePosition:O,targetPosition:B,elementsSelectable:F,hidden:U,sourceHandleId:H,targetHandleId:V,onContextMenu:M,onMouseEnter:f,onMouseMove:x,onMouseLeave:k,reconnectRadius:I,onReconnect:C,onReconnectStart:j,onReconnectEnd:P,markerEnd:T,markerStart:v,rfId:L,ariaLabel:X,isFocusable:Z,isReconnectable:te,pathOptions:ne,interactionWidth:le,disableKeyboardA11y:ce})=>{const pe=D.useRef(null),[Pe,Re]=D.useState(!1),[it,Oe]=D.useState(!1),Le=hn(),re=D.useMemo(()=>`url('#${K1(v,L)}')`,[v,L]),ge=D.useMemo(()=>`url('#${K1(T,L)}')`,[T,L]);if(U)return null;const oe=q=>{var Ye;const{edges:G,addSelectedEdges:ee,unselectNodesAndEdges:De,multiSelectionActive:Be}=Le.getState(),Ce=G.find(Me=>Me.id===n);Ce&&(F&&(Le.setState({nodesSelectionActive:!1}),Ce.selected&&Be?(De({nodes:[],edges:[Ce]}),(Ye=pe.current)==null||Ye.blur()):ee([n])),o&&o(q,Ce))},ie=Vc(n,Le.getState,a),ye=Vc(n,Le.getState,M),xe=Vc(n,Le.getState,f),Ae=Vc(n,Le.getState,x),Se=Vc(n,Le.getState,k),ze=(q,G)=>{if(q.button!==0)return;const{edges:ee,isValidConnection:De}=Le.getState(),Be=G?S:g,Ce=(G?V:H)||null,Ye=G?"target":"source",Me=De||jU,St=G,bi=ee.find(ds=>ds.id===n);Oe(!0),j==null||j(q,bi,Ye);const _t=ds=>{Oe(!1),P==null||P(ds,bi,Ye)};GC({event:q,handleId:Ce,nodeId:Be,onConnect:ds=>C==null?void 0:C(bi,ds),isTarget:St,getState:Le.getState,setState:Le.setState,isValidConnection:Me,edgeUpdaterType:Ye,onReconnectEnd:_t})},Fe=q=>ze(q,!0),Je=q=>ze(q,!1),z=()=>Re(!0),E=()=>Re(!1),N=!F&&!o,$=q=>{var G;if(!ce&&LC.includes(q.key)&&F){const{unselectNodesAndEdges:ee,addSelectedEdges:De,edges:Be}=Le.getState();q.key==="Escape"?((G=pe.current)==null||G.blur(),ee({edges:[Be.find(Ye=>Ye.id===n)]})):De([n])}};return K.createElement("g",{className:Tn(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:l,animated:c,inactive:N,updating:Pe}]),onClick:oe,onDoubleClick:ie,onContextMenu:ye,onMouseEnter:xe,onMouseMove:Ae,onMouseLeave:Se,onKeyDown:Z?$:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":X===null?void 0:X||`Edge from ${g} to ${S}`,"aria-describedby":Z?`${sM}-${L}`:void 0,ref:pe},!it&&K.createElement(t,{id:n,source:g,target:S,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,data:i,style:b,sourceX:_,sourceY:A,targetX:R,targetY:W,sourcePosition:O,targetPosition:B,sourceHandleId:H,targetHandleId:V,markerStart:re,markerEnd:ge,pathOptions:ne,interactionWidth:le}),te&&K.createElement(K.Fragment,null,(te==="source"||te===!0)&&K.createElement(FS,{position:O,centerX:_,centerY:A,radius:I,onMouseDown:Fe,onMouseEnter:z,onMouseOut:E,type:"source"}),(te==="target"||te===!0)&&K.createElement(FS,{position:B,centerX:R,centerY:W,radius:I,onMouseDown:Je,onMouseEnter:z,onMouseOut:E,type:"target"})))};return e.displayName="EdgeWrapper",D.memo(e)};function TU(t){const e={default:Fa(t.default||Xp),straight:Fa(t.bezier||xv),step:Fa(t.step||yv),smoothstep:Fa(t.step||r0),simplebezier:Fa(t.simplebezier||gv)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Fa(t[i]||Xp),s),n);return{...e,...r}}function $S(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,i=(n==null?void 0:n.width)||e.width,o=(n==null?void 0:n.height)||e.height;switch(t){case Ne.Top:return{x:r+i/2,y:s};case Ne.Right:return{x:r+i,y:s+o/2};case Ne.Bottom:return{x:r+i/2,y:s+o};case Ne.Left:return{x:r,y:s+o/2}}}function US(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const RU=(t,e,n,r,s,i)=>{const o=$S(n,t,e),a=$S(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function BU({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:a,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=vd({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),h=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),p=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(h*p)>0}function HS(t){var r,s,i,o,a;const e=((r=t==null?void 0:t[Zt])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const PU=[{level:0,isMaxLevel:!0,edges:[]}];function LU(t,e,n=!1){let r=-1;const s=t.reduce((o,a)=>{var d,h;const l=Lr(a.zIndex);let c=l?a.zIndex:0;if(n){const p=e.get(a.target),m=e.get(a.source),y=a.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),w=Math.max(((d=m==null?void 0:m[Zt])==null?void 0:d.z)||0,((h=p==null?void 0:p[Zt])==null?void 0:h.z)||0,1e3);c=(l?a.zIndex:0)+(y?w:0)}return o[c]?o[c].push(a):o[c]=[a],r=c>r?c:r,o},{}),i=Object.entries(s).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return i.length===0?PU:i}function OU(t,e,n){const r=yt(D.useCallback(s=>t?s.edges.filter(i=>{const o=e.get(i.source),a=e.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&BU({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return LU(r,e,n)}const DU=({color:t="none",strokeWidth:e=1})=>K.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zU=({color:t="none",strokeWidth:e=1})=>K.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),VS={[Zp.Arrow]:DU,[Zp.ArrowClosed]:zU};function WU(t){const e=hn();return D.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(VS,t)?VS[t]:((i=(s=e.getState()).onError)==null||i.call(s,"009",gi.error009(t)),null)},[t])}const FU=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=WU(e);return l?K.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},K.createElement(l,{color:n,strokeWidth:o})):null},$U=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=K1(o,e);r.includes(a)||(s.push({id:a,color:o.color||t,...o}),r.push(a))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},yM=({defaultColor:t,rfId:e})=>{const n=yt(D.useCallback($U({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return K.createElement("defs",null,n.map(r=>K.createElement(FU,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};yM.displayName="MarkerDefinitions";var UU=D.memo(yM);const HU=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),xM=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,children:b,disableKeyboardA11y:g})=>{const{edgesFocusable:S,edgesUpdatable:_,elementsSelectable:A,width:R,height:W,connectionMode:O,nodeInternals:B,onError:F}=yt(HU,bn),U=OU(e,B,n);return R?K.createElement(K.Fragment,null,U.map(({level:H,edges:V,isMaxLevel:M})=>K.createElement("svg",{key:H,style:{zIndex:H},width:R,height:W,className:"react-flow__edges react-flow__container"},M&&K.createElement(UU,{defaultColor:t,rfId:r}),K.createElement("g",null,V.map(f=>{const[x,k,I]=HS(B.get(f.source)),[C,j,P]=HS(B.get(f.target));if(!I||!P)return null;let T=f.type||"default";s[T]||(F==null||F("011",gi.error011(T)),T="default");const v=s[T]||s.default,L=O===ya.Strict?j.target:(j.target??[]).concat(j.source??[]),X=US(k.source,f.sourceHandle),Z=US(L,f.targetHandle),te=(X==null?void 0:X.position)||Ne.Bottom,ne=(Z==null?void 0:Z.position)||Ne.Top,le=!!(f.focusable||S&&typeof f.focusable>"u"),ce=f.reconnectable||f.updatable,pe=typeof p<"u"&&(ce||_&&typeof ce>"u");if(!X||!Z)return F==null||F("008",gi.error008(X,f)),null;const{sourceX:Pe,sourceY:Re,targetX:it,targetY:Oe}=RU(x,X,te,C,Z,ne);return K.createElement(v,{key:f.id,id:f.id,className:Tn([f.className,i]),type:T,data:f.data,selected:!!f.selected,animated:!!f.animated,hidden:!!f.hidden,label:f.label,labelStyle:f.labelStyle,labelShowBg:f.labelShowBg,labelBgStyle:f.labelBgStyle,labelBgPadding:f.labelBgPadding,labelBgBorderRadius:f.labelBgBorderRadius,style:f.style,source:f.source,target:f.target,sourceHandleId:f.sourceHandle,targetHandleId:f.targetHandle,markerEnd:f.markerEnd,markerStart:f.markerStart,sourceX:Pe,sourceY:Re,targetX:it,targetY:Oe,sourcePosition:te,targetPosition:ne,elementsSelectable:A,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,rfId:r,ariaLabel:f.ariaLabel,isFocusable:le,isReconnectable:pe,pathOptions:"pathOptions"in f?f.pathOptions:void 0,interactionWidth:f.interactionWidth,disableKeyboardA11y:g})})))),b):null};xM.displayName="EdgeRenderer";var VU=D.memo(xM);const KU=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function qU({children:t}){const e=yt(KU);return K.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function YU(t){const e=Sv(),n=D.useRef(!1);D.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const GU={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top},wM=({nodeId:t,handleType:e,style:n,type:r=Fi.Bezier,CustomComponent:s,connectionStatus:i})=>{var W,O,B;const{fromNode:o,handleId:a,toX:l,toY:c,connectionMode:d}=yt(D.useCallback(F=>({fromNode:F.nodeInternals.get(t),handleId:F.connectionHandleId,toX:(F.connectionPosition.x-F.transform[0])/F.transform[2],toY:(F.connectionPosition.y-F.transform[1])/F.transform[2],connectionMode:F.connectionMode}),[t]),bn),h=(W=o==null?void 0:o[Zt])==null?void 0:W.handleBounds;let p=h==null?void 0:h[e];if(d===ya.Loose&&(p=p||(h==null?void 0:h[e==="source"?"target":"source"])),!o||!p)return null;const m=a?p.find(F=>F.id===a):p[0],y=m?m.x+m.width/2:(o.width??0)/2,w=m?m.y+m.height/2:o.height??0,b=(((O=o.positionAbsolute)==null?void 0:O.x)??0)+y,g=(((B=o.positionAbsolute)==null?void 0:B.y)??0)+w,S=m==null?void 0:m.position,_=S?GU[S]:null;if(!S||!_)return null;if(s)return K.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:b,fromY:g,toX:l,toY:c,fromPosition:S,toPosition:_,connectionStatus:i});let A="";const R={sourceX:b,sourceY:g,sourcePosition:S,targetX:l,targetY:c,targetPosition:_};return r===Fi.Bezier?[A]=FC(R):r===Fi.Step?[A]=V1({...R,borderRadius:0}):r===Fi.SmoothStep?[A]=V1(R):r===Fi.SimpleBezier?[A]=WC(R):A=`M${b},${g} ${l},${c}`,K.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:n})};wM.displayName="ConnectionLine";const ZU=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function XU({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:a,height:l,connectionStatus:c}=yt(ZU,bn);return!(s&&i&&a&&o)?null:K.createElement("svg",{style:t,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},K.createElement("g",{className:Tn(["react-flow__connection",c])},K.createElement(wM,{nodeId:s,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function KS(t,e){return D.useRef(null),hn(),D.useMemo(()=>e(t),[t])}const vM=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:w,onSelectionEnd:b,connectionLineType:g,connectionLineStyle:S,connectionLineComponent:_,connectionLineContainerStyle:A,selectionKeyCode:R,selectionOnDrag:W,selectionMode:O,multiSelectionKeyCode:B,panActivationKeyCode:F,zoomActivationKeyCode:U,deleteKeyCode:H,onlyRenderVisibleElements:V,elementsSelectable:M,selectNodesOnDrag:f,defaultViewport:x,translateExtent:k,minZoom:I,maxZoom:C,preventScrolling:j,defaultMarkerColor:P,zoomOnScroll:T,zoomOnPinch:v,panOnScroll:L,panOnScrollSpeed:X,panOnScrollMode:Z,zoomOnDoubleClick:te,panOnDrag:ne,onPaneClick:le,onPaneMouseEnter:ce,onPaneMouseMove:pe,onPaneMouseLeave:Pe,onPaneScroll:Re,onPaneContextMenu:it,onEdgeContextMenu:Oe,onEdgeMouseEnter:Le,onEdgeMouseMove:re,onEdgeMouseLeave:ge,onReconnect:oe,onReconnectStart:ie,onReconnectEnd:ye,reconnectRadius:xe,noDragClassName:Ae,noWheelClassName:Se,noPanClassName:ze,elevateEdgesOnSelect:Fe,disableKeyboardA11y:Je,nodeOrigin:z,nodeExtent:E,rfId:N})=>{const $=KS(t,EU),q=KS(e,TU);return YU(i),K.createElement(_U,{onPaneClick:le,onPaneMouseEnter:ce,onPaneMouseMove:pe,onPaneMouseLeave:Pe,onPaneContextMenu:it,onPaneScroll:Re,deleteKeyCode:H,selectionKeyCode:R,selectionOnDrag:W,selectionMode:O,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:B,panActivationKeyCode:F,zoomActivationKeyCode:U,elementsSelectable:M,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:T,zoomOnPinch:v,zoomOnDoubleClick:te,panOnScroll:L,panOnScrollSpeed:X,panOnScrollMode:Z,panOnDrag:ne,defaultViewport:x,translateExtent:k,minZoom:I,maxZoom:C,onSelectionContextMenu:y,preventScrolling:j,noDragClassName:Ae,noWheelClassName:Se,noPanClassName:ze,disableKeyboardA11y:Je},K.createElement(qU,null,K.createElement(VU,{edgeTypes:q,onEdgeClick:a,onEdgeDoubleClick:c,onlyRenderVisibleElements:V,onEdgeContextMenu:Oe,onEdgeMouseEnter:Le,onEdgeMouseMove:re,onEdgeMouseLeave:ge,onReconnect:oe,onReconnectStart:ie,onReconnectEnd:ye,reconnectRadius:xe,defaultMarkerColor:P,noPanClassName:ze,elevateEdgesOnSelect:!!Fe,disableKeyboardA11y:Je,rfId:N},K.createElement(XU,{style:S,type:g,component:_,containerStyle:A})),K.createElement("div",{className:"react-flow__edgelabel-renderer"}),K.createElement(CU,{nodeTypes:$,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:f,onlyRenderVisibleElements:V,noPanClassName:ze,noDragClassName:Ae,disableKeyboardA11y:Je,nodeOrigin:z,nodeExtent:E,rfId:N})))};vM.displayName="GraphView";var QU=D.memo(vM);const Z1=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ci={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Z1,nodeExtent:Z1,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ya.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:A$,isValidConnection:void 0},JU=()=>$7((t,e)=>({...Ci,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=e();t({nodeInternals:Ng(n,r,s,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Ng(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=e(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(h.transform),m=n.reduce((w,b)=>{const g=s.get(b.id);if(g!=null&&g.hidden)s.set(g.id,{...g,[Zt]:{...g[Zt],handleBounds:void 0}});else if(g){const S=pv(b.nodeElement);!!(S.width&&S.height&&(g.width!==S.width||g.height!==S.height||b.forceUpdate))&&(s.set(g.id,{...g,[Zt]:{...g[Zt],handleBounds:{source:zS(".source",b.nodeElement,p,c),target:zS(".target",b.nodeElement,p,c)}},...S}),w.push({id:g.id,type:"dimensions",dimensions:S}))}return w},[]);oM(s,c);const y=o||i&&!o&&aM(e,{initial:!0,...a});t({nodeInternals:new Map(s),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=e(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:s};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(i){const c=cM(n,a()),d=Ng(c,s,o,l);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let o,a=null;r?o=n.map(l=>Oi(l,!0)):(o=yl(i(),n),a=yl(s,[])),Bh({changedNodes:o,changedEdges:a,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let o,a=null;r?o=n.map(l=>Oi(l,!0)):(o=yl(s,n),a=yl(i(),[])),Bh({changedNodes:a,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=e(),o=n||i(),a=r||s,l=o.map(d=>(d.selected=!1,Oi(d.id,!1))),c=a.map(d=>Oi(d.id,!1));Bh({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(a=>a.selected).map(a=>Oi(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Oi(a.id,!1));Bh({changedNodes:i,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=mv(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:a,translateExtent:l}=e();if(!o||!a||!n.x&&!n.y)return!1;const c=ci.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],h=o==null?void 0:o.constrain()(c,d,l);return o.transform(a,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:Ci.connectionNodeId,connectionHandleId:Ci.connectionHandleId,connectionHandleType:Ci.connectionHandleType,connectionStatus:Ci.connectionStatus,connectionStartHandle:Ci.connectionStartHandle,connectionEndHandle:Ci.connectionEndHandle}),reset:()=>t({...Ci})}),Object.is),bM=({children:t})=>{const e=D.useRef(null);return e.current||(e.current=JU()),K.createElement(v$,{value:e.current},t)};bM.displayName="ReactFlowProvider";const SM=({children:t})=>D.useContext(n0)?K.createElement(K.Fragment,null,t):K.createElement(bM,null,t);SM.displayName="ReactFlowWrapper";const eH={input:JC,default:Y1,output:tM,group:bv},tH={default:Xp,straight:xv,step:yv,smoothstep:r0,simplebezier:gv},nH=[0,0],rH=[15,15],sH={x:0,y:0,zoom:1},iH={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},_M=D.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=eH,edgeTypes:o=tH,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:g,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:R,onNodeDoubleClick:W,onNodeDragStart:O,onNodeDrag:B,onNodeDragStop:F,onNodesDelete:U,onEdgesDelete:H,onSelectionChange:V,onSelectionDragStart:M,onSelectionDrag:f,onSelectionDragStop:x,onSelectionContextMenu:k,onSelectionStart:I,onSelectionEnd:C,connectionMode:j=ya.Strict,connectionLineType:P=Fi.Bezier,connectionLineStyle:T,connectionLineComponent:v,connectionLineContainerStyle:L,deleteKeyCode:X="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:te=!1,selectionMode:ne=bd.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ce=Gp()?"Meta":"Control",zoomActivationKeyCode:pe=Gp()?"Meta":"Control",snapToGrid:Pe=!1,snapGrid:Re=rH,onlyRenderVisibleElements:it=!1,selectNodesOnDrag:Oe=!0,nodesDraggable:Le,nodesConnectable:re,nodesFocusable:ge,nodeOrigin:oe=nH,edgesFocusable:ie,edgesUpdatable:ye,elementsSelectable:xe,defaultViewport:Ae=sH,minZoom:Se=.5,maxZoom:ze=2,translateExtent:Fe=Z1,preventScrolling:Je=!0,nodeExtent:z,defaultMarkerColor:E="#b1b1b7",zoomOnScroll:N=!0,zoomOnPinch:$=!0,panOnScroll:q=!1,panOnScrollSpeed:G=.5,panOnScrollMode:ee=Qo.Free,zoomOnDoubleClick:De=!0,panOnDrag:Be=!0,onPaneClick:Ce,onPaneMouseEnter:Ye,onPaneMouseMove:Me,onPaneMouseLeave:St,onPaneScroll:bi,onPaneContextMenu:_t,children:Nt,onEdgeContextMenu:ds,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Pt,onEdgeMouseMove:qd,onEdgeMouseLeave:Lt,onEdgeUpdate:Ot,onEdgeUpdateStart:Yd,onEdgeUpdateEnd:Dt,onReconnect:zt,onReconnectStart:Gd,onReconnectEnd:Wt,reconnectRadius:Ft=10,edgeUpdaterRadius:Zd=10,onNodesChange:$t,onEdgesChange:Ut,noDragClassName:Xd="nodrag",noWheelClassName:Ht="nowheel",noPanClassName:At="nopan",fitView:Qd=!1,fitViewOptions:Vt,connectOnClick:Kt=!0,attributionPosition:xc,proOptions:wc,defaultEdgeOptions:vc,elevateNodesOnSelect:bc=!0,elevateEdgesOnSelect:Sc=!1,disableKeyboardA11y:Ia=!1,autoPanOnConnect:_c=!0,autoPanOnNodeDrag:kc=!0,connectionRadius:Ec=20,isValidConnection:Nc,onError:Ac,style:Cc,id:ja,nodeDragThreshold:Mc,...Ic},jc)=>{const ko=ja||"1";return K.createElement("div",{...Ic,style:{...Cc,...iH},ref:jc,className:Tn(["react-flow",s]),"data-testid":"rf__wrapper",id:ja},K.createElement(SM,null,K.createElement(QU,{onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:R,onNodeDoubleClick:W,nodeTypes:i,edgeTypes:o,connectionLineType:P,connectionLineStyle:T,connectionLineComponent:v,connectionLineContainerStyle:L,selectionKeyCode:Z,selectionOnDrag:te,selectionMode:ne,deleteKeyCode:X,multiSelectionKeyCode:ce,panActivationKeyCode:le,zoomActivationKeyCode:pe,onlyRenderVisibleElements:it,selectNodesOnDrag:Oe,defaultViewport:Ae,translateExtent:Fe,minZoom:Se,maxZoom:ze,preventScrolling:Je,zoomOnScroll:N,zoomOnPinch:$,zoomOnDoubleClick:De,panOnScroll:q,panOnScrollSpeed:G,panOnScrollMode:ee,panOnDrag:Be,onPaneClick:Ce,onPaneMouseEnter:Ye,onPaneMouseMove:Me,onPaneMouseLeave:St,onPaneScroll:bi,onPaneContextMenu:_t,onSelectionContextMenu:k,onSelectionStart:I,onSelectionEnd:C,onEdgeContextMenu:ds,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Pt,onEdgeMouseMove:qd,onEdgeMouseLeave:Lt,onReconnect:zt??Ot,onReconnectStart:Gd??Yd,onReconnectEnd:Wt??Dt,reconnectRadius:Ft??Zd,defaultMarkerColor:E,noDragClassName:Xd,noWheelClassName:Ht,noPanClassName:At,elevateEdgesOnSelect:Sc,rfId:ko,disableKeyboardA11y:Ia,nodeOrigin:oe,nodeExtent:z}),K.createElement(G$,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:g,nodesDraggable:Le,nodesConnectable:re,nodesFocusable:ge,edgesFocusable:ie,edgesUpdatable:ye,elementsSelectable:xe,elevateNodesOnSelect:bc,minZoom:Se,maxZoom:ze,nodeExtent:z,onNodesChange:$t,onEdgesChange:Ut,snapToGrid:Pe,snapGrid:Re,connectionMode:j,translateExtent:Fe,connectOnClick:Kt,defaultEdgeOptions:vc,fitView:Qd,fitViewOptions:Vt,onNodesDelete:U,onEdgesDelete:H,onNodeDragStart:O,onNodeDrag:B,onNodeDragStop:F,onSelectionDrag:f,onSelectionDragStart:M,onSelectionDragStop:x,noPanClassName:At,nodeOrigin:oe,rfId:ko,autoPanOnConnect:_c,autoPanOnNodeDrag:kc,onError:Ac,connectionRadius:Ec,isValidConnection:Nc,nodeDragThreshold:Mc}),K.createElement(q$,{onSelectionChange:V}),Nt,K.createElement(S$,{proOptions:wc,position:xc}),K.createElement(eU,{rfId:ko,disableKeyboardA11y:Ia})))});_M.displayName="ReactFlow";function kM(t){return e=>{const[n,r]=D.useState(e),s=D.useCallback(i=>r(o=>t(i,o)),[]);return[n,r,s]}}const oH=kM(cM),aH=kM(pU),EM=({id:t,x:e,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:h,onClick:p,selected:m})=>{const{background:y,backgroundColor:w}=i||{},b=o||y||w;return K.createElement("rect",{className:Tn(["react-flow__minimap-node",{selected:m},c]),x:e,y:n,rx:d,ry:d,width:r,height:s,fill:b,stroke:a,strokeWidth:l,shapeRendering:h,onClick:p?g=>p(g,t):void 0})};EM.displayName="MiniMapNode";var lH=D.memo(EM);const cH=t=>t.nodeOrigin,uH=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Ig=t=>t instanceof Function?t:()=>t;function dH({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=lH,onClick:o}){const a=yt(uH,bn),l=yt(cH),c=Ig(e),d=Ig(t),h=Ig(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return K.createElement(K.Fragment,null,a.map(m=>{const{x:y,y:w}=oa(m,l).positionAbsolute;return K.createElement(i,{key:m.id,x:y,y:w,width:m.width,height:m.height,style:m.style,selected:m.selected,className:h(m),color:c(m),borderRadius:r,strokeColor:d(m),strokeWidth:s,shapeRendering:p,onClick:o,id:m.id})}))}var hH=D.memo(dH);const fH=200,pH=150,mH=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?E$(s0(e,t.nodeOrigin),n):n,rfId:t.rfId}},gH="react-flow__minimap-desc";function NM({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:w=!1,ariaLabel:b="React Flow mini map",inversePan:g=!1,zoomStep:S=10,offsetScale:_=5}){const A=hn(),R=D.useRef(null),{boundingRect:W,viewBB:O,rfId:B}=yt(mH,bn),F=(t==null?void 0:t.width)??fH,U=(t==null?void 0:t.height)??pH,H=W.width/F,V=W.height/U,M=Math.max(H,V),f=M*F,x=M*U,k=_*M,I=W.x-(f-W.width)/2-k,C=W.y-(x-W.height)/2-k,j=f+k*2,P=x+k*2,T=`${gH}-${B}`,v=D.useRef(0);v.current=M,D.useEffect(()=>{if(R.current){const Z=Br(R.current),te=ce=>{const{transform:pe,d3Selection:Pe,d3Zoom:Re}=A.getState();if(ce.sourceEvent.type!=="wheel"||!Pe||!Re)return;const it=-ce.sourceEvent.deltaY*(ce.sourceEvent.deltaMode===1?.05:ce.sourceEvent.deltaMode?1:.002)*S,Oe=pe[2]*Math.pow(2,it);Re.scaleTo(Pe,Oe)},ne=ce=>{const{transform:pe,d3Selection:Pe,d3Zoom:Re,translateExtent:it,width:Oe,height:Le}=A.getState();if(ce.sourceEvent.type!=="mousemove"||!Pe||!Re)return;const re=v.current*Math.max(1,pe[2])*(g?-1:1),ge={x:pe[0]-ce.sourceEvent.movementX*re,y:pe[1]-ce.sourceEvent.movementY*re},oe=[[0,0],[Oe,Le]],ie=ci.translate(ge.x,ge.y).scale(pe[2]),ye=Re.constrain()(ie,oe,it);Re.transform(Pe,ye)},le=IC().on("zoom",y?ne:null).on("zoom.wheel",w?te:null);return Z.call(le),()=>{Z.on("zoom",null)}}},[y,w,g,S]);const L=p?Z=>{const te=Gr(Z);p(Z,{x:te[0],y:te[1]})}:void 0,X=m?(Z,te)=>{const ne=A.getState().nodeInternals.get(te);m(Z,ne)}:void 0;return K.createElement(fv,{position:h,style:t,className:Tn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},K.createElement("svg",{width:F,height:U,viewBox:`${I} ${C} ${j} ${P}`,role:"img","aria-labelledby":T,ref:R,onClick:L},b&&K.createElement("title",{id:T},b),K.createElement(hH,{onClick:X,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),K.createElement("path",{className:"react-flow__minimap-mask",d:`M${I-k},${C-k}h${j+k*2}v${P+k*2}h${-j-k*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}NM.displayName="MiniMap";var yH=D.memo(NM);function xH(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},K.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function wH(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},K.createElement("path",{d:"M0 0h32v4.2H0z"}))}function vH(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},K.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function bH(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function SH(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const gu=({children:t,className:e,...n})=>K.createElement("button",{type:"button",className:Tn(["react-flow__controls-button",e]),...n},t);gu.displayName="ControlButton";const _H=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),AM=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:d,position:h="bottom-left"})=>{const p=hn(),[m,y]=D.useState(!1),{isInteractive:w,minZoomReached:b,maxZoomReached:g}=yt(_H,bn),{zoomIn:S,zoomOut:_,fitView:A}=Sv();if(D.useEffect(()=>{y(!0)},[]),!m)return null;const R=()=>{S(),i==null||i()},W=()=>{_(),o==null||o()},O=()=>{A(s),a==null||a()},B=()=>{p.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)};return K.createElement(fv,{className:Tn(["react-flow__controls",c]),position:h,style:t,"data-testid":"rf__controls"},e&&K.createElement(K.Fragment,null,K.createElement(gu,{onClick:R,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},K.createElement(xH,null)),K.createElement(gu,{onClick:W,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},K.createElement(wH,null))),n&&K.createElement(gu,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view"},K.createElement(vH,null)),r&&K.createElement(gu,{className:"react-flow__controls-interactive",onClick:B,title:"toggle interactivity","aria-label":"toggle interactivity"},w?K.createElement(SH,null):K.createElement(bH,null)),d)};AM.displayName="Controls";var kH=D.memo(AM),ss;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ss||(ss={}));function EH({color:t,dimensions:e,lineWidth:n}){return K.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function NH({color:t,radius:e}){return K.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const AH={[ss.Dots]:"#91919a",[ss.Lines]:"#eee",[ss.Cross]:"#e2e2e2"},CH={[ss.Dots]:1,[ss.Lines]:1,[ss.Cross]:6},MH=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function CM({id:t,variant:e=ss.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:a,className:l}){const c=D.useRef(null),{transform:d,patternId:h}=yt(MH,bn),p=o||AH[e],m=r||CH[e],y=e===ss.Dots,w=e===ss.Cross,b=Array.isArray(n)?n:[n,n],g=[b[0]*d[2]||1,b[1]*d[2]||1],S=m*d[2],_=w?[S,S]:g,A=y?[S/i,S/i]:[_[0]/i,_[1]/i];return K.createElement("svg",{className:Tn(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},K.createElement("pattern",{id:h+t,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},y?K.createElement(NH,{color:p,radius:S/i}):K.createElement(EH,{dimensions:_,color:p,lineWidth:s})),K.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}CM.displayName="Background";var IH=D.memo(CM);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Kd(t){return t+.5|0}const Xi=(t,e,n)=>Math.max(Math.min(t,n),e);function yu(t){return Xi(Kd(t*2.55),0,255)}function ho(t){return Xi(Kd(t*255),0,255)}function Zs(t){return Xi(Kd(t/2.55)/100,0,1)}function qS(t){return Xi(Kd(t*100),0,100)}const Cr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],jH=t=>X1[t&15],TH=t=>X1[(t&240)>>4]+X1[t&15],Lh=t=>(t&240)>>4===(t&15),RH=t=>Lh(t.r)&&Lh(t.g)&&Lh(t.b)&&Lh(t.a);function BH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Cr[t[1]]*17,g:255&Cr[t[2]]*17,b:255&Cr[t[3]]*17,a:e===5?Cr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Cr[t[1]]<<4|Cr[t[2]],g:Cr[t[3]]<<4|Cr[t[4]],b:Cr[t[5]]<<4|Cr[t[6]],a:e===9?Cr[t[7]]<<4|Cr[t[8]]:255})),n}const PH=(t,e)=>t<255?e(t):"";function LH(t){var e=RH(t)?jH:TH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+PH(t.a,e):void 0}const OH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MM(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function DH(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function zH(t,e,n){const r=MM(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function WH(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function kv(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,d;return i!==o&&(d=i-o,c=a>.5?d/(2-i-o):d/(i+o),l=WH(n,r,s,d,i),l=l*60+.5),[l|0,c||0,a]}function Ev(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ho)}function Nv(t,e,n){return Ev(MM,t,e,n)}function FH(t,e,n){return Ev(zH,t,e,n)}function $H(t,e,n){return Ev(DH,t,e,n)}function IM(t){return(t%360+360)%360}function UH(t){const e=OH.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?yu(+e[5]):ho(+e[5]));const s=IM(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=FH(s,i,o):e[1]==="hsv"?r=$H(s,i,o):r=Nv(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function HH(t,e){var n=kv(t);n[0]=IM(n[0]+e),n=Nv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function VH(t){if(!t)return;const e=kv(t),n=e[0],r=qS(e[1]),s=qS(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Zs(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const YS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},GS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KH(){const t={},e=Object.keys(GS),n=Object.keys(YS);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,YS[i]);i=parseInt(GS[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Oh;function qH(t){Oh||(Oh=KH(),Oh.transparent=[0,0,0,0]);const e=Oh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const YH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GH(t){const e=YH.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?yu(o):Xi(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?yu(r):Xi(r,0,255)),s=255&(e[4]?yu(s):Xi(s,0,255)),i=255&(e[6]?yu(i):Xi(i,0,255)),{r,g:s,b:i,a:n}}}function ZH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const jg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,$a=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function XH(t,e,n){const r=$a(Zs(t.r)),s=$a(Zs(t.g)),i=$a(Zs(t.b));return{r:ho(jg(r+n*($a(Zs(e.r))-r))),g:ho(jg(s+n*($a(Zs(e.g))-s))),b:ho(jg(i+n*($a(Zs(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Dh(t,e,n){if(t){let r=kv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Nv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function jM(t,e){return t&&Object.assign(e||{},t)}function ZS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ho(t[3]))):(e=jM(t,{r:0,g:0,b:0,a:1}),e.a=ho(e.a)),e}function QH(t){return t.charAt(0)==="r"?GH(t):UH(t)}class _d{constructor(e){if(e instanceof _d)return e;const n=typeof e;let r;n==="object"?r=ZS(e):n==="string"&&(r=BH(e)||qH(e)||QH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=jM(this._rgb);return e&&(e.a=Zs(e.a)),e}set rgb(e){this._rgb=ZS(e)}rgbString(){return this._valid?ZH(this._rgb):void 0}hexString(){return this._valid?LH(this._rgb):void 0}hslString(){return this._valid?VH(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=XH(this._rgb,e._rgb,n)),this}clone(){return new _d(this.rgb)}alpha(e){return this._rgb.a=ho(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Kd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dh(this._rgb,2,e),this}darken(e){return Dh(this._rgb,2,-e),this}saturate(e){return Dh(this._rgb,1,e),this}desaturate(e){return Dh(this._rgb,1,-e),this}rotate(e){return HH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fs(){}const JH=(()=>{let t=0;return()=>t++})();function gt(t){return t==null}function un(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Hn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ps(t,e){return Hn(t)?t:e}function Ze(t,e){return typeof t>"u"?e:t}const eV=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function wt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function at(t,e,n,r){let s,i,o;if(un(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Qe(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Qp(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Jp(t){if(un(t))return t.map(Jp);if(Qe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Jp(t[n[s]]);return e}return t}function TM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function tV(t,e,n,r){if(!TM(t))return;const s=e[t],i=n[t];Qe(s)&&Qe(i)?kd(s,i,r):e[t]=Jp(i)}function kd(t,e,n){const r=un(e)?e:[e],s=r.length;if(!Qe(t))return t;n=n||{};const i=n.merger||tV;let o;for(let a=0;a<s;++a){if(o=r[a],!Qe(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)i(l[c],t,o,n)}return t}function Pu(t,e){return kd(t,e,{merger:nV})}function nV(t,e,n){if(!TM(t))return;const r=e[t],s=n[t];Qe(r)&&Qe(s)?Pu(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Jp(s))}const XS={"":t=>t,x:t=>t.x,y:t=>t.y};function rV(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function sV(t){const e=rV(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function em(t,e){return(XS[e]||(XS[e]=sV(e)))(t)}function Av(t){return t.charAt(0).toUpperCase()+t.slice(1)}const tm=t=>typeof t<"u",yo=t=>typeof t=="function",QS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function iV(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const vn=Math.PI,is=2*vn,oV=is+vn,nm=Number.POSITIVE_INFINITY,aV=vn/180,es=vn/2,Eo=vn/4,JS=vn*2/3,RM=Math.log10,sc=Math.sign;function Lu(t,e,n){return Math.abs(t-e)<n}function e_(t){const e=Math.round(t);t=Lu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(RM(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function lV(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function cV(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ed(t){return!cV(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function uV(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function dV(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Jo(t){return t*(vn/180)}function hV(t){return t*(180/vn)}function t_(t){if(!Hn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fV(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*vn&&(i+=is),{angle:i,distance:s}}function Q1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pV(t,e){return(t-e+oV)%is-vn}function xs(t){return(t%is+is)%is}function BM(t,e,n,r){const s=xs(t),i=xs(e),o=xs(n),a=xs(i-s),l=xs(o-s),c=xs(s-i),d=xs(s-o);return s===i||s===o||r&&i===o||a>l&&c<d}function Or(t,e,n){return Math.max(e,Math.min(n,t))}function mV(t){return Or(t,-32768,32767)}function xl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Cv(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ea=(t,e,n,r)=>Cv(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),gV=(t,e,n)=>Cv(t,n,r=>t[r][e]>=n);function yV(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const PM=["push","pop","shift","splice","unshift"];function xV(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),PM.forEach(n=>{const r="_onData"+Av(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function n_(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(PM.forEach(i=>{delete t[i]}),delete t._chartjs)}function wV(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const LM=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function OM(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,LM.call(window,()=>{r=!1,t.apply(e,n)}))}}function vV(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Mv=t=>t==="start"?"left":t==="end"?"right":"center",Wn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,bV=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function SV(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:p,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(s=Math.min(ea(l,d,h).lo,n?r:ea(e,d,o.getPixelForValue(h)).lo),c){const w=l.slice(0,s+1).reverse().findIndex(b=>!gt(b[a.axis]));s-=Math.max(0,w)}s=Or(s,0,r-1)}if(y){let w=Math.max(ea(l,o.axis,p,!0).hi+1,n?0:ea(e,d,o.getPixelForValue(p),!0).hi+1);if(c){const b=l.slice(w-1).findIndex(g=>!gt(g[a.axis]));w+=Math.max(0,b)}i=Or(w,s,r)-s}else i=r-s}return{start:s,count:i}}function _V(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const zh=t=>t===0||t===1,r_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*is/n)),s_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*is/n)+1,Ou={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*es)+1,easeOutSine:t=>Math.sin(t*es),easeInOutSine:t=>-.5*(Math.cos(vn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zh(t)?t:r_(t,.075,.3),easeOutElastic:t=>zh(t)?t:s_(t,.075,.3),easeInOutElastic(t){return zh(t)?t:t<.5?.5*r_(t*2,.1125,.45):.5+.5*s_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ou.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ou.easeInBounce(t*2)*.5:Ou.easeOutBounce(t*2-1)*.5+.5};function Iv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function i_(t){return Iv(t)?t:new _d(t)}function Tg(t){return Iv(t)?t:new _d(t).saturate(.5).darken(.1).hexString()}const kV=["x","y","borderWidth","radius","tension"],EV=["color","borderColor","backgroundColor"];function NV(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:EV},numbers:{type:"number",properties:kV}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function AV(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o_=new Map;function CV(t,e){e=e||{};const n=t+JSON.stringify(e);let r=o_.get(n);return r||(r=new Intl.NumberFormat(t,e),o_.set(n,r)),r}function DM(t,e,n){return CV(e,n).format(t)}const MV={values(t){return un(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=IV(t,n)}const o=RM(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),DM(t,r,l)}};function IV(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var zM={formatters:MV};function jV(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zM.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xa=Object.create(null),J1=Object.create(null);function Du(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Rg(t,e,n){return typeof e=="string"?kd(Du(t,e),n):kd(Du(t,""),e)}class TV{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Tg(s.backgroundColor),this.hoverBorderColor=(r,s)=>Tg(s.borderColor),this.hoverColor=(r,s)=>Tg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Rg(this,e,n)}get(e){return Du(this,e)}describe(e,n){return Rg(J1,e,n)}override(e,n){return Rg(xa,e,n)}route(e,n,r,s){const i=Du(this,e),o=Du(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return Qe(l)?Object.assign({},c,l):Ze(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var en=new TV({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[NV,AV,jV]);function RV(t){return!t||gt(t.size)||gt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function a_(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function No(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function l_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ex(t,e,n,r){WM(t,e,n,r,null)}function WM(t,e,n,r,s){let i,o,a,l,c,d,h,p;const m=e.pointStyle,y=e.rotation,w=e.radius;let b=(y||0)*aV;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,w,0,0,is):t.arc(n,r,w,0,is),t.closePath();break;case"triangle":d=s?s/2:w,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*w),b+=JS,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*w),b+=JS,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(b+Eo)*l,h=Math.cos(b+Eo)*(s?s/2-c:l),a=Math.sin(b+Eo)*l,p=Math.sin(b+Eo)*(s?s/2-c:l),t.arc(n-h,r-a,c,b-vn,b-es),t.arc(n+p,r-o,c,b-es,b),t.arc(n+h,r+a,c,b,b+es),t.arc(n-p,r+o,c,b+es,b+vn),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*w,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=Eo;case"rectRot":h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+p,r-o),t.lineTo(n+h,r+a),t.lineTo(n-p,r+o),t.closePath();break;case"crossRot":b+=Eo;case"cross":h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"star":h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o),b+=Eo,h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"line":o=s?s/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:w),r+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Nd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function i0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function o0(t){t.restore()}function BV(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function PV(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function LV(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),gt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function OV(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function DV(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ad(t,e,n,r,s,i={}){const o=un(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,LV(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&DV(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),gt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),OV(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function tx(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*vn,vn,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,vn,es,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,es,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-es,!0),t.lineTo(n+o.topLeft,r)}const zV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FV(t,e){const n=(""+t).match(zV);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const $V=t=>+t||0;function FM(t,e){const n={},r=Qe(e),s=r?Object.keys(e):e,i=Qe(t)?r?o=>Ze(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=$V(i(o));return n}function UV(t){return FM(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zu(t){return FM(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ur(t){const e=UV(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $n(t,e){t=t||{},e=e||en.font;let n=Ze(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ze(t.style,e.style);r&&!(""+r).match(WV)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ze(t.family,e.family),lineHeight:FV(Ze(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ze(t.weight,e.weight),string:""};return s.string=RV(s),s}function Wh(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function HV(t,e,n){const{min:r,max:s}=t,i=eV(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Ma(t,e){return Object.assign(Object.create(t),e)}function jv(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=VM("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>jv([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return UM(a,l,()=>QV(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return u_(a).includes(l)},ownKeys(a){return u_(a)},set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function ic(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:$M(t,r),setContext:i=>ic(t,i,n,r),override:i=>ic(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return UM(i,o,()=>KV(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function $M(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:yo(n)?n:()=>n,isIndexable:yo(r)?r:()=>r}}const VV=(t,e)=>t?t+Av(e):e,Tv=(t,e)=>Qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function UM(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function KV(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return yo(a)&&o.isScriptable(e)&&(a=qV(e,a,t,n)),un(a)&&a.length&&(a=YV(e,a,t,o.isIndexable)),Tv(e,a)&&(a=ic(a,s,i&&i[e],o)),a}function qV(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Tv(t,l)&&(l=Rv(s._scopes,s,t,l)),l}function YV(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Qe(e[0])){const l=e,c=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=Rv(c,s,t,d);e.push(ic(h,i,o&&o[t],a))}}return e}function HM(t,e,n){return yo(t)?t(e,n):t}const GV=(t,e)=>t===!0?e:typeof t=="string"?em(e,t):void 0;function ZV(t,e,n,r,s){for(const i of e){const o=GV(n,i);if(o){t.add(o);const a=HM(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Rv(t,e,n,r){const s=e._rootScopes,i=HM(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=c_(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=c_(a,o,i,l,r),l===null)?!1:jv(Array.from(a),[""],s,i,()=>XV(e,n,r))}function c_(t,e,n,r,s){for(;n;)n=ZV(t,e,n,r,s);return n}function XV(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return un(s)&&Qe(n)?n:s||{}}function QV(t,e,n,r){let s;for(const i of e)if(s=VM(VV(i,t),n),typeof s<"u")return Tv(t,s)?Rv(n,r,t,s):s}function VM(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function u_(t){let e=t._keys;return e||(e=t._keys=JV(t._scopes)),e}function JV(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const eK=Number.EPSILON||1e-14,oc=(t,e)=>e<t.length&&!t[e].skip&&t[e],KM=t=>t==="x"?"y":"x";function tK(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=Q1(i,s),l=Q1(o,i);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=r*c,p=r*d;return{previous:{x:i.x-h*(o.x-s.x),y:i.y-h*(o.y-s.y)},next:{x:i.x+p*(o.x-s.x),y:i.y+p*(o.y-s.y)}}}function nK(t,e,n){const r=t.length;let s,i,o,a,l,c=oc(t,0);for(let d=0;d<r-1;++d)if(l=c,c=oc(t,d+1),!(!l||!c)){if(Lu(e[d],0,eK)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function rK(t,e,n="x"){const r=KM(n),s=t.length;let i,o,a,l=oc(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=oc(t,c+1),!a)continue;const d=a[n],h=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=h-i*e[c]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=h+i*e[c])}}function sK(t,e="x"){const n=KM(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=oc(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=oc(t,o+1),!!l){if(c){const d=c[e]-l[e];s[o]=d!==0?(c[n]-l[n])/d:0}i[o]=a?c?sc(s[o-1])!==sc(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}nK(t,s,i),rK(t,i,e)}function Fh(t,e,n){return Math.max(Math.min(t,n),e)}function iK(t,e){let n,r,s,i,o,a=Nd(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&Nd(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=Fh(s.cp1x,e.left,e.right),s.cp1y=Fh(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Fh(s.cp2x,e.left,e.right),s.cp2y=Fh(s.cp2y,e.top,e.bottom)))}function oK(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")sK(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=tK(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&iK(t,n)}function Bv(){return typeof window<"u"&&typeof document<"u"}function Pv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rm(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const a0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function aK(t,e){return a0(t).getPropertyValue(e)}const lK=["top","right","bottom","left"];function aa(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=lK[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const cK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function uK(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(cK(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Bo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=a0(n),i=s.boxSizing==="border-box",o=aa(s,"padding"),a=aa(s,"border","width"),{x:l,y:c,box:d}=uK(t,n),h=o.left+(d&&a.left),p=o.top+(d&&a.top);let{width:m,height:y}=e;return i&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/m*n.width/r),y:Math.round((c-p)/y*n.height/r)}}function dK(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Pv(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=a0(i),l=aa(a,"border","width"),c=aa(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=rm(a.maxWidth,i,"clientWidth"),s=rm(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||nm,maxHeight:s||nm}}const $h=t=>Math.round(t*10)/10;function hK(t,e,n,r){const s=a0(t),i=aa(s,"margin"),o=rm(s.maxWidth,t,"clientWidth")||nm,a=rm(s.maxHeight,t,"clientHeight")||nm,l=dK(t,e,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const p=aa(s,"border","width"),m=aa(s,"padding");c-=m.width+p.width,d-=m.height+p.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=$h(Math.min(c,o,l.maxWidth)),d=$h(Math.min(d,a,l.maxHeight)),c&&!d&&(d=$h(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=$h(Math.floor(d*r))),{width:c,height:d}}function d_(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const fK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Bv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function h_(t,e){const n=aK(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Po(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function pK(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mK(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Po(t,s,n),a=Po(s,i,n),l=Po(i,e,n),c=Po(o,a,n),d=Po(a,l,n);return Po(c,d,n)}const gK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},yK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Bl(t,e,n){return t?gK(e,n):yK()}function qM(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function YM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function GM(t){return t==="angle"?{between:BM,compare:pV,normalize:xs}:{between:xl,compare:(e,n)=>e-n,normalize:e=>e}}function f_({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function xK(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=GM(r),l=e.length;let{start:c,end:d,loop:h}=t,p,m;if(h){for(c+=l,d+=l,p=0,m=l;p<m&&o(a(e[c%l][r]),s,i);++p)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function ZM(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=GM(r),{start:d,end:h,loop:p,style:m}=xK(t,e,n),y=[];let w=!1,b=null,g,S,_;const A=()=>l(s,_,g)&&a(s,_)!==0,R=()=>a(i,g)===0||l(i,_,g),W=()=>w||A(),O=()=>!w||R();for(let B=d,F=d;B<=h;++B)S=e[B%o],!S.skip&&(g=c(S[r]),g!==_&&(w=l(g,s,i),b===null&&W()&&(b=a(g,s)===0?B:F),b!==null&&O()&&(y.push(f_({start:b,end:B,loop:p,count:o,style:m})),b=null),F=B,_=g));return b!==null&&y.push(f_({start:b,end:h,loop:p,count:o,style:m})),y}function XM(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=ZM(r[s],t.points,e);i.length&&n.push(...i)}return n}function wK(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function vK(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function bK(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=wK(n,s,i,r);if(r===!0)return p_(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return p_(t,vK(n,o,l,c),n,e)}function p_(t,e,n,r){return!r||!r.setContext||!n?e:SK(t,e,n,r)}function SK(t,e,n,r){const s=t._chart.getContext(),i=m_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=i,h=e[0].start,p=h;function m(y,w,b,g){const S=a?-1:1;if(y!==w){for(y+=l;n[y%l].skip;)y-=S;for(;n[w%l].skip;)w+=S;y%l!==w%l&&(c.push({start:y%l,end:w%l,loop:b,style:g}),d=g,h=w%l)}}for(const y of e){h=a?h:y.start;let w=n[h%l],b;for(p=h+1;p<=y.end;p++){const g=n[p%l];b=m_(r.setContext(Ma(s,{type:"segment",p0:w,p1:g,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),_K(b,d)&&m(h,p-1,y.loop,d),w=g,d=b}h<p-1&&m(h,p-1,y.loop,d)}return c}function m_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function _K(t,e){if(!e)return!1;const n=[],r=function(s,i){return Iv(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Uh(t,e,n){return t.options.clip?t[n]:e[n]}function kK(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Uh(n,e,"left"),right:Uh(n,e,"right"),top:Uh(r,e,"top"),bottom:Uh(r,e,"bottom")}:e}function QM(t,e){const n=e._clip;if(n.disabled)return!1;const r=kK(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class EK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=LM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hs=new EK;const g_="transparent",NK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=i_(t||g_),s=r.valid&&i_(e||g_);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class AK{constructor(e,n,r,s){const i=n[r];s=Wh([e.to,s,i,e.from]);const o=Wh([e.from,i,s]);this._active=!0,this._fn=e.fn||NK[e.type||typeof o],this._easing=Ou[e.easing]||Ou.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Wh([e.to,n,s,e.from]),this._from=Wh([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class JM{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Qe(e))return;const n=Object.keys(en.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Qe(i))return;const o={};for(const a of n)o[a]=i[a];(un(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=MK(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&CK(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[c];let h=i[c];const p=r.get(c);if(h)if(p&&h.active()){h.update(p,d,a);continue}else h.cancel();if(!p||!p.duration){e[c]=d;continue}i[c]=h=new AK(p,e,c,d),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Hs.add(this._chart,r),!0}}function CK(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function MK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function y_(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function IK(t,e,n){if(n===!1)return!1;const r=y_(t,n),s=y_(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function jK(t){let e,n,r,s;return Qe(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function e5(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function x_(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}c=t.values[l],Hn(c)&&(i||e===0||sc(e)===sc(c))&&(e+=c)}return!d&&!r.all?0:e}function TK(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function Bg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function RK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function BK(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function PK(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function w_(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function v_(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,d=RK(i,o,r),h=e.length;let p;for(let m=0;m<h;++m){const y=e[m],{[l]:w,[c]:b}=y,g=y._stacks||(y._stacks={});p=g[c]=PK(s,d,w),p[a]=b,p._top=w_(p,o,!0,r.type),p._bottom=w_(p,o,!1,r.type);const S=p._visualValues||(p._visualValues={});S[a]=b}}function Pg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function LK(t,e){return Ma(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function OK(t,e,n){return Ma(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yc(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Lg=t=>t==="reset"||t==="none",b_=(t,e)=>e?t:Object.assign({},t),DK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:e5(n,!0),values:null};class Wu{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,p,m,y)=>h==="x"?p:h==="r"?y:m,i=n.xAxisID=Ze(r.xAxisID,Pg(e,"x")),o=n.yAxisID=Ze(r.yAxisID,Pg(e,"y")),a=n.rAxisID=Ze(r.rAxisID,Pg(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&n_(this._data,this),e._stacked&&Yc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Qe(n)){const s=this._cachedMeta;this._data=TK(n,s)}else if(r!==n){if(r){n_(r,this);const s=this._cachedMeta;Yc(s),s._parsed=[]}n&&Object.isExtensible(n)&&xV(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Bg(n.vScale,n),n.stack!==r.stack&&(s=!0,Yc(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(v_(this,n._parsed),n._stacked=Bg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,h,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{un(s[e])?p=this.parseArrayData(r,s,e,n):Qe(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const m=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=h=p[d],l&&(m()&&(l=!1),c=h);r._sorted=l}o&&v_(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),d=i===o,h=new Array(s);let p,m,y;for(p=0,m=s;p<m;++p)y=p+r,h[p]={[a]:d||i.parse(c[y],y),[l]:o.parse(n[y],y)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,d,h;for(l=0,c=s;l<c;++l)d=l+r,h=n[d],a[l]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,h,p,m;for(d=0,h=s;d<h;++d)p=d+r,m=n[p],c[d]={x:i.parse(em(m,a),p),y:o.parse(em(m,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:e5(s,!0),values:n._stacks[e.axis]._visualValues};return x_(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=x_(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=DK(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=BK(a);let p,m;function y(){m=s[p];const w=m[a.axis];return!Hn(m[e.axis])||d>w||h<w}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(c,e,m,l),i));++p);if(i){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],Hn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=jK(Ze(this.options.clip,IK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const h=s[d];h.hidden||(h.active&&c?o.push(h):h.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=OK(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=LK(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&tm(r);if(a)return b_(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),d),m=Object.keys(en.elements[e]),y=()=>this.getContext(r,s,n),w=c.resolveNamedOptions(p,m,y,h);return w.$shared&&(w.$shared=l,i[o]=Object.freeze(b_(w,l))),w}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(p,this.getContext(e,r,n))}const c=new JM(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Lg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Lg(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Lg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Yc(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ke(Wu,"defaults",{}),ke(Wu,"datasetElementType",null),ke(Wu,"dataElementType",null);class Hf extends Wu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=SV(n,s,o);this._drawStart=a,this._drawCount=l,_V(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),p=o.axis,m=a.axis,{spanGaps:y,segment:w}=this.options,b=Ed(y)?y:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||s==="none",S=n+r,_=e.length;let A=n>0&&this.getParsed(n-1);for(let R=0;R<_;++R){const W=e[R],O=g?W:{};if(R<n||R>=S){O.skip=!0;continue}const B=this.getParsed(R),F=gt(B[m]),U=O[p]=o.getPixelForValue(B[p],R),H=O[m]=i||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[m],R);O.skip=isNaN(U)||isNaN(H)||F,O.stop=R>0&&Math.abs(B[p]-A[p])>b,w&&(O.parsed=B,O.raw=c.data[R]),h&&(O.options=d||this.resolveDataElementOptions(R,W.active?"active":s)),g||this.updateElement(W,R,O,s),A=B}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ke(Hf,"id","line"),ke(Hf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ke(Hf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lv{constructor(e){ke(this,"options");this.options=e||{}}static override(e){Object.assign(Lv.prototype,e)}init(){}formats(){return Ao()}parse(){return Ao()}format(){return Ao()}add(){return Ao()}diff(){return Ao()}startOf(){return Ao()}endOf(){return Ao()}}var zK={_date:Lv};function WK(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?gV:ea;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const p=c(i,e,n-h),m=c(i,e,n+h);return{lo:p.lo,hi:m.hi}}}}else{const d=c(i,e,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:p}=t,m=p.slice(0,d.lo+1).reverse().findIndex(w=>!gt(w[h.axis]));d.lo-=Math.max(0,m);const y=p.slice(d.hi).findIndex(w=>!gt(w[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function l0(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:d}=i[a],{lo:h,hi:p}=WK(i[a],e,o,s);for(let m=h;m<=p;++m){const y=d[m];y.skip||r(y,c,m)}}}function FK(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Og(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||l0(t,n,e,function(a,l,c){!s&&!Nd(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function $K(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=fV(o,{x:e.x,y:e.y});BM(h,c,d)&&s.push({element:o,datasetIndex:a,index:l})}return l0(t,n,e,i),s}function UK(t,e,n,r,s,i){let o=[];const a=FK(n);let l=Number.POSITIVE_INFINITY;function c(d,h,p){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const y=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!m)return;const b=a(e,y);b<l?(o=[{element:d,datasetIndex:h,index:p}],l=b):b===l&&o.push({element:d,datasetIndex:h,index:p})}return l0(t,n,e,c),o}function Dg(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?$K(t,e,n,s):UK(t,e,n,r,s,i)}function S_(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return l0(t,n,e,(l,c,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var HK={modes:{index(t,e,n,r){const s=Bo(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Og(t,s,i,r,o):Dg(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Bo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Og(t,s,i,r,o):Dg(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=Bo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Og(t,s,i,r,o)},nearest(t,e,n,r){const s=Bo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Dg(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Bo(e,t);return S_(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Bo(e,t);return S_(t,s,"y",n.intersect,r)}}};const t5=["left","top","right","bottom"];function Gc(t,e){return t.filter(n=>n.pos===e)}function __(t,e){return t.filter(n=>t5.indexOf(n.pos)===-1&&n.box.axis===e)}function Zc(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function VK(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function KK(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!t5.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function qK(t,e){const n=KK(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function YK(t){const e=VK(t),n=Zc(e.filter(c=>c.box.fullSize),!0),r=Zc(Gc(e,"left"),!0),s=Zc(Gc(e,"right")),i=Zc(Gc(e,"top"),!0),o=Zc(Gc(e,"bottom")),a=__(e,"x"),l=__(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Gc(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function k_(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function n5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function GK(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!Qe(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&n5(o,i.getPadding());const a=Math.max(0,e.outerWidth-k_(o,t,"left","right")),l=Math.max(0,e.outerHeight-k_(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function ZK(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function XK(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function xu(t,e,n,r){const s=[];let i,o,a,l,c,d;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,XK(a.horizontal,e));const{same:h,other:p}=GK(e,n,a,r);c|=h&&s.length,d=d||p,l.fullSize||s.push(a)}return c&&xu(s,e,n,r)||d}function Hh(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function E_(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,p=c.size||l.height;tm(c.start)&&(o=c.start),l.fullSize?Hh(l,s.left,o,n.outerWidth-s.right-s.left,p):Hh(l,e.left+c.placed,o,h,p),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*d,p=c.size||l.width;tm(c.start)&&(i=c.start),l.fullSize?Hh(l,i,s.top,p,n.outerHeight-s.bottom-s.top):Hh(l,i,e.top+c.placed,p,h),c.start=i,c.placed+=h,i=l.right}}e.x=i,e.y=o}var Dr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ur(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=YK(t.boxes),l=a.vertical,c=a.horizontal;at(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const d=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),p=Object.assign({},s);n5(p,Ur(r));const m=Object.assign({maxPadding:p,w:i,h:o,x:s.left,y:s.top},s),y=qK(l.concat(c),h);xu(a.fullSize,m,h,y),xu(l,m,h,y),xu(c,m,h,y)&&xu(l,m,h,y),ZK(m),E_(a.leftAndTop,m,h,y),m.x+=m.w,m.y+=m.h,E_(a.rightAndBottom,m,h,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},at(a.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class r5{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class QK extends r5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vf="$chartjs",JK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N_=t=>t===null||t==="";function eq(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Vf]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",N_(s)){const i=h_(t,"width");i!==void 0&&(t.width=i)}if(N_(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=h_(t,"height");i!==void 0&&(t.height=i)}return t}const s5=fK?{passive:!0}:!1;function tq(t,e,n){t&&t.addEventListener(e,n,s5)}function nq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,s5)}function rq(t,e){const n=JK[t.type]||t.type,{x:r,y:s}=Bo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function sm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sq(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||sm(a.addedNodes,r),o=o&&!sm(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function iq(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||sm(a.removedNodes,r),o=o&&!sm(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Cd=new Map;let A_=0;function i5(){const t=window.devicePixelRatio;t!==A_&&(A_=t,Cd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oq(t,e){Cd.size||window.addEventListener("resize",i5),Cd.set(t,e)}function aq(t){Cd.delete(t),Cd.size||window.removeEventListener("resize",i5)}function lq(t,e,n){const r=t.canvas,s=r&&Pv(r);if(!s)return;const i=OM((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(s),oq(t,i),o}function zg(t,e,n){n&&n.disconnect(),e==="resize"&&aq(t)}function cq(t,e,n){const r=t.canvas,s=OM(i=>{t.ctx!==null&&n(rq(i,t))},t);return tq(r,e,s),s}class uq extends r5{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(eq(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Vf])return!1;const r=n[Vf].initial;["height","width"].forEach(i=>{const o=r[i];gt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Vf],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:sq,detach:iq,resize:lq}[n]||cq;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:zg,detach:zg,resize:zg}[n]||nq)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return hK(e,n,r,s)}isAttached(e){const n=e&&Pv(e);return!!(n&&n.isConnected)}}function dq(t){return!Bv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QK:uq}class yi{constructor(){ke(this,"x");ke(this,"y");ke(this,"active",!1);ke(this,"options");ke(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ed(this.x)&&Ed(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}ke(yi,"defaults",{}),ke(yi,"defaultRoutes");function hq(t,e){const n=t.options.ticks,r=fq(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?mq(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return gq(e,c,i,o/s),c;const d=pq(i,e,s);if(o>0){let h,p;const m=o>1?Math.round((l-a)/(o-1)):null;for(Vh(e,c,d,gt(m)?0:a-m,a),h=0,p=o-1;h<p;h++)Vh(e,c,d,i[h],i[h+1]);return Vh(e,c,d,l,gt(m)?e.length:l+m),c}return Vh(e,c,d),c}function fq(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function pq(t,e,n){const r=yq(t),s=e.length/n;if(!r)return Math.max(s,1);const i=lV(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function mq(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function gq(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Vh(t,e,n,r,s){const i=Ze(r,0),o=Math.min(Ze(s,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(i+a*n))}function yq(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const xq=t=>t==="left"?"right":t==="right"?"left":t,C_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,M_=(t,e)=>Math.min(e||t,t);function I_(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function wq(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function vq(t,e){at(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Xc(t){return t.drawTicks?t.tickLength:0}function j_(t,e){if(!t.display)return 0;const n=$n(t.font,e),r=Ur(t.padding);return(un(t.text)?t.text.length:1)*n.lineHeight+r.height}function bq(t,e){return Ma(t,{scale:e,type:"scale"})}function Sq(t,e,n){return Ma(t,{tick:n,index:e,type:"tick"})}function _q(t,e,n){let r=Mv(t);return(n&&e!=="right"||!n&&e==="right")&&(r=xq(r)),r}function kq(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,p,m,y;const w=o-s,b=a-i;if(t.isHorizontal()){if(m=Wn(r,i,a),Qe(n)){const g=Object.keys(n)[0],S=n[g];y=d[g].getPixelForValue(S)+w-e}else n==="center"?y=(c.bottom+c.top)/2+w-e:y=C_(t,n,e);p=a-i}else{if(Qe(n)){const g=Object.keys(n)[0],S=n[g];m=d[g].getPixelForValue(S)-b+e}else n==="center"?m=(c.left+c.right)/2-b+e:m=C_(t,n,e);y=Wn(r,o,s),h=n==="left"?-es:es}return{titleX:m,titleY:y,maxWidth:p,rotation:h}}class yc extends yi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=ps(e,Number.POSITIVE_INFINITY),n=ps(n,Number.NEGATIVE_INFINITY),r=ps(r,Number.POSITIVE_INFINITY),s=ps(s,Number.NEGATIVE_INFINITY),{min:ps(e,r),max:ps(n,s),minDefined:Hn(e),maxDefined:Hn(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:ps(n,ps(r,n)),max:ps(r,ps(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HV(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?I_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=wt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=M_(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,m=Or(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),h+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Xc(e.grid)-n.padding-j_(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),o=hV(Math.min(Math.asin(Or((d.highest.height+6)/a,-1,1)),Math.asin(Or(l/c,-1,1))-Math.asin(Or(p/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=j_(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Xc(i)+l):(e.height=this.maxHeight,e.width=Xc(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:p}=this._getLabelSizes(),m=r.padding*2,y=Jo(this.labelRotation),w=Math.cos(y),b=Math.sin(y);if(a){const g=r.mirror?0:b*h.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+g+m)}else{const g=r.mirror?0:w*h.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+g+m)}this._calculatePadding(c,d,b,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?c?(p=s*e.width,m=r*n.height):(p=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,m=n.width/2),this.paddingLeft=Math.max((p-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)gt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=I_(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/M_(n,r));let c=0,d=0,h,p,m,y,w,b,g,S,_,A,R;for(h=0;h<n;h+=l){if(y=e[h].label,w=this._resolveTickFontOptions(h),s.font=b=w.string,g=i[b]=i[b]||{data:{},gc:[]},S=w.lineHeight,_=A=0,!gt(y)&&!un(y))_=a_(s,g.data,g.gc,_,y),A=S;else if(un(y))for(p=0,m=y.length;p<m;++p)R=y[p],!gt(R)&&!un(R)&&(_=a_(s,g.data,g.gc,_,R),A+=S);o.push(_),a.push(A),c=Math.max(_,c),d=Math.max(A,d)}vq(i,n);const W=o.indexOf(c),O=a.indexOf(d),B=F=>({width:o[F]||0,height:a[F]||0});return{first:B(0),last:B(n-1),widest:B(W),highest:B(O),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return mV(this._alignToPixels?No(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Sq(this.getContext(),e,r))}return this.$context||(this.$context=bq(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Jo(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=Xc(i),m=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,b=w/2,g=function(k){return No(r,k,w)};let S,_,A,R,W,O,B,F,U,H,V,M;if(o==="top")S=g(this.bottom),O=this.bottom-p,F=S-b,H=g(e.top)+b,M=e.bottom;else if(o==="bottom")S=g(this.top),H=e.top,M=g(e.bottom)-b,O=S+b,F=this.top+p;else if(o==="left")S=g(this.right),W=this.right-p,B=S-b,U=g(e.left)+b,V=e.right;else if(o==="right")S=g(this.left),U=e.left,V=g(e.right)-b,W=S+b,B=this.left+p;else if(n==="x"){if(o==="center")S=g((e.top+e.bottom)/2+.5);else if(Qe(o)){const k=Object.keys(o)[0],I=o[k];S=g(this.chart.scales[k].getPixelForValue(I))}H=e.top,M=e.bottom,O=S+b,F=O+p}else if(n==="y"){if(o==="center")S=g((e.left+e.right)/2);else if(Qe(o)){const k=Object.keys(o)[0],I=o[k];S=g(this.chart.scales[k].getPixelForValue(I))}W=S-b,B=W-p,U=e.left,V=e.right}const f=Ze(s.ticks.maxTicksLimit,h),x=Math.max(1,Math.ceil(h/f));for(_=0;_<h;_+=x){const k=this.getContext(_),I=i.setContext(k),C=a.setContext(k),j=I.lineWidth,P=I.color,T=C.dash||[],v=C.dashOffset,L=I.tickWidth,X=I.tickColor,Z=I.tickBorderDash||[],te=I.tickBorderDashOffset;A=wq(this,_,l),A!==void 0&&(R=No(r,A,j),c?W=B=U=V=R:O=F=H=M=R,m.push({tx1:W,ty1:O,tx2:B,ty2:F,x1:U,y1:H,x2:V,y2:M,width:j,color:P,borderDash:T,borderDashOffset:v,tickWidth:L,tickColor:X,tickBorderDash:Z,tickBorderDashOffset:te}))}return this._ticksLength=h,this._borderValue=S,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=i,p=Xc(r.grid),m=p+d,y=h?-d:m,w=-Jo(this.labelRotation),b=[];let g,S,_,A,R,W,O,B,F,U,H,V,M="middle";if(s==="top")W=this.bottom-y,O=this._getXAxisLabelAlignment();else if(s==="bottom")W=this.top+y,O=this._getXAxisLabelAlignment();else if(s==="left"){const x=this._getYAxisLabelAlignment(p);O=x.textAlign,R=x.x}else if(s==="right"){const x=this._getYAxisLabelAlignment(p);O=x.textAlign,R=x.x}else if(n==="x"){if(s==="center")W=(e.top+e.bottom)/2+m;else if(Qe(s)){const x=Object.keys(s)[0],k=s[x];W=this.chart.scales[x].getPixelForValue(k)+m}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")R=(e.left+e.right)/2-m;else if(Qe(s)){const x=Object.keys(s)[0],k=s[x];R=this.chart.scales[x].getPixelForValue(k)}O=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const f=this._getLabelSizes();for(g=0,S=a.length;g<S;++g){_=a[g],A=_.label;const x=i.setContext(this.getContext(g));B=this.getPixelForTick(g)+i.labelOffset,F=this._resolveTickFontOptions(g),U=F.lineHeight,H=un(A)?A.length:1;const k=H/2,I=x.color,C=x.textStrokeColor,j=x.textStrokeWidth;let P=O;o?(R=B,O==="inner"&&(g===S-1?P=this.options.reverse?"left":"right":g===0?P=this.options.reverse?"right":"left":P="center"),s==="top"?c==="near"||w!==0?V=-H*U+U/2:c==="center"?V=-f.highest.height/2-k*U+U:V=-f.highest.height+U/2:c==="near"||w!==0?V=U/2:c==="center"?V=f.highest.height/2-k*U:V=f.highest.height-H*U,h&&(V*=-1),w!==0&&!x.showLabelBackdrop&&(R+=U/2*Math.sin(w))):(W=B,V=(1-H)*U/2);let T;if(x.showLabelBackdrop){const v=Ur(x.backdropPadding),L=f.heights[g],X=f.widths[g];let Z=V-v.top,te=0-v.left;switch(M){case"middle":Z-=L/2;break;case"bottom":Z-=L;break}switch(O){case"center":te-=X/2;break;case"right":te-=X;break;case"inner":g===S-1?te-=X:g>0&&(te-=X/2);break}T={left:te,top:Z,width:X+v.width,height:L+v.height,color:x.backdropColor}}b.push({label:A,font:F,textOffset:V,options:{rotation:w,color:I,strokeColor:C,strokeWidth:j,textAlign:P,textBaseline:M,translation:[R,W],backdrop:T}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Jo(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,p;this.isHorizontal()?(c=No(e,this.left,o)-o/2,d=No(e,this.right,a)+a/2,h=p=l):(h=No(e,this.top,o)-o/2,p=No(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&i0(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Ad(r,c,0,d,l,a)}s&&o0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=$n(r.font),o=Ur(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Qe(n)?(l+=o.bottom,un(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:p}=kq(this,l,n,a);Ad(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:p,textAlign:_q(a,n,s),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ze(e.grid&&e.grid.z,-1),s=Ze(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return $n(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Kh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Aq(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,Eq(e,o,r),this.override&&en.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in en[s]&&(delete en[s][r],this.override&&delete xa[r])}}function Eq(t,e,n){const r=kd(Object.create(null),[n?en.get(n):{},en.get(e),t.defaults]);en.set(e,r),t.defaultRoutes&&Nq(e,t.defaultRoutes),t.descriptors&&en.describe(e,t.descriptors)}function Nq(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");en.route(i,s,l,a)})}function Aq(t){return"id"in t&&"defaults"in t}class Cq{constructor(){this.controllers=new Kh(Wu,"datasets",!0),this.elements=new Kh(yi,"elements"),this.plugins=new Kh(Object,"plugins"),this.scales=new Kh(yc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):at(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Av(e);wt(r["before"+s],[],r),n[e](r),wt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var ys=new Cq;class Mq{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(wt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Ze(r.options&&r.options.plugins,{}),i=Iq(r);return s===!1&&!n?[]:Tq(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function Iq(t){const e={},n=[],r=Object.keys(ys.plugins.items);for(let i=0;i<r.length;i++)n.push(ys.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function jq(t,e){return!e&&t===!1?null:t===!0?{}:t}function Tq(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=jq(r[l],s);c!==null&&i.push({plugin:a,options:Rq(t.config,{plugin:a,local:n[l]},c,o)})}return i}function Rq(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nx(t,e){const n=en.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Bq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Pq(t,e){return t===e?"_index_":"_value_"}function T_(t){if(t==="x"||t==="y"||t==="r")return t}function Lq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function rx(t,...e){if(T_(t))return t;for(const n of e){const r=n.axis||Lq(n.position)||t.length>1&&T_(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function R_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Oq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return R_(t,"x",n[0])||R_(t,"y",n[0])}return{}}function Dq(t,e){const n=xa[t.type]||{scales:{}},r=e.scales||{},s=nx(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Qe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=rx(o,a,Oq(o,t),en.scales[a.type]),c=Pq(l,s),d=n.scales||{};i[o]=Pu(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||nx(a,e),d=(xa[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=Bq(h,l),m=o[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),Pu(i[m],[{axis:p},r[m],d[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];Pu(a,[en.scales[a.type],en.scale])}),i}function o5(t){const e=t.options||(t.options={});e.plugins=Ze(e.plugins,{}),e.scales=Dq(t,e)}function a5(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zq(t){return t=t||{},t.data=a5(t.data),o5(t),t}const B_=new Map,l5=new Set;function qh(t,e){let n=B_.get(t);return n||(n=e(),B_.set(t,n),l5.add(n)),n}const Qc=(t,e,n)=>{const r=em(e,n);r!==void 0&&t.add(r)};class Wq{constructor(e){this._config=zq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=a5(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),o5(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return qh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return qh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return qh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Qc(l,e,h))),d.forEach(h=>Qc(l,s,h)),d.forEach(h=>Qc(l,xa[i]||{},h)),d.forEach(h=>Qc(l,en,h)),d.forEach(h=>Qc(l,J1,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),l5.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,xa[n]||{},en.datasets[n]||{},{type:n},en,J1]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=P_(this._resolverCache,e,s);let l=o;if($q(o,n)){i.$shared=!1,r=yo(r)?r():r;const c=this.createResolver(e,r,a);l=ic(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=P_(this._resolverCache,e,r);return Qe(n)?ic(i,n,void 0,s):i}}function P_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:jv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const Fq=t=>Qe(t)&&Object.getOwnPropertyNames(t).some(e=>yo(t[e]));function $q(t,e){const{isScriptable:n,isIndexable:r}=$M(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(yo(a)||Fq(a))||o&&un(a))return!0}return!1}var Uq="4.5.0";const Hq=["top","bottom","left","right","chartArea"];function L_(t,e){return t==="top"||t==="bottom"||Hq.indexOf(t)===-1&&e==="x"}function O_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function D_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),wt(n&&n.onComplete,[t],e)}function Vq(t){const e=t.chart,n=e.options.animation;wt(n&&n.onProgress,[t],e)}function c5(t){return Bv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kf={},z_=t=>{const e=c5(t);return Object.values(Kf).filter(n=>n.canvas===e).pop()};function Kq(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function qq(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Mi;let c0=(Mi=class{static register(...e){ys.add(...e),W_()}static unregister(...e){ys.remove(...e),W_()}constructor(e,n){const r=this.config=new Wq(n),s=c5(e),i=z_(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||dq(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=JH(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Kf[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hs.listen(this,"complete",D_),Hs.listen(this,"progress",Vq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return gt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ys}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():d_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return l_(this.canvas,this.ctx),this}stop(){return Hs.stop(this),this}resize(e,n){Hs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,d_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),wt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};at(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=rx(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),at(i,o=>{const a=o.options,l=a.id,c=rx(l,a),d=Ze(a.type,o.dtype);(a.position===void 0||L_(a.position,c)!==L_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const p=ys.getScale(d);h=new p({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),at(s,(o,a)=>{o||delete r[a]}),at(r,o=>{Dr.configure(this,o,o.options),Dr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(O_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||nx(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=ys.getController(a),{datasetElementType:c,dataElementType:d}=en.datasets[a];Object.assign(l,{dataElementType:ys.getElement(d),datasetElementType:c&&ys.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){at(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),p=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||at(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(O_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){at(this.scales,e=>{Dr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!QS(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;Kq(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!QS(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],at(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,yo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hs.has(this)?this.attached&&!Hs.running(this)&&Hs.start(this):(this.draw(),D_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=QM(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&i0(n,s),e.controller.draw(),s&&o0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Nd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=HK.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ma(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);tm(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Hs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),l_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};at(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){at(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},at(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Qp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=iV(e),c=qq(e,this._lastEvent,r,l);r&&(this._lastEvent=null,wt(i.onHover,[e,a,this],this),l&&wt(i.onClick,[e,a,this],this));const d=!Qp(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},ke(Mi,"defaults",en),ke(Mi,"instances",Kf),ke(Mi,"overrides",xa),ke(Mi,"registry",ys),ke(Mi,"version",Uq),ke(Mi,"getChart",z_),Mi);function W_(){return at(c0.instances,t=>t._plugins.invalidate())}function u5(t,e,n=e){t.lineCap=Ze(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ze(n.borderDash,e.borderDash)),t.lineDashOffset=Ze(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ze(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ze(n.borderWidth,e.borderWidth),t.strokeStyle=Ze(n.borderColor,e.borderColor)}function Yq(t,e,n){t.lineTo(n.x,n.y)}function Gq(t){return t.stepped?BV:t.tension||t.cubicInterpolationMode==="monotone"?PV:Yq}function d5(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function Zq(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=d5(s,n,r),d=Gq(i);let{move:h=!0,reverse:p}=r||{},m,y,w;for(m=0;m<=c;++m)y=s[(a+(p?c-m:m))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):d(t,w,y,p,i.stepped),w=y);return l&&(y=s[(a+(p?c:0))%o],d(t,w,y,p,i.stepped)),!!l}function Xq(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=d5(s,n,r),{move:l=!0,reverse:c}=r||{};let d=0,h=0,p,m,y,w,b,g;const S=A=>(o+(c?a-A:A))%i,_=()=>{w!==b&&(t.lineTo(d,b),t.lineTo(d,w),t.lineTo(d,g))};for(l&&(m=s[S(0)],t.moveTo(m.x,m.y)),p=0;p<=a;++p){if(m=s[S(p)],m.skip)continue;const A=m.x,R=m.y,W=A|0;W===y?(R<w?w=R:R>b&&(b=R),d=(h*d+A)/++h):(_(),t.lineTo(A,R),y=W,h=0,w=b=R),g=R}_()}function sx(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Xq:Zq}function Qq(t){return t.stepped?pK:t.tension||t.cubicInterpolationMode==="monotone"?mK:Po}function Jq(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),u5(t,e.options),t.stroke(s)}function eY(t,e,n,r){const{segments:s,options:i}=e,o=sx(e);for(const a of s)u5(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const tY=typeof Path2D=="function";function nY(t,e,n,r){tY&&!e.options.segment?Jq(t,e,n,r):eY(t,e,n,r)}class Qi extends yi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;oK(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bK(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=XM(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=Qq(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:p}=o[c],m=i[h],y=i[p];if(m===y){a.push(m);continue}const w=Math.abs((s-m[n])/(y[n]-m[n])),b=l(m,y,w,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return sx(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=sx(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),nY(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ke(Qi,"id","line"),ke(Qi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ke(Qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ke(Qi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function F_(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class qf extends yi{constructor(n){super();ke(this,"parsed");ke(this,"skip");ke(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return F_(this,n,"x",r)}inYRange(n,r){return F_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Nd(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,ex(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ke(qf,"id","point"),ke(qf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ke(qf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rY(t,e,n){const r=t.segments,s=t.points,i=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=u0(l,c,s);const d=ix(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:d,start:s[l],end:s[c]});continue}const h=XM(e,d);for(const p of h){const m=ix(n,i[p.start],i[p.end],p.loop),y=ZM(a,s,m);for(const w of y)o.push({source:w,target:p,start:{[n]:$_(d,m,"start",Math.max)},end:{[n]:$_(d,m,"end",Math.min)}})}}return o}function ix(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=xs(s),i=xs(i)),{property:t,start:s,end:i}}function sY(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=u0(o,a,s);const l=s[o],c=s[a];r!==null?(i.push({x:l.x,y:r}),i.push({x:c.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:c.y}))}),i}function u0(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function $_(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function h5(t,e){let n=[],r=!1;return un(t)?(r=!0,n=t):n=sY(t,e),n.length?new Qi({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function U_(t){return t&&t.fill!==!1}function iY(t,e,n){let s=t[e].fill;const i=[e];let o;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Hn(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;i.push(s),s=o.fill}return!1}function oY(t,e,n){const r=uY(t);if(Qe(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Hn(s)&&Math.floor(s)===s?aY(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function aY(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function lY(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Qe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function cY(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Qe(t)?r=t.value:r=e.getBaseValue(),r}function uY(t){const e=t.options,n=e.fill;let r=Ze(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function dY(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,o=r.points,a=hY(e,n);a.push(h5({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const c=i[l];for(let d=c.start;d<=c.end;d++)fY(s,o[d],a)}return new Qi({points:s,options:{}})}function hY(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function fY(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:o,last:a,point:l}=pY(i,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function pY(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<i.length;c++){const d=i[c],h=o[d.start][n],p=o[d.end][n];if(xl(s,h,p)){a=s===h,l=s===p;break}}return{first:a,last:l,point:r}}class f5{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:o}=this;return n=n||{start:0,end:is},e.arc(s,i,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function mY(t){const{chart:e,fill:n,line:r}=t;if(Hn(n))return gY(e,n);if(n==="stack")return dY(t);if(n==="shape")return!0;const s=yY(t);return s instanceof f5?s:h5(s,r)}function gY(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function yY(t){return(t.scale||{}).getPointPositionForValue?wY(t):xY(t)}function xY(t){const{scale:e={},fill:n}=t,r=lY(n,e);if(Hn(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function wY(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,o=cY(n,e,i),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new f5({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Wg(t,e,n){const r=mY(e),{chart:s,index:i,line:o,scale:a,axis:l}=e,c=o.options,d=c.fill,h=c.backgroundColor,{above:p=h,below:m=h}=d||{},y=s.getDatasetMeta(i),w=QM(s,y);r&&o.points.length&&(i0(t,n),vY(t,{line:o,target:r,above:p,below:m,area:n,scale:a,axis:l,clip:w}),o0(t))}function vY(t,e){const{line:n,target:r,above:s,below:i,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(c==="x"?(H_(t,r,o.top),Fg(t,{line:n,target:r,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),H_(t,r,o.bottom)):c==="y"&&(V_(t,r,o.left),Fg(t,{line:n,target:r,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),V_(t,r,o.right),d=s)),Fg(t,{line:n,target:r,color:d,scale:a,property:c,clip:l}),t.restore()}function H_(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=s[l],h=s[u0(l,c,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function V_(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=s[l],h=s[u0(l,c,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Fg(t,e){const{line:n,target:r,property:s,color:i,scale:o,clip:a}=e,l=rY(n,r,s);for(const{source:c,target:d,start:h,end:p}of l){const{style:{backgroundColor:m=i}={}}=c,y=r!==!0;t.save(),t.fillStyle=m,bY(t,o,a,y&&ix(s,h,p)),t.beginPath();const w=!!n.pathSegment(t,c);let b;if(y){w?t.closePath():K_(t,r,p,s);const g=!!r.pathSegment(t,d,{move:w,reverse:!0});b=w&&g,b||K_(t,r,h,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function bY(t,e,n,r){const s=e.chart.chartArea,{property:i,start:o,end:a}=r||{};if(i==="x"||i==="y"){let l,c,d,h;i==="x"?(l=o,c=s.top,d=a,h=s.bottom):(l=s.left,c=o,d=s.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,d-l,h-c),t.clip()}}function K_(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var SY={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,o,a,l;for(o=0;o<r;++o)i=t.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof Qi&&(l={visible:t.isDatasetVisible(o),index:o,fill:oY(a,o,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,s.push(l);for(o=0;o<r;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=iY(s,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),r&&a.fill&&Wg(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;U_(i)&&Wg(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!U_(r)||n.drawTime!=="beforeDatasetDraw"||Wg(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const q_=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},_Y=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Y_ extends yi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=wt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=$n(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=q_(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let h=e;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-d;return this.legendItems.forEach((y,w)=>{const b=r+n/2+i.measureText(y.text).width;(w===0||c[c.length-1]+b+2*a>o)&&(h+=d,c[c.length-(w>0?0:1)]=0,m+=d,p++),l[w]={left:0,top:m,row:p,width:b,height:s},c[c.length-1]+=b+a}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let h=a,p=0,m=0,y=0,w=0;return this.legendItems.forEach((b,g)=>{const{itemWidth:S,itemHeight:_}=kY(r,n,i,b,s);g>0&&m+_+2*a>d&&(h+=p+a,c.push({width:p,height:m}),y+=p+a,w++,p=m=0),l[g]={left:y,top:m,col:w,width:S,height:_},p=Math.max(p,S),m+=_+a}),h+=p,c.push({width:p,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Bl(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Wn(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Wn(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Wn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Wn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;i0(e,this),this._draw(),o0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=en.color,l=Bl(e.rtl,this.left,this.width),c=$n(o.font),{padding:d}=o,h=c.size,p=h/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:y,boxHeight:w,itemHeight:b}=q_(o,h),g=function(W,O,B){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;s.save();const F=Ze(B.lineWidth,1);if(s.fillStyle=Ze(B.fillStyle,a),s.lineCap=Ze(B.lineCap,"butt"),s.lineDashOffset=Ze(B.lineDashOffset,0),s.lineJoin=Ze(B.lineJoin,"miter"),s.lineWidth=F,s.strokeStyle=Ze(B.strokeStyle,a),s.setLineDash(Ze(B.lineDash,[])),o.usePointStyle){const U={radius:w*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:F},H=l.xPlus(W,y/2),V=O+p;WM(s,U,H,V,o.pointStyleWidth&&y)}else{const U=O+Math.max((h-w)/2,0),H=l.leftForLtr(W,y),V=zu(B.borderRadius);s.beginPath(),Object.values(V).some(M=>M!==0)?tx(s,{x:H,y:U,w:y,h:w,radius:V}):s.rect(H,U,y,w),s.fill(),F!==0&&s.stroke()}s.restore()},S=function(W,O,B){Ad(s,B.text,W,O+b/2,c,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},_=this.isHorizontal(),A=this._computeTitleHeight();_?m={x:Wn(i,this.left+d,this.right-r[0]),y:this.top+d+A,line:0}:m={x:this.left+d,y:Wn(i,this.top+A+d,this.bottom-n[0].height),line:0},qM(this.ctx,e.textDirection);const R=b+d;this.legendItems.forEach((W,O)=>{s.strokeStyle=W.fontColor,s.fillStyle=W.fontColor;const B=s.measureText(W.text).width,F=l.textAlign(W.textAlign||(W.textAlign=o.textAlign)),U=y+p+B;let H=m.x,V=m.y;l.setWidth(this.width),_?O>0&&H+U+d>this.right&&(V=m.y+=R,m.line++,H=m.x=Wn(i,this.left+d,this.right-r[m.line])):O>0&&V+R>this.bottom&&(H=m.x=H+n[m.line].width+d,m.line++,V=m.y=Wn(i,this.top+A+d,this.bottom-n[m.line].height));const M=l.x(H);if(g(M,V,W),H=bV(F,H+y+p,_?H+U:this.right,e.rtl),S(l.x(H),V,W),_)m.x+=U+d;else if(typeof W.text!="string"){const f=c.lineHeight;m.y+=p5(W,f)+d}else m.y+=R}),YM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=$n(n.font),s=Ur(n.padding);if(!n.display)return;const i=Bl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+c,h=Wn(e.align,h,this.right-p);else{const y=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);d=c+Wn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=Wn(a,h,h+p);o.textAlign=i.textAlign(Mv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ad(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=$n(e.font),r=Ur(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(xl(e,this.left,this.right)&&xl(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],xl(e,s.left,s.left+s.width)&&xl(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!AY(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=_Y(s,r);s&&!i&&wt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&wt(n.onHover,[e,r,this],this)}else r&&wt(n.onClick,[e,r,this],this)}}function kY(t,e,n,r,s){const i=EY(r,t,e,n),o=NY(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function EY(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function NY(t,e,n){let r=t;return typeof e.text!="string"&&(r=p5(e,n)),r}function p5(t,e){const n=t.text?t.text.length:0;return e*n}function AY(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var CY={id:"legend",_element:Y_,start(t,e,n){const r=t.legend=new Y_({ctx:t.ctx,options:n,chart:t});Dr.configure(t,r,n),Dr.addBox(t,r)},stop(t){Dr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Dr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Ur(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class m5 extends yi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=un(r.text)?r.text.length:1;this._padding=Ur(r.padding);const i=s*$n(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=Wn(a,r,i),h=n+e,c=i-r):(o.position==="left"?(d=r+e,h=Wn(a,s,n),l=vn*-.5):(d=i-e,h=Wn(a,n,s),l=vn*.5),c=s-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=$n(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Ad(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Mv(n.align),textBaseline:"middle",translation:[o,a]})}}function MY(t,e){const n=new m5({ctx:t.ctx,options:e,chart:t});Dr.configure(t,n,e),Dr.addBox(t,n),t.titleBlock=n}var IY={id:"title",_element:m5,start(t,e,n){MY(t,n)},stop(t){const e=t.titleBlock;Dr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Dr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wu={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Q1(e,c);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ms(t,e){return e&&(un(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jY(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function G_(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=$n(e.bodyFont),c=$n(e.titleFont),d=$n(e.footerFont),h=i.length,p=s.length,m=r.length,y=Ur(e.padding);let w=y.height,b=0,g=r.reduce((A,R)=>A+R.before.length+R.lines.length+R.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(w+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=m*A+(g-m)*l.lineHeight+(g-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let S=0;const _=function(A){b=Math.max(b,n.measureText(A).width+S)};return n.save(),n.font=c.string,at(t.title,_),n.font=l.string,at(t.beforeBody.concat(t.afterBody),_),S=e.displayColors?o+2+e.boxPadding:0,at(r,A=>{at(A.before,_),at(A.lines,_),at(A.after,_)}),S=0,n.font=d.string,at(t.footer,_),n.restore(),b+=y.width,{width:b,height:w}}function TY(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function RY(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function BY(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),RY(c,t,e,n)&&(c="center"),c}function Z_(t,e,n){const r=n.yAlign||e.yAlign||TY(t,n);return{xAlign:n.xAlign||e.xAlign||BY(t,e,n,r),yAlign:r}}function PY(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function LY(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function X_(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=zu(o);let y=PY(e,a);const w=LY(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(d,p)+s:a==="right"&&(y+=Math.max(h,m)+s),{x:Or(y,0,r.width-e.width),y:Or(w,0,r.height-e.height)}}function Yh(t,e,n){const r=Ur(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Q_(t){return ms([],Vs(t))}function OY(t,e,n){return Ma(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function J_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const g5={beforeTitle:Fs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Fs,beforeBody:Fs,beforeLabel:Fs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return gt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fs,afterBody:Fs,beforeFooter:Fs,footer:Fs,afterFooter:Fs};function Jn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?g5[e].call(n,r):s}class ox extends yi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new JM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=OY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Jn(r,"beforeTitle",this,e),i=Jn(r,"title",this,e),o=Jn(r,"afterTitle",this,e);let a=[];return a=ms(a,Vs(s)),a=ms(a,Vs(i)),a=ms(a,Vs(o)),a}getBeforeBody(e,n){return Q_(Jn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return at(e,i=>{const o={before:[],lines:[],after:[]},a=J_(r,i);ms(o.before,Vs(Jn(a,"beforeLabel",this,i))),ms(o.lines,Jn(a,"label",this,i)),ms(o.after,Vs(Jn(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return Q_(Jn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Jn(r,"beforeFooter",this,e),i=Jn(r,"footer",this,e),o=Jn(r,"afterFooter",this,e);let a=[];return a=ms(a,Vs(s)),a=ms(a,Vs(i)),a=ms(a,Vs(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(jY(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,p)=>e.filter(d,h,p,r))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,r))),at(a,d=>{const h=J_(e.callbacks,d);s.push(Jn(h,"labelColor",this,d)),i.push(Jn(h,"labelPointStyle",this,d)),o.push(Jn(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=wu[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=G_(this,r),c=Object.assign({},a,l),d=Z_(this.chart,r,c),h=X_(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=zu(a),{x:p,y:m}=e,{width:y,height:w}=n;let b,g,S,_,A,R;return i==="center"?(A=m+w/2,s==="left"?(b=p,g=b-o,_=A+o,R=A-o):(b=p+y,g=b+o,_=A-o,R=A+o),S=b):(s==="left"?g=p+Math.max(l,d)+o:s==="right"?g=p+y-Math.max(c,h)-o:g=this.caretX,i==="top"?(_=m,A=_-o,b=g-o,S=g+o):(_=m+w,A=_+o,b=g+o,S=g-o),R=_),{x1:b,x2:g,x3:S,y1:_,y2:A,y3:R}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Bl(r.rtl,this.x,this.width);for(e.x=Yh(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=$n(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=$n(i.bodyFont),h=Yh(this,"left",i),p=s.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+m;if(i.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(p,c)+c/2,g=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ex(e,w,b,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ex(e,w,b,g)}else{e.lineWidth=Qe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=s.leftForLtr(p,c),b=s.leftForLtr(s.xPlus(p,1),c-2),g=zu(o.borderRadius);Object.values(g).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,tx(e,{x:w,y,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),tx(e,{x:b,y:y+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,y,c,l),e.strokeRect(w,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,h=$n(r.bodyFont);let p=h.lineHeight,m=0;const y=Bl(r.rtl,this.x,this.width),w=function(B){n.fillText(B,y.x(e.x+m),e.y+p/2),e.y+=p+i},b=y.textAlign(o);let g,S,_,A,R,W,O;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Yh(this,b,r),n.fillStyle=r.bodyColor,at(this.beforeBody,w),m=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,A=0,W=s.length;A<W;++A){for(g=s[A],S=this.labelTextColors[A],n.fillStyle=S,at(g.before,w),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,A,y,r),p=Math.max(h.lineHeight,l)),R=0,O=_.length;R<O;++R)w(_[R]),p=h.lineHeight;at(g.after,w)}m=0,p=h.lineHeight,at(this.afterBody,w),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Bl(r.rtl,this.x,this.width);for(e.x=Yh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=$n(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:y}=zu(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+d-y),n.quadraticCurveTo(a+c,l+d,a+c-y,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=wu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=G_(this,e),l=Object.assign({},o,this._size),c=Z_(n,e,l),d=X_(e,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Ur(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),qM(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),YM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Qp(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Qp(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=wu[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}ke(ox,"positioners",wu);var DY={id:"tooltip",_element:ox,positioners:wu,afterInit(t,e,n){n&&(t.tooltip=new ox({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:g5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const zY=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WY(t,e,n,r){const s=t.indexOf(e);if(s===-1)return zY(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const FY=(t,e)=>t===null?null:Or(Math.round(t),0,e);function ek(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ax extends yc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(gt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:WY(r,e,Ze(n,e),this._addedLabels),FY(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return ek.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ke(ax,"id","category"),ke(ax,"defaults",{ticks:{callback:ek}});function $Y(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:p}=t,m=i||1,y=d-1,{min:w,max:b}=e,g=!gt(o),S=!gt(a),_=!gt(c),A=(b-w)/(h+1);let R=e_((b-w)/y/m)*m,W,O,B,F;if(R<1e-14&&!g&&!S)return[{value:w},{value:b}];F=Math.ceil(b/R)-Math.floor(w/R),F>y&&(R=e_(F*R/y/m)*m),gt(l)||(W=Math.pow(10,l),R=Math.ceil(R*W)/W),s==="ticks"?(O=Math.floor(w/R)*R,B=Math.ceil(b/R)*R):(O=w,B=b),g&&S&&i&&uV((a-o)/i,R/1e3)?(F=Math.round(Math.min((a-o)/R,d)),R=(a-o)/F,O=o,B=a):_?(O=g?o:O,B=S?a:B,F=c-1,R=(B-O)/F):(F=(B-O)/R,Lu(F,Math.round(F),R/1e3)?F=Math.round(F):F=Math.ceil(F));const U=Math.max(t_(R),t_(O));W=Math.pow(10,gt(l)?U:l),O=Math.round(O*W)/W,B=Math.round(B*W)/W;let H=0;for(g&&(p&&O!==o?(n.push({value:o}),O<o&&H++,Lu(Math.round((O+H*R)*W)/W,o,tk(o,A,t))&&H++):O<o&&H++);H<F;++H){const V=Math.round((O+H*R)*W)/W;if(S&&V>a)break;n.push({value:V})}return S&&p&&B!==a?n.length&&Lu(n[n.length-1].value,a,tk(a,A,t))?n[n.length-1].value=a:n.push({value:a}):(!S||B===a)&&n.push({value:B}),n}function tk(t,e,{horizontal:n,minRotation:r}){const s=Jo(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class UY extends yc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return gt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=sc(s),c=sc(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=$Y(s,i);return e.bounds==="ticks"&&dV(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return DM(e,this.chart.options.locale,this.options.ticks.format)}}class lx extends UY{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Hn(e)?e:0,this.max=Hn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Jo(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ke(lx,"id","linear"),ke(lx,"defaults",{ticks:{callback:zM.formatters.numeric}});const d0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(d0);function nk(t,e){return t-e}function rk(t,e){if(gt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Hn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Ed(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function sk(t,e,n,r){const s=ir.length;for(let i=ir.indexOf(t);i<s-1;++i){const o=d0[ir[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return ir[i]}return ir[s-1]}function HY(t,e,n,r,s){for(let i=ir.length-1;i>=ir.indexOf(n);i--){const o=ir[i];if(d0[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return ir[n?ir.indexOf(n):0]}function VY(t){for(let e=ir.indexOf(t)+1,n=ir.length;e<n;++e)if(d0[ir[e]].common)return ir[e]}function ik(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Cv(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function KY(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ok(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:KY(t,r,s,n)}class im extends yc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new zK._date(e.adapters.date);s.init(n),Pu(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:rk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Hn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Hn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=yV(s,i,o);return this._unit=n.unit||(r.autoSkip?sk(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):HY(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:VY(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),ok(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Or(n,0,o),r=Or(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||sk(i.minUnit,n,r,this._getLabelCapacity(n)),a=Ze(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Ed(l)||l===!0,d={};let h=n,p,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(p=h,m=0;p<r;p=+e.add(p,a,o),m++)ik(d,p,y);return(p===r||s.bounds==="ticks"||m===1)&&ik(d,p,y),Object.keys(d).sort(nk).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return wt(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],p=r[n],m=c&&h&&p&&p.major;return this._adapter.format(e,s||(m?h:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Jo(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,ok(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(rk(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wV(e.sort(nk))}}ke(im,"id","time"),ke(im,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gh(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ea(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ea(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class ak extends im{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gh(n,this.min),this._tableRange=Gh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gh(this._table,r*this._tableRange+this._minPos,!0)}}ke(ak,"id","timeseries"),ke(ak,"defaults",im.defaults);const y5="label";function lk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qY(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function x5(t,e){t.labels=e}function w5(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y5;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function YY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y5;const n={labels:[],datasets:[]};return x5(n,t.labels),w5(n,t.datasets,e),n}function GY(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...p}=t,m=D.useRef(null),y=D.useRef(null),w=()=>{m.current&&(y.current=new c0(m.current,{type:o,data:YY(a,i),options:l&&{...l},plugins:c}),lk(e,y.current))},b=()=>{lk(e,null),y.current&&(y.current.destroy(),y.current=null)};return D.useEffect(()=>{!s&&y.current&&l&&qY(y.current,l)},[s,l]),D.useEffect(()=>{!s&&y.current&&x5(y.current.config.data,a.labels)},[s,a.labels]),D.useEffect(()=>{!s&&y.current&&a.datasets&&w5(y.current.config.data,a.datasets,i)},[s,a.datasets]),D.useEffect(()=>{y.current&&(s?(b(),setTimeout(w)):y.current.update(h))},[s,l,a.labels,a.datasets,h]),D.useEffect(()=>{y.current&&(b(),setTimeout(w))},[o]),D.useEffect(()=>(w(),()=>b()),[]),K.createElement("canvas",{ref:m,role:"img",height:n,width:r,...p},d)}const ZY=D.forwardRef(GY);function XY(t,e){return c0.register(e),D.forwardRef((n,r)=>K.createElement(ZY,{...n,ref:r,type:t}))}const QY=XY("line",Hf),JY=()=>{const{publicKey:t,connected:e}=Hm(),{connection:n}=Hw(),[r,s]=D.useState(null);return D.useEffect(()=>{e&&t?n.getBalance(t).then(s):s(null)},[e,t,n]),u.jsxs("div",{className:"wallet-connect",children:[u.jsx("div",{className:"wallet-info",children:e?u.jsxs("div",{className:"wallet-connected",children:[u.jsxs("div",{className:"wallet-address",children:[u.jsx("span",{className:"label",children:"Wallet:"}),u.jsxs("span",{className:"address",children:[t==null?void 0:t.toBase58().slice(0,4),"...",t==null?void 0:t.toBase58().slice(-4)]})]}),u.jsxs("div",{className:"wallet-balance",children:[u.jsx("span",{className:"label",children:"Balance:"}),u.jsxs("span",{className:"balance",children:[r?(r/Uw).toFixed(4):"0"," SOL"]})]})]}):u.jsx("div",{className:"wallet-disconnected",children:u.jsx("span",{className:"label",children:"Connect wallet to execute strategies"})})}),u.jsx(t7,{className:"wallet-button"})]})},eG=[{address:"DemoVault1",name:"Cyphr Yield Vault",apy:8.5,minStake:.1,maxStake:100},{address:"DemoVault2",name:"High Yield Vault",apy:12.3,minStake:1,maxStake:50},{address:"DemoVault3",name:"Conservative Vault",apy:5.2,minStake:.05,maxStake:200}],tG=async(t,e,n)=>{try{const r=new Ge;r.add(cn.transfer({fromPubkey:new ue("11111111111111111111111111111111"),toPubkey:new ue("22222222222222222222222222222222"),lamports:e*Uw}));const{value:s}=await t.simulateTransaction(r);return{success:!0,signature:"demo_signature_"+Date.now(),fee:5e-6,estimatedApy:n.apy,estimatedReturns:e*n.apy/100,vault:n}}catch(r){return console.error("Transaction simulation failed:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},nG=(t,e,n)=>{const r=e.apy/365,s=t*(r/100)*n,i=t+s;return{initialDeposit:t,totalReturn:s,finalAmount:i,apy:e.apy,duration:n,dailyReturn:t*(r/100)}},rG=({selectedVault:t,onVaultSelect:e})=>u.jsxs("div",{className:"vault-selector",children:[u.jsx("h3",{children:"Select Vault for Staking"}),u.jsx("div",{className:"vault-grid",children:eG.map(n=>u.jsxs("div",{className:`vault-card ${(t==null?void 0:t.address)===n.address?"selected":""}`,onClick:()=>e(n),children:[u.jsxs("div",{className:"vault-header",children:[u.jsx("h4",{children:n.name}),u.jsxs("div",{className:"vault-apy",children:[n.apy,"% APY"]})]}),u.jsxs("div",{className:"vault-details",children:[u.jsxs("div",{className:"vault-range",children:[u.jsxs("span",{children:["Min: ",n.minStake," SOL"]}),u.jsxs("span",{children:["Max: ",n.maxStake," SOL"]})]}),u.jsx("div",{className:"vault-address",children:n.address})]})]},n.address))})]});c0.register(ax,lx,qf,Qi,IY,DY,CY,SY);const sG=({data:t})=>u.jsxs("div",{className:"strategy-node input-node",title:"Data Source: Provides real-time token data for strategy execution",children:[u.jsx(go,{type:"source",position:Ne.Right}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:"node-risk-badge low-risk",children:"Low Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Token:"}),u.jsx("input",{type:"text",placeholder:"SOL, ETH, etc.",value:t.token||"",onChange:e=>t.onChange("token",e.target.value)})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Data Type:"}),u.jsxs("select",{value:t.dataType||"price",onChange:e=>t.onChange("dataType",e.target.value),children:[u.jsx("option",{value:"price",children:"Price"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"volatility",children:"Volatility"}),u.jsx("option",{value:"market_cap",children:"Market Cap"})]})]})]})]}),iG=({data:t})=>u.jsxs("div",{className:"strategy-node logic-node",title:"Strategy Logic: Defines conditions and triggers for your strategy",children:[u.jsx(go,{type:"target",position:Ne.Left}),u.jsx(go,{type:"source",position:Ne.Right}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/StrategyLogicIcon.png",alt:"Strategy Logic",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Logic Type:"}),u.jsxs("select",{value:t.logicType||"time",onChange:e=>t.onChange("logicType",e.target.value),children:[u.jsx("option",{value:"time",children:"Time-Based"}),u.jsx("option",{value:"price",children:"Price-Based"}),u.jsx("option",{value:"volatility",children:"Volatility-Based"}),u.jsx("option",{value:"volume",children:"Volume-Based"}),u.jsx("option",{value:"ai",children:"AI-Optimized"})]})]}),t.logicType==="time"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Duration:"}),u.jsxs("select",{value:t.duration||"3",onChange:e=>t.onChange("duration",e.target.value),children:[u.jsx("option",{value:"1",children:"1 Week"}),u.jsx("option",{value:"2",children:"2 Weeks"}),u.jsx("option",{value:"3",children:"3 Weeks"}),u.jsx("option",{value:"4",children:"1 Month"}),u.jsx("option",{value:"8",children:"2 Months"}),u.jsx("option",{value:"12",children:"3 Months"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Profit Target (%):"}),u.jsx("input",{type:"number",placeholder:"15",value:t.profitTarget||"",onChange:e=>t.onChange("profitTarget",e.target.value)})]})]}),t.logicType==="price"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Condition:"}),u.jsxs("select",{value:t.condition||"above",onChange:e=>t.onChange("condition",e.target.value),children:[u.jsx("option",{value:"above",children:"Price Above"}),u.jsx("option",{value:"below",children:"Price Below"}),u.jsx("option",{value:"crosses",children:"Price Crosses"}),u.jsx("option",{value:"percent_change",children:"% Change"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Value:"}),u.jsx("input",{type:"number",placeholder:"0.00",value:t.value||"",onChange:e=>t.onChange("value",e.target.value)})]})]}),t.logicType==="volatility"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Volatility Threshold:"}),u.jsxs("select",{value:t.volatilityThreshold||"high",onChange:e=>t.onChange("volatilityThreshold",e.target.value),children:[u.jsx("option",{value:"low",children:"Low (< 20%)"}),u.jsx("option",{value:"medium",children:"Medium (20-50%)"}),u.jsx("option",{value:"high",children:"High (> 50%)"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action:"}),u.jsxs("select",{value:t.volatilityAction||"exit",onChange:e=>t.onChange("volatilityAction",e.target.value),children:[u.jsx("option",{value:"exit",children:"Exit Position"}),u.jsx("option",{value:"hedge",children:"Hedge Position"}),u.jsx("option",{value:"rebalance",children:"Rebalance"})]})]})]}),t.logicType==="ai"&&u.jsxs("div",{className:"ai-logic-info",children:[u.jsxs("div",{className:"ai-badge",children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",style:{width:"16px",height:"16px",marginRight:"4px",verticalAlign:"middle"}})," AI-Powered"]}),u.jsx("p",{children:"AI analyzes market conditions and optimizes entry/exit timing"}),u.jsxs("div",{className:"ai-improvement",children:[u.jsx("span",{children:"Estimated Improvement:"}),u.jsx("span",{className:"improvement-value",children:"+75%"})]})]})]})]}),oG=({data:t})=>u.jsxs("div",{className:"strategy-node action-node",title:"Action: Defines what happens when conditions are met",children:[u.jsx(go,{type:"target",position:Ne.Left}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action Type:"}),u.jsxs("select",{value:t.actionType||"entry",onChange:e=>t.onChange("actionType",e.target.value),children:[u.jsx("option",{value:"entry",children:"Entry Action"}),u.jsx("option",{value:"exit",children:"Exit Action"}),u.jsx("option",{value:"rebalance",children:"Rebalance"}),u.jsx("option",{value:"hedge",children:"Hedge"})]})]}),t.actionType==="entry"&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action:"}),u.jsxs("select",{value:t.action||"stake",onChange:e=>t.onChange("action",e.target.value),children:[u.jsx("option",{value:"stake",children:"Stake"}),u.jsx("option",{value:"buy",children:"Buy"}),u.jsx("option",{value:"liquidity",children:"Add Liquidity"}),u.jsx("option",{value:"yield_farm",children:"Yield Farm"})]})]})}),t.actionType==="exit"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Exit Strategy:"}),u.jsxs("select",{value:t.exitStrategy||"all",onChange:e=>t.onChange("exitStrategy",e.target.value),children:[u.jsx("option",{value:"all",children:"All (Initial + Earnings)"}),u.jsx("option",{value:"earnings",children:"Earnings Only"}),u.jsx("option",{value:"partial",children:"Partial Exit"}),u.jsx("option",{value:"stop_loss",children:"Stop Loss"})]})]}),t.exitStrategy==="stop_loss"&&u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Stop Loss (%):"}),u.jsx("input",{type:"number",placeholder:"10",value:t.stopLoss||"",onChange:e=>t.onChange("stopLoss",e.target.value)})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Auto Execute:"}),u.jsxs("select",{value:t.autoExecute||"true",onChange:e=>t.onChange("autoExecute",e.target.value),children:[u.jsx("option",{value:"true",children:"Yes (Automated)"}),u.jsx("option",{value:"false",children:"No (Manual Approval)"})]})]})]})]}),aG={inputNode:sG,logicNode:iG,actionNode:oG},lG=()=>{const[t,e,n]=oH([]),[r,s,i]=aH([]),[o,a]=D.useState(null),[l,c]=D.useState("My DeFi Strategy"),[d,h]=D.useState(!1),[p,m]=D.useState(null),[y,w]=D.useState("20"),[b,g]=D.useState("SOL"),[S,_]=D.useState(150),[A,R]=D.useState(!1),[W,O]=D.useState(""),[B,F]=D.useState("medium"),[U,H]=D.useState(!1),[V,M]=D.useState(null),[f,x]=D.useState("1"),[k,I]=D.useState(!1),[C,j]=D.useState(null),[P,T]=D.useState(!1),{publicKey:v,connected:L}=Hm(),{connection:X}=Hw(),Z=D.useMemo(()=>(parseFloat(y)||0)*S,[y,S]),te=D.useMemo(()=>S,[S]),ne=D.useCallback(()=>{const ie=t.filter(Ae=>Ae.type==="logicNode"),ye=t.filter(Ae=>Ae.type==="actionNode");let xe=0;return ie.forEach(Ae=>{var Se,ze,Fe;((Se=Ae.data)==null?void 0:Se.logicType)==="volatility"&&(xe+=2),((ze=Ae.data)==null?void 0:ze.logicType)==="ai"&&(xe+=1),((Fe=Ae.data)==null?void 0:Fe.logicType)==="price"&&(xe+=1)}),ye.forEach(Ae=>{var Se,ze;((Se=Ae.data)==null?void 0:Se.actionType)==="hedge"&&(xe-=1),((ze=Ae.data)==null?void 0:ze.exitStrategy)==="stop_loss"&&(xe-=1)}),xe<=0?"low":xe<=2?"medium":"high"},[t]),le=D.useCallback(ie=>s(ye=>$C(ie,ye)),[s]),ce=D.useCallback((ie,ye)=>{a(ye)},[]),pe=D.useCallback((ie,ye,xe)=>{e(Ae=>Ae.map(Se=>Se.id===ie?{...Se,data:{...Se.data,[ye]:xe}}:Se))},[e]),Pe=D.useCallback((ie,ye)=>{const xe={id:`${ie}-${Date.now()}`,type:ie==="input"?"inputNode":ie==="logic"?"logicNode":"actionNode",position:ye,data:{label:ie==="input"?"Data Input":ie==="logic"?"Strategy Logic":"Action",onChange:(Ae,Se)=>pe(xe.id,Ae,Se),token:b,duration:"3",profitTarget:"15",action:"stake",exitStrategy:"all",logicType:"time",riskLevel:"medium-risk"}};e(Ae=>[...Ae,xe])},[e,pe,b]),Re=D.useCallback(ie=>{ie.preventDefault();const ye=ie.dataTransfer.getData("application/reactflow"),xe={x:ie.clientX-280,y:ie.clientY-100};Pe(ye,xe)},[Pe]),it=D.useCallback(ie=>{ie.preventDefault(),ie.dataTransfer.dropEffect="move"},[]),Oe=D.useCallback(()=>{W.trim()&&(h(!0),setTimeout(()=>{const ie=[{id:"ai-input-1",type:"inputNode",position:{x:100,y:100},data:{label:"AI Data Source",onChange:(xe,Ae)=>pe("ai-input-1",xe,Ae),token:b,dataType:"price"}},{id:"ai-logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"AI-Optimized Logic",onChange:(xe,Ae)=>pe("ai-logic-1",xe,Ae),logicType:"ai",duration:"4",profitTarget:"12",riskLevel:"low-risk"}},{id:"ai-action-1",type:"actionNode",position:{x:700,y:100},data:{label:"AI Action",onChange:(xe,Ae)=>pe("ai-action-1",xe,Ae),actionType:"entry",action:"stake",riskLevel:"low-risk"}}],ye=[{id:"ai-e1-2",source:"ai-input-1",target:"ai-logic-1"},{id:"ai-e2-3",source:"ai-logic-1",target:"ai-action-1"}];e(ie),s(ye),R(!1),h(!1)},2e3))},[W,b,e,s,pe]),Le=D.useCallback(()=>{h(!0),setTimeout(()=>{var Fe,Je,z,E;const ie=parseFloat(((Je=(Fe=t.find(N=>N.type==="logicNode"))==null?void 0:Fe.data)==null?void 0:Je.profitTarget)||"15"),ye=parseInt(((E=(z=t.find(N=>N.type==="logicNode"))==null?void 0:z.data)==null?void 0:E.duration)||"3"),xe=parseFloat(y),Ae=xe*ie/100,Se=ne(),ze=t.some(N=>{var $;return(($=N.data)==null?void 0:$.logicType)==="ai"})?75:0;m({totalReturn:ie+ze,timeToExit:`${ye} weeks`,expectedProfit:Ae.toFixed(2),initialInvestment:xe,finalValue:(xe+Ae).toFixed(2),successRate:95,riskLevel:Se,maxDrawdown:Se==="high"?25:Se==="medium"?15:8,sharpeRatio:Se==="high"?1.2:Se==="medium"?1.8:2.5,aiImprovement:ze,chartData:{labels:Array.from({length:ye},(N,$)=>`Week ${$+1}`),datasets:[{label:`${b} Value`,data:Array.from({length:ye},(N,$)=>{const q=(ie+ze)/ye;return xe+xe*q*($+1)/100}),borderColor:"#6D8FC7",backgroundColor:"rgba(109, 143, 199, 0.1)",tension:.4,fill:!0}]}}),h(!1)},2e3)},[t,y,b,ne]),re=D.useCallback(()=>{const ie={name:l,nodes:t,edges:r,depositAmount:y,selectedToken:b,totalCostUSD:Z,riskLevel:ne(),timestamp:new Date().toISOString()};console.log("Saving strategy:",ie),alert("Strategy saved! (Check console for details)")},[l,t,r,y,b,Z,ne]),ge=D.useCallback(()=>{const ie={name:l,nodes:t,edges:r,riskLevel:ne(),publishedAt:new Date().toISOString(),author:"User",forks:0,likes:0};console.log("Publishing strategy:",ie),H(!1),alert("Strategy published! (Check console for details)")},[l,t,r,ne]),oe=D.useCallback(async()=>{if(!L||!v){alert("Please connect your wallet first");return}if(!V){alert("Please select a vault first");return}const ie=parseFloat(f);if(isNaN(ie)||ie<=0){alert("Please enter a valid stake amount");return}if(ie<V.minStake||ie>V.maxStake){alert(`Stake amount must be between ${V.minStake} and ${V.maxStake} SOL`);return}I(!0);try{const ye=await tG(X,ie,V);if(ye.success){const xe=nG(ie,V,30);j({success:!0,transaction:ye,returns:xe,message:`Successfully staked ${ie} SOL in ${V.name}`})}else j({success:!1,error:ye.error,message:"Transaction failed"})}catch(ye){j({success:!1,error:ye instanceof Error?ye.message:"Unknown error",message:"Execution failed"})}finally{I(!1)}},[L,v,V,f,X]);return K.useEffect(()=>{const ie=[{id:"input-1",type:"inputNode",position:{x:100,y:100},data:{label:"Token Data",onChange:(xe,Ae)=>pe("input-1",xe,Ae),token:b,dataType:"price"}},{id:"logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"Strategy Logic",onChange:(xe,Ae)=>pe("logic-1",xe,Ae),logicType:"time",duration:"3",profitTarget:"15",riskLevel:"medium-risk"}},{id:"action-1",type:"actionNode",position:{x:700,y:100},data:{label:"Action",onChange:(xe,Ae)=>pe("action-1",xe,Ae),actionType:"entry",action:"stake",riskLevel:"medium-risk"}}],ye=[{id:"e1-2",source:"input-1",target:"logic-1"},{id:"e2-3",source:"logic-1",target:"action-1"}];e(ie),s(ye)},[b]),u.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Strategy Builder"}),u.jsx("p",{className:"text-cyphr-gray",children:"Test your risk before you buy"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex-1 max-w-md",children:u.jsx("input",{type:"text",value:l,onChange:ie=>c(ie.target.value),placeholder:"Enter strategy name...",className:"elite-input px-4 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm w-full"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>R(!0),children:"AI Builder"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:Le,disabled:d,children:d?"Simulating...":"Simulate Strategy"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:re,children:"Save Strategy"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>H(!0),children:"Publish"})]})]}),u.jsxs("div",{className:"risk-profile-banner animate-slide-up",children:[u.jsxs("div",{className:"risk-indicator",children:[u.jsx("span",{className:"risk-label",children:"Strategy Risk Level:"}),u.jsxs("span",{className:`risk-badge ${ne()}-risk`,children:[ne().toUpperCase()," RISK"]})]}),u.jsxs("div",{className:"risk-metrics",children:[u.jsxs("div",{className:"risk-metric",children:[u.jsx("span",{children:"Max Drawdown:"}),u.jsx("span",{className:"metric-value",children:ne()==="high"?"25%":ne()==="medium"?"15%":"8%"})]}),u.jsxs("div",{className:"risk-metric",children:[u.jsx("span",{children:"Sharpe Ratio:"}),u.jsx("span",{className:"metric-value",children:ne()==="high"?"1.2":ne()==="medium"?"1.8":"2.5"})]})]})]}),u.jsx("div",{className:"deposit-config animate-slide-up",children:u.jsxs("div",{className:"config-card",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}})," Deposit Configuration"]}),u.jsxs("div",{className:"config-grid",children:[u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Token:"}),u.jsxs("select",{value:b,onChange:ie=>g(ie.target.value),className:"cyphr-select",children:[u.jsx("option",{value:"SOL",children:"SOL"}),u.jsx("option",{value:"ETH",children:"ETH"}),u.jsx("option",{value:"BTC",children:"BTC"}),u.jsx("option",{value:"USDC",children:"USDC"})]})]}),u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Amount:"}),u.jsx("input",{type:"number",value:y,onChange:ie=>w(ie.target.value),placeholder:"20",className:"cyphr-input"})]}),u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Total Cost (USD):"}),u.jsxs("div",{className:"cost-display",children:[u.jsxs("span",{className:"cost-amount",children:["$",Z.toFixed(2)]}),u.jsxs("span",{className:"cost-per-token",children:["@ $",te.toFixed(2)," per ",b]})]})]})]})]})}),u.jsx("div",{className:"staking-section animate-slide-up",children:u.jsxs("div",{className:"staking-card",children:[u.jsx("h3",{children:"🚀 Execute Strategy on Testnet"}),u.jsx("div",{className:"wallet-section",children:u.jsx(JY,{})}),u.jsxs("div",{className:"vault-section",children:[u.jsxs("div",{className:"vault-header",children:[u.jsx("h4",{children:"Select Vault for Staking"}),u.jsxs("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>T(!P),children:[P?"Hide":"Show"," Vaults"]})]}),P&&u.jsx(rG,{selectedVault:V,onVaultSelect:M}),V&&u.jsxs("div",{className:"selected-vault",children:[u.jsxs("h5",{children:["Selected: ",V.name]}),u.jsxs("p",{children:["APY: ",V.apy,"% | Min: ",V.minStake," SOL | Max: ",V.maxStake," SOL"]})]})]}),V&&u.jsxs("div",{className:"staking-config",children:[u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Stake Amount (SOL):"}),u.jsx("input",{type:"number",value:f,onChange:ie=>x(ie.target.value),placeholder:"1",min:V.minStake,max:V.maxStake,className:"cyphr-input"})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary execute-btn",onClick:oe,disabled:!L||k,children:k?"Executing...":"Execute Strategy"})]}),C&&u.jsxs("div",{className:`execution-result ${C.success?"success":"error"}`,children:[u.jsx("h4",{children:C.success?"✅ Strategy Executed!":"❌ Execution Failed"}),u.jsx("p",{children:C.message}),C.success&&C.returns&&u.jsxs("div",{className:"returns-display",children:[u.jsx("h5",{children:"Projected Returns (30 days):"}),u.jsxs("div",{className:"returns-grid",children:[u.jsxs("div",{className:"return-item",children:[u.jsx("span",{children:"Initial Deposit:"}),u.jsxs("span",{children:[C.returns.initialDeposit," SOL"]})]}),u.jsxs("div",{className:"return-item",children:[u.jsx("span",{children:"Total Return:"}),u.jsxs("span",{children:[C.returns.totalReturn.toFixed(4)," SOL"]})]}),u.jsxs("div",{className:"return-item",children:[u.jsx("span",{children:"Final Amount:"}),u.jsxs("span",{children:[C.returns.finalAmount.toFixed(4)," SOL"]})]}),u.jsxs("div",{className:"return-item",children:[u.jsx("span",{children:"APY:"}),u.jsxs("span",{children:[C.returns.apy,"%"]})]})]})]})]})]})}),A&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"middle"}})," AI Strategy Builder"]}),u.jsx("button",{className:"modal-close",onClick:()=>R(!1),children:"×"})]}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Describe your strategy and AI will generate it for you:"}),u.jsx("textarea",{value:W,onChange:ie=>O(ie.target.value),placeholder:"e.g., 'I want a low-risk staking strategy for SOL with 10% yield and stop-loss protection'",className:"ai-prompt-input"}),u.jsxs("div",{className:"ai-examples",children:[u.jsx("h4",{children:"Example Prompts:"}),u.jsxs("ul",{children:[u.jsx("li",{children:'"Conservative yield farming with USDC, max 5% risk"'}),u.jsx("li",{children:'"Aggressive SOL trading with AI optimization"'}),u.jsx("li",{children:'"Balanced portfolio with automatic rebalancing"'})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>R(!1),children:"Cancel"}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:Oe,children:"Generate Strategy"})]})]})}),U&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Publish Strategy"}),u.jsx("button",{className:"modal-close",onClick:()=>H(!1),children:"×"})]}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Share your strategy with the community and earn from referrals:"}),u.jsxs("div",{className:"social-benefits",children:[u.jsxs("div",{className:"benefit-item",children:[u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",className:"benefit-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Earn 5% from strategy forks"})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("span",{className:"benefit-icon",children:"📈"}),u.jsx("span",{children:"Build reputation in the community"})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("span",{className:"benefit-icon",children:"🤝"}),u.jsx("span",{children:"Collaborate with other builders"})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>H(!1),children:"Cancel"}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:ge,children:"Publish Strategy"})]})]})}),u.jsxs("div",{className:"builder-content animate-slide-up",children:[u.jsxs("div",{className:"sidebar animate-slide-up",children:[u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Data Sources"]}),u.jsx("div",{className:"node-palette",children:u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","input")},title:"Drag to add data source node",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Token Data"})]})})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/StrategyLogicIcon.png",alt:"Strategy Logic",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Logic"]}),u.jsxs("div",{className:"node-palette",children:[u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add logic node",children:[u.jsx("img",{src:"/TimeProfitIcon.png",alt:"Time & Profit",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Time & Profit Logic"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add price-based logic",children:[u.jsx("img",{src:"/PriceLogic.png",alt:"Price Logic",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Price-Based Logic"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add volatility-based logic",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Volatility Logic"})]}),u.jsxs("div",{className:"palette-item ai-palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add AI-optimized logic",children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",className:"palette-icon",style:{width:"20px",height:"20px",margin:"0 -4px"}}),u.jsx("span",{children:"AI-Optimized Logic"}),u.jsx("span",{className:"ai-badge",children:"+75%"})]})]})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",style:{width:"16px",height:"16px",marginRight:"8px"}})," Actions"]}),u.jsxs("div",{className:"node-palette",children:[u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","action")},title:"Drag to add action node",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Entry & Exit"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ie=>{ie.dataTransfer.setData("application/reactflow","action")},title:"Drag to add hedge action",children:[u.jsx("img",{src:"/HedgeIcon.png",alt:"Hedge",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Hedge Action"})]})]})]})]}),u.jsxs("div",{className:"canvas-container animate-slide-up",onDrop:Re,onDragOver:it,children:[t.length===0&&u.jsx("div",{className:"empty-canvas",children:u.jsxs("div",{className:"empty-canvas-content",children:[u.jsx("h2",{children:"Build Your DeFi Strategy"}),u.jsx("p",{children:"Drag and drop components from the sidebar to create your strategy"}),u.jsxs("div",{className:"canvas-instructions",children:[u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Start with Token Data"})]}),u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/TimeProfitIcon.png",alt:"Time & Profit",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Add Time & Profit Logic"})]}),u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Configure Entry & Exit"})]})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-ai",onClick:()=>R(!0),children:"Or use AI Builder"})]})}),u.jsxs(_M,{nodes:t,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:le,onNodeClick:ce,nodeTypes:aG,fitView:!0,className:"strategy-canvas",children:[u.jsx(kH,{}),u.jsx(IH,{}),u.jsx(yH,{})]})]}),u.jsxs("div",{className:"results-panel animate-slide-up",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Results"]}),d?u.jsxs("div",{className:"simulation-loading",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"Running simulation..."})]}):p?u.jsxs("div",{className:"simulation-results",children:[u.jsxs("div",{className:"result-metrics",children:[u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Total Return"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.totalReturn,"%"]})]}),p.aiImprovement>0&&u.jsxs("div",{className:"metric ai-improvement",children:[u.jsx("span",{className:"metric-label",children:"AI Improvement"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.aiImprovement,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Time to Exit"}),u.jsx("span",{className:"metric-value",children:p.timeToExit})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Expected Profit"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.expectedProfit," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Initial Investment"}),u.jsxs("span",{className:"metric-value",children:[p.initialInvestment," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Final Value"}),u.jsxs("span",{className:"metric-value",children:[p.finalValue," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Success Rate"}),u.jsxs("span",{className:"metric-value",children:[p.successRate,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Max Drawdown"}),u.jsxs("span",{className:"metric-value",children:[p.maxDrawdown,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Sharpe Ratio"}),u.jsx("span",{className:"metric-value",children:p.sharpeRatio})]})]}),u.jsx("div",{className:"result-chart",children:u.jsx(QY,{data:p.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1a1a1a",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#333",borderWidth:1}},scales:{x:{grid:{color:"#333"},ticks:{color:"#888"}},y:{grid:{color:"#333"},ticks:{color:"#888"}}}}})})]}):u.jsx("div",{className:"no-results",children:u.jsx("p",{children:'Click "Simulate Strategy" to see results'})})]})]}),o&&u.jsxs("div",{className:"node-properties",children:[u.jsx("h3",{children:"⚙️ Node Properties"}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Node Type:"}),u.jsx("span",{children:o.type})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Node ID:"}),u.jsx("span",{children:o.id})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-danger",onClick:()=>{e(ie=>ie.filter(ye=>ye.id!==o.id)),a(null)},children:"🗑️ Delete Node"})]})]})},cG=()=>{const t=Sa(),[e,n]=D.useState(!1);if(D.useEffect(()=>{const s=()=>{n(window.innerWidth<=768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),!e)return null;const r=[{name:"Strategy",path:"/strategy-builder",icon:"/WatchlistStar.png"},{name:"Terminal",path:"/pro-terminal",icon:"/PhoneIcon.png"},{name:"Discover",path:"/discover",icon:"/PriceLogic.png"},{name:"Insights",path:"/tracker",icon:"/SearchIcon.png"},{name:"Perpetuals",path:"/perpetuals",icon:"/PNLIcon.png"},{name:"Portfolio",path:"/portfolio",icon:"/WalletIcon.png"}];return u.jsx("div",{className:"mobile-bottom-nav",children:r.map(s=>u.jsx(Mu,{to:s.path,className:`mobile-nav-item ${t.pathname===s.path?"active":""}`,title:s.name,children:u.jsx("span",{className:"mobile-nav-icon",children:u.jsx("img",{src:s.icon,alt:s.name,style:{width:"24px",height:"24px"}})})},s.name))})};function uG(){return D.useEffect(()=>{(function(t){if(t.search[1]==="/"){var e=t.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,"",t.pathname.slice(0,-1)+e+t.hash)}})(window.location)},[]),u.jsx(r7,{children:u.jsx(Jj,{children:u.jsx(Yj,{children:u.jsxs("div",{className:"app",children:[u.jsx(s7,{}),u.jsx("main",{className:"main-content",children:u.jsxs(Fj,{children:[u.jsx(Mr,{path:"/",element:u.jsx(zj,{to:"/strategy-builder",replace:!0})}),u.jsx(Mr,{path:"/pro-terminal",element:u.jsx(g7,{})}),u.jsx(Mr,{path:"/discover",element:u.jsx(o7,{})}),u.jsx(Mr,{path:"/dashboard",element:u.jsx(l7,{})}),u.jsx(Mr,{path:"/perpetuals",element:u.jsx(u7,{})}),u.jsx(Mr,{path:"/tracker",element:u.jsx(d7,{})}),u.jsx(Mr,{path:"/orders",element:u.jsx(f7,{})}),u.jsx(Mr,{path:"/token/:id",element:u.jsx(h7,{})}),u.jsx(Mr,{path:"/portfolio",element:u.jsx(p7,{})}),u.jsx(Mr,{path:"/spot",element:u.jsx(m7,{})}),u.jsx(Mr,{path:"/strategy-builder",element:u.jsx(lG,{})})]})}),u.jsx(i7,{}),u.jsx(cG,{})]})})})})}const dG=$g.createRoot(document.getElementById("root"));dG.render(u.jsx(K.StrictMode,{children:u.jsx(uG,{})}));
//# sourceMappingURL=index-Dh3obH46.js.map
