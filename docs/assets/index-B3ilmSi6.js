var zj=Object.defineProperty;var Wj=(t,e,n)=>e in t?zj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>Wj(t,typeof e!="symbol"?e+"":e,n);function Fj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ea(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Si(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ek={exports:{}},mm={},Nk={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Symbol.for("react.element"),Uj=Symbol.for("react.portal"),$j=Symbol.for("react.fragment"),Hj=Symbol.for("react.strict_mode"),Vj=Symbol.for("react.profiler"),Kj=Symbol.for("react.provider"),Yj=Symbol.for("react.context"),qj=Symbol.for("react.forward_ref"),Gj=Symbol.for("react.suspense"),Zj=Symbol.for("react.memo"),Qj=Symbol.for("react.lazy"),Qv=Symbol.iterator;function Xj(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var Mk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ak=Object.assign,Ik={};function hc(t,e,n){this.props=t,this.context=e,this.refs=Ik,this.updater=n||Mk}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jk(){}jk.prototype=hc.prototype;function A1(t,e,n){this.props=t,this.context=e,this.refs=Ik,this.updater=n||Mk}var I1=A1.prototype=new jk;I1.constructor=A1;Ak(I1,hc.prototype);I1.isPureReactComponent=!0;var Xv=Array.isArray,Ck=Object.prototype.hasOwnProperty,j1={current:null},Tk={key:!0,ref:!0,__self:!0,__source:!0};function Rk(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ck.call(e,r)&&!Tk.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pd,type:t,key:i,ref:o,props:s,_owner:j1.current}}function Jj(t,e){return{$$typeof:Pd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pd}function eC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jv=/\/+/g;function k0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eC(""+t.key):e.toString(36)}function sf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pd:case Uj:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+k0(o,0):r,Xv(s)?(n="",t!=null&&(n=t.replace(Jv,"$&/")+"/"),sf(s,e,n,"",function(c){return c})):s!=null&&(C1(s)&&(s=Jj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Xv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+k0(i,a);o+=sf(i,e,n,l,s)}else if(l=Xj(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+k0(i,a++),o+=sf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ah(t,e,n){if(t==null)return t;var r=[],s=0;return sf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},of={transition:null},nC={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:of,ReactCurrentOwner:j1};function Lk(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:ah,forEach:function(t,e,n){ah(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ah(t,function(){e++}),e},toArray:function(t){return ah(t,function(e){return e})||[]},only:function(t){if(!C1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=hc;Ue.Fragment=$j;Ue.Profiler=Vj;Ue.PureComponent=A1;Ue.StrictMode=Hj;Ue.Suspense=Gj;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;Ue.act=Lk;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ak({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=j1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ck.call(e,l)&&!Tk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pd,type:t.type,key:s,ref:i,props:r,_owner:o}};Ue.createContext=function(t){return t={$$typeof:Yj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kj,_context:t},t.Consumer=t};Ue.createElement=Rk;Ue.createFactory=function(t){var e=Rk.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:qj,render:t}};Ue.isValidElement=C1;Ue.lazy=function(t){return{$$typeof:Qj,_payload:{_status:-1,_result:t},_init:tC}};Ue.memo=function(t,e){return{$$typeof:Zj,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=of.transition;of.transition={};try{t()}finally{of.transition=e}};Ue.unstable_act=Lk;Ue.useCallback=function(t,e){return er.current.useCallback(t,e)};Ue.useContext=function(t){return er.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return er.current.useEffect(t,e)};Ue.useId=function(){return er.current.useId()};Ue.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return er.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Ue.useRef=function(t){return er.current.useRef(t)};Ue.useState=function(t){return er.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return er.current.useTransition()};Ue.version="18.3.1";Nk.exports=Ue;var z=Nk.exports;const V=Ea(z),rC=Fj({__proto__:null,default:V},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=z,iC=Symbol.for("react.element"),oC=Symbol.for("react.fragment"),aC=Object.prototype.hasOwnProperty,lC=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cC={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aC.call(e,r)&&!cC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:iC,type:t,key:i,ref:o,props:s,_owner:lC.current}}mm.Fragment=oC;mm.jsx=Pk;mm.jsxs=Pk;Ek.exports=mm;var u=Ek.exports,Xg={},Bk={exports:{}},Mr={},Dk={exports:{}},Ok={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,j){var P=C.length;C.push(j);e:for(;0<P;){var T=P-1>>>1,v=C[T];if(0<s(v,j))C[T]=j,C[P]=v,P=T;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],P=C.pop();if(P!==j){C[0]=P;e:for(var T=0,v=C.length,B=v>>>1;T<B;){var Q=2*(T+1)-1,Z=C[Q],ne=Q+1,J=C[ne];if(0>s(Z,P))ne<v&&0>s(J,Z)?(C[T]=J,C[ne]=P,T=ne):(C[T]=Z,C[Q]=P,T=Q);else if(ne<v&&0>s(J,P))C[T]=J,C[ne]=P,T=ne;else break e}}return j}function s(C,j){var P=C.sortIndex-j.sortIndex;return P!==0?P:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(C){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=C)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function M(C){if(w=!1,_(C),!y)if(n(l)!==null)y=!0,k(R);else{var j=n(c);j!==null&&I(M,j.startTime-C)}}function R(C,j){y=!1,w&&(w=!1,g(L),L=-1),m=!0;var P=p;try{for(_(j),h=n(l);h!==null&&(!(h.expirationTime>j)||C&&!H());){var T=h.callback;if(typeof T=="function"){h.callback=null,p=h.priorityLevel;var v=T(h.expirationTime<=j);j=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),_(j)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var Q=n(c);Q!==null&&I(M,Q.startTime-j),B=!1}return B}finally{h=null,p=P,m=!1}}var W=!1,D=null,L=-1,F=5,$=-1;function H(){return!(t.unstable_now()-$<F)}function K(){if(D!==null){var C=t.unstable_now();$=C;var j=!0;try{j=D(!0,C)}finally{j?A():(W=!1,D=null)}}else W=!1}var A;if(typeof S=="function")A=function(){S(K)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,x=f.port2;f.port1.onmessage=K,A=function(){x.postMessage(null)}}else A=function(){b(K,0)};function k(C){D=C,W||(W=!0,A())}function I(C,j){L=b(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,k(R))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var P=p;p=j;try{return C()}finally{p=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=p;p=C;try{return j()}finally{p=P}},t.unstable_scheduleCallback=function(C,j,P){var T=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?T+P:T):P=T,C){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=P+v,C={id:d++,callback:j,priorityLevel:C,startTime:P,expirationTime:v,sortIndex:-1},P>T?(C.sortIndex=P,e(c,C),n(l)===null&&C===n(c)&&(w?(g(L),L=-1):w=!0,I(M,P-T))):(C.sortIndex=v,e(l,C),y||m||(y=!0,k(R))),C},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(C){var j=p;return function(){var P=p;p=j;try{return C.apply(this,arguments)}finally{p=P}}}})(Ok);Dk.exports=Ok;var uC=Dk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC=z,Er=uC;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zk=new Set,Ku={};function Na(t,e){Ol(t,e),Ol(t+"Capture",e)}function Ol(t,e){for(Ku[t]=e,t=0;t<e.length;t++)zk.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=Object.prototype.hasOwnProperty,hC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eb={},tb={};function fC(t){return Jg.call(tb,t)?!0:Jg.call(eb,t)?!1:hC.test(t)?tb[t]=!0:(eb[t]=!0,!1)}function pC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mC(t,e,n,r){if(e===null||typeof e>"u"||pC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var T1=/[\-:]([a-z])/g;function R1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T1,R1);Rn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T1,R1);Rn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T1,R1);Rn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function L1(t,e,n,r){var s=Rn.hasOwnProperty(e)?Rn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mC(e,n,s,r)&&(n=null),r||s===null?fC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _i=dC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),il=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),Fk=Symbol.for("react.context"),B1=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),Uk=Symbol.for("react.offscreen"),nb=Symbol.iterator;function Oc(t){return t===null||typeof t!="object"?null:(t=nb&&t[nb]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,E0;function iu(t){if(E0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);E0=e&&e[1]||""}return`
`+E0+t}var N0=!1;function M0(t,e){if(!t||N0)return"";N0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{N0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?iu(t):""}function gC(t){switch(t.tag){case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return t=M0(t.type,!1),t;case 11:return t=M0(t.type.render,!1),t;case 1:return t=M0(t.type,!0),t;default:return""}}function ry(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ol:return"Fragment";case il:return"Portal";case ey:return"Profiler";case P1:return"StrictMode";case ty:return"Suspense";case ny:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fk:return(t.displayName||"Context")+".Consumer";case Wk:return(t._context.displayName||"Context")+".Provider";case B1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D1:return e=t.displayName||null,e!==null?e:ry(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return ry(t(e))}catch{}}return null}function yC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(e);case 8:return e===P1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $k(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xC(t){var e=$k(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ch(t){t._valueTracker||(t._valueTracker=xC(t))}function Hk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$k(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sy(t,e){var n=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=go(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vk(t,e){e=e.checked,e!=null&&L1(t,"checked",e,!1)}function iy(t,e){Vk(t,e);var n=go(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&oy(t,e.type,go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oy(t,e,n){(e!=="number"||sp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ou=Array.isArray;function Sl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+go(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ay(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ib(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(ou(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:go(n)}}function Kk(t,e){var n=go(e.value),r=go(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ob(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,qk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wC=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){wC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function Gk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function Zk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vC=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cy(t,e){if(e){if(vC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=null;function O1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hy=null,_l=null,kl=null;function ab(t){if(t=Od(t)){if(typeof hy!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=vm(e),hy(t.stateNode,t.type,e))}}function Qk(t){_l?kl?kl.push(t):kl=[t]:_l=t}function Xk(){if(_l){var t=_l,e=kl;if(kl=_l=null,ab(t),e)for(t=0;t<e.length;t++)ab(e[t])}}function Jk(t,e){return t(e)}function eE(){}var A0=!1;function tE(t,e,n){if(A0)return t(e,n);A0=!0;try{return Jk(t,e,n)}finally{A0=!1,(_l!==null||kl!==null)&&(eE(),Xk())}}function qu(t,e){var n=t.stateNode;if(n===null)return null;var r=vm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var fy=!1;if(pi)try{var zc={};Object.defineProperty(zc,"passive",{get:function(){fy=!0}}),window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{fy=!1}function bC(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Mu=!1,ip=null,op=!1,py=null,SC={onError:function(t){Mu=!0,ip=t}};function _C(t,e,n,r,s,i,o,a,l){Mu=!1,ip=null,bC.apply(SC,arguments)}function kC(t,e,n,r,s,i,o,a,l){if(_C.apply(this,arguments),Mu){if(Mu){var c=ip;Mu=!1,ip=null}else throw Error(ce(198));op||(op=!0,py=c)}}function Ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lb(t){if(Ma(t)!==t)throw Error(ce(188))}function EC(t){var e=t.alternate;if(!e){if(e=Ma(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lb(s),t;if(i===r)return lb(s),e;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function rE(t){return t=EC(t),t!==null?sE(t):null}function sE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sE(t);if(e!==null)return e;t=t.sibling}return null}var iE=Er.unstable_scheduleCallback,cb=Er.unstable_cancelCallback,NC=Er.unstable_shouldYield,MC=Er.unstable_requestPaint,en=Er.unstable_now,AC=Er.unstable_getCurrentPriorityLevel,z1=Er.unstable_ImmediatePriority,oE=Er.unstable_UserBlockingPriority,ap=Er.unstable_NormalPriority,IC=Er.unstable_LowPriority,aE=Er.unstable_IdlePriority,gm=null,Ts=null;function jC(t){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(gm,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:RC,CC=Math.log,TC=Math.LN2;function RC(t){return t>>>=0,t===0?32:31-(CC(t)/TC|0)|0}var dh=64,hh=4194304;function au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=au(a):(i&=o,i!==0&&(r=au(i)))}else o=n&~s,o!==0?r=au(o):i!==0&&(r=au(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),s=1<<n,r|=t[n],e&=~s;return r}function LC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ss(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=LC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function my(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lE(){var t=dh;return dh<<=1,!(dh&4194240)&&(dh=64),t}function I0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function BC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ss(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function W1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ct=0;function cE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uE,F1,dE,hE,fE,gy=!1,fh=[],no=null,ro=null,so=null,Gu=new Map,Zu=new Map,Ui=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ub(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(e.pointerId)}}function Wc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Od(e),e!==null&&F1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function OC(t,e,n,r,s){switch(e){case"focusin":return no=Wc(no,t,e,n,r,s),!0;case"dragenter":return ro=Wc(ro,t,e,n,r,s),!0;case"mouseover":return so=Wc(so,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gu.set(i,Wc(Gu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zu.set(i,Wc(Zu.get(i)||null,t,e,n,r,s)),!0}return!1}function pE(t){var e=Ho(t.target);if(e!==null){var n=Ma(e);if(n!==null){if(e=n.tag,e===13){if(e=nE(n),e!==null){t.blockedOn=e,fE(t.priority,function(){dE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function af(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dy=r,n.target.dispatchEvent(r),dy=null}else return e=Od(n),e!==null&&F1(e),t.blockedOn=n,!1;e.shift()}return!0}function db(t,e,n){af(t)&&n.delete(e)}function zC(){gy=!1,no!==null&&af(no)&&(no=null),ro!==null&&af(ro)&&(ro=null),so!==null&&af(so)&&(so=null),Gu.forEach(db),Zu.forEach(db)}function Fc(t,e){t.blockedOn===e&&(t.blockedOn=null,gy||(gy=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,zC)))}function Qu(t){function e(s){return Fc(s,t)}if(0<fh.length){Fc(fh[0],t);for(var n=1;n<fh.length;n++){var r=fh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(no!==null&&Fc(no,t),ro!==null&&Fc(ro,t),so!==null&&Fc(so,t),Gu.forEach(e),Zu.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)pE(n),n.blockedOn===null&&Ui.shift()}var El=_i.ReactCurrentBatchConfig,cp=!0;function WC(t,e,n,r){var s=ct,i=El.transition;El.transition=null;try{ct=1,U1(t,e,n,r)}finally{ct=s,El.transition=i}}function FC(t,e,n,r){var s=ct,i=El.transition;El.transition=null;try{ct=4,U1(t,e,n,r)}finally{ct=s,El.transition=i}}function U1(t,e,n,r){if(cp){var s=yy(t,e,n,r);if(s===null)z0(t,e,r,up,n),ub(t,r);else if(OC(s,t,e,n,r))r.stopPropagation();else if(ub(t,r),e&4&&-1<DC.indexOf(t)){for(;s!==null;){var i=Od(s);if(i!==null&&uE(i),i=yy(t,e,n,r),i===null&&z0(t,e,r,up,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else z0(t,e,r,null,n)}}var up=null;function yy(t,e,n,r){if(up=null,t=O1(r),t=Ho(t),t!==null)if(e=Ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return up=t,null}function mE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AC()){case z1:return 1;case oE:return 4;case ap:case IC:return 16;case aE:return 536870912;default:return 16}default:return 16}}var Ki=null,$1=null,lf=null;function gE(){if(lf)return lf;var t,e=$1,n=e.length,r,s="value"in Ki?Ki.value:Ki.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return lf=s.slice(t,1<r?1-r:void 0)}function cf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ph(){return!0}function hb(){return!1}function Ar(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ph:hb,this.isPropagationStopped=hb,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),e}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H1=Ar(fc),Dd=Rt({},fc,{view:0,detail:0}),UC=Ar(Dd),j0,C0,Uc,ym=Rt({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uc&&(Uc&&t.type==="mousemove"?(j0=t.screenX-Uc.screenX,C0=t.screenY-Uc.screenY):C0=j0=0,Uc=t),j0)},movementY:function(t){return"movementY"in t?t.movementY:C0}}),fb=Ar(ym),$C=Rt({},ym,{dataTransfer:0}),HC=Ar($C),VC=Rt({},Dd,{relatedTarget:0}),T0=Ar(VC),KC=Rt({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=Ar(KC),qC=Rt({},fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GC=Ar(qC),ZC=Rt({},fc,{data:0}),pb=Ar(ZC),QC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JC[t])?!!e[t]:!1}function V1(){return eT}var tT=Rt({},Dd,{key:function(t){if(t.key){var e=QC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V1,charCode:function(t){return t.type==="keypress"?cf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nT=Ar(tT),rT=Rt({},ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mb=Ar(rT),sT=Rt({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V1}),iT=Ar(sT),oT=Rt({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=Ar(oT),lT=Rt({},ym,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cT=Ar(lT),uT=[9,13,27,32],K1=pi&&"CompositionEvent"in window,Au=null;pi&&"documentMode"in document&&(Au=document.documentMode);var dT=pi&&"TextEvent"in window&&!Au,yE=pi&&(!K1||Au&&8<Au&&11>=Au),gb=" ",yb=!1;function xE(t,e){switch(t){case"keyup":return uT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function hT(t,e){switch(t){case"compositionend":return wE(e);case"keypress":return e.which!==32?null:(yb=!0,gb);case"textInput":return t=e.data,t===gb&&yb?null:t;default:return null}}function fT(t,e){if(al)return t==="compositionend"||!K1&&xE(t,e)?(t=gE(),lf=$1=Ki=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yE&&e.locale!=="ko"?null:e.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pT[t.type]:e==="textarea"}function vE(t,e,n,r){Qk(r),e=dp(e,"onChange"),0<e.length&&(n=new H1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,Xu=null;function mT(t){CE(t,0)}function xm(t){var e=ul(t);if(Hk(e))return t}function gT(t,e){if(t==="change")return e}var bE=!1;if(pi){var R0;if(pi){var L0="oninput"in document;if(!L0){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),L0=typeof wb.oninput=="function"}R0=L0}else R0=!1;bE=R0&&(!document.documentMode||9<document.documentMode)}function vb(){Iu&&(Iu.detachEvent("onpropertychange",SE),Xu=Iu=null)}function SE(t){if(t.propertyName==="value"&&xm(Xu)){var e=[];vE(e,Xu,t,O1(t)),tE(mT,e)}}function yT(t,e,n){t==="focusin"?(vb(),Iu=e,Xu=n,Iu.attachEvent("onpropertychange",SE)):t==="focusout"&&vb()}function xT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xm(Xu)}function wT(t,e){if(t==="click")return xm(e)}function vT(t,e){if(t==="input"||t==="change")return xm(e)}function bT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var us=typeof Object.is=="function"?Object.is:bT;function Ju(t,e){if(us(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jg.call(e,s)||!us(t[s],e[s]))return!1}return!0}function bb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sb(t,e){var n=bb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bb(n)}}function _E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kE(){for(var t=window,e=sp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sp(t.document)}return e}function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ST(t){var e=kE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_E(n.ownerDocument.documentElement,n)){if(r!==null&&Y1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Sb(n,i);var o=Sb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _T=pi&&"documentMode"in document&&11>=document.documentMode,ll=null,xy=null,ju=null,wy=!1;function _b(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wy||ll==null||ll!==sp(r)||(r=ll,"selectionStart"in r&&Y1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&Ju(ju,r)||(ju=r,r=dp(xy,"onSelect"),0<r.length&&(e=new H1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ll)))}function mh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cl={animationend:mh("Animation","AnimationEnd"),animationiteration:mh("Animation","AnimationIteration"),animationstart:mh("Animation","AnimationStart"),transitionend:mh("Transition","TransitionEnd")},P0={},EE={};pi&&(EE=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function wm(t){if(P0[t])return P0[t];if(!cl[t])return t;var e=cl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EE)return P0[t]=e[n];return t}var NE=wm("animationend"),ME=wm("animationiteration"),AE=wm("animationstart"),IE=wm("transitionend"),jE=new Map,kb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(t,e){jE.set(t,e),Na(e,[t])}for(var B0=0;B0<kb.length;B0++){var D0=kb[B0],kT=D0.toLowerCase(),ET=D0[0].toUpperCase()+D0.slice(1);bo(kT,"on"+ET)}bo(NE,"onAnimationEnd");bo(ME,"onAnimationIteration");bo(AE,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(IE,"onTransitionEnd");Ol("onMouseEnter",["mouseout","mouseover"]);Ol("onMouseLeave",["mouseout","mouseover"]);Ol("onPointerEnter",["pointerout","pointerover"]);Ol("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function Eb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kC(r,e,void 0,t),t.currentTarget=null}function CE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Eb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Eb(s,a,c),i=l}}}if(op)throw t=py,op=!1,py=null,t}function wt(t,e){var n=e[ky];n===void 0&&(n=e[ky]=new Set);var r=t+"__bubble";n.has(r)||(TE(e,t,2,!1),n.add(r))}function O0(t,e,n){var r=0;e&&(r|=4),TE(n,t,r,e)}var gh="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[gh]){t[gh]=!0,zk.forEach(function(n){n!=="selectionchange"&&(NT.has(n)||O0(n,!1,t),O0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gh]||(e[gh]=!0,O0("selectionchange",!1,e))}}function TE(t,e,n,r){switch(mE(e)){case 1:var s=WC;break;case 4:s=FC;break;default:s=U1}n=s.bind(null,e,n,t),s=void 0,!fy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function z0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ho(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}tE(function(){var c=i,d=O1(n),h=[];e:{var p=jE.get(t);if(p!==void 0){var m=H1,y=t;switch(t){case"keypress":if(cf(n)===0)break e;case"keydown":case"keyup":m=nT;break;case"focusin":y="focus",m=T0;break;case"focusout":y="blur",m=T0;break;case"beforeblur":case"afterblur":m=T0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iT;break;case NE:case ME:case AE:m=YC;break;case IE:m=aT;break;case"scroll":m=UC;break;case"wheel":m=cT;break;case"copy":case"cut":case"paste":m=GC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mb}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var S=c,_;S!==null;){_=S;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,g!==null&&(M=qu(S,g),M!=null&&w.push(td(S,M,_)))),b)break;S=S.return}0<w.length&&(p=new m(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==dy&&(y=n.relatedTarget||n.fromElement)&&(Ho(y)||y[mi]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Ho(y):null,y!==null&&(b=Ma(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=fb,M="onMouseLeave",g="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=mb,M="onPointerLeave",g="onPointerEnter",S="pointer"),b=m==null?p:ul(m),_=y==null?p:ul(y),p=new w(M,S+"leave",m,n,d),p.target=b,p.relatedTarget=_,M=null,Ho(d)===c&&(w=new w(g,S+"enter",y,n,d),w.target=_,w.relatedTarget=b,M=w),b=M,m&&y)t:{for(w=m,g=y,S=0,_=w;_;_=Da(_))S++;for(_=0,M=g;M;M=Da(M))_++;for(;0<S-_;)w=Da(w),S--;for(;0<_-S;)g=Da(g),_--;for(;S--;){if(w===g||g!==null&&w===g.alternate)break t;w=Da(w),g=Da(g)}w=null}else w=null;m!==null&&Nb(h,p,m,w,!1),y!==null&&b!==null&&Nb(h,b,y,w,!0)}}e:{if(p=c?ul(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=gT;else if(xb(p))if(bE)R=vT;else{R=xT;var W=yT}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=wT);if(R&&(R=R(t,c))){vE(h,R,n,d);break e}W&&W(t,p,c),t==="focusout"&&(W=p._wrapperState)&&W.controlled&&p.type==="number"&&oy(p,"number",p.value)}switch(W=c?ul(c):window,t){case"focusin":(xb(W)||W.contentEditable==="true")&&(ll=W,xy=c,ju=null);break;case"focusout":ju=xy=ll=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,_b(h,n,d);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":_b(h,n,d)}var D;if(K1)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else al?xE(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(yE&&n.locale!=="ko"&&(al||L!=="onCompositionStart"?L==="onCompositionEnd"&&al&&(D=gE()):(Ki=d,$1="value"in Ki?Ki.value:Ki.textContent,al=!0)),W=dp(c,L),0<W.length&&(L=new pb(L,t,null,n,d),h.push({event:L,listeners:W}),D?L.data=D:(D=wE(n),D!==null&&(L.data=D)))),(D=dT?hT(t,n):fT(t,n))&&(c=dp(c,"onBeforeInput"),0<c.length&&(d=new pb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=D))}CE(h,e)})}function td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qu(t,n),i!=null&&r.unshift(td(t,i,s)),i=qu(t,e),i!=null&&r.push(td(t,i,s))),t=t.return}return r}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=qu(n,i),l!=null&&o.unshift(td(n,l,a))):s||(l=qu(n,i),l!=null&&o.push(td(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function Mb(t){return(typeof t=="string"?t:""+t).replace(MT,`
`).replace(AT,"")}function yh(t,e,n){if(e=Mb(e),Mb(t)!==e&&n)throw Error(ce(425))}function hp(){}var vy=null,by=null;function Sy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _y=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(t){return Ab.resolve(null).then(t).catch(CT)}:_y;function CT(t){setTimeout(function(){throw t})}function W0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qu(e)}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ib(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pc=Math.random().toString(36).slice(2),ks="__reactFiber$"+pc,nd="__reactProps$"+pc,mi="__reactContainer$"+pc,ky="__reactEvents$"+pc,TT="__reactListeners$"+pc,RT="__reactHandles$"+pc;function Ho(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ib(t);t!==null;){if(n=t[ks])return n;t=Ib(t)}return e}t=n,n=t.parentNode}return null}function Od(t){return t=t[ks]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function vm(t){return t[nd]||null}var Ey=[],dl=-1;function So(t){return{current:t}}function St(t){0>dl||(t.current=Ey[dl],Ey[dl]=null,dl--)}function gt(t,e){dl++,Ey[dl]=t.current,t.current=e}var yo={},Kn=So(yo),fr=So(!1),pa=yo;function zl(t,e){var n=t.type.contextTypes;if(!n)return yo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pr(t){return t=t.childContextTypes,t!=null}function fp(){St(fr),St(Kn)}function jb(t,e,n){if(Kn.current!==yo)throw Error(ce(168));gt(Kn,e),gt(fr,n)}function RE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ce(108,yC(t)||"Unknown",s));return Rt({},n,r)}function pp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,pa=Kn.current,gt(Kn,t),gt(fr,fr.current),!0}function Cb(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=RE(t,e,pa),r.__reactInternalMemoizedMergedChildContext=t,St(fr),St(Kn),gt(Kn,t)):St(fr),gt(fr,n)}var Js=null,bm=!1,F0=!1;function LE(t){Js===null?Js=[t]:Js.push(t)}function LT(t){bm=!0,LE(t)}function _o(){if(!F0&&Js!==null){F0=!0;var t=0,e=ct;try{var n=Js;for(ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Js=null,bm=!1}catch(s){throw Js!==null&&(Js=Js.slice(t+1)),iE(z1,_o),s}finally{ct=e,F0=!1}}return null}var hl=[],fl=0,mp=null,gp=0,Pr=[],Br=0,ma=null,oi=1,ai="";function Co(t,e){hl[fl++]=gp,hl[fl++]=mp,mp=t,gp=e}function PE(t,e,n){Pr[Br++]=oi,Pr[Br++]=ai,Pr[Br++]=ma,ma=t;var r=oi;t=ai;var s=32-ss(r)-1;r&=~(1<<s),n+=1;var i=32-ss(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,oi=1<<32-ss(e)+s|n<<s|r,ai=i+t}else oi=1<<i|n<<s|r,ai=t}function q1(t){t.return!==null&&(Co(t,1),PE(t,1,0))}function G1(t){for(;t===mp;)mp=hl[--fl],hl[fl]=null,gp=hl[--fl],hl[fl]=null;for(;t===ma;)ma=Pr[--Br],Pr[Br]=null,ai=Pr[--Br],Pr[Br]=null,oi=Pr[--Br],Pr[Br]=null}var Sr=null,br=null,Nt=!1,Jr=null;function BE(t,e){var n=Or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,br=io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ma!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sr=t,br=null,!0):!1;default:return!1}}function Ny(t){return(t.mode&1)!==0&&(t.flags&128)===0}function My(t){if(Nt){var e=br;if(e){var n=e;if(!Tb(t,e)){if(Ny(t))throw Error(ce(418));e=io(n.nextSibling);var r=Sr;e&&Tb(t,e)?BE(r,n):(t.flags=t.flags&-4097|2,Nt=!1,Sr=t)}}else{if(Ny(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Nt=!1,Sr=t}}}function Rb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function xh(t){if(t!==Sr)return!1;if(!Nt)return Rb(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sy(t.type,t.memoizedProps)),e&&(e=br)){if(Ny(t))throw DE(),Error(ce(418));for(;e;)BE(t,e),e=io(e.nextSibling)}if(Rb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){br=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}br=null}}else br=Sr?io(t.stateNode.nextSibling):null;return!0}function DE(){for(var t=br;t;)t=io(t.nextSibling)}function Wl(){br=Sr=null,Nt=!1}function Z1(t){Jr===null?Jr=[t]:Jr.push(t)}var PT=_i.ReactCurrentBatchConfig;function $c(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lb(t){var e=t._init;return e(t._payload)}function OE(t){function e(g,S){if(t){var _=g.deletions;_===null?(g.deletions=[S],g.flags|=16):_.push(S)}}function n(g,S){if(!t)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function r(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function s(g,S){return g=co(g,S),g.index=0,g.sibling=null,g}function i(g,S,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<S?(g.flags|=2,S):_):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,S,_,M){return S===null||S.tag!==6?(S=q0(_,g.mode,M),S.return=g,S):(S=s(S,_),S.return=g,S)}function l(g,S,_,M){var R=_.type;return R===ol?d(g,S,_.props.children,M,_.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Di&&Lb(R)===S.type)?(M=s(S,_.props),M.ref=$c(g,S,_),M.return=g,M):(M=gf(_.type,_.key,_.props,null,g.mode,M),M.ref=$c(g,S,_),M.return=g,M)}function c(g,S,_,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=G0(_,g.mode,M),S.return=g,S):(S=s(S,_.children||[]),S.return=g,S)}function d(g,S,_,M,R){return S===null||S.tag!==7?(S=la(_,g.mode,M,R),S.return=g,S):(S=s(S,_),S.return=g,S)}function h(g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=q0(""+S,g.mode,_),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lh:return _=gf(S.type,S.key,S.props,null,g.mode,_),_.ref=$c(g,null,S),_.return=g,_;case il:return S=G0(S,g.mode,_),S.return=g,S;case Di:var M=S._init;return h(g,M(S._payload),_)}if(ou(S)||Oc(S))return S=la(S,g.mode,_,null),S.return=g,S;wh(g,S)}return null}function p(g,S,_,M){var R=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:a(g,S,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lh:return _.key===R?l(g,S,_,M):null;case il:return _.key===R?c(g,S,_,M):null;case Di:return R=_._init,p(g,S,R(_._payload),M)}if(ou(_)||Oc(_))return R!==null?null:d(g,S,_,M,null);wh(g,_)}return null}function m(g,S,_,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(_)||null,a(S,g,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case lh:return g=g.get(M.key===null?_:M.key)||null,l(S,g,M,R);case il:return g=g.get(M.key===null?_:M.key)||null,c(S,g,M,R);case Di:var W=M._init;return m(g,S,_,W(M._payload),R)}if(ou(M)||Oc(M))return g=g.get(_)||null,d(S,g,M,R,null);wh(S,M)}return null}function y(g,S,_,M){for(var R=null,W=null,D=S,L=S=0,F=null;D!==null&&L<_.length;L++){D.index>L?(F=D,D=null):F=D.sibling;var $=p(g,D,_[L],M);if($===null){D===null&&(D=F);break}t&&D&&$.alternate===null&&e(g,D),S=i($,S,L),W===null?R=$:W.sibling=$,W=$,D=F}if(L===_.length)return n(g,D),Nt&&Co(g,L),R;if(D===null){for(;L<_.length;L++)D=h(g,_[L],M),D!==null&&(S=i(D,S,L),W===null?R=D:W.sibling=D,W=D);return Nt&&Co(g,L),R}for(D=r(g,D);L<_.length;L++)F=m(D,g,L,_[L],M),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?L:F.key),S=i(F,S,L),W===null?R=F:W.sibling=F,W=F);return t&&D.forEach(function(H){return e(g,H)}),Nt&&Co(g,L),R}function w(g,S,_,M){var R=Oc(_);if(typeof R!="function")throw Error(ce(150));if(_=R.call(_),_==null)throw Error(ce(151));for(var W=R=null,D=S,L=S=0,F=null,$=_.next();D!==null&&!$.done;L++,$=_.next()){D.index>L?(F=D,D=null):F=D.sibling;var H=p(g,D,$.value,M);if(H===null){D===null&&(D=F);break}t&&D&&H.alternate===null&&e(g,D),S=i(H,S,L),W===null?R=H:W.sibling=H,W=H,D=F}if($.done)return n(g,D),Nt&&Co(g,L),R;if(D===null){for(;!$.done;L++,$=_.next())$=h(g,$.value,M),$!==null&&(S=i($,S,L),W===null?R=$:W.sibling=$,W=$);return Nt&&Co(g,L),R}for(D=r(g,D);!$.done;L++,$=_.next())$=m(D,g,L,$.value,M),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?L:$.key),S=i($,S,L),W===null?R=$:W.sibling=$,W=$);return t&&D.forEach(function(K){return e(g,K)}),Nt&&Co(g,L),R}function b(g,S,_,M){if(typeof _=="object"&&_!==null&&_.type===ol&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lh:e:{for(var R=_.key,W=S;W!==null;){if(W.key===R){if(R=_.type,R===ol){if(W.tag===7){n(g,W.sibling),S=s(W,_.props.children),S.return=g,g=S;break e}}else if(W.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Di&&Lb(R)===W.type){n(g,W.sibling),S=s(W,_.props),S.ref=$c(g,W,_),S.return=g,g=S;break e}n(g,W);break}else e(g,W);W=W.sibling}_.type===ol?(S=la(_.props.children,g.mode,M,_.key),S.return=g,g=S):(M=gf(_.type,_.key,_.props,null,g.mode,M),M.ref=$c(g,S,_),M.return=g,g=M)}return o(g);case il:e:{for(W=_.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(g,S.sibling),S=s(S,_.children||[]),S.return=g,g=S;break e}else{n(g,S);break}else e(g,S);S=S.sibling}S=G0(_,g.mode,M),S.return=g,g=S}return o(g);case Di:return W=_._init,b(g,S,W(_._payload),M)}if(ou(_))return y(g,S,_,M);if(Oc(_))return w(g,S,_,M);wh(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(g,S.sibling),S=s(S,_),S.return=g,g=S):(n(g,S),S=q0(_,g.mode,M),S.return=g,g=S),o(g)):n(g,S)}return b}var Fl=OE(!0),zE=OE(!1),yp=So(null),xp=null,pl=null,Q1=null;function X1(){Q1=pl=xp=null}function J1(t){var e=yp.current;St(yp),t._currentValue=e}function Ay(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nl(t,e){xp=t,Q1=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ur=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(Q1!==t)if(t={context:t,memoizedValue:e,next:null},pl===null){if(xp===null)throw Error(ce(308));pl=t,xp.dependencies={lanes:0,firstContext:t}}else pl=pl.next=t;return e}var Vo=null;function ew(t){Vo===null?Vo=[t]:Vo.push(t)}function WE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ew(e)):(n.next=s.next,s.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oi=!1;function tw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gi(t,n)}return s=r.interleaved,s===null?(e.next=e,ew(r)):(e.next=s.next,s.next=e),r.interleaved=e,gi(t,n)}function uf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,W1(t,n)}}function Pb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wp(t,e,n,r){var s=t.updateQueue;Oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=Rt({},h,p);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ya|=o,t.lanes=o,t.memoizedState=h}}function Bb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ce(191,s));s.call(r)}}}var zd={},Rs=So(zd),rd=So(zd),sd=So(zd);function Ko(t){if(t===zd)throw Error(ce(174));return t}function nw(t,e){switch(gt(sd,e),gt(rd,t),gt(Rs,zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ly(e,t)}St(Rs),gt(Rs,e)}function Ul(){St(Rs),St(rd),St(sd)}function UE(t){Ko(sd.current);var e=Ko(Rs.current),n=ly(e,t.type);e!==n&&(gt(rd,t),gt(Rs,n))}function rw(t){rd.current===t&&(St(Rs),St(rd))}var jt=So(0);function vp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var U0=[];function sw(){for(var t=0;t<U0.length;t++)U0[t]._workInProgressVersionPrimary=null;U0.length=0}var df=_i.ReactCurrentDispatcher,$0=_i.ReactCurrentBatchConfig,ga=0,Tt=null,dn=null,xn=null,bp=!1,Cu=!1,id=0,BT=0;function Pn(){throw Error(ce(321))}function iw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!us(t[n],e[n]))return!1;return!0}function ow(t,e,n,r,s,i){if(ga=i,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,df.current=t===null||t.memoizedState===null?WT:FT,t=n(r,s),Cu){i=0;do{if(Cu=!1,id=0,25<=i)throw Error(ce(301));i+=1,xn=dn=null,e.updateQueue=null,df.current=UT,t=n(r,s)}while(Cu)}if(df.current=Sp,e=dn!==null&&dn.next!==null,ga=0,xn=dn=Tt=null,bp=!1,e)throw Error(ce(300));return t}function aw(){var t=id!==0;return id=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Tt.memoizedState=xn=t:xn=xn.next=t,xn}function Vr(){if(dn===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=xn===null?Tt.memoizedState:xn.next;if(e!==null)xn=e,dn=t;else{if(t===null)throw Error(ce(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},xn===null?Tt.memoizedState=xn=t:xn=xn.next=t}return xn}function od(t,e){return typeof e=="function"?e(t):e}function H0(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=dn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ga&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Tt.lanes|=d,ya|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,us(r,e.memoizedState)||(ur=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Tt.lanes|=i,ya|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function V0(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);us(i,e.memoizedState)||(ur=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $E(){}function HE(t,e){var n=Tt,r=Vr(),s=e(),i=!us(r.memoizedState,s);if(i&&(r.memoizedState=s,ur=!0),r=r.queue,lw(YE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,ad(9,KE.bind(null,n,r,s,e),void 0,null),bn===null)throw Error(ce(349));ga&30||VE(n,e,s)}return s}function VE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KE(t,e,n,r){e.value=n,e.getSnapshot=r,qE(e)&&GE(t)}function YE(t,e,n){return n(function(){qE(e)&&GE(t)})}function qE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!us(t,n)}catch{return!0}}function GE(t){var e=gi(t,1);e!==null&&is(e,t,1,-1)}function Db(t){var e=vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},e.queue=t,t=t.dispatch=zT.bind(null,Tt,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZE(){return Vr().memoizedState}function hf(t,e,n,r){var s=vs();Tt.flags|=t,s.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function Sm(t,e,n,r){var s=Vr();r=r===void 0?null:r;var i=void 0;if(dn!==null){var o=dn.memoizedState;if(i=o.destroy,r!==null&&iw(r,o.deps)){s.memoizedState=ad(e,n,i,r);return}}Tt.flags|=t,s.memoizedState=ad(1|e,n,i,r)}function Ob(t,e){return hf(8390656,8,t,e)}function lw(t,e){return Sm(2048,8,t,e)}function QE(t,e){return Sm(4,2,t,e)}function XE(t,e){return Sm(4,4,t,e)}function JE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eN(t,e,n){return n=n!=null?n.concat([t]):null,Sm(4,4,JE.bind(null,e,t),n)}function cw(){}function tN(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nN(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rN(t,e,n){return ga&21?(us(n,e)||(n=lE(),Tt.lanes|=n,ya|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ur=!0),t.memoizedState=n)}function DT(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var r=$0.transition;$0.transition={};try{t(!1),e()}finally{ct=n,$0.transition=r}}function sN(){return Vr().memoizedState}function OT(t,e,n){var r=lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iN(t))oN(e,n);else if(n=WE(t,e,n,r),n!==null){var s=Xn();is(n,t,r,s),aN(n,e,r)}}function zT(t,e,n){var r=lo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iN(t))oN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,us(a,o)){var l=e.interleaved;l===null?(s.next=s,ew(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=WE(t,e,s,r),n!==null&&(s=Xn(),is(n,t,r,s),aN(n,e,r))}}function iN(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function oN(t,e){Cu=bp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,W1(t,n)}}var Sp={readContext:Hr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},WT={readContext:Hr,useCallback:function(t,e){return vs().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:Ob,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hf(4194308,4,JE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hf(4194308,4,t,e)},useInsertionEffect:function(t,e){return hf(4,2,t,e)},useMemo:function(t,e){var n=vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OT.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=vs();return t={current:t},e.memoizedState=t},useState:Db,useDebugValue:cw,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=Db(!1),e=t[0];return t=DT.bind(null,t[1]),vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,s=vs();if(Nt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),bn===null)throw Error(ce(349));ga&30||VE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ob(YE.bind(null,r,i,t),[t]),r.flags|=2048,ad(9,KE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vs(),e=bn.identifierPrefix;if(Nt){var n=ai,r=oi;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=id++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FT={readContext:Hr,useCallback:tN,useContext:Hr,useEffect:lw,useImperativeHandle:eN,useInsertionEffect:QE,useLayoutEffect:XE,useMemo:nN,useReducer:H0,useRef:ZE,useState:function(){return H0(od)},useDebugValue:cw,useDeferredValue:function(t){var e=Vr();return rN(e,dn.memoizedState,t)},useTransition:function(){var t=H0(od)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:$E,useSyncExternalStore:HE,useId:sN,unstable_isNewReconciler:!1},UT={readContext:Hr,useCallback:tN,useContext:Hr,useEffect:lw,useImperativeHandle:eN,useInsertionEffect:QE,useLayoutEffect:XE,useMemo:nN,useReducer:V0,useRef:ZE,useState:function(){return V0(od)},useDebugValue:cw,useDeferredValue:function(t){var e=Vr();return dn===null?e.memoizedState=t:rN(e,dn.memoizedState,t)},useTransition:function(){var t=V0(od)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:$E,useSyncExternalStore:HE,useId:sN,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Iy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _m={isMounted:function(t){return(t=t._reactInternals)?Ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xn(),s=lo(t),i=hi(r,s);i.payload=e,n!=null&&(i.callback=n),e=oo(t,i,s),e!==null&&(is(e,t,s,r),uf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xn(),s=lo(t),i=hi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=oo(t,i,s),e!==null&&(is(e,t,s,r),uf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xn(),r=lo(t),s=hi(n,r);s.tag=2,e!=null&&(s.callback=e),e=oo(t,s,r),e!==null&&(is(e,t,r,n),uf(e,t,r))}};function zb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ju(n,r)||!Ju(s,i):!0}function lN(t,e,n){var r=!1,s=yo,i=e.contextType;return typeof i=="object"&&i!==null?i=Hr(i):(s=pr(e)?pa:Kn.current,r=e.contextTypes,i=(r=r!=null)?zl(t,s):yo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_m,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Wb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_m.enqueueReplaceState(e,e.state,null)}function jy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},tw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hr(i):(i=pr(e)?pa:Kn.current,s.context=zl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Iy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_m.enqueueReplaceState(s,s.state,null),wp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $l(t,e){try{var n="",r=e;do n+=gC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function K0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $T=typeof WeakMap=="function"?WeakMap:Map;function cN(t,e,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kp||(kp=!0,Fy=r),Cy(t,e)},n}function uN(t,e,n){n=hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Cy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cy(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $T;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=r5.bind(null,t,e,n),e.then(t,t))}function Ub(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $b(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hi(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t)}var HT=_i.ReactCurrentOwner,ur=!1;function Zn(t,e,n,r){e.child=t===null?zE(e,null,n,r):Fl(e,t.child,n,r)}function Hb(t,e,n,r,s){n=n.render;var i=e.ref;return Nl(e,s),r=ow(t,e,n,r,i,s),n=aw(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(Nt&&n&&q1(e),e.flags|=1,Zn(t,e,r,s),e.child)}function Vb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!yw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,dN(t,e,i,r,s)):(t=gf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ju,n(o,r)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=co(i,r),t.ref=e.ref,t.return=e,e.child=t}function dN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ju(i,r)&&t.ref===e.ref)if(ur=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ur=!0);else return e.lanes=t.lanes,yi(t,e,s)}return Ty(t,e,n,r,s)}function hN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(gl,yr),yr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(gl,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gt(gl,yr),yr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,gt(gl,yr),yr|=r;return Zn(t,e,s,n),e.child}function fN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ty(t,e,n,r,s){var i=pr(n)?pa:Kn.current;return i=zl(e,i),Nl(e,s),n=ow(t,e,n,r,i,s),r=aw(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(Nt&&r&&q1(e),e.flags|=1,Zn(t,e,n,s),e.child)}function Kb(t,e,n,r,s){if(pr(n)){var i=!0;pp(e)}else i=!1;if(Nl(e,s),e.stateNode===null)ff(t,e),lN(e,n,r),jy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hr(c):(c=pr(n)?pa:Kn.current,c=zl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wb(e,o,r,c),Oi=!1;var p=e.memoizedState;o.state=p,wp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||fr.current||Oi?(typeof d=="function"&&(Iy(e,n,d,r),l=e.memoizedState),(a=Oi||zb(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=pr(n)?pa:Kn.current,l=zl(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Wb(e,o,r,l),Oi=!1,p=e.memoizedState,o.state=p,wp(e,r,o,s);var y=e.memoizedState;a!==h||p!==y||fr.current||Oi?(typeof m=="function"&&(Iy(e,n,m,r),y=e.memoizedState),(c=Oi||zb(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ry(t,e,n,r,i,s)}function Ry(t,e,n,r,s,i){fN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cb(e,n,!1),yi(t,e,i);r=e.stateNode,HT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fl(e,t.child,null,i),e.child=Fl(e,null,a,i)):Zn(t,e,a,i),e.memoizedState=r.state,s&&Cb(e,n,!0),e.child}function pN(t){var e=t.stateNode;e.pendingContext?jb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jb(t,e.context,!1),nw(t,e.containerInfo)}function Yb(t,e,n,r,s){return Wl(),Z1(s),e.flags|=256,Zn(t,e,n,r),e.child}var Ly={dehydrated:null,treeContext:null,retryLane:0};function Py(t){return{baseLanes:t,cachePool:null,transitions:null}}function mN(t,e,n){var r=e.pendingProps,s=jt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gt(jt,s&1),t===null)return My(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nm(o,r,0,null),t=la(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Py(n),e.memoizedState=Ly,t):uw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=co(a,i):(i=la(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Py(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ly,r}return i=t.child,t=i.sibling,r=co(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uw(t,e){return e=Nm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,n,r){return r!==null&&Z1(r),Fl(e,t.child,null,n),t=uw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=K0(Error(ce(422))),vh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nm({mode:"visible",children:r.children},s,0,null),i=la(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fl(e,t.child,null,o),e.child.memoizedState=Py(o),e.memoizedState=Ly,i);if(!(e.mode&1))return vh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ce(419)),r=K0(i,r,void 0),vh(t,e,o,r)}if(a=(o&t.childLanes)!==0,ur||a){if(r=bn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gi(t,s),is(r,t,s,-1))}return gw(),r=K0(Error(ce(421))),vh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=s5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,br=io(s.nextSibling),Sr=e,Nt=!0,Jr=null,t!==null&&(Pr[Br++]=oi,Pr[Br++]=ai,Pr[Br++]=ma,oi=t.id,ai=t.overflow,ma=e),e=uw(e,r.children),e.flags|=4096,e)}function qb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ay(t.return,e,n)}function Y0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zn(t,e,r.children,n),r=jt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qb(t,n,e);else if(t.tag===19)qb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(jt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Y0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Y0(e,!0,n,null,i);break;case"together":Y0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ff(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ya|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KT(t,e,n){switch(e.tag){case 3:pN(e),Wl();break;case 5:UE(e);break;case 1:pr(e.type)&&pp(e);break;case 4:nw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;gt(yp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(jt,jt.current&1),e.flags|=128,null):n&e.child.childLanes?mN(t,e,n):(gt(jt,jt.current&1),t=yi(t,e,n),t!==null?t.sibling:null);gt(jt,jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(jt,jt.current),r)break;return null;case 22:case 23:return e.lanes=0,hN(t,e,n)}return yi(t,e,n)}var yN,By,xN,wN;yN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};By=function(){};xN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ko(Rs.current);var i=null;switch(n){case"input":s=sy(t,s),r=sy(t,r),i=[];break;case"select":s=Rt({},s,{value:void 0}),r=Rt({},r,{value:void 0}),i=[];break;case"textarea":s=ay(t,s),r=ay(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hp)}cy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ku.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ku.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};wN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hc(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YT(t,e,n){var r=e.pendingProps;switch(G1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return pr(e.type)&&fp(),Bn(e),null;case 3:return r=e.stateNode,Ul(),St(fr),St(Kn),sw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(Hy(Jr),Jr=null))),By(t,e),Bn(e),null;case 5:rw(e);var s=Ko(sd.current);if(n=e.type,t!==null&&e.stateNode!=null)xN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Bn(e),null}if(t=Ko(Rs.current),xh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ks]=e,r[nd]=i,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(s=0;s<lu.length;s++)wt(lu[s],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":rb(r,i),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},wt("invalid",r);break;case"textarea":ib(r,i),wt("invalid",r)}cy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&yh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&yh(r.textContent,a,t),s=["children",""+a]):Ku.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wt("scroll",r)}switch(n){case"input":ch(r),sb(r,i,!0);break;case"textarea":ch(r),ob(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ks]=e,t[nd]=r,yN(t,e,!1,!1),e.stateNode=t;e:{switch(o=uy(n,r),n){case"dialog":wt("cancel",t),wt("close",t),s=r;break;case"iframe":case"object":case"embed":wt("load",t),s=r;break;case"video":case"audio":for(s=0;s<lu.length;s++)wt(lu[s],t);s=r;break;case"source":wt("error",t),s=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),s=r;break;case"details":wt("toggle",t),s=r;break;case"input":rb(t,r),s=sy(t,r),wt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Rt({},r,{value:void 0}),wt("invalid",t);break;case"textarea":ib(t,r),s=ay(t,r),wt("invalid",t);break;default:s=r}cy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Zk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yu(t,l):typeof l=="number"&&Yu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ku.hasOwnProperty(i)?l!=null&&i==="onScroll"&&wt("scroll",t):l!=null&&L1(t,i,l,o))}switch(n){case"input":ch(t),sb(t,r,!1);break;case"textarea":ch(t),ob(t);break;case"option":r.value!=null&&t.setAttribute("value",""+go(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Sl(t,!!r.multiple,i,!1):r.defaultValue!=null&&Sl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)wN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=Ko(sd.current),Ko(Rs.current),xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ks]=e,(i=r.nodeValue!==n)&&(t=Sr,t!==null))switch(t.tag){case 3:yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=e,e.stateNode=r}return Bn(e),null;case 13:if(St(jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&br!==null&&e.mode&1&&!(e.flags&128))DE(),Wl(),e.flags|=98560,i=!1;else if(i=xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[ks]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),i=!1}else Jr!==null&&(Hy(Jr),Jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jt.current&1?fn===0&&(fn=3):gw())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return Ul(),By(t,e),t===null&&ed(e.stateNode.containerInfo),Bn(e),null;case 10:return J1(e.type._context),Bn(e),null;case 17:return pr(e.type)&&fp(),Bn(e),null;case 19:if(St(jt),i=e.memoizedState,i===null)return Bn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Hc(i,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vp(t),o!==null){for(e.flags|=128,Hc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(jt,jt.current&1|2),e.child}t=t.sibling}i.tail!==null&&en()>Hl&&(e.flags|=128,r=!0,Hc(i,!1),e.lanes=4194304)}else{if(!r)if(t=vp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Nt)return Bn(e),null}else 2*en()-i.renderingStartTime>Hl&&n!==1073741824&&(e.flags|=128,r=!0,Hc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=en(),e.sibling=null,n=jt.current,gt(jt,r?n&1|2:n&1),e):(Bn(e),null);case 22:case 23:return mw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function qT(t,e){switch(G1(e),e.tag){case 1:return pr(e.type)&&fp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ul(),St(fr),St(Kn),sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rw(e),null;case 13:if(St(jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(jt),null;case 4:return Ul(),null;case 10:return J1(e.type._context),null;case 22:case 23:return mw(),null;case 24:return null;default:return null}}var bh=!1,Hn=!1,GT=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ml(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function Dy(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var Gb=!1;function ZT(t,e){if(vy=cp,t=kE(),Y1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(by={focusedElem:t,selectionRange:n},cp=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Gr(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(M){Qt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return y=Gb,Gb=!1,y}function Tu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dy(e,n,i)}s=s.next}while(s!==r)}}function km(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vN(t){var e=t.alternate;e!==null&&(t.alternate=null,vN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[nd],delete e[ky],delete e[TT],delete e[RT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bN(t){return t.tag===5||t.tag===3||t.tag===4}function Zb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hp));else if(r!==4&&(t=t.child,t!==null))for(zy(t,e,n),t=t.sibling;t!==null;)zy(t,e,n),t=t.sibling}function Wy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wy(t,e,n),t=t.sibling;t!==null;)Wy(t,e,n),t=t.sibling}var Nn=null,Qr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)SN(t,e,n),n=n.sibling}function SN(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(gm,n)}catch{}switch(n.tag){case 5:Hn||ml(n,e);case 6:var r=Nn,s=Qr;Nn=null,Ni(t,e,n),Nn=r,Qr=s,Nn!==null&&(Qr?(t=Nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nn.removeChild(n.stateNode));break;case 18:Nn!==null&&(Qr?(t=Nn,n=n.stateNode,t.nodeType===8?W0(t.parentNode,n):t.nodeType===1&&W0(t,n),Qu(t)):W0(Nn,n.stateNode));break;case 4:r=Nn,s=Qr,Nn=n.stateNode.containerInfo,Qr=!0,Ni(t,e,n),Nn=r,Qr=s;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dy(n,e,o),s=s.next}while(s!==r)}Ni(t,e,n);break;case 1:if(!Hn&&(ml(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qt(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,Ni(t,e,n),Hn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function Qb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GT),e.forEach(function(r){var s=i5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nn=a.stateNode,Qr=!1;break e;case 3:Nn=a.stateNode.containerInfo,Qr=!0;break e;case 4:Nn=a.stateNode.containerInfo,Qr=!0;break e}a=a.return}if(Nn===null)throw Error(ce(160));SN(i,o,s),Nn=null,Qr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Qt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_N(e,t),e=e.sibling}function _N(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(e,t),ms(t),r&4){try{Tu(3,t,t.return),km(3,t)}catch(w){Qt(t,t.return,w)}try{Tu(5,t,t.return)}catch(w){Qt(t,t.return,w)}}break;case 1:Yr(e,t),ms(t),r&512&&n!==null&&ml(n,n.return);break;case 5:if(Yr(e,t),ms(t),r&512&&n!==null&&ml(n,n.return),t.flags&32){var s=t.stateNode;try{Yu(s,"")}catch(w){Qt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vk(s,i),uy(a,o);var c=uy(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Zk(s,h):d==="dangerouslySetInnerHTML"?qk(s,h):d==="children"?Yu(s,h):L1(s,d,h,c)}switch(a){case"input":iy(s,i);break;case"textarea":Kk(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Sl(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Sl(s,!!i.multiple,i.defaultValue,!0):Sl(s,!!i.multiple,i.multiple?[]:"",!1))}s[nd]=i}catch(w){Qt(t,t.return,w)}}break;case 6:if(Yr(e,t),ms(t),r&4){if(t.stateNode===null)throw Error(ce(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Qt(t,t.return,w)}}break;case 3:if(Yr(e,t),ms(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qu(e.containerInfo)}catch(w){Qt(t,t.return,w)}break;case 4:Yr(e,t),ms(t);break;case 13:Yr(e,t),ms(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fw=en())),r&4&&Qb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(c=Hn)||d,Yr(e,t),Hn=c):Yr(e,t),ms(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(h=ye=d;ye!==null;){switch(p=ye,m=p.child,p.tag){case 0:case 11:case 14:case 15:Tu(4,p,p.return);break;case 1:ml(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Qt(r,n,w)}}break;case 5:ml(p,p.return);break;case 22:if(p.memoizedState!==null){Jb(h);continue}}m!==null?(m.return=p,ye=m):Jb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gk("display",o))}catch(w){Qt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Qt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yr(e,t),ms(t),r&4&&Qb(t);break;case 21:break;default:Yr(e,t),ms(t)}}function ms(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bN(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yu(s,""),r.flags&=-33);var i=Zb(t);Wy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zb(t);zy(t,a,o);break;default:throw Error(ce(161))}}catch(l){Qt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QT(t,e,n){ye=t,kN(t)}function kN(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=bh;var c=Hn;if(bh=o,(Hn=l)&&!c)for(ye=s;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?e2(s):l!==null?(l.return=o,ye=l):e2(s);for(;i!==null;)ye=i,kN(i),i=i.sibling;ye=s,bh=a,Hn=c}Xb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):Xb(t)}}function Xb(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||km(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Bb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Hn||e.flags&512&&Oy(e)}catch(p){Qt(e,e.return,p)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Jb(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function e2(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{km(4,e)}catch(l){Qt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Qt(e,s,l)}}var i=e.return;try{Oy(e)}catch(l){Qt(e,i,l)}break;case 5:var o=e.return;try{Oy(e)}catch(l){Qt(e,o,l)}}}catch(l){Qt(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var XT=Math.ceil,_p=_i.ReactCurrentDispatcher,dw=_i.ReactCurrentOwner,Ur=_i.ReactCurrentBatchConfig,Je=0,bn=null,an=null,Cn=0,yr=0,gl=So(0),fn=0,ld=null,ya=0,Em=0,hw=0,Ru=null,or=null,fw=0,Hl=1/0,Xs=null,kp=!1,Fy=null,ao=null,Sh=!1,Yi=null,Ep=0,Lu=0,Uy=null,pf=-1,mf=0;function Xn(){return Je&6?en():pf!==-1?pf:pf=en()}function lo(t){return t.mode&1?Je&2&&Cn!==0?Cn&-Cn:PT.transition!==null?(mf===0&&(mf=lE()),mf):(t=ct,t!==0||(t=window.event,t=t===void 0?16:mE(t.type)),t):1}function is(t,e,n,r){if(50<Lu)throw Lu=0,Uy=null,Error(ce(185));Bd(t,n,r),(!(Je&2)||t!==bn)&&(t===bn&&(!(Je&2)&&(Em|=n),fn===4&&$i(t,Cn)),mr(t,r),n===1&&Je===0&&!(e.mode&1)&&(Hl=en()+500,bm&&_o()))}function mr(t,e){var n=t.callbackNode;PC(t,e);var r=lp(t,t===bn?Cn:0);if(r===0)n!==null&&cb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cb(n),e===1)t.tag===0?LT(t2.bind(null,t)):LE(t2.bind(null,t)),jT(function(){!(Je&6)&&_o()}),n=null;else{switch(cE(r)){case 1:n=z1;break;case 4:n=oE;break;case 16:n=ap;break;case 536870912:n=aE;break;default:n=ap}n=TN(n,EN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EN(t,e){if(pf=-1,mf=0,Je&6)throw Error(ce(327));var n=t.callbackNode;if(Ml()&&t.callbackNode!==n)return null;var r=lp(t,t===bn?Cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Np(t,r);else{e=r;var s=Je;Je|=2;var i=MN();(bn!==t||Cn!==e)&&(Xs=null,Hl=en()+500,aa(t,e));do try{t5();break}catch(a){NN(t,a)}while(!0);X1(),_p.current=i,Je=s,an!==null?e=0:(bn=null,Cn=0,e=fn)}if(e!==0){if(e===2&&(s=my(t),s!==0&&(r=s,e=$y(t,s))),e===1)throw n=ld,aa(t,0),$i(t,r),mr(t,en()),n;if(e===6)$i(t,r);else{if(s=t.current.alternate,!(r&30)&&!JT(s)&&(e=Np(t,r),e===2&&(i=my(t),i!==0&&(r=i,e=$y(t,i))),e===1))throw n=ld,aa(t,0),$i(t,r),mr(t,en()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:To(t,or,Xs);break;case 3:if($i(t,r),(r&130023424)===r&&(e=fw+500-en(),10<e)){if(lp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_y(To.bind(null,t,or,Xs),e);break}To(t,or,Xs);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ss(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XT(r/1960))-r,10<r){t.timeoutHandle=_y(To.bind(null,t,or,Xs),r);break}To(t,or,Xs);break;case 5:To(t,or,Xs);break;default:throw Error(ce(329))}}}return mr(t,en()),t.callbackNode===n?EN.bind(null,t):null}function $y(t,e){var n=Ru;return t.current.memoizedState.isDehydrated&&(aa(t,e).flags|=256),t=Np(t,e),t!==2&&(e=or,or=n,e!==null&&Hy(e)),t}function Hy(t){or===null?or=t:or.push.apply(or,t)}function JT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!us(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~hw,e&=~Em,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function t2(t){if(Je&6)throw Error(ce(327));Ml();var e=lp(t,0);if(!(e&1))return mr(t,en()),null;var n=Np(t,e);if(t.tag!==0&&n===2){var r=my(t);r!==0&&(e=r,n=$y(t,r))}if(n===1)throw n=ld,aa(t,0),$i(t,e),mr(t,en()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,To(t,or,Xs),mr(t,en()),null}function pw(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&(Hl=en()+500,bm&&_o())}}function xa(t){Yi!==null&&Yi.tag===0&&!(Je&6)&&Ml();var e=Je;Je|=1;var n=Ur.transition,r=ct;try{if(Ur.transition=null,ct=1,t)return t()}finally{ct=r,Ur.transition=n,Je=e,!(Je&6)&&_o()}}function mw(){yr=gl.current,St(gl)}function aa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IT(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(G1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fp();break;case 3:Ul(),St(fr),St(Kn),sw();break;case 5:rw(r);break;case 4:Ul();break;case 13:St(jt);break;case 19:St(jt);break;case 10:J1(r.type._context);break;case 22:case 23:mw()}n=n.return}if(bn=t,an=t=co(t.current,null),Cn=yr=e,fn=0,ld=null,hw=Em=ya=0,or=Ru=null,Vo!==null){for(e=0;e<Vo.length;e++)if(n=Vo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vo=null}return t}function NN(t,e){do{var n=an;try{if(X1(),df.current=Sp,bp){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bp=!1}if(ga=0,xn=dn=Tt=null,Cu=!1,id=0,dw.current=null,n===null||n.return===null){fn=1,ld=e,an=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Cn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ub(o);if(m!==null){m.flags&=-257,$b(m,o,a,i,e),m.mode&1&&Fb(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Fb(i,c,e),gw();break e}l=Error(ce(426))}}else if(Nt&&a.mode&1){var b=Ub(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$b(b,o,a,i,e),Z1($l(l,a));break e}}i=l=$l(l,a),fn!==4&&(fn=2),Ru===null?Ru=[i]:Ru.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=cN(i,l,e);Pb(i,g);break e;case 1:a=l;var S=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ao===null||!ao.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var M=uN(i,a,e);Pb(i,M);break e}}i=i.return}while(i!==null)}IN(n)}catch(R){e=R,an===n&&n!==null&&(an=n=n.return);continue}break}while(!0)}function MN(){var t=_p.current;return _p.current=Sp,t===null?Sp:t}function gw(){(fn===0||fn===3||fn===2)&&(fn=4),bn===null||!(ya&268435455)&&!(Em&268435455)||$i(bn,Cn)}function Np(t,e){var n=Je;Je|=2;var r=MN();(bn!==t||Cn!==e)&&(Xs=null,aa(t,e));do try{e5();break}catch(s){NN(t,s)}while(!0);if(X1(),Je=n,_p.current=r,an!==null)throw Error(ce(261));return bn=null,Cn=0,fn}function e5(){for(;an!==null;)AN(an)}function t5(){for(;an!==null&&!NC();)AN(an)}function AN(t){var e=CN(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?IN(t):an=e,dw.current=null}function IN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qT(n,e),n!==null){n.flags&=32767,an=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,an=null;return}}else if(n=YT(n,e,yr),n!==null){an=n;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);fn===0&&(fn=5)}function To(t,e,n){var r=ct,s=Ur.transition;try{Ur.transition=null,ct=1,n5(t,e,n,r)}finally{Ur.transition=s,ct=r}return null}function n5(t,e,n,r){do Ml();while(Yi!==null);if(Je&6)throw Error(ce(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(BC(t,i),t===bn&&(an=bn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sh||(Sh=!0,TN(ap,function(){return Ml(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ur.transition,Ur.transition=null;var o=ct;ct=1;var a=Je;Je|=4,dw.current=null,ZT(t,n),_N(n,t),ST(by),cp=!!vy,by=vy=null,t.current=n,QT(n),MC(),Je=a,ct=o,Ur.transition=i}else t.current=n;if(Sh&&(Sh=!1,Yi=t,Ep=s),i=t.pendingLanes,i===0&&(ao=null),jC(n.stateNode),mr(t,en()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kp)throw kp=!1,t=Fy,Fy=null,t;return Ep&1&&t.tag!==0&&Ml(),i=t.pendingLanes,i&1?t===Uy?Lu++:(Lu=0,Uy=t):Lu=0,_o(),null}function Ml(){if(Yi!==null){var t=cE(Ep),e=Ur.transition,n=ct;try{if(Ur.transition=null,ct=16>t?16:t,Yi===null)var r=!1;else{if(t=Yi,Yi=null,Ep=0,Je&6)throw Error(ce(331));var s=Je;for(Je|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Tu(8,d,i)}var h=d.child;if(h!==null)h.return=d,ye=h;else for(;ye!==null;){d=ye;var p=d.sibling,m=d.return;if(vN(d),d===c){ye=null;break}if(p!==null){p.return=m,ye=p;break}ye=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ye=g;break e}ye=i.return}}var S=t.current;for(ye=S;ye!==null;){o=ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ye=_;else e:for(o=S;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:km(9,a)}}catch(R){Qt(a,a.return,R)}if(a===o){ye=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,ye=M;break e}ye=a.return}}if(Je=s,_o(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(gm,t)}catch{}r=!0}return r}finally{ct=n,Ur.transition=e}}return!1}function n2(t,e,n){e=$l(n,e),e=cN(t,e,1),t=oo(t,e,1),e=Xn(),t!==null&&(Bd(t,1,e),mr(t,e))}function Qt(t,e,n){if(t.tag===3)n2(t,t,n);else for(;e!==null;){if(e.tag===3){n2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=$l(n,t),t=uN(e,t,1),e=oo(e,t,1),t=Xn(),e!==null&&(Bd(e,1,t),mr(e,t));break}}e=e.return}}function r5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xn(),t.pingedLanes|=t.suspendedLanes&n,bn===t&&(Cn&n)===n&&(fn===4||fn===3&&(Cn&130023424)===Cn&&500>en()-fw?aa(t,0):hw|=n),mr(t,e)}function jN(t,e){e===0&&(t.mode&1?(e=hh,hh<<=1,!(hh&130023424)&&(hh=4194304)):e=1);var n=Xn();t=gi(t,e),t!==null&&(Bd(t,e,n),mr(t,n))}function s5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jN(t,n)}function i5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),jN(t,n)}var CN;CN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)ur=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ur=!1,KT(t,e,n);ur=!!(t.flags&131072)}else ur=!1,Nt&&e.flags&1048576&&PE(e,gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ff(t,e),t=e.pendingProps;var s=zl(e,Kn.current);Nl(e,n),s=ow(null,e,r,t,s,n);var i=aw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(i=!0,pp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tw(e),s.updater=_m,e.stateNode=s,s._reactInternals=e,jy(e,r,t,n),e=Ry(null,e,r,!0,i,n)):(e.tag=0,Nt&&i&&q1(e),Zn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ff(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=a5(r),t=Gr(r,t),s){case 0:e=Ty(null,e,r,t,n);break e;case 1:e=Kb(null,e,r,t,n);break e;case 11:e=Hb(null,e,r,t,n);break e;case 14:e=Vb(null,e,r,Gr(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Ty(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Kb(t,e,r,s,n);case 3:e:{if(pN(e),t===null)throw Error(ce(387));r=e.pendingProps,i=e.memoizedState,s=i.element,FE(t,e),wp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$l(Error(ce(423)),e),e=Yb(t,e,r,n,s);break e}else if(r!==s){s=$l(Error(ce(424)),e),e=Yb(t,e,r,n,s);break e}else for(br=io(e.stateNode.containerInfo.firstChild),Sr=e,Nt=!0,Jr=null,n=zE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wl(),r===s){e=yi(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return UE(e),t===null&&My(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Sy(r,s)?o=null:i!==null&&Sy(r,i)&&(e.flags|=32),fN(t,e),Zn(t,e,o,n),e.child;case 6:return t===null&&My(e),null;case 13:return mN(t,e,n);case 4:return nw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fl(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Hb(t,e,r,s,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,gt(yp,r._currentValue),r._currentValue=o,i!==null)if(us(i.value,o)){if(i.children===s.children&&!fr.current){e=yi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ay(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ay(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Nl(e,n),s=Hr(s),r=r(s),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,s=Gr(r,e.pendingProps),s=Gr(r.type,s),Vb(t,e,r,s,n);case 15:return dN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),ff(t,e),e.tag=1,pr(r)?(t=!0,pp(e)):t=!1,Nl(e,n),lN(e,r,s),jy(e,r,s,n),Ry(null,e,r,!0,t,n);case 19:return gN(t,e,n);case 22:return hN(t,e,n)}throw Error(ce(156,e.tag))};function TN(t,e){return iE(t,e)}function o5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(t,e,n,r){return new o5(t,e,n,r)}function yw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a5(t){if(typeof t=="function")return yw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B1)return 11;if(t===D1)return 14}return 2}function co(t,e){var n=t.alternate;return n===null?(n=Or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")yw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ol:return la(n.children,s,i,e);case P1:o=8,s|=8;break;case ey:return t=Or(12,n,e,s|2),t.elementType=ey,t.lanes=i,t;case ty:return t=Or(13,n,e,s),t.elementType=ty,t.lanes=i,t;case ny:return t=Or(19,n,e,s),t.elementType=ny,t.lanes=i,t;case Uk:return Nm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wk:o=10;break e;case Fk:o=9;break e;case B1:o=11;break e;case D1:o=14;break e;case Di:o=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Or(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function la(t,e,n,r){return t=Or(7,t,r,e),t.lanes=n,t}function Nm(t,e,n,r){return t=Or(22,t,r,e),t.elementType=Uk,t.lanes=n,t.stateNode={isHidden:!1},t}function q0(t,e,n){return t=Or(6,t,null,e),t.lanes=n,t}function G0(t,e,n){return e=Or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xw(t,e,n,r,s,i,o,a,l){return t=new l5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Or(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tw(i),t}function c5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RN(t){if(!t)return yo;t=t._reactInternals;e:{if(Ma(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(pr(n))return RE(t,n,e)}return e}function LN(t,e,n,r,s,i,o,a,l){return t=xw(n,r,!0,t,s,i,o,a,l),t.context=RN(null),n=t.current,r=Xn(),s=lo(n),i=hi(r,s),i.callback=e??null,oo(n,i,s),t.current.lanes=s,Bd(t,s,r),mr(t,r),t}function Mm(t,e,n,r){var s=e.current,i=Xn(),o=lo(s);return n=RN(n),e.context===null?e.context=n:e.pendingContext=n,e=hi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(s,e,o),t!==null&&(is(t,s,o,i),uf(t,s,o)),o}function Mp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ww(t,e){r2(t,e),(t=t.alternate)&&r2(t,e)}function u5(){return null}var PN=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}Am.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Mm(t,e,null,null)};Am.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xa(function(){Mm(null,t,null,null)}),e[mi]=null}};function Am(t){this._internalRoot=t}Am.prototype.unstable_scheduleHydration=function(t){if(t){var e=hE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&pE(t)}};function bw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s2(){}function d5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Mp(o);i.call(c)}}var o=LN(e,r,t,0,null,!1,!1,"",s2);return t._reactRootContainer=o,t[mi]=o.current,ed(t.nodeType===8?t.parentNode:t),xa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Mp(l);a.call(c)}}var l=xw(t,0,!1,null,null,!1,!1,"",s2);return t._reactRootContainer=l,t[mi]=l.current,ed(t.nodeType===8?t.parentNode:t),xa(function(){Mm(e,l,n,r)}),l}function jm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mp(o);a.call(l)}}Mm(e,o,t,s)}else o=d5(n,e,t,s,r);return Mp(o)}uE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=au(e.pendingLanes);n!==0&&(W1(e,n|1),mr(e,en()),!(Je&6)&&(Hl=en()+500,_o()))}break;case 13:xa(function(){var r=gi(t,1);if(r!==null){var s=Xn();is(r,t,1,s)}}),ww(t,1)}};F1=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Xn();is(e,t,134217728,n)}ww(t,134217728)}};dE=function(t){if(t.tag===13){var e=lo(t),n=gi(t,e);if(n!==null){var r=Xn();is(n,t,e,r)}ww(t,e)}};hE=function(){return ct};fE=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};hy=function(t,e,n){switch(e){case"input":if(iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vm(r);if(!s)throw Error(ce(90));Hk(r),iy(r,s)}}}break;case"textarea":Kk(t,n);break;case"select":e=n.value,e!=null&&Sl(t,!!n.multiple,e,!1)}};Jk=pw;eE=xa;var h5={usingClientEntryPoint:!1,Events:[Od,ul,vm,Qk,Xk,pw]},Vc={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f5={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rE(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||u5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{gm=_h.inject(f5),Ts=_h}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h5;Mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bw(e))throw Error(ce(200));return c5(t,e,null,n)};Mr.createRoot=function(t,e){if(!bw(t))throw Error(ce(299));var n=!1,r="",s=PN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xw(t,1,!1,null,null,n,!1,r,s),t[mi]=e.current,ed(t.nodeType===8?t.parentNode:t),new vw(e)};Mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=rE(e),t=t===null?null:t.stateNode,t};Mr.flushSync=function(t){return xa(t)};Mr.hydrate=function(t,e,n){if(!Im(e))throw Error(ce(200));return jm(null,t,e,!0,n)};Mr.hydrateRoot=function(t,e,n){if(!bw(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=PN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LN(e,null,t,1,n??null,s,!1,i,o),t[mi]=e.current,ed(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Am(e)};Mr.render=function(t,e,n){if(!Im(e))throw Error(ce(200));return jm(null,t,e,!1,n)};Mr.unmountComponentAtNode=function(t){if(!Im(t))throw Error(ce(40));return t._reactRootContainer?(xa(function(){jm(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Mr.unstable_batchedUpdates=pw;Mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return jm(t,e,n,!1,r)};Mr.version="18.3.1-next-f1338f8080-20240426";function BN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BN)}catch(t){console.error(t)}}BN(),Bk.exports=Mr;var DN=Bk.exports,i2=DN;Xg.createRoot=i2.createRoot,Xg.hydrateRoot=i2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const o2="popstate";function p5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Vy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ap(s)}return g5(e,n,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ON(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m5(){return Math.random().toString(36).substr(2,8)}function a2(t,e){return{usr:t.state,key:t.key,idx:e}}function Vy(t,e,n,r){return n===void 0&&(n=null),cd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mc(e):e,{state:n,key:e&&e.key||r||m5()})}function Ap(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(cd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=qi.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:g})}function p(b,g){a=qi.Push;let S=Vy(w.location,b,g);c=d()+1;let _=a2(S,c),M=w.createHref(S);try{o.pushState(_,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(M)}i&&l&&l({action:a,location:w.location,delta:1})}function m(b,g){a=qi.Replace;let S=Vy(w.location,b,g);c=d();let _=a2(S,c),M=w.createHref(S);o.replaceState(_,"",M),i&&l&&l({action:a,location:w.location,delta:0})}function y(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof b=="string"?b:Ap(b);return S=S.replace(/ $/,"%20"),rn(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let w={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(o2,h),l=b,()=>{s.removeEventListener(o2,h),l=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(b){return o.go(b)}};return w}var l2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(l2||(l2={}));function y5(t,e,n){return n===void 0&&(n="/"),x5(t,e,n)}function x5(t,e,n,r){let s=typeof e=="string"?mc(e):e,i=Sw(s.pathname||"/",n);if(i==null)return null;let o=zN(t);w5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=C5(i);a=A5(o[l],c)}return a}function zN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(rn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=uo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zN(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:N5(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of WN(i.path))s(i,o,l)}),e}function WN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=WN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function w5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:M5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v5=/^:[\w-]+$/,b5=3,S5=2,_5=1,k5=10,E5=-2,c2=t=>t==="*";function N5(t,e){let n=t.split("/"),r=n.length;return n.some(c2)&&(r+=E5),e&&(r+=S5),n.filter(s=>!c2(s)).reduce((s,i)=>s+(v5.test(i)?b5:i===""?_5:k5),r)}function M5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function A5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=I5({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:uo([i,h.pathname]),pathnameBase:P5(uo([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=uo([i,h.pathnameBase]))}return o}function I5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function j5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ON(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function C5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ON(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function T5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?mc(t):t;return{pathname:n?n.startsWith("/")?n:R5(n,e):e,search:B5(r),hash:D5(s)}}function R5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Z0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _w(t,e){let n=L5(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=mc(t):(s=cd({},t),rn(!s.pathname||!s.pathname.includes("?"),Z0("?","pathname","search",s)),rn(!s.pathname||!s.pathname.includes("#"),Z0("#","pathname","hash",s)),rn(!s.search||!s.search.includes("#"),Z0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=T5(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),P5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FN=["post","put","patch","delete"];new Set(FN);const z5=["get",...FN];new Set(z5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}const Ew=z.createContext(null),W5=z.createContext(null),ko=z.createContext(null),Cm=z.createContext(null),ki=z.createContext({outlet:null,matches:[],isDataRoute:!1}),UN=z.createContext(null);function F5(t,e){let{relative:n}=e===void 0?{}:e;gc()||rn(!1);let{basename:r,navigator:s}=z.useContext(ko),{hash:i,pathname:o,search:a}=VN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:uo([r,o])),s.createHref({pathname:l,search:a,hash:i})}function gc(){return z.useContext(Cm)!=null}function yc(){return gc()||rn(!1),z.useContext(Cm).location}function $N(t){z.useContext(ko).static||z.useLayoutEffect(t)}function HN(){let{isDataRoute:t}=z.useContext(ki);return t?t6():U5()}function U5(){gc()||rn(!1);let t=z.useContext(Ew),{basename:e,future:n,navigator:r}=z.useContext(ko),{matches:s}=z.useContext(ki),{pathname:i}=yc(),o=JSON.stringify(_w(s,n.v7_relativeSplatPath)),a=z.useRef(!1);return $N(()=>{a.current=!0}),z.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=kw(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:uo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function $5(){let{matches:t}=z.useContext(ki),e=t[t.length-1];return e?e.params:{}}function VN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(ko),{matches:s}=z.useContext(ki),{pathname:i}=yc(),o=JSON.stringify(_w(s,r.v7_relativeSplatPath));return z.useMemo(()=>kw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function H5(t,e){return V5(t,e)}function V5(t,e,n,r){gc()||rn(!1);let{navigator:s}=z.useContext(ko),{matches:i}=z.useContext(ki),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yc(),d;if(e){var h;let b=typeof e=="string"?mc(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||rn(!1),d=b}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=y5(t,{pathname:m}),w=Z5(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:uo([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:uo([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&w?z.createElement(Cm.Provider,{value:{location:ud({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qi.Pop}},w):w}function K5(){let t=e6(),e=O5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:s},n):null,null)}const Y5=z.createElement(K5,null);class q5 extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(ki.Provider,{value:this.props.routeContext},z.createElement(UN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G5(t){let{routeContext:e,match:n,children:r}=t,s=z.useContext(Ew);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(ki.Provider,{value:e},r)}function Z5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||rn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,y=!1,w=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Y5,l&&(c<0&&p===0?(n6("route-fallback"),y=!0,b=null):c===p&&(y=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),S=()=>{let _;return m?_=w:y?_=b:h.route.Component?_=z.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,z.createElement(G5,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?z.createElement(q5,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}var KN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KN||{}),YN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(YN||{});function Q5(t){let e=z.useContext(Ew);return e||rn(!1),e}function X5(t){let e=z.useContext(W5);return e||rn(!1),e}function J5(t){let e=z.useContext(ki);return e||rn(!1),e}function qN(t){let e=J5(),n=e.matches[e.matches.length-1];return n.route.id||rn(!1),n.route.id}function e6(){var t;let e=z.useContext(UN),n=X5(),r=qN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t6(){let{router:t}=Q5(KN.UseNavigateStable),e=qN(YN.UseNavigateStable),n=z.useRef(!1);return $N(()=>{n.current=!0}),z.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ud({fromRouteId:e},i)))},[t,e])}const u2={};function n6(t,e,n){u2[t]||(u2[t]=!0)}function r6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function s6(t){let{to:e,replace:n,state:r,relative:s}=t;gc()||rn(!1);let{future:i,static:o}=z.useContext(ko),{matches:a}=z.useContext(ki),{pathname:l}=yc(),c=HN(),d=kw(e,_w(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return z.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Tr(t){rn(!1)}function i6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=qi.Pop,navigator:i,static:o=!1,future:a}=t;gc()&&rn(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:i,static:o,future:ud({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=mc(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,w=z.useMemo(()=>{let b=Sw(d,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:y},navigationType:s}},[l,d,h,p,m,y,s]);return w==null?null:z.createElement(ko.Provider,{value:c},z.createElement(Cm.Provider,{children:n,value:w}))}function o6(t){let{children:e,location:n}=t;return H5(Ky(e),n)}new Promise(()=>{});function Ky(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,s)=>{if(!z.isValidElement(r))return;let i=[...e,s];if(r.type===z.Fragment){n.push.apply(n,Ky(r.props.children,i));return}r.type!==Tr&&rn(!1),!r.props.index||!r.props.children||rn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ky(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(this,arguments)}function a6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function l6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c6(t,e){return t.button===0&&(!e||e==="_self")&&!l6(t)}const u6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d6="6";try{window.__reactRouterVersion=d6}catch{}const h6="startTransition",d2=rC[h6];function f6(t){let{basename:e,children:n,future:r,window:s}=t,i=z.useRef();i.current==null&&(i.current=p5({window:s,v5Compat:!0}));let o=i.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=z.useCallback(h=>{c&&d2?d2(()=>l(h)):l(h)},[l,c]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.useEffect(()=>r6(r),[r]),z.createElement(i6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const p6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=z.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=a6(e,u6),{basename:m}=z.useContext(ko),y,w=!1;if(typeof c=="string"&&m6.test(c)&&(y=c,p6))try{let _=new URL(window.location.href),M=c.startsWith("//")?new URL(_.protocol+c):new URL(c),R=Sw(M.pathname,m);M.origin===_.origin&&R!=null?c=R+M.search+M.hash:w=!0}catch{}let b=F5(c,{relative:s}),g=g6(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function S(_){r&&r(_),_.defaultPrevented||g(_)}return z.createElement("a",Yy({},p,{href:y||b,onClick:w||i?r:S,ref:n,target:l}))});var h2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h2||(h2={}));var f2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f2||(f2={}));function g6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=HN(),c=yc(),d=VN(t,{relative:o});return z.useCallback(h=>{if(c6(h,n)){h.preventDefault();let p=r!==void 0?r:Ap(c)===Ap(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const y6=z.createContext(void 0),x6=({children:t})=>{const[e,n]=z.useState("#6D8FC7");return z.useEffect(()=>{document.documentElement.style.setProperty("--cyphr-teal",e);const r="#29589F",s=document.createElement("style");s.textContent=`
      :root {
        --cyphr-teal: ${e} !important;
        --cyphr-teal-gradient: ${r} !important;
      }
      
      .text-cyphr-teal {
        color: ${e} !important;
      }
      
      .bg-cyphr-teal {
        background-color: ${e} !important;
      }
      
      .bg-cyphr-teal-gradient {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .border-cyphr-teal {
        border-color: ${e} !important;
      }
      
      .hover\\:text-cyphr-teal:hover {
        color: ${e} !important;
      }
      
      .hover\\:border-cyphr-teal:hover {
        border-color: ${e} !important;
      }
      
      .focus\\:border-cyphr-teal:focus {
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .ios-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .ios-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .elite-button-primary {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.3) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.2) 100%) !important;
        border-color: ${e} !important;
      }
      
      .elite-button-primary:hover {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.4) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.3) 100%) !important;
        border-color: ${e} !important;
      }
    `;const i=document.getElementById("dynamic-accent-color");i&&i.remove(),s.id="dynamic-accent-color",document.head.appendChild(s)},[e]),u.jsx(y6.Provider,{value:{accentColor:e,setAccentColor:n},children:t})};var Ae={},Tm={};Tm.byteLength=b6;Tm.toByteArray=_6;Tm.fromByteArray=N6;var Es=[],Rr=[],w6=typeof Uint8Array<"u"?Uint8Array:Array,Q0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oa=0,v6=Q0.length;Oa<v6;++Oa)Es[Oa]=Q0[Oa],Rr[Q0.charCodeAt(Oa)]=Oa;Rr[45]=62;Rr[95]=63;function GN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function b6(t){var e=GN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function S6(t,e,n){return(e+n)*3/4-n}function _6(t){var e,n=GN(t),r=n[0],s=n[1],i=new w6(S6(t,r,s)),o=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=Rr[t.charCodeAt(l)]<<18|Rr[t.charCodeAt(l+1)]<<12|Rr[t.charCodeAt(l+2)]<<6|Rr[t.charCodeAt(l+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=Rr[t.charCodeAt(l)]<<2|Rr[t.charCodeAt(l+1)]>>4,i[o++]=e&255),s===1&&(e=Rr[t.charCodeAt(l)]<<10|Rr[t.charCodeAt(l+1)]<<4|Rr[t.charCodeAt(l+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function k6(t){return Es[t>>18&63]+Es[t>>12&63]+Es[t>>6&63]+Es[t&63]}function E6(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(k6(r));return s.join("")}function N6(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(E6(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(Es[e>>2]+Es[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Es[e>>10]+Es[e>>4&63]+Es[e<<2&63]+"=")),s.join("")}var Nw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Nw.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,h=n?s-1:0,p=n?-1:1,m=t[e+h];for(h+=p,i=m&(1<<-d)-1,m>>=-d,d+=a;d>0;i=i*256+t[e+h],h+=p,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=r;d>0;o=o*256+t[e+h],h+=p,d-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-c}return(m?-1:1)*o*Math.pow(2,i-r)};Nw.write=function(t,e,n,r,s,i){var o,a,l,c=i*8-s-1,d=(1<<c)-1,h=d>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,y=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*l-1)*Math.pow(2,s),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=y,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+m]=o&255,m+=y,o/=256,c-=8);t[n+m-y]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Tm,n=Nw,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const O=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(O,E),O.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(O){if(O>s)throw new RangeError('The value "'+O+'" is invalid for option "size"');const E=new Uint8Array(O);return Object.setPrototypeOf(E,a.prototype),E}function a(O,E,N){if(typeof O=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(O)}return l(O,E,N)}a.poolSize=8192;function l(O,E,N){if(typeof O=="string")return p(O,E);if(ArrayBuffer.isView(O))return y(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(_t(O,ArrayBuffer)||O&&_t(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_t(O,SharedArrayBuffer)||O&&_t(O.buffer,SharedArrayBuffer)))return w(O,E,N);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=O.valueOf&&O.valueOf();if(U!=null&&U!==O)return a.from(U,E,N);const Y=b(O);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return a.from(O[Symbol.toPrimitive]("string"),E,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}a.from=function(O,E,N){return l(O,E,N)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function d(O,E,N){return c(O),O<=0?o(O):E!==void 0?typeof N=="string"?o(O).fill(E,N):o(O).fill(E):o(O)}a.alloc=function(O,E,N){return d(O,E,N)};function h(O){return c(O),o(O<0?0:g(O)|0)}a.allocUnsafe=function(O){return h(O)},a.allocUnsafeSlow=function(O){return h(O)};function p(O,E){if((typeof E!="string"||E==="")&&(E="utf8"),!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const N=_(O,E)|0;let U=o(N);const Y=U.write(O,E);return Y!==N&&(U=U.slice(0,Y)),U}function m(O){const E=O.length<0?0:g(O.length)|0,N=o(E);for(let U=0;U<E;U+=1)N[U]=O[U]&255;return N}function y(O){if(_t(O,Uint8Array)){const E=new Uint8Array(O);return w(E.buffer,E.byteOffset,E.byteLength)}return m(O)}function w(O,E,N){if(E<0||O.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<E+(N||0))throw new RangeError('"length" is outside of buffer bounds');let U;return E===void 0&&N===void 0?U=new Uint8Array(O):N===void 0?U=new Uint8Array(O,E):U=new Uint8Array(O,E,N),Object.setPrototypeOf(U,a.prototype),U}function b(O){if(a.isBuffer(O)){const E=g(O.length)|0,N=o(E);return N.length===0||O.copy(N,0,0,E),N}if(O.length!==void 0)return typeof O.length!="number"||Be(O.length)?o(0):m(O);if(O.type==="Buffer"&&Array.isArray(O.data))return m(O.data)}function g(O){if(O>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return O|0}function S(O){return+O!=O&&(O=0),a.alloc(+O)}a.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==a.prototype},a.compare=function(E,N){if(_t(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),_t(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(E)||!a.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;let U=E.length,Y=N.length;for(let G=0,te=Math.min(U,Y);G<te;++G)if(E[G]!==N[G]){U=E[G],Y=N[G];break}return U<Y?-1:Y<U?1:0},a.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return a.alloc(0);let U;if(N===void 0)for(N=0,U=0;U<E.length;++U)N+=E[U].length;const Y=a.allocUnsafe(N);let G=0;for(U=0;U<E.length;++U){let te=E[U];if(_t(te,Uint8Array))G+te.length>Y.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(Y,G)):Uint8Array.prototype.set.call(Y,te,G);else if(a.isBuffer(te))te.copy(Y,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=te.length}return Y};function _(O,E){if(a.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||_t(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const N=O.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&N===0)return 0;let Y=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return fe(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return Pe(O).length;default:if(Y)return U?-1:fe(O).length;E=(""+E).toLowerCase(),Y=!0}}a.byteLength=_;function M(O,E,N){let U=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,E>>>=0,N<=E))return"";for(O||(O="utf8");;)switch(O){case"hex":return j(this,E,N);case"utf8":case"utf-8":return f(this,E,N);case"ascii":return I(this,E,N);case"latin1":case"binary":return C(this,E,N);case"base64":return A(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,E,N);default:if(U)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),U=!0}}a.prototype._isBuffer=!0;function R(O,E,N){const U=O[E];O[E]=O[N],O[N]=U}a.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<E;N+=2)R(this,N,N+1);return this},a.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<E;N+=4)R(this,N,N+3),R(this,N+1,N+2);return this},a.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<E;N+=8)R(this,N,N+7),R(this,N+1,N+6),R(this,N+2,N+5),R(this,N+3,N+4);return this},a.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?f(this,0,E):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(E){if(!a.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:a.compare(this,E)===0},a.prototype.inspect=function(){let E="";const N=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(E,N,U,Y,G){if(_t(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(N===void 0&&(N=0),U===void 0&&(U=E?E.length:0),Y===void 0&&(Y=0),G===void 0&&(G=this.length),N<0||U>E.length||Y<0||G>this.length)throw new RangeError("out of range index");if(Y>=G&&N>=U)return 0;if(Y>=G)return-1;if(N>=U)return 1;if(N>>>=0,U>>>=0,Y>>>=0,G>>>=0,this===E)return 0;let te=G-Y,Re=U-N;const je=Math.min(te,Re),Ee=this.slice(Y,G),He=E.slice(N,U);for(let Ne=0;Ne<je;++Ne)if(Ee[Ne]!==He[Ne]){te=Ee[Ne],Re=He[Ne];break}return te<Re?-1:Re<te?1:0};function W(O,E,N,U,Y){if(O.length===0)return-1;if(typeof N=="string"?(U=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Be(N)&&(N=Y?0:O.length-1),N<0&&(N=O.length+N),N>=O.length){if(Y)return-1;N=O.length-1}else if(N<0)if(Y)N=0;else return-1;if(typeof E=="string"&&(E=a.from(E,U)),a.isBuffer(E))return E.length===0?-1:D(O,E,N,U,Y);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(O,E,N):Uint8Array.prototype.lastIndexOf.call(O,E,N):D(O,[E],N,U,Y);throw new TypeError("val must be string, number or Buffer")}function D(O,E,N,U,Y){let G=1,te=O.length,Re=E.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(O.length<2||E.length<2)return-1;G=2,te/=2,Re/=2,N/=2}function je(He,Ne){return G===1?He[Ne]:He.readUInt16BE(Ne*G)}let Ee;if(Y){let He=-1;for(Ee=N;Ee<te;Ee++)if(je(O,Ee)===je(E,He===-1?0:Ee-He)){if(He===-1&&(He=Ee),Ee-He+1===Re)return He*G}else He!==-1&&(Ee-=Ee-He),He=-1}else for(N+Re>te&&(N=te-Re),Ee=N;Ee>=0;Ee--){let He=!0;for(let Ne=0;Ne<Re;Ne++)if(je(O,Ee+Ne)!==je(E,Ne)){He=!1;break}if(He)return Ee}return-1}a.prototype.includes=function(E,N,U){return this.indexOf(E,N,U)!==-1},a.prototype.indexOf=function(E,N,U){return W(this,E,N,U,!0)},a.prototype.lastIndexOf=function(E,N,U){return W(this,E,N,U,!1)};function L(O,E,N,U){N=Number(N)||0;const Y=O.length-N;U?(U=Number(U),U>Y&&(U=Y)):U=Y;const G=E.length;U>G/2&&(U=G/2);let te;for(te=0;te<U;++te){const Re=parseInt(E.substr(te*2,2),16);if(Be(Re))return te;O[N+te]=Re}return te}function F(O,E,N,U){return Ke(fe(E,O.length-N),O,N,U)}function $(O,E,N,U){return Ke(ae(E),O,N,U)}function H(O,E,N,U){return Ke(Pe(E),O,N,U)}function K(O,E,N,U){return Ke(dt(E,O.length-N),O,N,U)}a.prototype.write=function(E,N,U,Y){if(N===void 0)Y="utf8",U=this.length,N=0;else if(U===void 0&&typeof N=="string")Y=N,U=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(U)?(U=U>>>0,Y===void 0&&(Y="utf8")):(Y=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-N;if((U===void 0||U>G)&&(U=G),E.length>0&&(U<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let te=!1;for(;;)switch(Y){case"hex":return L(this,E,N,U);case"utf8":case"utf-8":return F(this,E,N,U);case"ascii":case"latin1":case"binary":return $(this,E,N,U);case"base64":return H(this,E,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,E,N,U);default:if(te)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(O,E,N){return E===0&&N===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(E,N))}function f(O,E,N){N=Math.min(O.length,N);const U=[];let Y=E;for(;Y<N;){const G=O[Y];let te=null,Re=G>239?4:G>223?3:G>191?2:1;if(Y+Re<=N){let je,Ee,He,Ne;switch(Re){case 1:G<128&&(te=G);break;case 2:je=O[Y+1],(je&192)===128&&(Ne=(G&31)<<6|je&63,Ne>127&&(te=Ne));break;case 3:je=O[Y+1],Ee=O[Y+2],(je&192)===128&&(Ee&192)===128&&(Ne=(G&15)<<12|(je&63)<<6|Ee&63,Ne>2047&&(Ne<55296||Ne>57343)&&(te=Ne));break;case 4:je=O[Y+1],Ee=O[Y+2],He=O[Y+3],(je&192)===128&&(Ee&192)===128&&(He&192)===128&&(Ne=(G&15)<<18|(je&63)<<12|(Ee&63)<<6|He&63,Ne>65535&&Ne<1114112&&(te=Ne))}}te===null?(te=65533,Re=1):te>65535&&(te-=65536,U.push(te>>>10&1023|55296),te=56320|te&1023),U.push(te),Y+=Re}return k(U)}const x=4096;function k(O){const E=O.length;if(E<=x)return String.fromCharCode.apply(String,O);let N="",U=0;for(;U<E;)N+=String.fromCharCode.apply(String,O.slice(U,U+=x));return N}function I(O,E,N){let U="";N=Math.min(O.length,N);for(let Y=E;Y<N;++Y)U+=String.fromCharCode(O[Y]&127);return U}function C(O,E,N){let U="";N=Math.min(O.length,N);for(let Y=E;Y<N;++Y)U+=String.fromCharCode(O[Y]);return U}function j(O,E,N){const U=O.length;(!E||E<0)&&(E=0),(!N||N<0||N>U)&&(N=U);let Y="";for(let G=E;G<N;++G)Y+=$e[O[G]];return Y}function P(O,E,N){const U=O.slice(E,N);let Y="";for(let G=0;G<U.length-1;G+=2)Y+=String.fromCharCode(U[G]+U[G+1]*256);return Y}a.prototype.slice=function(E,N){const U=this.length;E=~~E,N=N===void 0?U:~~N,E<0?(E+=U,E<0&&(E=0)):E>U&&(E=U),N<0?(N+=U,N<0&&(N=0)):N>U&&(N=U),N<E&&(N=E);const Y=this.subarray(E,N);return Object.setPrototypeOf(Y,a.prototype),Y};function T(O,E,N){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+E>N)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(E,N,U){E=E>>>0,N=N>>>0,U||T(E,N,this.length);let Y=this[E],G=1,te=0;for(;++te<N&&(G*=256);)Y+=this[E+te]*G;return Y},a.prototype.readUintBE=a.prototype.readUIntBE=function(E,N,U){E=E>>>0,N=N>>>0,U||T(E,N,this.length);let Y=this[E+--N],G=1;for(;N>0&&(G*=256);)Y+=this[E+--N]*G;return Y},a.prototype.readUint8=a.prototype.readUInt8=function(E,N){return E=E>>>0,N||T(E,1,this.length),this[E]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(E,N){return E=E>>>0,N||T(E,2,this.length),this[E]|this[E+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(E,N){return E=E>>>0,N||T(E,2,this.length),this[E]<<8|this[E+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(E,N){return E=E>>>0,N||T(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(E,N){return E=E>>>0,N||T(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},a.prototype.readBigUInt64LE=qe(function(E){E=E>>>0,Ve(E,"offset");const N=this[E],U=this[E+7];(N===void 0||U===void 0)&&Te(E,this.length-8);const Y=N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,G=this[++E]+this[++E]*2**8+this[++E]*2**16+U*2**24;return BigInt(Y)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=qe(function(E){E=E>>>0,Ve(E,"offset");const N=this[E],U=this[E+7];(N===void 0||U===void 0)&&Te(E,this.length-8);const Y=N*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],G=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+U;return(BigInt(Y)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(E,N,U){E=E>>>0,N=N>>>0,U||T(E,N,this.length);let Y=this[E],G=1,te=0;for(;++te<N&&(G*=256);)Y+=this[E+te]*G;return G*=128,Y>=G&&(Y-=Math.pow(2,8*N)),Y},a.prototype.readIntBE=function(E,N,U){E=E>>>0,N=N>>>0,U||T(E,N,this.length);let Y=N,G=1,te=this[E+--Y];for(;Y>0&&(G*=256);)te+=this[E+--Y]*G;return G*=128,te>=G&&(te-=Math.pow(2,8*N)),te},a.prototype.readInt8=function(E,N){return E=E>>>0,N||T(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},a.prototype.readInt16LE=function(E,N){E=E>>>0,N||T(E,2,this.length);const U=this[E]|this[E+1]<<8;return U&32768?U|4294901760:U},a.prototype.readInt16BE=function(E,N){E=E>>>0,N||T(E,2,this.length);const U=this[E+1]|this[E]<<8;return U&32768?U|4294901760:U},a.prototype.readInt32LE=function(E,N){return E=E>>>0,N||T(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},a.prototype.readInt32BE=function(E,N){return E=E>>>0,N||T(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},a.prototype.readBigInt64LE=qe(function(E){E=E>>>0,Ve(E,"offset");const N=this[E],U=this[E+7];(N===void 0||U===void 0)&&Te(E,this.length-8);const Y=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(U<<24);return(BigInt(Y)<<BigInt(32))+BigInt(N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),a.prototype.readBigInt64BE=qe(function(E){E=E>>>0,Ve(E,"offset");const N=this[E],U=this[E+7];(N===void 0||U===void 0)&&Te(E,this.length-8);const Y=(N<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(Y)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+U)}),a.prototype.readFloatLE=function(E,N){return E=E>>>0,N||T(E,4,this.length),n.read(this,E,!0,23,4)},a.prototype.readFloatBE=function(E,N){return E=E>>>0,N||T(E,4,this.length),n.read(this,E,!1,23,4)},a.prototype.readDoubleLE=function(E,N){return E=E>>>0,N||T(E,8,this.length),n.read(this,E,!0,52,8)},a.prototype.readDoubleBE=function(E,N){return E=E>>>0,N||T(E,8,this.length),n.read(this,E,!1,52,8)};function v(O,E,N,U,Y,G){if(!a.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>Y||E<G)throw new RangeError('"value" argument is out of bounds');if(N+U>O.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(E,N,U,Y){if(E=+E,N=N>>>0,U=U>>>0,!Y){const Re=Math.pow(2,8*U)-1;v(this,E,N,U,Re,0)}let G=1,te=0;for(this[N]=E&255;++te<U&&(G*=256);)this[N+te]=E/G&255;return N+U},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(E,N,U,Y){if(E=+E,N=N>>>0,U=U>>>0,!Y){const Re=Math.pow(2,8*U)-1;v(this,E,N,U,Re,0)}let G=U-1,te=1;for(this[N+G]=E&255;--G>=0&&(te*=256);)this[N+G]=E/te&255;return N+U},a.prototype.writeUint8=a.prototype.writeUInt8=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,1,255,0),this[N]=E&255,N+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,2,65535,0),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=E&255,N+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4};function B(O,E,N,U,Y){be(E,U,Y,O,N,7);let G=Number(E&BigInt(4294967295));O[N++]=G,G=G>>8,O[N++]=G,G=G>>8,O[N++]=G,G=G>>8,O[N++]=G;let te=Number(E>>BigInt(32)&BigInt(4294967295));return O[N++]=te,te=te>>8,O[N++]=te,te=te>>8,O[N++]=te,te=te>>8,O[N++]=te,N}function Q(O,E,N,U,Y){be(E,U,Y,O,N,7);let G=Number(E&BigInt(4294967295));O[N+7]=G,G=G>>8,O[N+6]=G,G=G>>8,O[N+5]=G,G=G>>8,O[N+4]=G;let te=Number(E>>BigInt(32)&BigInt(4294967295));return O[N+3]=te,te=te>>8,O[N+2]=te,te=te>>8,O[N+1]=te,te=te>>8,O[N]=te,N+8}a.prototype.writeBigUInt64LE=qe(function(E,N=0){return B(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=qe(function(E,N=0){return Q(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(E,N,U,Y){if(E=+E,N=N>>>0,!Y){const je=Math.pow(2,8*U-1);v(this,E,N,U,je-1,-je)}let G=0,te=1,Re=0;for(this[N]=E&255;++G<U&&(te*=256);)E<0&&Re===0&&this[N+G-1]!==0&&(Re=1),this[N+G]=(E/te>>0)-Re&255;return N+U},a.prototype.writeIntBE=function(E,N,U,Y){if(E=+E,N=N>>>0,!Y){const je=Math.pow(2,8*U-1);v(this,E,N,U,je-1,-je)}let G=U-1,te=1,Re=0;for(this[N+G]=E&255;--G>=0&&(te*=256);)E<0&&Re===0&&this[N+G+1]!==0&&(Re=1),this[N+G]=(E/te>>0)-Re&255;return N+U},a.prototype.writeInt8=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=E&255,N+1},a.prototype.writeInt16LE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,2,32767,-32768),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeInt16BE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeInt32LE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,4,2147483647,-2147483648),this[N]=E&255,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},a.prototype.writeInt32BE=function(E,N,U){return E=+E,N=N>>>0,U||v(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4},a.prototype.writeBigInt64LE=qe(function(E,N=0){return B(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=qe(function(E,N=0){return Q(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(O,E,N,U,Y,G){if(N+U>O.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function ne(O,E,N,U,Y){return E=+E,N=N>>>0,Y||Z(O,E,N,4),n.write(O,E,N,U,23,4),N+4}a.prototype.writeFloatLE=function(E,N,U){return ne(this,E,N,!0,U)},a.prototype.writeFloatBE=function(E,N,U){return ne(this,E,N,!1,U)};function J(O,E,N,U,Y){return E=+E,N=N>>>0,Y||Z(O,E,N,8),n.write(O,E,N,U,52,8),N+8}a.prototype.writeDoubleLE=function(E,N,U){return J(this,E,N,!0,U)},a.prototype.writeDoubleBE=function(E,N,U){return J(this,E,N,!1,U)},a.prototype.copy=function(E,N,U,Y){if(!a.isBuffer(E))throw new TypeError("argument should be a Buffer");if(U||(U=0),!Y&&Y!==0&&(Y=this.length),N>=E.length&&(N=E.length),N||(N=0),Y>0&&Y<U&&(Y=U),Y===U||E.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),E.length-N<Y-U&&(Y=E.length-N+U);const G=Y-U;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,U,Y):Uint8Array.prototype.set.call(E,this.subarray(U,Y),N),G},a.prototype.fill=function(E,N,U,Y){if(typeof E=="string"){if(typeof N=="string"?(Y=N,N=0,U=this.length):typeof U=="string"&&(Y=U,U=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(E.length===1){const te=E.charCodeAt(0);(Y==="utf8"&&te<128||Y==="latin1")&&(E=te)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(N<0||this.length<N||this.length<U)throw new RangeError("Out of range index");if(U<=N)return this;N=N>>>0,U=U===void 0?this.length:U>>>0,E||(E=0);let G;if(typeof E=="number")for(G=N;G<U;++G)this[G]=E;else{const te=a.isBuffer(E)?E:a.from(E,Y),Re=te.length;if(Re===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(G=0;G<U-N;++G)this[G+N]=te[G%Re]}return this};const se={};function re(O,E,N){se[O]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(O,E){return`The "${O}" argument must be of type number. Received type ${typeof E}`},TypeError),re("ERR_OUT_OF_RANGE",function(O,E,N){let U=`The value of "${O}" is out of range.`,Y=N;return Number.isInteger(N)&&Math.abs(N)>2**32?Y=le(String(N)):typeof N=="bigint"&&(Y=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(Y=le(Y)),Y+="n"),U+=` It must be ${E}. Received ${Y}`,U},RangeError);function le(O){let E="",N=O.length;const U=O[0]==="-"?1:0;for(;N>=U+4;N-=3)E=`_${O.slice(N-3,N)}${E}`;return`${O.slice(0,N)}${E}`}function ge(O,E,N){Ve(E,"offset"),(O[E]===void 0||O[E+N]===void 0)&&Te(E,O.length-(N+1))}function be(O,E,N,U,Y,G){if(O>N||O<E){const te=typeof E=="bigint"?"n":"";let Re;throw E===0||E===BigInt(0)?Re=`>= 0${te} and < 2${te} ** ${(G+1)*8}${te}`:Re=`>= -(2${te} ** ${(G+1)*8-1}${te}) and < 2 ** ${(G+1)*8-1}${te}`,new se.ERR_OUT_OF_RANGE("value",Re,O)}ge(U,Y,G)}function Ve(O,E){if(typeof O!="number")throw new se.ERR_INVALID_ARG_TYPE(E,"number",O)}function Te(O,E,N){throw Math.floor(O)!==O?(Ve(O,N),new se.ERR_OUT_OF_RANGE("offset","an integer",O)):E<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,O)}const Ce=/[^+/0-9A-Za-z-_]/g;function ie(O){if(O=O.split("=")[0],O=O.trim().replace(Ce,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function fe(O,E){E=E||1/0;let N;const U=O.length;let Y=null;const G=[];for(let te=0;te<U;++te){if(N=O.charCodeAt(te),N>55295&&N<57344){if(!Y){if(N>56319){(E-=3)>-1&&G.push(239,191,189);continue}else if(te+1===U){(E-=3)>-1&&G.push(239,191,189);continue}Y=N;continue}if(N<56320){(E-=3)>-1&&G.push(239,191,189),Y=N;continue}N=(Y-55296<<10|N-56320)+65536}else Y&&(E-=3)>-1&&G.push(239,191,189);if(Y=null,N<128){if((E-=1)<0)break;G.push(N)}else if(N<2048){if((E-=2)<0)break;G.push(N>>6|192,N&63|128)}else if(N<65536){if((E-=3)<0)break;G.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((E-=4)<0)break;G.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return G}function ae(O){const E=[];for(let N=0;N<O.length;++N)E.push(O.charCodeAt(N)&255);return E}function dt(O,E){let N,U,Y;const G=[];for(let te=0;te<O.length&&!((E-=2)<0);++te)N=O.charCodeAt(te),U=N>>8,Y=N%256,G.push(Y),G.push(U);return G}function Pe(O){return e.toByteArray(ie(O))}function Ke(O,E,N,U){let Y;for(Y=0;Y<U&&!(Y+N>=E.length||Y>=O.length);++Y)E[Y+N]=O[Y];return Y}function _t(O,E){return O instanceof E||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===E.name}function Be(O){return O!==O}const $e=function(){const O="0123456789abcdef",E=new Array(256);for(let N=0;N<16;++N){const U=N*16;for(let Y=0;Y<16;++Y)E[U+Y]=O[N]+O[Y]}return E}();function qe(O){return typeof BigInt>"u"?st:O}function st(){throw new Error("BigInt not supported")}})(Ae);const za=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function xi(t,...e){if(!Wd(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ZN(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");dd(t.outputLen),dd(t.blockLen)}function Vl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function QN(t,e){xi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function M6(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function xo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function X0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gs(t,e){return t<<32-e|t>>>e}const A6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function I6(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function j6(t){for(let e=0;e<t.length;e++)t[e]=I6(t[e]);return t}const p2=A6?t=>t:j6,XN=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",C6=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ca(t){if(xi(t),XN)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=C6[t[n]];return e}const Hs={_0:48,_9:57,A:65,F:70,a:97,f:102};function m2(t){if(t>=Hs._0&&t<=Hs._9)return t-Hs._0;if(t>=Hs.A&&t<=Hs.F)return t-(Hs.A-10);if(t>=Hs.a&&t<=Hs.f)return t-(Hs.a-10)}function Ip(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(XN)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=m2(t.charCodeAt(i)),a=m2(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function T6(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Rm(t){return typeof t=="string"&&(t=T6(t)),xi(t),t}function Ns(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];xi(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Mw{}function Aw(t){const e=r=>t().update(Rm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Iw(t=32){if(za&&typeof za.getRandomValues=="function")return za.getRandomValues(new Uint8Array(t));if(za&&typeof za.randomBytes=="function")return Uint8Array.from(za.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function R6(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function L6(t,e,n){return t&e^~t&n}function P6(t,e,n){return t&e^t&n^e&n}class JN extends Mw{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=X0(this.buffer)}update(e){Vl(this),e=Rm(e),xi(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=X0(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vl(this),QN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,xo(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let h=o;h<s;h++)n[h]=0;R6(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=X0(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,d[h],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Mi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kh=BigInt(2**32-1),g2=BigInt(32);function B6(t,e=!1){return e?{h:Number(t&kh),l:Number(t>>g2&kh)}:{h:Number(t>>g2&kh)|0,l:Number(t&kh)|0}}function eM(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=B6(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const y2=(t,e,n)=>t>>>n,x2=(t,e,n)=>t<<32-n|e>>>n,Wa=(t,e,n)=>t>>>n|e<<32-n,Fa=(t,e,n)=>t<<32-n|e>>>n,Eh=(t,e,n)=>t<<64-n|e>>>n-32,Nh=(t,e,n)=>t>>>n-32|e<<64-n,D6=(t,e,n)=>t<<n|e>>>32-n,O6=(t,e,n)=>e<<n|t>>>32-n,z6=(t,e,n)=>e<<n-32|t>>>64-n,W6=(t,e,n)=>t<<n-32|e>>>64-n;function Vs(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const F6=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),U6=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,$6=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),H6=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,V6=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),K6=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Y6=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ai=new Uint32Array(64);class q6 extends JN{constructor(e=32){super(64,e,8,!1),this.A=Mi[0]|0,this.B=Mi[1]|0,this.C=Mi[2]|0,this.D=Mi[3]|0,this.E=Mi[4]|0,this.F=Mi[5]|0,this.G=Mi[6]|0,this.H=Mi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)Ai[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Ai[h-15],m=Ai[h-2],y=gs(p,7)^gs(p,18)^p>>>3,w=gs(m,17)^gs(m,19)^m>>>10;Ai[h]=w+Ai[h-7]+y+Ai[h-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:d}=this;for(let h=0;h<64;h++){const p=gs(a,6)^gs(a,11)^gs(a,25),m=d+p+L6(a,l,c)+Y6[h]+Ai[h]|0,w=(gs(r,2)^gs(r,13)^gs(r,22))+P6(r,s,i)|0;d=c,c=l,l=a,a=o+m|0,o=i,i=s,s=r,r=m+w|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,s,i,o,a,l,c,d)}roundClean(){xo(Ai)}destroy(){this.set(0,0,0,0,0,0,0,0),xo(this.buffer)}}const tM=eM(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),G6=tM[0],Z6=tM[1],Ii=new Uint32Array(80),ji=new Uint32Array(80);class Q6 extends JN{constructor(e=64){super(128,e,16,!1),this.Ah=Dn[0]|0,this.Al=Dn[1]|0,this.Bh=Dn[2]|0,this.Bl=Dn[3]|0,this.Ch=Dn[4]|0,this.Cl=Dn[5]|0,this.Dh=Dn[6]|0,this.Dl=Dn[7]|0,this.Eh=Dn[8]|0,this.El=Dn[9]|0,this.Fh=Dn[10]|0,this.Fl=Dn[11]|0,this.Gh=Dn[12]|0,this.Gl=Dn[13]|0,this.Hh=Dn[14]|0,this.Hl=Dn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:h,Fl:p,Gh:m,Gl:y,Hh:w,Hl:b}=this;return[e,n,r,s,i,o,a,l,c,d,h,p,m,y,w,b]}set(e,n,r,s,i,o,a,l,c,d,h,p,m,y,w,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=h|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=w|0,this.Hl=b|0}process(e,n){for(let _=0;_<16;_++,n+=4)Ii[_]=e.getUint32(n),ji[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const M=Ii[_-15]|0,R=ji[_-15]|0,W=Wa(M,R,1)^Wa(M,R,8)^y2(M,R,7),D=Fa(M,R,1)^Fa(M,R,8)^x2(M,R,7),L=Ii[_-2]|0,F=ji[_-2]|0,$=Wa(L,F,19)^Eh(L,F,61)^y2(L,F,6),H=Fa(L,F,19)^Nh(L,F,61)^x2(L,F,6),K=$6(D,H,ji[_-7],ji[_-16]),A=H6(K,W,$,Ii[_-7],Ii[_-16]);Ii[_]=A|0,ji[_]=K|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:h,El:p,Fh:m,Fl:y,Gh:w,Gl:b,Hh:g,Hl:S}=this;for(let _=0;_<80;_++){const M=Wa(h,p,14)^Wa(h,p,18)^Eh(h,p,41),R=Fa(h,p,14)^Fa(h,p,18)^Nh(h,p,41),W=h&m^~h&w,D=p&y^~p&b,L=V6(S,R,D,Z6[_],ji[_]),F=K6(L,g,M,W,G6[_],Ii[_]),$=L|0,H=Wa(r,s,28)^Eh(r,s,34)^Eh(r,s,39),K=Fa(r,s,28)^Nh(r,s,34)^Nh(r,s,39),A=r&i^r&a^i&a,f=s&o^s&l^o&l;g=w|0,S=b|0,w=m|0,b=y|0,m=h|0,y=p|0,{h,l:p}=Vs(c|0,d|0,F|0,$|0),c=a|0,d=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const x=F6($,K,f);r=U6(x,F,H,A),s=x|0}({h:r,l:s}=Vs(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Vs(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=Vs(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Vs(this.Dh|0,this.Dl|0,c|0,d|0),{h,l:p}=Vs(this.Eh|0,this.El|0,h|0,p|0),{h:m,l:y}=Vs(this.Fh|0,this.Fl|0,m|0,y|0),{h:w,l:b}=Vs(this.Gh|0,this.Gl|0,w|0,b|0),{h:g,l:S}=Vs(this.Hh|0,this.Hl|0,g|0,S|0),this.set(r,s,i,o,a,l,c,d,h,p,m,y,w,b,g,S)}roundClean(){xo(Ii,ji)}destroy(){xo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nM=Aw(()=>new q6),X6=Aw(()=>new Q6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jw=BigInt(0),qy=BigInt(1);function wa(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function ts(t,e,n=""){const r=Wd(t),s=t==null?void 0:t.length,i=e!==void 0;if(!r||i&&s!==e){const o=n&&`"${n}" `,a=i?` of length ${e}`:"",l=r?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function Mh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function rM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jw:BigInt("0x"+t)}function Lm(t){return rM(ca(t))}function hd(t){return xi(t),rM(ca(Uint8Array.from(t).reverse()))}function Cw(t,e){return Ip(t.toString(16).padStart(e*2,"0"))}function sM(t,e){return Cw(t,e).reverse()}function Zt(t,e,n){let r;if(typeof e=="string")try{r=Ip(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Wd(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function w2(t){return Uint8Array.from(t)}const J0=t=>typeof t=="bigint"&&jw<=t;function J6(t,e,n){return J0(t)&&J0(e)&&J0(n)&&e<=t&&t<n}function Gy(t,e,n,r){if(!J6(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function iM(t){let e;for(e=0;t>jw;t>>=qy,e+=1);return e}const Fd=t=>(qy<<BigInt(t))-qy;function eR(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),s=m=>Uint8Array.of(m);let i=r(t),o=r(t),a=0;const l=()=>{i.fill(1),o.fill(0),a=0},c=(...m)=>n(o,i,...m),d=(m=r(0))=>{o=c(s(0),m),i=c(),m.length!==0&&(o=c(s(1),m),i=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){i=c();const w=i.slice();y.push(w),m+=i.length}return Ns(...y)};return(m,y)=>{l(),d(m);let w;for(;!(w=y(h()));)d();return l(),w}}function Ud(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const l=typeof a;if(l!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${l}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function jp(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dr=BigInt(0),Tn=BigInt(1),Yo=BigInt(2),oM=BigInt(3),aM=BigInt(4),lM=BigInt(5),tR=BigInt(7),cM=BigInt(8),nR=BigInt(9),uM=BigInt(16);function on(t,e){const n=t%e;return n>=dr?n:e+n}function Gt(t,e,n){let r=t;for(;e-- >dr;)r*=r,r%=n;return r}function v2(t,e){if(t===dr)throw new Error("invert: expected non-zero number");if(e<=dr)throw new Error("invert: expected positive modulus, got "+e);let n=on(t,e),r=e,s=dr,i=Tn;for(;n!==dr;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==Tn)throw new Error("invert: does not exist");return on(s,e)}function Tw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function dM(t,e){const n=(t.ORDER+Tn)/aM,r=t.pow(e,n);return Tw(t,r,e),r}function rR(t,e){const n=(t.ORDER-lM)/cM,r=t.mul(e,Yo),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Yo),s),a=t.mul(i,t.sub(o,t.ONE));return Tw(t,a,e),a}function sR(t){const e=Aa(t),n=hM(t),r=n(e,e.neg(e.ONE)),s=n(e,r),i=n(e,e.neg(r)),o=(t+tR)/uM;return(a,l)=>{let c=a.pow(l,o),d=a.mul(c,r);const h=a.mul(c,s),p=a.mul(c,i),m=a.eql(a.sqr(d),l),y=a.eql(a.sqr(h),l);c=a.cmov(c,d,m),d=a.cmov(p,h,y);const w=a.eql(a.sqr(d),l),b=a.cmov(c,d,w);return Tw(a,b,l),b}}function hM(t){if(t<oM)throw new Error("sqrt is not defined for small field");let e=t-Tn,n=0;for(;e%Yo===dr;)e/=Yo,n++;let r=Yo;const s=Aa(t);for(;b2(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return dM;let i=s.pow(r,e);const o=(e+Tn)/Yo;return function(l,c){if(l.is0(c))return c;if(b2(l,c)!==1)throw new Error("Cannot find square root");let d=n,h=l.mul(l.ONE,i),p=l.pow(c,e),m=l.pow(c,o);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let y=1,w=l.sqr(p);for(;!l.eql(w,l.ONE);)if(y++,w=l.sqr(w),y===d)throw new Error("Cannot find square root");const b=Tn<<BigInt(d-y-1),g=l.pow(h,b);d=y,h=l.sqr(g),p=l.mul(p,h),m=l.mul(m,g)}return m}}function iR(t){return t%aM===oM?dM:t%cM===lM?rR:t%uM===nR?sR(t):hM(t)}const oR=(t,e)=>(on(t,e)&Tn)===Tn,aR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lR(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=aR.reduce((r,s)=>(r[s]="function",r),e);return Ud(t,n),t}function cR(t,e,n){if(n<dr)throw new Error("invalid exponent, negatives unsupported");if(n===dr)return t.ONE;if(n===Tn)return e;let r=t.ONE,s=e;for(;n>dr;)n&Tn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Tn;return r}function fM(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function b2(t,e){const n=(t.ORDER-Tn)/Yo,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function pM(t,e){e!==void 0&&dd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Aa(t,e,n=!1,r={}){if(t<=dr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(s=p.BITS),p.sqrt&&(i=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(o=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:l,nByteLength:c}=pM(t,s);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const h=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Fd(l),ZERO:dr,ONE:Tn,allowedLengths:a,create:p=>on(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return dr<=p&&p<t},is0:p=>p===dr,isValidNot0:p=>!h.is0(p)&&h.isValid(p),isOdd:p=>(p&Tn)===Tn,neg:p=>on(-p,t),eql:(p,m)=>p===m,sqr:p=>on(p*p,t),add:(p,m)=>on(p+m,t),sub:(p,m)=>on(p-m,t),mul:(p,m)=>on(p*m,t),pow:(p,m)=>cR(h,p,m),div:(p,m)=>on(p*v2(m,t),t),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>v2(p,t),sqrt:i||(p=>(d||(d=iR(t)),d(h,p))),toBytes:p=>n?sM(p,c):Cw(p,c),fromBytes:(p,m=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const w=new Uint8Array(c);w.set(p,n?0:w.length-p.length),p=w}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let y=n?hd(p):Lm(p);if(o&&(y=on(y,t)),!m&&!h.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},invertBatch:p=>fM(h,p),cmov:(p,m,y)=>y?m:p});return Object.freeze(h)}function mM(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function gM(t){const e=mM(t);return e+Math.ceil(e/2)}function uR(t,e,n=!1){const r=t.length,s=mM(e),i=gM(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?hd(t):Lm(t),a=on(o,e-Tn)+Tn;return n?sM(a,s):Cw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kl=BigInt(0),qo=BigInt(1);function Cp(t,e){const n=e.negate();return t?n:e}function Go(t,e){const n=fM(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function yM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function eg(t,e){yM(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Fd(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function S2(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=qo);const c=e*r,d=c+Math.abs(a)-1,h=a===0,p=a<0,m=e%2!==0;return{nextN:l,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:c}}function dR(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function hR(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const tg=new WeakMap,xM=new WeakMap;function ng(t){return xM.get(t)||1}function _2(t){if(t!==Kl)throw new Error("invalid wNAF")}class wM{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>Kl;)n&qo&&(r=r.add(s)),s=s.double(),n>>=qo;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=eg(n,this.bits),i=[];let o=e,a=o;for(let l=0;l<r;l++){a=o,i.push(a);for(let c=1;c<s;c++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=eg(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:h,isNegF:p,offsetF:m}=S2(r,a,o);r=l,d?i=i.add(Cp(p,n[m])):s=s.add(Cp(h,n[c]))}return _2(r),{p:s,f:i}}wNAFUnsafe(e,n,r,s=this.ZERO){const i=eg(e,this.bits);for(let o=0;o<i.windows&&r!==Kl;o++){const{nextN:a,offset:l,isZero:c,isNeg:d}=S2(r,o,i);if(r=a,!c){const h=n[l];s=s.add(d?h.negate():h)}}return _2(r),s}getPrecomputes(e,n,r){let s=tg.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),tg.set(n,s))),s}cached(e,n,r){const s=ng(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const i=ng(e);return i===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,s)}createCache(e,n){yM(n,this.bits),xM.set(e,n),tg.delete(e)}hasCache(e){return ng(e)!==1}}function fR(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>Kl||r>Kl;)n&qo&&(i=i.add(s)),r&qo&&(o=o.add(s)),s=s.double(),n>>=qo,r>>=qo;return{p1:i,p2:o}}function vM(t,e,n,r){dR(n,t),hR(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=iM(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Fd(l),d=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let p=o;for(let m=h;m>=0;m-=l){d.fill(o);for(let w=0;w<i;w++){const b=r[w],g=Number(b>>BigInt(m)&c);d[g]=d[g].add(n[w])}let y=o;for(let w=d.length-1,b=o;w>0;w--)b=b.add(d[w]),y=y.add(b);if(p=p.add(y),m!==0)for(let w=0;w<l;w++)p=p.double()}return p}function k2(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return lR(e),e}else return Aa(t,{isLE:n})}function bM(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Kl))throw new Error(`CURVE.${l} must be positive bigint`)}const s=k2(e.p,n.Fp,r),i=k2(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!s.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ci=BigInt(0),gn=BigInt(1),rg=BigInt(2),pR=BigInt(8);function mR(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),o=t.add(t.mul(e.a,s),i),a=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(o,a)}function gR(t,e={}){const n=bM("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o}=i;Ud(e,{},{uvRatio:"function"});const a=rg<<BigInt(s.BYTES*8)-gn,l=b=>r.create(b),c=e.uvRatio||((b,g)=>{try{return{isValid:!0,value:r.sqrt(r.div(b,g))}}catch{return{isValid:!1,value:Ci}}});if(!mR(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function d(b,g,S=!1){const _=S?gn:Ci;return Gy("coordinate "+b,g,_,a),g}function h(b){if(!(b instanceof y))throw new Error("ExtendedPoint expected")}const p=jp((b,g)=>{const{X:S,Y:_,Z:M}=b,R=b.is0();g==null&&(g=R?pR:r.inv(M));const W=l(S*g),D=l(_*g),L=r.mul(M,g);if(R)return{x:Ci,y:gn};if(L!==gn)throw new Error("invZ was invalid");return{x:W,y:D}}),m=jp(b=>{const{a:g,d:S}=i;if(b.is0())throw new Error("bad point: ZERO");const{X:_,Y:M,Z:R,T:W}=b,D=l(_*_),L=l(M*M),F=l(R*R),$=l(F*F),H=l(D*g),K=l(F*l(H+L)),A=l($+l(S*l(D*L)));if(K!==A)throw new Error("bad point: equation left != right (1)");const f=l(_*M),x=l(R*W);if(f!==x)throw new Error("bad point: equation left != right (2)");return!0});class y{constructor(g,S,_,M){this.X=d("x",g),this.Y=d("y",S),this.Z=d("z",_,!0),this.T=d("t",M),Object.freeze(this)}static CURVE(){return i}static fromAffine(g){if(g instanceof y)throw new Error("extended point not allowed");const{x:S,y:_}=g||{};return d("x",S),d("y",_),new y(S,_,gn,l(S*_))}static fromBytes(g,S=!1){const _=r.BYTES,{a:M,d:R}=i;g=w2(ts(g,_,"point")),wa(S,"zip215");const W=w2(g),D=g[_-1];W[_-1]=D&-129;const L=hd(W),F=S?a:r.ORDER;Gy("point.y",L,Ci,F);const $=l(L*L),H=l($-gn),K=l(R*$-M);let{isValid:A,value:f}=c(H,K);if(!A)throw new Error("bad point: invalid y coordinate");const x=(f&gn)===gn,k=(D&128)!==0;if(!S&&f===Ci&&k)throw new Error("bad point: x=0 and x_0=1");return k!==x&&(f=l(-f)),y.fromAffine({x:f,y:L})}static fromHex(g,S=!1){return y.fromBytes(Zt("point",g),S)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(g=8,S=!0){return w.createCache(this,g),S||this.multiply(rg),this}assertValidity(){m(this)}equals(g){h(g);const{X:S,Y:_,Z:M}=this,{X:R,Y:W,Z:D}=g,L=l(S*D),F=l(R*M),$=l(_*D),H=l(W*M);return L===F&&$===H}is0(){return this.equals(y.ZERO)}negate(){return new y(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:g}=i,{X:S,Y:_,Z:M}=this,R=l(S*S),W=l(_*_),D=l(rg*l(M*M)),L=l(g*R),F=S+_,$=l(l(F*F)-R-W),H=L+W,K=H-D,A=L-W,f=l($*K),x=l(H*A),k=l($*A),I=l(K*H);return new y(f,x,I,k)}add(g){h(g);const{a:S,d:_}=i,{X:M,Y:R,Z:W,T:D}=this,{X:L,Y:F,Z:$,T:H}=g,K=l(M*L),A=l(R*F),f=l(D*_*H),x=l(W*$),k=l((M+R)*(L+F)-K-A),I=x-f,C=x+f,j=l(A-S*K),P=l(k*I),T=l(C*j),v=l(k*j),B=l(I*C);return new y(P,T,B,v)}subtract(g){return this.add(g.negate())}multiply(g){if(!s.isValidNot0(g))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:S,f:_}=w.cached(this,g,M=>Go(y,M));return Go(y,[S,_])[0]}multiplyUnsafe(g,S=y.ZERO){if(!s.isValid(g))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return g===Ci?y.ZERO:this.is0()||g===gn?this:w.unsafe(this,g,_=>Go(y,_),S)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return w.unsafe(this,i.n).is0()}toAffine(g){return p(this,g)}clearCofactor(){return o===gn?this:this.multiplyUnsafe(o)}toBytes(){const{x:g,y:S}=this.toAffine(),_=r.toBytes(S);return _[_.length-1]|=g&gn?128:0,_}toHex(){return ca(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(g){return Go(y,g)}static msm(g,S){return vM(y,s,g,S)}_setWindowSize(g){this.precompute(g)}toRawBytes(){return this.toBytes()}}y.BASE=new y(i.Gx,i.Gy,gn,l(i.Gx*i.Gy)),y.ZERO=new y(Ci,gn,gn,Ci),y.Fp=r,y.Fn=s;const w=new wM(y,s.BITS);return y.BASE.precompute(8),y}function yR(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Ud(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:o}=t,a=n.randomBytes||Iw,l=n.adjustScalarBytes||(F=>F),c=n.domain||((F,$,H)=>{if(wa(H,"phflag"),$.length||H)throw new Error("Contexts/pre-hash are not supported");return F});function d(F){return o.create(hd(F))}function h(F){const $=_.secretKey;F=Zt("private key",F,$);const H=Zt("hashed private key",e(F),2*$),K=l(H.slice(0,$)),A=H.slice($,2*$),f=d(K);return{head:K,prefix:A,scalar:f}}function p(F){const{head:$,prefix:H,scalar:K}=h(F),A=s.multiply(K),f=A.toBytes();return{head:$,prefix:H,scalar:K,point:A,pointBytes:f}}function m(F){return p(F).pointBytes}function y(F=Uint8Array.of(),...$){const H=Ns(...$);return d(e(c(H,Zt("context",F),!!r)))}function w(F,$,H={}){F=Zt("message",F),r&&(F=r(F));const{prefix:K,scalar:A,pointBytes:f}=p($),x=y(H.context,K,F),k=s.multiply(x).toBytes(),I=y(H.context,k,f,F),C=o.create(x+I*A);if(!o.isValid(C))throw new Error("sign failed: invalid s");const j=Ns(k,o.toBytes(C));return ts(j,_.signature,"result")}const b={zip215:!0};function g(F,$,H,K=b){const{context:A,zip215:f}=K,x=_.signature;F=Zt("signature",F,x),$=Zt("message",$),H=Zt("publicKey",H,_.publicKey),f!==void 0&&wa(f,"zip215"),r&&($=r($));const k=x/2,I=F.subarray(0,k),C=hd(F.subarray(k,x));let j,P,T;try{j=t.fromBytes(H,f),P=t.fromBytes(I,f),T=s.multiplyUnsafe(C)}catch{return!1}if(!f&&j.isSmallOrder())return!1;const v=y(A,P.toBytes(),j.toBytes(),$);return P.add(j.multiplyUnsafe(v)).subtract(T).clearCofactor().is0()}const S=i.BYTES,_={secretKey:S,publicKey:S,signature:2*S,seed:S};function M(F=a(_.seed)){return ts(F,_.seed,"seed")}function R(F){const $=L.randomSecretKey(F);return{secretKey:$,publicKey:m($)}}function W(F){return Wd(F)&&F.length===o.BYTES}function D(F,$){try{return!!t.fromBytes(F,$)}catch{return!1}}const L={getExtendedPublicKey:p,randomSecretKey:M,isValidSecretKey:W,isValidPublicKey:D,toMontgomery(F){const{y:$}=t.fromBytes(F),H=_.publicKey,K=H===32;if(!K&&H!==57)throw new Error("only defined for 25519 and 448");const A=K?i.div(gn+$,gn-$):i.div($-gn,$+gn);return i.toBytes(A)},toMontgomeryPriv(F){const $=_.secretKey;ts(F,$);const H=e(F.subarray(0,$));return l(H).subarray(0,$)},randomPrivateKey:M,precompute(F=8,$=t.BASE){return $.precompute(F,!1)}};return Object.freeze({keygen:R,getPublicKey:m,sign:w,verify:g,utils:L,Point:t,lengths:_})}function xR(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Aa(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:i}}function wR(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function vR(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=xR(t),i=gR(e,n),o=yR(i,r,s);return wR(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bR=BigInt(1),E2=BigInt(2);BigInt(3);const SR=BigInt(5),_R=BigInt(8),Rw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),SM={p:Rw,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:_R,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function kR(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Rw,a=t*t%i*t%i,l=Gt(a,E2,i)*a%i,c=Gt(l,bR,i)*t%i,d=Gt(c,SR,i)*c%i,h=Gt(d,e,i)*d%i,p=Gt(h,n,i)*h%i,m=Gt(p,r,i)*p%i,y=Gt(m,s,i)*m%i,w=Gt(y,s,i)*m%i,b=Gt(w,e,i)*d%i;return{pow_p_5_8:Gt(b,E2,i)*t%i,b2:a}}function ER(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const N2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function NR(t,e){const n=Rw,r=on(e*e*e,n),s=on(r*r*e,n),i=kR(t*s).pow_p_5_8;let o=on(t*r*i,n);const a=on(e*o*o,n),l=o,c=on(o*N2,n),d=a===t,h=a===on(-t,n),p=a===on(-t*N2,n);return d&&(o=l),(h||p)&&(o=c),oR(o,n)&&(o=on(-o,n)),{isValid:d||h,value:o}}const MR=Aa(SM.p,{isLE:!0}),AR={...SM,Fp:MR,hash:X6,adjustScalarBytes:ER,uvRatio:NR},Ia=vR(AR);var Lw={exports:{}};const IR={},jR=Object.freeze(Object.defineProperty({__proto__:null,default:IR},Symbol.toStringTag,{value:"Module"})),CR=Si(jR);Lw.exports;(function(t){(function(e,n){function r(A,f){if(!A)throw new Error(f||"Assertion failed")}function s(A,f){A.super_=f;var x=function(){};x.prototype=f.prototype,A.prototype=new x,A.prototype.constructor=A}function i(A,f,x){if(i.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((f==="le"||f==="be")&&(x=f,f=10),this._init(A||0,f||10,x||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=CR.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,x){return f.cmp(x)>0?f:x},i.min=function(f,x){return f.cmp(x)<0?f:x},i.prototype._init=function(f,x,k){if(typeof f=="number")return this._initNumber(f,x,k);if(typeof f=="object")return this._initArray(f,x,k);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),f=f.toString().replace(/\s+/g,"");var I=0;f[0]==="-"&&(I++,this.negative=1),I<f.length&&(x===16?this._parseHex(f,I,k):(this._parseBase(f,x,I),k==="le"&&this._initArray(this.toArray(),x,k)))},i.prototype._initNumber=function(f,x,k){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),x,k)},i.prototype._initArray=function(f,x,k){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C,j,P=0;if(k==="be")for(I=f.length-1,C=0;I>=0;I-=3)j=f[I]|f[I-1]<<8|f[I-2]<<16,this.words[C]|=j<<P&67108863,this.words[C+1]=j>>>26-P&67108863,P+=24,P>=26&&(P-=26,C++);else if(k==="le")for(I=0,C=0;I<f.length;I+=3)j=f[I]|f[I+1]<<8|f[I+2]<<16,this.words[C]|=j<<P&67108863,this.words[C+1]=j>>>26-P&67108863,P+=24,P>=26&&(P-=26,C++);return this._strip()};function a(A,f){var x=A.charCodeAt(f);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+A)}function l(A,f,x){var k=a(A,x);return x-1>=f&&(k|=a(A,x-1)<<4),k}i.prototype._parseHex=function(f,x,k){this.length=Math.ceil((f.length-x)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C=0,j=0,P;if(k==="be")for(I=f.length-1;I>=x;I-=2)P=l(f,x,I)<<C,this.words[j]|=P&67108863,C>=18?(C-=18,j+=1,this.words[j]|=P>>>26):C+=8;else{var T=f.length-x;for(I=T%2===0?x+1:x;I<f.length;I+=2)P=l(f,x,I)<<C,this.words[j]|=P&67108863,C>=18?(C-=18,j+=1,this.words[j]|=P>>>26):C+=8}this._strip()};function c(A,f,x,k){for(var I=0,C=0,j=Math.min(A.length,x),P=f;P<j;P++){var T=A.charCodeAt(P)-48;I*=k,T>=49?C=T-49+10:T>=17?C=T-17+10:C=T,r(T>=0&&C<k,"Invalid character"),I+=C}return I}i.prototype._parseBase=function(f,x,k){this.words=[0],this.length=1;for(var I=0,C=1;C<=67108863;C*=x)I++;I--,C=C/x|0;for(var j=f.length-k,P=j%I,T=Math.min(j,j-P)+k,v=0,B=k;B<T;B+=I)v=c(f,B,B+I,x),this.imuln(C),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(P!==0){var Q=1;for(v=c(f,B,f.length,x),B=0;B<P;B++)Q*=x;this.imuln(Q),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var x=0;x<this.length;x++)f.words[x]=this.words[x];f.length=this.length,f.negative=this.negative,f.red=this.red};function d(A,f){A.words=f.words,A.length=f.length,A.negative=f.negative,A.red=f.red}if(i.prototype._move=function(f){d(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,x){f=f||10,x=x|0||1;var k;if(f===16||f==="hex"){k="";for(var I=0,C=0,j=0;j<this.length;j++){var P=this.words[j],T=((P<<I|C)&16777215).toString(16);C=P>>>24-I&16777215,I+=2,I>=26&&(I-=26,j--),C!==0||j!==this.length-1?k=p[6-T.length]+T+k:k=T+k}for(C!==0&&(k=C.toString(16)+k);k.length%x!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(f===(f|0)&&f>=2&&f<=36){var v=m[f],B=y[f];k="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var Z=Q.modrn(B).toString(f);Q=Q.idivn(B),Q.isZero()?k=Z+k:k=p[v-Z.length]+Z+k}for(this.isZero()&&(k="0"+k);k.length%x!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(f,x){return this.toArrayLike(o,f,x)}),i.prototype.toArray=function(f,x){return this.toArrayLike(Array,f,x)};var w=function(f,x){return f.allocUnsafe?f.allocUnsafe(x):new f(x)};i.prototype.toArrayLike=function(f,x,k){this._strip();var I=this.byteLength(),C=k||Math.max(1,I);r(I<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var j=w(f,C),P=x==="le"?"LE":"BE";return this["_toArrayLike"+P](j,I),j},i.prototype._toArrayLikeLE=function(f,x){for(var k=0,I=0,C=0,j=0;C<this.length;C++){var P=this.words[C]<<j|I;f[k++]=P&255,k<f.length&&(f[k++]=P>>8&255),k<f.length&&(f[k++]=P>>16&255),j===6?(k<f.length&&(f[k++]=P>>24&255),I=0,j=0):(I=P>>>24,j+=2)}if(k<f.length)for(f[k++]=I;k<f.length;)f[k++]=0},i.prototype._toArrayLikeBE=function(f,x){for(var k=f.length-1,I=0,C=0,j=0;C<this.length;C++){var P=this.words[C]<<j|I;f[k--]=P&255,k>=0&&(f[k--]=P>>8&255),k>=0&&(f[k--]=P>>16&255),j===6?(k>=0&&(f[k--]=P>>24&255),I=0,j=0):(I=P>>>24,j+=2)}if(k>=0)for(f[k--]=I;k>=0;)f[k--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var x=f,k=0;return x>=4096&&(k+=13,x>>>=13),x>=64&&(k+=7,x>>>=7),x>=8&&(k+=4,x>>>=4),x>=2&&(k+=2,x>>>=2),k+x},i.prototype._zeroBits=function(f){if(f===0)return 26;var x=f,k=0;return x&8191||(k+=13,x>>>=13),x&127||(k+=7,x>>>=7),x&15||(k+=4,x>>>=4),x&3||(k+=2,x>>>=2),x&1||k++,k},i.prototype.bitLength=function(){var f=this.words[this.length-1],x=this._countBits(f);return(this.length-1)*26+x};function b(A){for(var f=new Array(A.bitLength()),x=0;x<f.length;x++){var k=x/26|0,I=x%26;f[x]=A.words[k]>>>I&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,x=0;x<this.length;x++){var k=this._zeroBits(this.words[x]);if(f+=k,k!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var x=0;x<f.length;x++)this.words[x]=this.words[x]|f.words[x];return this._strip()},i.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var x;this.length>f.length?x=f:x=this;for(var k=0;k<x.length;k++)this.words[k]=this.words[k]&f.words[k];return this.length=x.length,this._strip()},i.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var x,k;this.length>f.length?(x=this,k=f):(x=f,k=this);for(var I=0;I<k.length;I++)this.words[I]=x.words[I]^k.words[I];if(this!==x)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=x.length,this._strip()},i.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var x=Math.ceil(f/26)|0,k=f%26;this._expand(x),k>0&&x--;for(var I=0;I<x;I++)this.words[I]=~this.words[I]&67108863;return k>0&&(this.words[I]=~this.words[I]&67108863>>26-k),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,x){r(typeof f=="number"&&f>=0);var k=f/26|0,I=f%26;return this._expand(k+1),x?this.words[k]=this.words[k]|1<<I:this.words[k]=this.words[k]&~(1<<I),this._strip()},i.prototype.iadd=function(f){var x;if(this.negative!==0&&f.negative===0)return this.negative=0,x=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,x=this.isub(f),f.negative=1,x._normSign();var k,I;this.length>f.length?(k=this,I=f):(k=f,I=this);for(var C=0,j=0;j<I.length;j++)x=(k.words[j]|0)+(I.words[j]|0)+C,this.words[j]=x&67108863,C=x>>>26;for(;C!==0&&j<k.length;j++)x=(k.words[j]|0)+C,this.words[j]=x&67108863,C=x>>>26;if(this.length=k.length,C!==0)this.words[this.length]=C,this.length++;else if(k!==this)for(;j<k.length;j++)this.words[j]=k.words[j];return this},i.prototype.add=function(f){var x;return f.negative!==0&&this.negative===0?(f.negative=0,x=this.sub(f),f.negative^=1,x):f.negative===0&&this.negative!==0?(this.negative=0,x=f.sub(this),this.negative=1,x):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var x=this.iadd(f);return f.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var k=this.cmp(f);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,C;k>0?(I=this,C=f):(I=f,C=this);for(var j=0,P=0;P<C.length;P++)x=(I.words[P]|0)-(C.words[P]|0)+j,j=x>>26,this.words[P]=x&67108863;for(;j!==0&&P<I.length;P++)x=(I.words[P]|0)+j,j=x>>26,this.words[P]=x&67108863;if(j===0&&P<I.length&&I!==this)for(;P<I.length;P++)this.words[P]=I.words[P];return this.length=Math.max(this.length,P),I!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function g(A,f,x){x.negative=f.negative^A.negative;var k=A.length+f.length|0;x.length=k,k=k-1|0;var I=A.words[0]|0,C=f.words[0]|0,j=I*C,P=j&67108863,T=j/67108864|0;x.words[0]=P;for(var v=1;v<k;v++){for(var B=T>>>26,Q=T&67108863,Z=Math.min(v,f.length-1),ne=Math.max(0,v-A.length+1);ne<=Z;ne++){var J=v-ne|0;I=A.words[J]|0,C=f.words[ne]|0,j=I*C+Q,B+=j/67108864|0,Q=j&67108863}x.words[v]=Q|0,T=B|0}return T!==0?x.words[v]=T|0:x.length--,x._strip()}var S=function(f,x,k){var I=f.words,C=x.words,j=k.words,P=0,T,v,B,Q=I[0]|0,Z=Q&8191,ne=Q>>>13,J=I[1]|0,se=J&8191,re=J>>>13,le=I[2]|0,ge=le&8191,be=le>>>13,Ve=I[3]|0,Te=Ve&8191,Ce=Ve>>>13,ie=I[4]|0,fe=ie&8191,ae=ie>>>13,dt=I[5]|0,Pe=dt&8191,Ke=dt>>>13,_t=I[6]|0,Be=_t&8191,$e=_t>>>13,qe=I[7]|0,st=qe&8191,O=qe>>>13,E=I[8]|0,N=E&8191,U=E>>>13,Y=I[9]|0,G=Y&8191,te=Y>>>13,Re=C[0]|0,je=Re&8191,Ee=Re>>>13,He=C[1]|0,Ne=He&8191,kt=He>>>13,Ei=C[2]|0,Et=Ei&8191,Mt=Ei>>>13,ps=C[3]|0,Bt=ps&8191,Dt=ps>>>13,th=C[4]|0,Ot=th&8191,zt=th>>>13,nh=C[5]|0,Wt=nh&8191,Ft=nh>>>13,rh=C[6]|0,Ut=rh&8191,$t=rh>>>13,sh=C[7]|0,Ht=sh&8191,Vt=sh>>>13,ih=C[8]|0,Kt=ih&8191,At=ih>>>13,oh=C[9]|0,Yt=oh&8191,qt=oh>>>13;k.negative=f.negative^x.negative,k.length=19,T=Math.imul(Z,je),v=Math.imul(Z,Ee),v=v+Math.imul(ne,je)|0,B=Math.imul(ne,Ee);var kc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(kc>>>26)|0,kc&=67108863,T=Math.imul(se,je),v=Math.imul(se,Ee),v=v+Math.imul(re,je)|0,B=Math.imul(re,Ee),T=T+Math.imul(Z,Ne)|0,v=v+Math.imul(Z,kt)|0,v=v+Math.imul(ne,Ne)|0,B=B+Math.imul(ne,kt)|0;var Ec=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,T=Math.imul(ge,je),v=Math.imul(ge,Ee),v=v+Math.imul(be,je)|0,B=Math.imul(be,Ee),T=T+Math.imul(se,Ne)|0,v=v+Math.imul(se,kt)|0,v=v+Math.imul(re,Ne)|0,B=B+Math.imul(re,kt)|0,T=T+Math.imul(Z,Et)|0,v=v+Math.imul(Z,Mt)|0,v=v+Math.imul(ne,Et)|0,B=B+Math.imul(ne,Mt)|0;var Nc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,T=Math.imul(Te,je),v=Math.imul(Te,Ee),v=v+Math.imul(Ce,je)|0,B=Math.imul(Ce,Ee),T=T+Math.imul(ge,Ne)|0,v=v+Math.imul(ge,kt)|0,v=v+Math.imul(be,Ne)|0,B=B+Math.imul(be,kt)|0,T=T+Math.imul(se,Et)|0,v=v+Math.imul(se,Mt)|0,v=v+Math.imul(re,Et)|0,B=B+Math.imul(re,Mt)|0,T=T+Math.imul(Z,Bt)|0,v=v+Math.imul(Z,Dt)|0,v=v+Math.imul(ne,Bt)|0,B=B+Math.imul(ne,Dt)|0;var Mc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,T=Math.imul(fe,je),v=Math.imul(fe,Ee),v=v+Math.imul(ae,je)|0,B=Math.imul(ae,Ee),T=T+Math.imul(Te,Ne)|0,v=v+Math.imul(Te,kt)|0,v=v+Math.imul(Ce,Ne)|0,B=B+Math.imul(Ce,kt)|0,T=T+Math.imul(ge,Et)|0,v=v+Math.imul(ge,Mt)|0,v=v+Math.imul(be,Et)|0,B=B+Math.imul(be,Mt)|0,T=T+Math.imul(se,Bt)|0,v=v+Math.imul(se,Dt)|0,v=v+Math.imul(re,Bt)|0,B=B+Math.imul(re,Dt)|0,T=T+Math.imul(Z,Ot)|0,v=v+Math.imul(Z,zt)|0,v=v+Math.imul(ne,Ot)|0,B=B+Math.imul(ne,zt)|0;var Ac=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,T=Math.imul(Pe,je),v=Math.imul(Pe,Ee),v=v+Math.imul(Ke,je)|0,B=Math.imul(Ke,Ee),T=T+Math.imul(fe,Ne)|0,v=v+Math.imul(fe,kt)|0,v=v+Math.imul(ae,Ne)|0,B=B+Math.imul(ae,kt)|0,T=T+Math.imul(Te,Et)|0,v=v+Math.imul(Te,Mt)|0,v=v+Math.imul(Ce,Et)|0,B=B+Math.imul(Ce,Mt)|0,T=T+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Dt)|0,v=v+Math.imul(be,Bt)|0,B=B+Math.imul(be,Dt)|0,T=T+Math.imul(se,Ot)|0,v=v+Math.imul(se,zt)|0,v=v+Math.imul(re,Ot)|0,B=B+Math.imul(re,zt)|0,T=T+Math.imul(Z,Wt)|0,v=v+Math.imul(Z,Ft)|0,v=v+Math.imul(ne,Wt)|0,B=B+Math.imul(ne,Ft)|0;var Pa=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,T=Math.imul(Be,je),v=Math.imul(Be,Ee),v=v+Math.imul($e,je)|0,B=Math.imul($e,Ee),T=T+Math.imul(Pe,Ne)|0,v=v+Math.imul(Pe,kt)|0,v=v+Math.imul(Ke,Ne)|0,B=B+Math.imul(Ke,kt)|0,T=T+Math.imul(fe,Et)|0,v=v+Math.imul(fe,Mt)|0,v=v+Math.imul(ae,Et)|0,B=B+Math.imul(ae,Mt)|0,T=T+Math.imul(Te,Bt)|0,v=v+Math.imul(Te,Dt)|0,v=v+Math.imul(Ce,Bt)|0,B=B+Math.imul(Ce,Dt)|0,T=T+Math.imul(ge,Ot)|0,v=v+Math.imul(ge,zt)|0,v=v+Math.imul(be,Ot)|0,B=B+Math.imul(be,zt)|0,T=T+Math.imul(se,Wt)|0,v=v+Math.imul(se,Ft)|0,v=v+Math.imul(re,Wt)|0,B=B+Math.imul(re,Ft)|0,T=T+Math.imul(Z,Ut)|0,v=v+Math.imul(Z,$t)|0,v=v+Math.imul(ne,Ut)|0,B=B+Math.imul(ne,$t)|0;var Ic=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Ic>>>26)|0,Ic&=67108863,T=Math.imul(st,je),v=Math.imul(st,Ee),v=v+Math.imul(O,je)|0,B=Math.imul(O,Ee),T=T+Math.imul(Be,Ne)|0,v=v+Math.imul(Be,kt)|0,v=v+Math.imul($e,Ne)|0,B=B+Math.imul($e,kt)|0,T=T+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,Mt)|0,v=v+Math.imul(Ke,Et)|0,B=B+Math.imul(Ke,Mt)|0,T=T+Math.imul(fe,Bt)|0,v=v+Math.imul(fe,Dt)|0,v=v+Math.imul(ae,Bt)|0,B=B+Math.imul(ae,Dt)|0,T=T+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,zt)|0,v=v+Math.imul(Ce,Ot)|0,B=B+Math.imul(Ce,zt)|0,T=T+Math.imul(ge,Wt)|0,v=v+Math.imul(ge,Ft)|0,v=v+Math.imul(be,Wt)|0,B=B+Math.imul(be,Ft)|0,T=T+Math.imul(se,Ut)|0,v=v+Math.imul(se,$t)|0,v=v+Math.imul(re,Ut)|0,B=B+Math.imul(re,$t)|0,T=T+Math.imul(Z,Ht)|0,v=v+Math.imul(Z,Vt)|0,v=v+Math.imul(ne,Ht)|0,B=B+Math.imul(ne,Vt)|0;var jc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(jc>>>26)|0,jc&=67108863,T=Math.imul(N,je),v=Math.imul(N,Ee),v=v+Math.imul(U,je)|0,B=Math.imul(U,Ee),T=T+Math.imul(st,Ne)|0,v=v+Math.imul(st,kt)|0,v=v+Math.imul(O,Ne)|0,B=B+Math.imul(O,kt)|0,T=T+Math.imul(Be,Et)|0,v=v+Math.imul(Be,Mt)|0,v=v+Math.imul($e,Et)|0,B=B+Math.imul($e,Mt)|0,T=T+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Dt)|0,v=v+Math.imul(Ke,Bt)|0,B=B+Math.imul(Ke,Dt)|0,T=T+Math.imul(fe,Ot)|0,v=v+Math.imul(fe,zt)|0,v=v+Math.imul(ae,Ot)|0,B=B+Math.imul(ae,zt)|0,T=T+Math.imul(Te,Wt)|0,v=v+Math.imul(Te,Ft)|0,v=v+Math.imul(Ce,Wt)|0,B=B+Math.imul(Ce,Ft)|0,T=T+Math.imul(ge,Ut)|0,v=v+Math.imul(ge,$t)|0,v=v+Math.imul(be,Ut)|0,B=B+Math.imul(be,$t)|0,T=T+Math.imul(se,Ht)|0,v=v+Math.imul(se,Vt)|0,v=v+Math.imul(re,Ht)|0,B=B+Math.imul(re,Vt)|0,T=T+Math.imul(Z,Kt)|0,v=v+Math.imul(Z,At)|0,v=v+Math.imul(ne,Kt)|0,B=B+Math.imul(ne,At)|0;var Cc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,T=Math.imul(G,je),v=Math.imul(G,Ee),v=v+Math.imul(te,je)|0,B=Math.imul(te,Ee),T=T+Math.imul(N,Ne)|0,v=v+Math.imul(N,kt)|0,v=v+Math.imul(U,Ne)|0,B=B+Math.imul(U,kt)|0,T=T+Math.imul(st,Et)|0,v=v+Math.imul(st,Mt)|0,v=v+Math.imul(O,Et)|0,B=B+Math.imul(O,Mt)|0,T=T+Math.imul(Be,Bt)|0,v=v+Math.imul(Be,Dt)|0,v=v+Math.imul($e,Bt)|0,B=B+Math.imul($e,Dt)|0,T=T+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,zt)|0,v=v+Math.imul(Ke,Ot)|0,B=B+Math.imul(Ke,zt)|0,T=T+Math.imul(fe,Wt)|0,v=v+Math.imul(fe,Ft)|0,v=v+Math.imul(ae,Wt)|0,B=B+Math.imul(ae,Ft)|0,T=T+Math.imul(Te,Ut)|0,v=v+Math.imul(Te,$t)|0,v=v+Math.imul(Ce,Ut)|0,B=B+Math.imul(Ce,$t)|0,T=T+Math.imul(ge,Ht)|0,v=v+Math.imul(ge,Vt)|0,v=v+Math.imul(be,Ht)|0,B=B+Math.imul(be,Vt)|0,T=T+Math.imul(se,Kt)|0,v=v+Math.imul(se,At)|0,v=v+Math.imul(re,Kt)|0,B=B+Math.imul(re,At)|0,T=T+Math.imul(Z,Yt)|0,v=v+Math.imul(Z,qt)|0,v=v+Math.imul(ne,Yt)|0,B=B+Math.imul(ne,qt)|0;var Tc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Tc>>>26)|0,Tc&=67108863,T=Math.imul(G,Ne),v=Math.imul(G,kt),v=v+Math.imul(te,Ne)|0,B=Math.imul(te,kt),T=T+Math.imul(N,Et)|0,v=v+Math.imul(N,Mt)|0,v=v+Math.imul(U,Et)|0,B=B+Math.imul(U,Mt)|0,T=T+Math.imul(st,Bt)|0,v=v+Math.imul(st,Dt)|0,v=v+Math.imul(O,Bt)|0,B=B+Math.imul(O,Dt)|0,T=T+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,zt)|0,v=v+Math.imul($e,Ot)|0,B=B+Math.imul($e,zt)|0,T=T+Math.imul(Pe,Wt)|0,v=v+Math.imul(Pe,Ft)|0,v=v+Math.imul(Ke,Wt)|0,B=B+Math.imul(Ke,Ft)|0,T=T+Math.imul(fe,Ut)|0,v=v+Math.imul(fe,$t)|0,v=v+Math.imul(ae,Ut)|0,B=B+Math.imul(ae,$t)|0,T=T+Math.imul(Te,Ht)|0,v=v+Math.imul(Te,Vt)|0,v=v+Math.imul(Ce,Ht)|0,B=B+Math.imul(Ce,Vt)|0,T=T+Math.imul(ge,Kt)|0,v=v+Math.imul(ge,At)|0,v=v+Math.imul(be,Kt)|0,B=B+Math.imul(be,At)|0,T=T+Math.imul(se,Yt)|0,v=v+Math.imul(se,qt)|0,v=v+Math.imul(re,Yt)|0,B=B+Math.imul(re,qt)|0;var Rc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Rc>>>26)|0,Rc&=67108863,T=Math.imul(G,Et),v=Math.imul(G,Mt),v=v+Math.imul(te,Et)|0,B=Math.imul(te,Mt),T=T+Math.imul(N,Bt)|0,v=v+Math.imul(N,Dt)|0,v=v+Math.imul(U,Bt)|0,B=B+Math.imul(U,Dt)|0,T=T+Math.imul(st,Ot)|0,v=v+Math.imul(st,zt)|0,v=v+Math.imul(O,Ot)|0,B=B+Math.imul(O,zt)|0,T=T+Math.imul(Be,Wt)|0,v=v+Math.imul(Be,Ft)|0,v=v+Math.imul($e,Wt)|0,B=B+Math.imul($e,Ft)|0,T=T+Math.imul(Pe,Ut)|0,v=v+Math.imul(Pe,$t)|0,v=v+Math.imul(Ke,Ut)|0,B=B+Math.imul(Ke,$t)|0,T=T+Math.imul(fe,Ht)|0,v=v+Math.imul(fe,Vt)|0,v=v+Math.imul(ae,Ht)|0,B=B+Math.imul(ae,Vt)|0,T=T+Math.imul(Te,Kt)|0,v=v+Math.imul(Te,At)|0,v=v+Math.imul(Ce,Kt)|0,B=B+Math.imul(Ce,At)|0,T=T+Math.imul(ge,Yt)|0,v=v+Math.imul(ge,qt)|0,v=v+Math.imul(be,Yt)|0,B=B+Math.imul(be,qt)|0;var Lc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Lc>>>26)|0,Lc&=67108863,T=Math.imul(G,Bt),v=Math.imul(G,Dt),v=v+Math.imul(te,Bt)|0,B=Math.imul(te,Dt),T=T+Math.imul(N,Ot)|0,v=v+Math.imul(N,zt)|0,v=v+Math.imul(U,Ot)|0,B=B+Math.imul(U,zt)|0,T=T+Math.imul(st,Wt)|0,v=v+Math.imul(st,Ft)|0,v=v+Math.imul(O,Wt)|0,B=B+Math.imul(O,Ft)|0,T=T+Math.imul(Be,Ut)|0,v=v+Math.imul(Be,$t)|0,v=v+Math.imul($e,Ut)|0,B=B+Math.imul($e,$t)|0,T=T+Math.imul(Pe,Ht)|0,v=v+Math.imul(Pe,Vt)|0,v=v+Math.imul(Ke,Ht)|0,B=B+Math.imul(Ke,Vt)|0,T=T+Math.imul(fe,Kt)|0,v=v+Math.imul(fe,At)|0,v=v+Math.imul(ae,Kt)|0,B=B+Math.imul(ae,At)|0,T=T+Math.imul(Te,Yt)|0,v=v+Math.imul(Te,qt)|0,v=v+Math.imul(Ce,Yt)|0,B=B+Math.imul(Ce,qt)|0;var Ba=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Ba>>>26)|0,Ba&=67108863,T=Math.imul(G,Ot),v=Math.imul(G,zt),v=v+Math.imul(te,Ot)|0,B=Math.imul(te,zt),T=T+Math.imul(N,Wt)|0,v=v+Math.imul(N,Ft)|0,v=v+Math.imul(U,Wt)|0,B=B+Math.imul(U,Ft)|0,T=T+Math.imul(st,Ut)|0,v=v+Math.imul(st,$t)|0,v=v+Math.imul(O,Ut)|0,B=B+Math.imul(O,$t)|0,T=T+Math.imul(Be,Ht)|0,v=v+Math.imul(Be,Vt)|0,v=v+Math.imul($e,Ht)|0,B=B+Math.imul($e,Vt)|0,T=T+Math.imul(Pe,Kt)|0,v=v+Math.imul(Pe,At)|0,v=v+Math.imul(Ke,Kt)|0,B=B+Math.imul(Ke,At)|0,T=T+Math.imul(fe,Yt)|0,v=v+Math.imul(fe,qt)|0,v=v+Math.imul(ae,Yt)|0,B=B+Math.imul(ae,qt)|0;var Pc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Pc>>>26)|0,Pc&=67108863,T=Math.imul(G,Wt),v=Math.imul(G,Ft),v=v+Math.imul(te,Wt)|0,B=Math.imul(te,Ft),T=T+Math.imul(N,Ut)|0,v=v+Math.imul(N,$t)|0,v=v+Math.imul(U,Ut)|0,B=B+Math.imul(U,$t)|0,T=T+Math.imul(st,Ht)|0,v=v+Math.imul(st,Vt)|0,v=v+Math.imul(O,Ht)|0,B=B+Math.imul(O,Vt)|0,T=T+Math.imul(Be,Kt)|0,v=v+Math.imul(Be,At)|0,v=v+Math.imul($e,Kt)|0,B=B+Math.imul($e,At)|0,T=T+Math.imul(Pe,Yt)|0,v=v+Math.imul(Pe,qt)|0,v=v+Math.imul(Ke,Yt)|0,B=B+Math.imul(Ke,qt)|0;var Bc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Bc>>>26)|0,Bc&=67108863,T=Math.imul(G,Ut),v=Math.imul(G,$t),v=v+Math.imul(te,Ut)|0,B=Math.imul(te,$t),T=T+Math.imul(N,Ht)|0,v=v+Math.imul(N,Vt)|0,v=v+Math.imul(U,Ht)|0,B=B+Math.imul(U,Vt)|0,T=T+Math.imul(st,Kt)|0,v=v+Math.imul(st,At)|0,v=v+Math.imul(O,Kt)|0,B=B+Math.imul(O,At)|0,T=T+Math.imul(Be,Yt)|0,v=v+Math.imul(Be,qt)|0,v=v+Math.imul($e,Yt)|0,B=B+Math.imul($e,qt)|0;var Dc=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Dc>>>26)|0,Dc&=67108863,T=Math.imul(G,Ht),v=Math.imul(G,Vt),v=v+Math.imul(te,Ht)|0,B=Math.imul(te,Vt),T=T+Math.imul(N,Kt)|0,v=v+Math.imul(N,At)|0,v=v+Math.imul(U,Kt)|0,B=B+Math.imul(U,At)|0,T=T+Math.imul(st,Yt)|0,v=v+Math.imul(st,qt)|0,v=v+Math.imul(O,Yt)|0,B=B+Math.imul(O,qt)|0;var Mo=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,T=Math.imul(G,Kt),v=Math.imul(G,At),v=v+Math.imul(te,Kt)|0,B=Math.imul(te,At),T=T+Math.imul(N,Yt)|0,v=v+Math.imul(N,qt)|0,v=v+Math.imul(U,Yt)|0,B=B+Math.imul(U,qt)|0;var S0=(P+T|0)+((v&8191)<<13)|0;P=(B+(v>>>13)|0)+(S0>>>26)|0,S0&=67108863,T=Math.imul(G,Yt),v=Math.imul(G,qt),v=v+Math.imul(te,Yt)|0,B=Math.imul(te,qt);var _0=(P+T|0)+((v&8191)<<13)|0;return P=(B+(v>>>13)|0)+(_0>>>26)|0,_0&=67108863,j[0]=kc,j[1]=Ec,j[2]=Nc,j[3]=Mc,j[4]=Ac,j[5]=Pa,j[6]=Ic,j[7]=jc,j[8]=Cc,j[9]=Tc,j[10]=Rc,j[11]=Lc,j[12]=Ba,j[13]=Pc,j[14]=Bc,j[15]=Dc,j[16]=Mo,j[17]=S0,j[18]=_0,P!==0&&(j[19]=P,k.length++),k};Math.imul||(S=g);function _(A,f,x){x.negative=f.negative^A.negative,x.length=A.length+f.length;for(var k=0,I=0,C=0;C<x.length-1;C++){var j=I;I=0;for(var P=k&67108863,T=Math.min(C,f.length-1),v=Math.max(0,C-A.length+1);v<=T;v++){var B=C-v,Q=A.words[B]|0,Z=f.words[v]|0,ne=Q*Z,J=ne&67108863;j=j+(ne/67108864|0)|0,J=J+P|0,P=J&67108863,j=j+(J>>>26)|0,I+=j>>>26,j&=67108863}x.words[C]=P,k=j,j=I}return k!==0?x.words[C]=k:x.length--,x._strip()}function M(A,f,x){return _(A,f,x)}i.prototype.mulTo=function(f,x){var k,I=this.length+f.length;return this.length===10&&f.length===10?k=S(this,f,x):I<63?k=g(this,f,x):I<1024?k=_(this,f,x):k=M(this,f,x),k},i.prototype.mul=function(f){var x=new i(null);return x.words=new Array(this.length+f.length),this.mulTo(f,x)},i.prototype.mulf=function(f){var x=new i(null);return x.words=new Array(this.length+f.length),M(this,f,x)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var x=f<0;x&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var k=0,I=0;I<this.length;I++){var C=(this.words[I]|0)*f,j=(C&67108863)+(k&67108863);k>>=26,k+=C/67108864|0,k+=j>>>26,this.words[I]=j&67108863}return k!==0&&(this.words[I]=k,this.length++),this.length=f===0?1:this.length,x?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var x=b(f);if(x.length===0)return new i(1);for(var k=this,I=0;I<x.length&&x[I]===0;I++,k=k.sqr());if(++I<x.length)for(var C=k.sqr();I<x.length;I++,C=C.sqr())x[I]!==0&&(k=k.mul(C));return k},i.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26,I=67108863>>>26-x<<26-x,C;if(x!==0){var j=0;for(C=0;C<this.length;C++){var P=this.words[C]&I,T=(this.words[C]|0)-P<<x;this.words[C]=T|j,j=P>>>26-x}j&&(this.words[C]=j,this.length++)}if(k!==0){for(C=this.length-1;C>=0;C--)this.words[C+k]=this.words[C];for(C=0;C<k;C++)this.words[C]=0;this.length+=k}return this._strip()},i.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,x,k){r(typeof f=="number"&&f>=0);var I;x?I=(x-x%26)/26:I=0;var C=f%26,j=Math.min((f-C)/26,this.length),P=67108863^67108863>>>C<<C,T=k;if(I-=j,I=Math.max(0,I),T){for(var v=0;v<j;v++)T.words[v]=this.words[v];T.length=j}if(j!==0)if(this.length>j)for(this.length-=j,v=0;v<this.length;v++)this.words[v]=this.words[v+j];else this.words[0]=0,this.length=1;var B=0;for(v=this.length-1;v>=0&&(B!==0||v>=I);v--){var Q=this.words[v]|0;this.words[v]=B<<26-C|Q>>>C,B=Q&P}return T&&B!==0&&(T.words[T.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,x,k){return r(this.negative===0),this.iushrn(f,x,k)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26,I=1<<x;if(this.length<=k)return!1;var C=this.words[k];return!!(C&I)},i.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(x!==0&&k++,this.length=Math.min(k,this.length),x!==0){var I=67108863^67108863>>>x<<x;this.words[this.length-1]&=I}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},i.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,x,k){var I=f.length+k,C;this._expand(I);var j,P=0;for(C=0;C<f.length;C++){j=(this.words[C+k]|0)+P;var T=(f.words[C]|0)*x;j-=T&67108863,P=(j>>26)-(T/67108864|0),this.words[C+k]=j&67108863}for(;C<this.length-k;C++)j=(this.words[C+k]|0)+P,P=j>>26,this.words[C+k]=j&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,C=0;C<this.length;C++)j=-(this.words[C]|0)+P,P=j>>26,this.words[C]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,x){var k=this.length-f.length,I=this.clone(),C=f,j=C.words[C.length-1]|0,P=this._countBits(j);k=26-P,k!==0&&(C=C.ushln(k),I.iushln(k),j=C.words[C.length-1]|0);var T=I.length-C.length,v;if(x!=="mod"){v=new i(null),v.length=T+1,v.words=new Array(v.length);for(var B=0;B<v.length;B++)v.words[B]=0}var Q=I.clone()._ishlnsubmul(C,1,T);Q.negative===0&&(I=Q,v&&(v.words[T]=1));for(var Z=T-1;Z>=0;Z--){var ne=(I.words[C.length+Z]|0)*67108864+(I.words[C.length+Z-1]|0);for(ne=Math.min(ne/j|0,67108863),I._ishlnsubmul(C,ne,Z);I.negative!==0;)ne--,I.negative=0,I._ishlnsubmul(C,1,Z),I.isZero()||(I.negative^=1);v&&(v.words[Z]=ne)}return v&&v._strip(),I._strip(),x!=="div"&&k!==0&&I.iushrn(k),{div:v||null,mod:I}},i.prototype.divmod=function(f,x,k){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var I,C,j;return this.negative!==0&&f.negative===0?(j=this.neg().divmod(f,x),x!=="mod"&&(I=j.div.neg()),x!=="div"&&(C=j.mod.neg(),k&&C.negative!==0&&C.iadd(f)),{div:I,mod:C}):this.negative===0&&f.negative!==0?(j=this.divmod(f.neg(),x),x!=="mod"&&(I=j.div.neg()),{div:I,mod:j.mod}):this.negative&f.negative?(j=this.neg().divmod(f.neg(),x),x!=="div"&&(C=j.mod.neg(),k&&C.negative!==0&&C.isub(f)),{div:j.div,mod:C}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?x==="div"?{div:this.divn(f.words[0]),mod:null}:x==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,x)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var x=this.divmod(f);if(x.mod.isZero())return x.div;var k=x.div.negative!==0?x.mod.isub(f):x.mod,I=f.ushrn(1),C=f.andln(1),j=k.cmp(I);return j<0||C===1&&j===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},i.prototype.modrn=function(f){var x=f<0;x&&(f=-f),r(f<=67108863);for(var k=(1<<26)%f,I=0,C=this.length-1;C>=0;C--)I=(k*I+(this.words[C]|0))%f;return x?-I:I},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var x=f<0;x&&(f=-f),r(f<=67108863);for(var k=0,I=this.length-1;I>=0;I--){var C=(this.words[I]|0)+k*67108864;this.words[I]=C/f|0,k=C%f}return this._strip(),x?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var x=this,k=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var I=new i(1),C=new i(0),j=new i(0),P=new i(1),T=0;x.isEven()&&k.isEven();)x.iushrn(1),k.iushrn(1),++T;for(var v=k.clone(),B=x.clone();!x.isZero();){for(var Q=0,Z=1;!(x.words[0]&Z)&&Q<26;++Q,Z<<=1);if(Q>0)for(x.iushrn(Q);Q-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(v),C.isub(B)),I.iushrn(1),C.iushrn(1);for(var ne=0,J=1;!(k.words[0]&J)&&ne<26;++ne,J<<=1);if(ne>0)for(k.iushrn(ne);ne-- >0;)(j.isOdd()||P.isOdd())&&(j.iadd(v),P.isub(B)),j.iushrn(1),P.iushrn(1);x.cmp(k)>=0?(x.isub(k),I.isub(j),C.isub(P)):(k.isub(x),j.isub(I),P.isub(C))}return{a:j,b:P,gcd:k.iushln(T)}},i.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var x=this,k=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var I=new i(1),C=new i(0),j=k.clone();x.cmpn(1)>0&&k.cmpn(1)>0;){for(var P=0,T=1;!(x.words[0]&T)&&P<26;++P,T<<=1);if(P>0)for(x.iushrn(P);P-- >0;)I.isOdd()&&I.iadd(j),I.iushrn(1);for(var v=0,B=1;!(k.words[0]&B)&&v<26;++v,B<<=1);if(v>0)for(k.iushrn(v);v-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);x.cmp(k)>=0?(x.isub(k),I.isub(C)):(k.isub(x),C.isub(I))}var Q;return x.cmpn(1)===0?Q=I:Q=C,Q.cmpn(0)<0&&Q.iadd(f),Q},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var x=this.clone(),k=f.clone();x.negative=0,k.negative=0;for(var I=0;x.isEven()&&k.isEven();I++)x.iushrn(1),k.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;k.isEven();)k.iushrn(1);var C=x.cmp(k);if(C<0){var j=x;x=k,k=j}else if(C===0||k.cmpn(1)===0)break;x.isub(k)}while(!0);return k.iushln(I)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){r(typeof f=="number");var x=f%26,k=(f-x)/26,I=1<<x;if(this.length<=k)return this._expand(k+1),this.words[k]|=I,this;for(var C=I,j=k;C!==0&&j<this.length;j++){var P=this.words[j]|0;P+=C,C=P>>>26,P&=67108863,this.words[j]=P}return C!==0&&(this.words[j]=C,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var x=f<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var k;if(this.length>1)k=1;else{x&&(f=-f),r(f<=67108863,"Number is too big");var I=this.words[0]|0;k=I===f?0:I<f?-1:1}return this.negative!==0?-k|0:k},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var x=this.ucmp(f);return this.negative!==0?-x|0:x},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var x=0,k=this.length-1;k>=0;k--){var I=this.words[k]|0,C=f.words[k]|0;if(I!==C){I<C?x=-1:I>C&&(x=1);break}}return x},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new H(f)},i.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var R={k256:null,p224:null,p192:null,p25519:null};function W(A,f){this.name=A,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},W.prototype.ireduce=function(f){var x=f,k;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),k=x.bitLength();while(k>this.n);var I=k<this.n?-1:x.ucmp(this.p);return I===0?(x.words[0]=0,x.length=1):I>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},W.prototype.split=function(f,x){f.iushrn(this.n,0,x)},W.prototype.imulK=function(f){return f.imul(this.k)};function D(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,W),D.prototype.split=function(f,x){for(var k=4194303,I=Math.min(f.length,9),C=0;C<I;C++)x.words[C]=f.words[C];if(x.length=I,f.length<=9){f.words[0]=0,f.length=1;return}var j=f.words[9];for(x.words[x.length++]=j&k,C=10;C<f.length;C++){var P=f.words[C]|0;f.words[C-10]=(P&k)<<4|j>>>22,j=P}j>>>=22,f.words[C-10]=j,j===0&&f.length>10?f.length-=10:f.length-=9},D.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var x=0,k=0;k<f.length;k++){var I=f.words[k]|0;x+=I*977,f.words[k]=x&67108863,x=I*64+(x/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function L(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(L,W);function F(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(F,W);function $(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s($,W),$.prototype.imulK=function(f){for(var x=0,k=0;k<f.length;k++){var I=(f.words[k]|0)*19+x,C=I&67108863;I>>>=26,f.words[k]=C,x=I}return x!==0&&(f.words[f.length++]=x),f},i._prime=function(f){if(R[f])return R[f];var x;if(f==="k256")x=new D;else if(f==="p224")x=new L;else if(f==="p192")x=new F;else if(f==="p25519")x=new $;else throw new Error("Unknown prime "+f);return R[f]=x,x};function H(A){if(typeof A=="string"){var f=i._prime(A);this.m=f.p,this.prime=f}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}H.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},H.prototype._verify2=function(f,x){r((f.negative|x.negative)===0,"red works only with positives"),r(f.red&&f.red===x.red,"red works only with red numbers")},H.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(d(f,f.umod(this.m)._forceRed(this)),f)},H.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},H.prototype.add=function(f,x){this._verify2(f,x);var k=f.add(x);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},H.prototype.iadd=function(f,x){this._verify2(f,x);var k=f.iadd(x);return k.cmp(this.m)>=0&&k.isub(this.m),k},H.prototype.sub=function(f,x){this._verify2(f,x);var k=f.sub(x);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},H.prototype.isub=function(f,x){this._verify2(f,x);var k=f.isub(x);return k.cmpn(0)<0&&k.iadd(this.m),k},H.prototype.shl=function(f,x){return this._verify1(f),this.imod(f.ushln(x))},H.prototype.imul=function(f,x){return this._verify2(f,x),this.imod(f.imul(x))},H.prototype.mul=function(f,x){return this._verify2(f,x),this.imod(f.mul(x))},H.prototype.isqr=function(f){return this.imul(f,f.clone())},H.prototype.sqr=function(f){return this.mul(f,f)},H.prototype.sqrt=function(f){if(f.isZero())return f.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var k=this.m.add(new i(1)).iushrn(2);return this.pow(f,k)}for(var I=this.m.subn(1),C=0;!I.isZero()&&I.andln(1)===0;)C++,I.iushrn(1);r(!I.isZero());var j=new i(1).toRed(this),P=j.redNeg(),T=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,T).cmp(P)!==0;)v.redIAdd(P);for(var B=this.pow(v,I),Q=this.pow(f,I.addn(1).iushrn(1)),Z=this.pow(f,I),ne=C;Z.cmp(j)!==0;){for(var J=Z,se=0;J.cmp(j)!==0;se++)J=J.redSqr();r(se<ne);var re=this.pow(B,new i(1).iushln(ne-se-1));Q=Q.redMul(re),B=re.redSqr(),Z=Z.redMul(B),ne=se}return Q},H.prototype.invm=function(f){var x=f._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},H.prototype.pow=function(f,x){if(x.isZero())return new i(1).toRed(this);if(x.cmpn(1)===0)return f.clone();var k=4,I=new Array(1<<k);I[0]=new i(1).toRed(this),I[1]=f;for(var C=2;C<I.length;C++)I[C]=this.mul(I[C-1],f);var j=I[0],P=0,T=0,v=x.bitLength()%26;for(v===0&&(v=26),C=x.length-1;C>=0;C--){for(var B=x.words[C],Q=v-1;Q>=0;Q--){var Z=B>>Q&1;if(j!==I[0]&&(j=this.sqr(j)),Z===0&&P===0){T=0;continue}P<<=1,P|=Z,T++,!(T!==k&&(C!==0||Q!==0))&&(j=this.mul(j,I[P]),T=0,P=0)}v=26}return j},H.prototype.convertTo=function(f){var x=f.umod(this.m);return x===f?x.clone():x},H.prototype.convertFrom=function(f){var x=f.clone();return x.red=null,x},i.mont=function(f){return new K(f)};function K(A){H.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(K,H),K.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},K.prototype.convertFrom=function(f){var x=this.imod(f.mul(this.rinv));return x.red=null,x},K.prototype.imul=function(f,x){if(f.isZero()||x.isZero())return f.words[0]=0,f.length=1,f;var k=f.imul(x),I=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(I).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},K.prototype.mul=function(f,x){if(f.isZero()||x.isZero())return new i(0)._forceRed(this);var k=f.mul(x),I=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(I).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},K.prototype.invm=function(f){var x=this.imod(f._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,cs)})(Lw);var _M=Lw.exports;const M2=Ea(_M);var Zy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Ae,r=n.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,l){return r(o,a,l)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},i.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Zy,Zy.exports);var kM=Zy.exports,Ah=kM.Buffer;function TR(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Ah.from(m)),!Ah.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var M=m[b],R=0,W=S-1;(M!==0||R<w)&&W!==-1;W--,R++)M+=256*_[W]>>>0,_[W]=M%o>>>0,M=M/o>>>0;if(M!==0)throw new Error("Non-zero carry");w=R,b++}for(var D=S-w;D!==S&&_[D]===0;)D++;for(var L=a.repeat(y);D<S;++D)L+=t.charAt(_[D]);return L}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Ah.alloc(0);for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);y<m.length;){var _=m.charCodeAt(y);if(_>255)return;var M=e[_];if(M===255)return;for(var R=0,W=g-1;(M!==0||R<b)&&W!==-1;W--,R++)M+=o*S[W]>>>0,S[W]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");b=R,y++}for(var D=g-b;D!==g&&S[D]===0;)D++;var L=Ah.allocUnsafe(w+(g-D));L.fill(0,0,w);for(var F=w;D!==g;)L[F++]=S[D++];return L}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var RR=TR,LR=RR,PR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",BR=LR(PR);const In=Ea(BR),A2=nM;var An={},Ih=kM.Buffer;function DR(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Ih.from(m)),!Ih.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var M=m[b],R=0,W=S-1;(M!==0||R<w)&&W!==-1;W--,R++)M+=256*_[W]>>>0,_[W]=M%o>>>0,M=M/o>>>0;if(M!==0)throw new Error("Non-zero carry");w=R,b++}for(var D=S-w;D!==S&&_[D]===0;)D++;for(var L=a.repeat(y);D<S;++D)L+=t.charAt(_[D]);return L}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Ih.alloc(0);for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);y<m.length;){var _=m.charCodeAt(y);if(_>255)return;var M=e[_];if(M===255)return;for(var R=0,W=g-1;(M!==0||R<b)&&W!==-1;W--,R++)M+=o*S[W]>>>0,S[W]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");b=R,y++}for(var D=g-b;D!==g&&S[D]===0;)D++;var L=Ih.allocUnsafe(w+(g-D));L.fill(0,0,w);for(var F=w;D!==g;)L[F++]=S[D++];return L}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var OR=DR,zR=OR,WR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",FR=zR(WR);function ri(t,e,n){return e<=t&&t<=n}function Pm(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function UR(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,l=o&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function $R(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Tp=-1;function Pw(t){this.tokens=[].slice.call(t)}Pw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Tp},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Yl=-1;function sg(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Rp="utf-8";function Lp(t,e){if(!(this instanceof Lp))return new Lp(t,e);if(t=t!==void 0?String(t).toLowerCase():Rp,t!==Rp)throw new Error("Encoding not supported. Only utf-8 is supported");e=Pm(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Lp.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Pm(n),this._streaming||(this._decoder=new HR({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Pw(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Yl);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Yl)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),$R(i)}};function Pp(t,e){if(!(this instanceof Pp))return new Pp(t,e);if(t=t!==void 0?String(t).toLowerCase():Rp,t!==Rp)throw new Error("Encoding not supported. Only utf-8 is supported");e=Pm(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Pp.prototype={encode:function(e,n){e=e?String(e):"",n=Pm(n),this._streaming||(this._encoder=new VR(this._options)),this._streaming=!!n.stream;for(var r=[],s=new Pw(UR(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Yl);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Yl;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function HR(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,l){if(l===Tp&&s!==0)return s=0,sg(e);if(l===Tp)return Yl;if(s===0){if(ri(l,0,127))return l;if(ri(l,194,223))s=1,n=l-192;else if(ri(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,n=l-224;else if(ri(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,n=l-240;else return sg(e);return n=n<<6*s,null}if(!ri(l,i,o))return n=s=r=0,i=128,o=191,a.prepend(l),sg(e);if(i=128,o=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var c=n;return n=s=r=0,c}}function VR(t){t.fatal,this.handler=function(e,n){if(n===Tp)return Yl;if(ri(n,0,127))return n;var r,s;ri(n,128,2047)?(r=1,s=192):ri(n,2048,65535)?(r=2,s=224):ri(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const KR=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Lp,TextEncoder:Pp},Symbol.toStringTag,{value:"Module"})),YR=Si(KR);var qR=cs&&cs.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),GR=cs&&cs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ds=cs&&cs.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},ZR=cs&&cs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&qR(e,t,n);return GR(e,t),e},EM=cs&&cs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(An,"__esModule",{value:!0});var NM=An.deserializeUnchecked=TM=An.deserialize=CM=An.serialize=An.BinaryReader=An.BinaryWriter=An.BorshError=An.baseDecode=An.baseEncode=void 0;const Gi=EM(_M),MM=EM(FR),QR=ZR(YR),XR=typeof TextDecoder!="function"?QR.TextDecoder:TextDecoder,JR=new XR("utf-8",{fatal:!0});function e8(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),MM.default.encode(Buffer.from(t))}An.baseEncode=e8;function t8(t){return Buffer.from(MM.default.decode(t))}An.baseDecode=t8;const ig=1024;class Qn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}An.BorshError=Qn;class AM{constructor(){this.buf=Buffer.alloc(ig),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ig)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gi.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gi.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gi.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gi.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(ig)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}An.BinaryWriter=AM;function Os(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Qn("Reached the end of buffer when deserializing")}throw i}}}class Ir{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Gi.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Gi.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Gi.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Gi.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Qn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return JR.decode(n)}catch(r){throw new Qn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}Ds([Os],Ir.prototype,"readU8",null);Ds([Os],Ir.prototype,"readU16",null);Ds([Os],Ir.prototype,"readU32",null);Ds([Os],Ir.prototype,"readU64",null);Ds([Os],Ir.prototype,"readU128",null);Ds([Os],Ir.prototype,"readU256",null);Ds([Os],Ir.prototype,"readU512",null);Ds([Os],Ir.prototype,"readString",null);Ds([Os],Ir.prototype,"readFixedArray",null);Ds([Os],Ir.prototype,"readArray",null);An.BinaryReader=Ir;function IM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zo(t,e,n,r,s){try{if(typeof r=="string")s[`write${IM(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Qn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Qn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)zo(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{zo(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),zo(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{zo(t,e,o,r.key,s),zo(t,e,i,r.value,s)});break}default:throw new Qn(`FieldType ${r} unrecognized`)}else jM(t,n,s)}catch(i){throw i instanceof Qn&&i.addToFieldPath(e),i}}function jM(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Qn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{zo(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),zo(t,o,e[o],a,n);break}}}else throw new Qn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function n8(t,e,n=AM){const r=new n;return jM(t,e,r),r.toArray()}var CM=An.serialize=n8;function Wo(t,e,n,r){try{if(typeof n=="string")return r[`read${IM(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Wo(t,null,n[0],r));return s}else return r.readArray(()=>Wo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Wo(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=Wo(t,e,n.key,r),l=Wo(t,e,n.value,r);s.set(a,l)}return s}return Bw(t,n,r)}catch(s){throw s instanceof Qn&&s.addToFieldPath(e),s}}function Bw(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Qn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=Wo(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Qn(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=Wo(t,i,o,n);return new e({[i]:a})}throw new Qn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function r8(t,e,n,r=Ir){const s=new r(n),i=Bw(t,e,s);if(s.offset<n.length)throw new Qn(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var TM=An.deserialize=r8;function s8(t,e,n,r=Ir){const s=new r(n);return Bw(t,e,s)}NM=An.deserializeUnchecked=s8;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.s16=ee.s8=ee.nu64be=ee.u48be=ee.u40be=ee.u32be=ee.u24be=ee.u16be=En=ee.nu64=ee.u48=ee.u40=xe=ee.u32=ee.u24=Lr=ee.u16=Xe=ee.u8=ho=ee.offset=ee.greedy=ee.Constant=ee.UTF8=ee.CString=ee.Blob=ee.Boolean=ee.BitField=ee.BitStructure=ee.VariantLayout=ee.Union=ee.UnionLayoutDiscriminator=ee.UnionDiscriminator=ee.Structure=ee.Sequence=ee.DoubleBE=ee.Double=ee.FloatBE=ee.Float=ee.NearInt64BE=ee.NearInt64=ee.NearUInt64BE=ee.NearUInt64=ee.IntBE=ee.Int=ee.UIntBE=ee.UInt=ee.OffsetLayout=ee.GreedyCount=ee.ExternalLayout=ee.bindConstructorLayout=ee.nameWithProperty=ee.Layout=ee.uint8ArrayToBuffer=ee.checkUint8Array=void 0;ee.constant=ee.utf8=ee.cstr=bt=ee.blob=ee.unionLayoutDiscriminator=ee.union=jn=ee.seq=ee.bits=we=ee.struct=ee.f64be=ee.f64=ee.f32be=ee.f32=ee.ns64be=ee.s48be=ee.s40be=ee.s32be=ee.s24be=ee.s16be=wr=ee.ns64=ee.s48=ee.s40=ee.s32=ee.s24=void 0;const Dw=Ae;function xc(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ee.checkUint8Array=xc;function rt(t){return xc(t),Dw.Buffer.from(t.buffer,t.byteOffset,t.length)}ee.uint8ArrayToBuffer=rt;class ut{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}ee.Layout=ut;function Ow(t,e){return e.property?t+"["+e.property+"]":t}ee.nameWithProperty=Ow;function i8(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ut))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}ee.bindConstructorLayout=i8;class ar extends ut{isCount(){throw new Error("ExternalLayout is abstract")}}ee.ExternalLayout=ar;class RM extends ar{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){xc(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}ee.GreedyCount=RM;class zw extends ar{constructor(e,n=0,r){if(!(e instanceof ut))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof $r||this.layout instanceof os}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}ee.OffsetLayout=zw;class $r extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return rt(n).writeUIntLE(e,r,this.span),this.span}}ee.UInt=$r;class os extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return rt(n).writeUIntBE(e,r,this.span),this.span}}ee.UIntBE=os;class ja extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rt(e).readIntLE(n,this.span)}encode(e,n,r=0){return rt(n).writeIntLE(e,r,this.span),this.span}}ee.Int=ja;class wc extends ut{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rt(e).readIntBE(n,this.span)}encode(e,n,r=0){return rt(n).writeIntBE(e,r,this.span),this.span}}ee.IntBE=wc;const Qy=Math.pow(2,32);function Bm(t){const e=Math.floor(t/Qy),n=t-e*Qy;return{hi32:e,lo32:n}}function Dm(t,e){return t*Qy+e}class LM extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=rt(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Dm(i,s)}encode(e,n,r=0){const s=Bm(e),i=rt(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}ee.NearUInt64=LM;class PM extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=rt(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Dm(s,i)}encode(e,n,r=0){const s=Bm(e),i=rt(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}ee.NearUInt64BE=PM;class BM extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=rt(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Dm(i,s)}encode(e,n,r=0){const s=Bm(e),i=rt(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}ee.NearInt64=BM;class DM extends ut{constructor(e){super(8,e)}decode(e,n=0){const r=rt(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Dm(s,i)}encode(e,n,r=0){const s=Bm(e),i=rt(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}ee.NearInt64BE=DM;class OM extends ut{constructor(e){super(4,e)}decode(e,n=0){return rt(e).readFloatLE(n)}encode(e,n,r=0){return rt(n).writeFloatLE(e,r),4}}ee.Float=OM;class zM extends ut{constructor(e){super(4,e)}decode(e,n=0){return rt(e).readFloatBE(n)}encode(e,n,r=0){return rt(n).writeFloatBE(e,r),4}}ee.FloatBE=zM;class WM extends ut{constructor(e){super(8,e)}decode(e,n=0){return rt(e).readDoubleLE(n)}encode(e,n,r=0){return rt(n).writeDoubleLE(e,r),8}}ee.Double=WM;class FM extends ut{constructor(e){super(8,e)}decode(e,n=0){return rt(e).readDoubleBE(n)}encode(e,n,r=0){return rt(n).writeDoubleBE(e,r),8}}ee.DoubleBE=FM;class UM extends ut{constructor(e,n,r){if(!(e instanceof ut))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ar&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof ar)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof ar&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof ar&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof ar&&this.count.encode(e.length,n,r),i}}ee.Sequence=UM;class $M extends ut{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof ut,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){xc(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}ee.Structure=$M;class Ww{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}ee.UnionDiscriminator=Ww;class Bp extends Ww{constructor(e,n){if(!(e instanceof ar&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}ee.UnionLayoutDiscriminator=Bp;class Fw extends ut{constructor(e,n,r){let s;if(e instanceof $r||e instanceof os)s=new Bp(new zw(e));else if(e instanceof ar&&e.isCount())s=new Bp(e);else if(e instanceof Ww)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ut))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof $r||e instanceof os)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof $r||e instanceof os,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new HM(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}ee.Union=Fw;class HM extends ut{constructor(e,n,r,s){if(!(e instanceof Fw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof ut))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}ee.VariantLayout=HM;function qa(t){return 0>t&&(t+=4294967296),t}class Uw extends ut{constructor(e,n,r){if(!(e instanceof $r||e instanceof os))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=qa(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new $w(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new VM(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}ee.BitStructure=Uw;class $w{constructor(e,n,r){if(!(e instanceof Uw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=qa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return qa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==qa(e&this.valueMask))throw new TypeError(Ow("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=qa(e<<this.start);this.container._packedSetValue(qa(n&~this.wordMask)|r)}}ee.BitField=$w;let VM=class extends $w{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};ee.Boolean=VM;class KM extends ut{constructor(e,n){if(!(e instanceof ar&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ar||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),rt(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof ar&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(Ow("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=rt(e);return rt(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof ar&&this.length.encode(s,n,r),s}}ee.Blob=KM;class YM extends ut{constructor(e){super(-1,e)}getSpan(e,n=0){xc(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return rt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=Dw.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=rt(n);return s.copy(o,r),o[r+i]=0,i+1}}ee.CString=YM;class qM extends ut{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return xc(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return rt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=Dw.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(rt(n),r),i}}ee.UTF8=qM;class GM extends ut{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}ee.Constant=GM;ee.greedy=(t,e)=>new RM(t,e);var ho=ee.offset=(t,e,n)=>new zw(t,e,n),Xe=ee.u8=t=>new $r(1,t),Lr=ee.u16=t=>new $r(2,t);ee.u24=t=>new $r(3,t);var xe=ee.u32=t=>new $r(4,t);ee.u40=t=>new $r(5,t);ee.u48=t=>new $r(6,t);var En=ee.nu64=t=>new LM(t);ee.u16be=t=>new os(2,t);ee.u24be=t=>new os(3,t);ee.u32be=t=>new os(4,t);ee.u40be=t=>new os(5,t);ee.u48be=t=>new os(6,t);ee.nu64be=t=>new PM(t);ee.s8=t=>new ja(1,t);ee.s16=t=>new ja(2,t);ee.s24=t=>new ja(3,t);ee.s32=t=>new ja(4,t);ee.s40=t=>new ja(5,t);ee.s48=t=>new ja(6,t);var wr=ee.ns64=t=>new BM(t);ee.s16be=t=>new wc(2,t);ee.s24be=t=>new wc(3,t);ee.s32be=t=>new wc(4,t);ee.s40be=t=>new wc(5,t);ee.s48be=t=>new wc(6,t);ee.ns64be=t=>new DM(t);ee.f32=t=>new OM(t);ee.f32be=t=>new zM(t);ee.f64=t=>new WM(t);ee.f64be=t=>new FM(t);var we=ee.struct=(t,e,n)=>new $M(t,e,n);ee.bits=(t,e,n)=>new Uw(t,e,n);var jn=ee.seq=(t,e,n)=>new UM(t,e,n);ee.union=(t,e,n)=>new Fw(t,e,n);ee.unionLayoutDiscriminator=(t,e)=>new Bp(t,e);var bt=ee.blob=(t,e)=>new KM(t,e);ee.cstr=t=>new YM(t);ee.utf8=(t,e)=>new qM(t,e);ee.constant=(t,e)=>new GM(t,e);var o8=8078e3,a8=8078001,l8=8078004,c8=8078005,u8=8078006,d8=8078011;function ZM(t){return Array.isArray(t)?"%5B"+t.map(ZM).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function h8([t,e]){return`${t}=${ZM(e)}`}function f8(t){const e=Object.entries(t).map(h8).join("&");return btoa(e)}function p8(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${f8(e)}'`),`${n}\``}}var Al=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=p8(e,r);super(i,s);Se(this,"cause",this.cause);Se(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function m8(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function g8(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(m8(e,t));return t.write(e,n,0),n}})}function y8(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ua(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function x8(t,e){if(Ua(t)!==Ua(e))throw new Al(l8);if(Ua(t)&&Ua(e)&&t.fixedSize!==e.fixedSize)throw new Al(c8,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ua(t)&&!Ua(e)&&t.maxSize!==e.maxSize)throw new Al(u8,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function w8(t,e,n=0){if(e.length-n<=0)throw new Al(o8,{codecDescription:t})}function v8(t,e,n,r=0){const s=n.length-r;if(s<e)throw new Al(a8,{bytesLength:s,codecDescription:t,expected:e})}function b8(t,e,n,r){if(r<e||r>n)throw new Al(d8,{codecDescription:t,max:n,min:e,value:r})}function QM(t){return(t==null?void 0:t.endian)!==1}function S8(t){return g8({fixedSize:t.size,write(e,n,r){t.range&&b8(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,QM(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function _8(t){return y8({fixedSize:t.size,read(e,n=0){w8(t.name,e,n),v8(t.name,t.size,e,n);const r=new DataView(k8(e,n,t.size));return[t.get(r,QM(t.config)),n+t.size]}})}function k8(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var XM=(t={})=>S8({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),E8=(t={})=>_8({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),N8=(t={})=>x8(XM(t),E8(t));class M8 extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function A8(t){return $d(t)&&typeof t[Symbol.iterator]=="function"}function $d(t){return typeof t=="object"&&t!=null}function Dp(t){return $d(t)&&!Array.isArray(t)}function ds(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function I8(t){const{done:e,value:n}=t.next();return e?void 0:n}function j8(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ds(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*I2(t,e,n,r){A8(t)||(t=[t]);for(const s of t){const i=j8(s,e,n,r);i&&(yield i)}}function*Hw(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,h]of e.entries(t,a)){const p=Hw(d,h,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,d],coerce:i,mask:o,message:n.message});for(const m of p)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(d=m[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):$d(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let zs=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,c)=>{const d=s(l,c);return I2(d,c,this,l)}:this.validator=()=>[],i?this.refiner=(l,c)=>{const d=i(l,c);return I2(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return JM(e,this,n)}create(e,n){return he(e,this,n)}is(e){return e4(e,this)}mask(e,n){return C8(e,this,n)}validate(e,n={}){return Hd(e,this,n)}};function JM(t,e,n){const r=Hd(t,e,{message:n});if(r[0])throw r[0]}function he(t,e,n){const r=Hd(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function C8(t,e,n){const r=Hd(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function e4(t,e){return!Hd(t,e)[0]}function Hd(t,e,n={}){const r=Hw(t,e,n),s=I8(r);return s[0]?[new M8(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Ca(t,e){return new zs({type:t,schema:null,validator:e})}function T8(){return Ca("any",()=>!0)}function pe(t){return new zs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ds(e)}`}})}function Bs(){return Ca("boolean",t=>typeof t=="boolean")}function Vw(t){return Ca("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ds(e)}`)}function Ct(t){const e=ds(t),n=typeof t;return new zs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ds(r)}`}})}function R8(){return Ca("never",()=>!1)}function me(t){return new zs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function X(){return Ca("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ds(t)}`)}function Me(t){return new zs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function t4(t,e){return new zs({type:"record",schema:null,*entries(n){if($d(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return Dp(n)||`Expected an object, but received: ${ds(n)}`},coercer(n){return Dp(n)?{...n}:n}})}function de(){return Ca("string",t=>typeof t=="string"||`Expected a string, but received: ${ds(t)}`)}function Kw(t){const e=R8();return new zs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ds(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function oe(t){const e=Object.keys(t);return new zs({type:"type",schema:t,*entries(n){if($d(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Dp(n)||`Expected an object, but received: ${ds(n)}`},coercer(n){return Dp(n)?{...n}:n}})}function Jn(t){const e=t.map(n=>n.type).join(" | ");return new zs({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=Hw(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ds(n)}`,...s]}})}function vc(){return Ca("unknown",()=>!0)}function Vd(t,e,n){return new zs({...t,coercer:(r,s)=>e4(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var jh,L8=new Uint8Array(16);function n4(){if(!jh&&(jh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!jh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jh(L8)}const P8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Om(t){return typeof t=="string"&&P8.test(t)}var kn=[];for(var og=0;og<256;++og)kn.push((og+256).toString(16).substr(1));function zm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kn[t[e+0]]+kn[t[e+1]]+kn[t[e+2]]+kn[t[e+3]]+"-"+kn[t[e+4]]+kn[t[e+5]]+"-"+kn[t[e+6]]+kn[t[e+7]]+"-"+kn[t[e+8]]+kn[t[e+9]]+"-"+kn[t[e+10]]+kn[t[e+11]]+kn[t[e+12]]+kn[t[e+13]]+kn[t[e+14]]+kn[t[e+15]]).toLowerCase();if(!Om(n))throw TypeError("Stringified UUID is invalid");return n}var j2,ag,lg=0,cg=0;function B8(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||j2,o=t.clockseq!==void 0?t.clockseq:ag;if(i==null||o==null){var a=t.random||(t.rng||n4)();i==null&&(i=j2=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=ag=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:cg+1,d=l-lg+(c-cg)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||l>lg)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lg=l,cg=c,ag=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;s[r++]=h>>>24&255,s[r++]=h>>>16&255,s[r++]=h>>>8&255,s[r++]=h&255;var p=l/4294967296*1e4&268435455;s[r++]=p>>>8&255,s[r++]=p&255,s[r++]=p>>>24&15|16,s[r++]=p>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||zm(s)}function r4(t){if(!Om(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function D8(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var O8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",z8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function s4(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=D8(s)),typeof i=="string"&&(i=r4(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return zm(l)}try{r.name=t}catch{}return r.DNS=O8,r.URL=z8,r}function W8(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return F8(U8($8(t),t.length*8))}function F8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function i4(t){return(t+64>>>9<<4)+14+1}function U8(t,e){t[e>>5]|=128<<e%32,t[i4(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=s,d=i;n=On(n,r,s,i,t[o],7,-680876936),i=On(i,n,r,s,t[o+1],12,-389564586),s=On(s,i,n,r,t[o+2],17,606105819),r=On(r,s,i,n,t[o+3],22,-1044525330),n=On(n,r,s,i,t[o+4],7,-176418897),i=On(i,n,r,s,t[o+5],12,1200080426),s=On(s,i,n,r,t[o+6],17,-1473231341),r=On(r,s,i,n,t[o+7],22,-45705983),n=On(n,r,s,i,t[o+8],7,1770035416),i=On(i,n,r,s,t[o+9],12,-1958414417),s=On(s,i,n,r,t[o+10],17,-42063),r=On(r,s,i,n,t[o+11],22,-1990404162),n=On(n,r,s,i,t[o+12],7,1804603682),i=On(i,n,r,s,t[o+13],12,-40341101),s=On(s,i,n,r,t[o+14],17,-1502002290),r=On(r,s,i,n,t[o+15],22,1236535329),n=zn(n,r,s,i,t[o+1],5,-165796510),i=zn(i,n,r,s,t[o+6],9,-1069501632),s=zn(s,i,n,r,t[o+11],14,643717713),r=zn(r,s,i,n,t[o],20,-373897302),n=zn(n,r,s,i,t[o+5],5,-701558691),i=zn(i,n,r,s,t[o+10],9,38016083),s=zn(s,i,n,r,t[o+15],14,-660478335),r=zn(r,s,i,n,t[o+4],20,-405537848),n=zn(n,r,s,i,t[o+9],5,568446438),i=zn(i,n,r,s,t[o+14],9,-1019803690),s=zn(s,i,n,r,t[o+3],14,-187363961),r=zn(r,s,i,n,t[o+8],20,1163531501),n=zn(n,r,s,i,t[o+13],5,-1444681467),i=zn(i,n,r,s,t[o+2],9,-51403784),s=zn(s,i,n,r,t[o+7],14,1735328473),r=zn(r,s,i,n,t[o+12],20,-1926607734),n=Wn(n,r,s,i,t[o+5],4,-378558),i=Wn(i,n,r,s,t[o+8],11,-2022574463),s=Wn(s,i,n,r,t[o+11],16,1839030562),r=Wn(r,s,i,n,t[o+14],23,-35309556),n=Wn(n,r,s,i,t[o+1],4,-1530992060),i=Wn(i,n,r,s,t[o+4],11,1272893353),s=Wn(s,i,n,r,t[o+7],16,-155497632),r=Wn(r,s,i,n,t[o+10],23,-1094730640),n=Wn(n,r,s,i,t[o+13],4,681279174),i=Wn(i,n,r,s,t[o],11,-358537222),s=Wn(s,i,n,r,t[o+3],16,-722521979),r=Wn(r,s,i,n,t[o+6],23,76029189),n=Wn(n,r,s,i,t[o+9],4,-640364487),i=Wn(i,n,r,s,t[o+12],11,-421815835),s=Wn(s,i,n,r,t[o+15],16,530742520),r=Wn(r,s,i,n,t[o+2],23,-995338651),n=Fn(n,r,s,i,t[o],6,-198630844),i=Fn(i,n,r,s,t[o+7],10,1126891415),s=Fn(s,i,n,r,t[o+14],15,-1416354905),r=Fn(r,s,i,n,t[o+5],21,-57434055),n=Fn(n,r,s,i,t[o+12],6,1700485571),i=Fn(i,n,r,s,t[o+3],10,-1894986606),s=Fn(s,i,n,r,t[o+10],15,-1051523),r=Fn(r,s,i,n,t[o+1],21,-2054922799),n=Fn(n,r,s,i,t[o+8],6,1873313359),i=Fn(i,n,r,s,t[o+15],10,-30611744),s=Fn(s,i,n,r,t[o+6],15,-1560198380),r=Fn(r,s,i,n,t[o+13],21,1309151649),n=Fn(n,r,s,i,t[o+4],6,-145523070),i=Fn(i,n,r,s,t[o+11],10,-1120210379),s=Fn(s,i,n,r,t[o+2],15,718787259),r=Fn(r,s,i,n,t[o+9],21,-343485551),n=Zi(n,a),r=Zi(r,l),s=Zi(s,c),i=Zi(i,d)}return[n,r,s,i]}function $8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(i4(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Zi(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function H8(t,e){return t<<e|t>>>32-e}function Wm(t,e,n,r,s,i){return Zi(H8(Zi(Zi(e,t),Zi(r,i)),s),n)}function On(t,e,n,r,s,i,o){return Wm(e&n|~e&r,t,e,s,i,o)}function zn(t,e,n,r,s,i,o){return Wm(e&r|n&~r,t,e,s,i,o)}function Wn(t,e,n,r,s,i,o){return Wm(e^n^r,t,e,s,i,o)}function Fn(t,e,n,r,s,i,o){return Wm(n^(e|~r),t,e,s,i,o)}var V8=s4("v3",48,W8);function K8(t,e,n){t=t||{};var r=t.random||(t.rng||n4)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return zm(r)}function Y8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function ug(t,e){return t<<e|t>>>32-e}function q8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[h][m];for(var y=16;y<80;++y)p[y]=ug(p[y-3]^p[y-8]^p[y-14]^p[y-16],1);for(var w=n[0],b=n[1],g=n[2],S=n[3],_=n[4],M=0;M<80;++M){var R=Math.floor(M/20),W=ug(w,5)+Y8(R,b,g,S)+_+e[R]+p[M]>>>0;_=S,S=g,g=ug(b,30)>>>0,b=w,w=W}n[0]=n[0]+w>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+S>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var G8=s4("v5",80,q8);const Z8="00000000-0000-0000-0000-000000000000";function Q8(t){if(!Om(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const X8=Object.freeze(Object.defineProperty({__proto__:null,NIL:Z8,parse:r4,stringify:zm,v1:B8,v3:V8,v4:K8,v5:G8,validate:Om,version:Q8},Symbol.toStringTag,{value:"Module"})),o4=Si(X8),J8=o4.v4,eL=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return J8()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var tL=eL;const nL=o4.v4,rL=tL,fd=function(t,e){if(!(this instanceof fd))return new fd(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return nL()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var sL=fd;fd.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{i=rL(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,d){s._parseResponse(c,d,r)}),i};fd.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const iL=Ea(sL);var a4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,h||l,p),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,d,h,p,m,y){var w=n?n+c:c;if(!this._events[w])return!1;var b=this._events[w],g=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,p),!0;case 5:return b.fn.call(b.context,d,h,p,m),!0;case 6:return b.fn.call(b.context,d,h,p,m,y),!0}for(_=1,S=new Array(g-1);_<g;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var M=b.length,R;for(_=0;_<M;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),g){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,h);break;case 4:b[_].fn.call(b[_].context,d,h,p);break;default:if(!S)for(R=1,S=new Array(g-1);R<g;R++)S[R-1]=arguments[R];b[_].fn.apply(b[_].context,S)}}return!0},a.prototype.on=function(c,d,h){return i(this,c,d,h,!1)},a.prototype.once=function(c,d,h){return i(this,c,d,h,!0)},a.prototype.removeListener=function(c,d,h,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var w=0,b=[],g=y.length;w<g;w++)(y[w].fn!==d||p&&!y[w].once||h&&y[w].context!==h)&&b.push(y[w]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(a4);var oL=a4.exports;const Fm=Ea(oL);var aL=class extends Fm{constructor(e,n,r){super();Se(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function lL(t,e){return new aL(t,e)}var cL=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},uL=class extends Fm{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},l,c){super();Se(this,"address");Se(this,"rpc_id");Se(this,"queue");Se(this,"options");Se(this,"autoconnect");Se(this,"ready");Se(this,"reconnect");Se(this,"reconnect_timer_id");Se(this,"reconnect_interval");Se(this,"max_reconnects");Se(this,"rest_options");Se(this,"current_reconnects");Se(this,"generate_request_id");Se(this,"socket");Se(this,"webSocketFactory");Se(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new cL,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,c=>{if(c)return o(c);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ae.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const dL=BigInt(0),Kc=BigInt(1),hL=BigInt(2),fL=BigInt(7),pL=BigInt(256),mL=BigInt(113),l4=[],c4=[],u4=[];for(let t=0,e=Kc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],l4.push(2*(5*r+n)),c4.push((t+1)*(t+2)/2%64);let s=dL;for(let i=0;i<7;i++)e=(e<<Kc^(e>>fL)*mL)%pL,e&hL&&(s^=Kc<<(Kc<<BigInt(i))-Kc);u4.push(s)}const d4=eM(u4,!0),gL=d4[0],yL=d4[1],C2=(t,e,n)=>n>32?z6(t,e,n):D6(t,e,n),T2=(t,e,n)=>n>32?W6(t,e,n):O6(t,e,n);function xL(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],d=n[l+1],h=C2(c,d,1)^n[a],p=T2(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=c4[o],l=C2(s,i,a),c=T2(s,i,a),d=l4[o];s=t[d],i=t[d+1],t[d]=l,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=gL[r],t[1]^=yL[r]}xo(n)}class Yw extends Mw{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,dd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=M6(this.state)}clone(){return this._cloneInto()}keccak(){p2(this.state32),xL(this.state32,this.rounds),p2(this.state32),this.posOut=0,this.pos=0}update(e){Vl(this),e=Rm(e),xi(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Vl(this,!1),xi(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(QN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xo(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Yw(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const wL=(t,e,n)=>Aw(()=>new Yw(e,t,n)),R2=wL(1,136,256/8);class h4 extends Mw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ZN(e);const r=Rm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),xo(i)}update(e){return Vl(this),this.iHash.update(e),this}digestInto(e){Vl(this),xi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const f4=(t,e,n)=>new h4(t,e).update(n).digest();f4.create=(t,e)=>new h4(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L2=(t,e)=>(t+(t>=0?e:-e)/p4)/e;function vL(t,e,n){const[[r,s],[i,o]]=e,a=L2(o*t,n),l=L2(-s*t,n);let c=t-a*r-l*i,d=-a*s-l*o;const h=c<li,p=d<li;h&&(c=-c),p&&(d=-d);const m=Fd(Math.ceil(iM(n)/2))+Il;if(c<li||c>=m||d<li||d>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:h,k1:c,k2neg:p,k2:d}}function Xy(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function dg(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return wa(n.lowS,"lowS"),wa(n.prehash,"prehash"),n.format!==void 0&&Xy(n.format),n}class bL extends Error{constructor(e=""){super(e)}}const ei={Err:bL,_tlv:{encode:(t,e)=>{const{Err:n}=ei;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Mh(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Mh(s.length/2|128):"";return Mh(t)+i+s+e},decode(t,e){const{Err:n}=ei;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)o=o<<8|d;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ei;if(t<li)throw new e("integer: negative integers are not allowed");let n=Mh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ei;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Lm(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ei,s=Zt("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=ei,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},li=BigInt(0),Il=BigInt(1),p4=BigInt(2),Ch=BigInt(3),SL=BigInt(4);function yl(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=Zt("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function _L(t,e={}){const n=bM("weierstrass",t,e),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;Ud(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(i.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=g4(r,s);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h(K,A,f){const{x,y:k}=A.toAffine(),I=r.toBytes(x);if(wa(f,"isCompressed"),f){d();const C=!r.isOdd(k);return Ns(m4(C),I)}else return Ns(Uint8Array.of(4),I,r.toBytes(k))}function p(K){ts(K,void 0,"Point");const{publicKey:A,publicKeyUncompressed:f}=c,x=K.length,k=K[0],I=K.subarray(1);if(x===A&&(k===2||k===3)){const C=r.fromBytes(I);if(!r.isValid(C))throw new Error("bad point: is not on curve, wrong x");const j=w(C);let P;try{P=r.sqrt(j)}catch(B){const Q=B instanceof Error?": "+B.message:"";throw new Error("bad point: is not on curve, sqrt error"+Q)}d();const T=r.isOdd(P);return(k&1)===1!==T&&(P=r.neg(P)),{x:C,y:P}}else if(x===f&&k===4){const C=r.BYTES,j=r.fromBytes(I.subarray(0,C)),P=r.fromBytes(I.subarray(C,C*2));if(!b(j,P))throw new Error("bad point: is not on curve");return{x:j,y:P}}else throw new Error(`bad point: got length ${x}, expected compressed=${A} or uncompressed=${f}`)}const m=e.toBytes||h,y=e.fromBytes||p;function w(K){const A=r.sqr(K),f=r.mul(A,K);return r.add(r.add(f,r.mul(K,i.a)),i.b)}function b(K,A){const f=r.sqr(A),x=w(K);return r.eql(f,x)}if(!b(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(i.a,Ch),SL),S=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(g,S)))throw new Error("bad curve params: a or b");function _(K,A,f=!1){if(!r.isValid(A)||f&&r.is0(A))throw new Error(`bad point coordinate ${K}`);return A}function M(K){if(!(K instanceof F))throw new Error("ProjectivePoint expected")}function R(K){if(!l||!l.basises)throw new Error("no endo");return vL(K,l.basises,s.ORDER)}const W=jp((K,A)=>{const{X:f,Y:x,Z:k}=K;if(r.eql(k,r.ONE))return{x:f,y:x};const I=K.is0();A==null&&(A=I?r.ONE:r.inv(k));const C=r.mul(f,A),j=r.mul(x,A),P=r.mul(k,A);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:C,y:j}}),D=jp(K=>{if(K.is0()){if(e.allowInfinityPoint&&!r.is0(K.Y))return;throw new Error("bad point: ZERO")}const{x:A,y:f}=K.toAffine();if(!r.isValid(A)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!b(A,f))throw new Error("bad point: equation left != right");if(!K.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function L(K,A,f,x,k){return f=new F(r.mul(f.X,K),f.Y,f.Z),A=Cp(x,A),f=Cp(k,f),A.add(f)}class F{constructor(A,f,x){this.X=_("x",A),this.Y=_("y",f,!0),this.Z=_("z",x),Object.freeze(this)}static CURVE(){return i}static fromAffine(A){const{x:f,y:x}=A||{};if(!A||!r.isValid(f)||!r.isValid(x))throw new Error("invalid affine point");if(A instanceof F)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(x)?F.ZERO:new F(f,x,r.ONE)}static fromBytes(A){const f=F.fromAffine(y(ts(A,void 0,"point")));return f.assertValidity(),f}static fromHex(A){return F.fromBytes(Zt("pointHex",A))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(A=8,f=!0){return H.createCache(this,A),f||this.multiply(Ch),this}assertValidity(){D(this)}hasEvenY(){const{y:A}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(A)}equals(A){M(A);const{X:f,Y:x,Z:k}=this,{X:I,Y:C,Z:j}=A,P=r.eql(r.mul(f,j),r.mul(I,k)),T=r.eql(r.mul(x,j),r.mul(C,k));return P&&T}negate(){return new F(this.X,r.neg(this.Y),this.Z)}double(){const{a:A,b:f}=i,x=r.mul(f,Ch),{X:k,Y:I,Z:C}=this;let j=r.ZERO,P=r.ZERO,T=r.ZERO,v=r.mul(k,k),B=r.mul(I,I),Q=r.mul(C,C),Z=r.mul(k,I);return Z=r.add(Z,Z),T=r.mul(k,C),T=r.add(T,T),j=r.mul(A,T),P=r.mul(x,Q),P=r.add(j,P),j=r.sub(B,P),P=r.add(B,P),P=r.mul(j,P),j=r.mul(Z,j),T=r.mul(x,T),Q=r.mul(A,Q),Z=r.sub(v,Q),Z=r.mul(A,Z),Z=r.add(Z,T),T=r.add(v,v),v=r.add(T,v),v=r.add(v,Q),v=r.mul(v,Z),P=r.add(P,v),Q=r.mul(I,C),Q=r.add(Q,Q),v=r.mul(Q,Z),j=r.sub(j,v),T=r.mul(Q,B),T=r.add(T,T),T=r.add(T,T),new F(j,P,T)}add(A){M(A);const{X:f,Y:x,Z:k}=this,{X:I,Y:C,Z:j}=A;let P=r.ZERO,T=r.ZERO,v=r.ZERO;const B=i.a,Q=r.mul(i.b,Ch);let Z=r.mul(f,I),ne=r.mul(x,C),J=r.mul(k,j),se=r.add(f,x),re=r.add(I,C);se=r.mul(se,re),re=r.add(Z,ne),se=r.sub(se,re),re=r.add(f,k);let le=r.add(I,j);return re=r.mul(re,le),le=r.add(Z,J),re=r.sub(re,le),le=r.add(x,k),P=r.add(C,j),le=r.mul(le,P),P=r.add(ne,J),le=r.sub(le,P),v=r.mul(B,re),P=r.mul(Q,J),v=r.add(P,v),P=r.sub(ne,v),v=r.add(ne,v),T=r.mul(P,v),ne=r.add(Z,Z),ne=r.add(ne,Z),J=r.mul(B,J),re=r.mul(Q,re),ne=r.add(ne,J),J=r.sub(Z,J),J=r.mul(B,J),re=r.add(re,J),Z=r.mul(ne,re),T=r.add(T,Z),Z=r.mul(le,re),P=r.mul(se,P),P=r.sub(P,Z),Z=r.mul(se,ne),v=r.mul(le,v),v=r.add(v,Z),new F(P,T,v)}subtract(A){return this.add(A.negate())}is0(){return this.equals(F.ZERO)}multiply(A){const{endo:f}=e;if(!s.isValidNot0(A))throw new Error("invalid scalar: out of range");let x,k;const I=C=>H.cached(this,C,j=>Go(F,j));if(f){const{k1neg:C,k1:j,k2neg:P,k2:T}=R(A),{p:v,f:B}=I(j),{p:Q,f:Z}=I(T);k=B.add(Z),x=L(f.beta,v,Q,C,P)}else{const{p:C,f:j}=I(A);x=C,k=j}return Go(F,[x,k])[0]}multiplyUnsafe(A){const{endo:f}=e,x=this;if(!s.isValid(A))throw new Error("invalid scalar: out of range");if(A===li||x.is0())return F.ZERO;if(A===Il)return x;if(H.hasCache(this))return this.multiply(A);if(f){const{k1neg:k,k1:I,k2neg:C,k2:j}=R(A),{p1:P,p2:T}=fR(F,x,I,j);return L(f.beta,P,T,k,C)}else return H.unsafe(x,A)}multiplyAndAddUnsafe(A,f,x){const k=this.multiplyUnsafe(f).add(A.multiplyUnsafe(x));return k.is0()?void 0:k}toAffine(A){return W(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return o===Il?!0:A?A(F,this):H.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:A}=e;return o===Il?this:A?A(F,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(A=!0){return wa(A,"isCompressed"),this.assertValidity(),m(F,this,A)}toHex(A=!0){return ca(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(A=!0){return this.toBytes(A)}_setWindowSize(A){this.precompute(A)}static normalizeZ(A){return Go(F,A)}static msm(A,f){return vM(F,s,A,f)}static fromPrivateKey(A){return F.BASE.multiply(yl(s,A))}}F.BASE=new F(i.Gx,i.Gy,r.ONE),F.ZERO=new F(r.ZERO,r.ONE,r.ZERO),F.Fp=r,F.Fn=s;const $=s.BITS,H=new wM(F,e.endo?Math.ceil($/2):$);return F.BASE.precompute(8),F}function m4(t){return Uint8Array.of(t?2:3)}function g4(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function kL(t,e={}){const{Fn:n}=t,r=e.randomBytes||Iw,s=Object.assign(g4(t.Fp,n),{seed:gM(n.ORDER)});function i(m){try{return!!yl(n,m)}catch{return!1}}function o(m,y){const{publicKey:w,publicKeyUncompressed:b}=s;try{const g=m.length;return y===!0&&g!==w||y===!1&&g!==b?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(s.seed)){return uR(ts(m,s.seed,"seed"),n.ORDER)}function l(m,y=!0){return t.BASE.multiply(yl(n,m)).toBytes(y)}function c(m){const y=a(m);return{secretKey:y,publicKey:l(y)}}function d(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:y,publicKey:w,publicKeyUncompressed:b}=s;if(n.allowedLengths||y===w)return;const g=Zt("key",m).length;return g===w||g===b}function h(m,y,w=!0){if(d(m)===!0)throw new Error("first arg must be private key");if(d(y)===!1)throw new Error("second arg must be public key");const b=yl(n,m);return t.fromHex(y).multiply(b).toBytes(w)}return Object.freeze({getPublicKey:l,getSharedSecret:h,keygen:c,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:m=>yl(n,m),precompute(m=8,y=t.BASE){return y.precompute(m,!1)}},lengths:s})}function EL(t,e,n={}){ZN(e),Ud(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Iw,s=n.hmac||((f,...x)=>f4(e,f,Ns(...x))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:d,getSharedSecret:h,utils:p,lengths:m}=kL(t,n),y={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},w="compact";function b(f){const x=a>>Il;return f>x}function g(f,x){if(!o.isValidNot0(x))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return x}function S(f,x){Xy(x);const k=m.signature,I=x==="compact"?k:x==="recovered"?k+1:void 0;return ts(f,I,`${x} signature`)}class _{constructor(x,k,I){this.r=g("r",x),this.s=g("s",k),I!=null&&(this.recovery=I),Object.freeze(this)}static fromBytes(x,k=w){S(x,k);let I;if(k==="der"){const{r:T,s:v}=ei.toSig(ts(x));return new _(T,v)}k==="recovered"&&(I=x[0],k="compact",x=x.subarray(1));const C=o.BYTES,j=x.subarray(0,C),P=x.subarray(C,C*2);return new _(o.fromBytes(j),o.fromBytes(P),I)}static fromHex(x,k){return this.fromBytes(Ip(x),k)}addRecoveryBit(x){return new _(this.r,this.s,x)}recoverPublicKey(x){const k=i.ORDER,{r:I,s:C,recovery:j}=this;if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");if(a*p4<k&&j>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=j===2||j===3?I+a:I;if(!i.isValid(T))throw new Error("recovery id 2 or 3 invalid");const v=i.toBytes(T),B=t.fromBytes(Ns(m4((j&1)===0),v)),Q=o.inv(T),Z=R(Zt("msgHash",x)),ne=o.create(-Z*Q),J=o.create(C*Q),se=t.BASE.multiplyUnsafe(ne).add(B.multiplyUnsafe(J));if(se.is0())throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return b(this.s)}toBytes(x=w){if(Xy(x),x==="der")return Ip(ei.hexFromSig(this));const k=o.toBytes(this.r),I=o.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ns(Uint8Array.of(this.recovery),k,I)}return Ns(k,I)}toHex(x){return ca(this.toBytes(x))}assertValidity(){}static fromCompact(x){return _.fromBytes(Zt("sig",x),"compact")}static fromDER(x){return _.fromBytes(Zt("sig",x),"der")}normalizeS(){return this.hasHighS()?new _(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ca(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ca(this.toBytes("compact"))}}const M=n.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const k=Lm(x),I=x.length*8-l;return I>0?k>>BigInt(I):k},R=n.bits2int_modN||function(x){return o.create(M(x))},W=Fd(l);function D(f){return Gy("num < 2^"+l,f,li,W),o.toBytes(f)}function L(f,x){return ts(f,void 0,"message"),x?ts(e(f),void 0,"prehashed message"):f}function F(f,x,k){if(["recovered","canonical"].some(ne=>ne in k))throw new Error("sign() legacy options not supported");const{lowS:I,prehash:C,extraEntropy:j}=dg(k,y);f=L(f,C);const P=R(f),T=yl(o,x),v=[D(T),D(P)];if(j!=null&&j!==!1){const ne=j===!0?r(m.secretKey):j;v.push(Zt("extraEntropy",ne))}const B=Ns(...v),Q=P;function Z(ne){const J=M(ne);if(!o.isValidNot0(J))return;const se=o.inv(J),re=t.BASE.multiply(J).toAffine(),le=o.create(re.x);if(le===li)return;const ge=o.create(se*o.create(Q+le*T));if(ge===li)return;let be=(re.x===le?0:2)|Number(re.y&Il),Ve=ge;return I&&b(ge)&&(Ve=o.neg(ge),be^=1),new _(le,Ve,be)}return{seed:B,k2sig:Z}}function $(f,x,k={}){f=Zt("message",f);const{seed:I,k2sig:C}=F(f,x,k);return eR(e.outputLen,o.BYTES,s)(I,C)}function H(f){let x;const k=typeof f=="string"||Wd(f),I=!k&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!k&&!I)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(I)x=new _(f.r,f.s);else if(k){try{x=_.fromBytes(Zt("sig",f),"der")}catch(C){if(!(C instanceof ei.Err))throw C}if(!x)try{x=_.fromBytes(Zt("sig",f),"compact")}catch{return!1}}return x||!1}function K(f,x,k,I={}){const{lowS:C,prehash:j,format:P}=dg(I,y);if(k=Zt("publicKey",k),x=L(Zt("message",x),j),"strict"in I)throw new Error("options.strict was renamed to lowS");const T=P===void 0?H(f):_.fromBytes(Zt("sig",f),P);if(T===!1)return!1;try{const v=t.fromBytes(k);if(C&&T.hasHighS())return!1;const{r:B,s:Q}=T,Z=R(x),ne=o.inv(Q),J=o.create(Z*ne),se=o.create(B*ne),re=t.BASE.multiplyUnsafe(J).add(v.multiplyUnsafe(se));return re.is0()?!1:o.create(re.x)===B}catch{return!1}}function A(f,x,k={}){const{prehash:I}=dg(k,y);return x=L(x,I),_.fromBytes(f,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:c,getPublicKey:d,getSharedSecret:h,utils:p,lengths:m,Point:t,sign:$,verify:K,recoverPublicKey:A,Signature:_,hash:e})}function NL(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Aa(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function ML(t){const{CURVE:e,curveOpts:n}=NL(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function AL(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,pM(n.Fn.ORDER,n.Fn.BITS))})}function IL(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=ML(t),i=_L(e,n),o=EL(i,r,s);return AL(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jL(t,e){const n=r=>IL({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},CL={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},P2=BigInt(2);function TL(t){const e=qw.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,h=Gt(d,n,e)*d%e,p=Gt(h,n,e)*d%e,m=Gt(p,P2,e)*c%e,y=Gt(m,s,e)*m%e,w=Gt(y,i,e)*y%e,b=Gt(w,a,e)*w%e,g=Gt(b,l,e)*b%e,S=Gt(g,a,e)*w%e,_=Gt(S,n,e)*d%e,M=Gt(_,o,e)*y%e,R=Gt(M,r,e)*c%e,W=Gt(R,P2,e);if(!Jy.eql(Jy.sqr(W),t))throw new Error("Cannot find square root");return W}const Jy=Aa(qw.p,{sqrt:TL}),Gw=jL({...qw,Fp:Jy,lowS:!0,endo:CL},nM),RL=Ia.utils.randomPrivateKey,B2=()=>{const t=Ia.utils.randomPrivateKey(),e=Op(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Op=Ia.getPublicKey;function D2(t){try{return Ia.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Zw=(t,e)=>Ia.sign(t,e.slice(0,32)),LL=Ia.verify,Oe=t=>Ae.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ae.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ae.Buffer.from(t);class Qw{constructor(e){Object.assign(this,e)}encode(){return Ae.Buffer.from(CM(Pu,this))}static decode(e){return TM(Pu,this,e)}static decodeUnchecked(e){return NM(Pu,this,e)}}class PL extends Qw{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Pu=new Map;var y4;const x4=32,Ls=32;function BL(t){return t._bn!==void 0}let O2=1;class ue extends Qw{constructor(e){if(super({}),this._bn=void 0,BL(e))this._bn=e._bn;else{if(typeof e=="string"){const n=In.decode(e);if(n.length!=Ls)throw new Error("Invalid public key input");this._bn=new M2(n)}else this._bn=new M2(e);if(this._bn.byteLength()>Ls)throw new Error("Invalid public key input")}}static unique(){const e=new ue(O2);return O2+=1,new ue(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return In.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ae.Buffer);if(e.length===Ls)return e;const n=Ae.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=Ae.Buffer.concat([e.toBuffer(),Ae.Buffer.from(n),r.toBuffer()]),i=A2(s);return new ue(i)}static createProgramAddressSync(e,n){let r=Ae.Buffer.alloc(0);e.forEach(function(i){if(i.length>x4)throw new TypeError("Max seed length exceeded");r=Ae.Buffer.concat([r,Oe(i)])}),r=Ae.Buffer.concat([r,n.toBuffer(),Ae.Buffer.from("ProgramDerivedAddress")]);const s=A2(r);if(D2(s))throw new Error("Invalid seeds, address must fall off the curve");return new ue(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(Ae.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new ue(e);return D2(n.toBytes())}}y4=ue;ue.default=new y4("11111111111111111111111111111111");Pu.set(ue,{kind:"struct",fields:[["_bn","u256"]]});class DL{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Oe(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Oe(RL()),this._publicKey=Oe(Op(this._secretKey))}get publicKey(){return new ue(this._publicKey)}get secretKey(){return Ae.Buffer.concat([this._secretKey,this._publicKey],64)}}const OL=new ue("BPFLoader1111111111111111111111111111111111"),fo=1232,Um=127,ql=64;class Xw extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Xw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Jw extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Jw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class xl extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class pd{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Fe=(t="publicKey")=>bt(32,t),zL=(t="signature")=>bt(64,t),Zo=(t="string")=>{const e=we([xe("length"),xe("lengthPadding"),bt(ho(xe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const l={chars:Ae.Buffer.from(i,"utf8")};return r(l,o,a)},s.alloc=i=>xe().span+xe().span+Ae.Buffer.from(i,"utf8").length,s},WL=(t="authorized")=>we([Fe("staker"),Fe("withdrawer")],t),FL=(t="lockup")=>we([wr("unixTimestamp"),wr("epoch"),Fe("custodian")],t),UL=(t="voteInit")=>we([Fe("nodePubkey"),Fe("authorizedVoter"),Fe("authorizedWithdrawer"),Xe("commission")],t),$L=(t="voteAuthorizeWithSeedArgs")=>we([xe("voteAuthorizationType"),Fe("currentAuthorityDerivedKeyOwnerPubkey"),Zo("currentAuthorityDerivedKeySeed"),Fe("newAuthorized")],t);function w4(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return w4({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function sr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function vr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function tt(t,e){if(!t)throw new Error(e||"Assertion failed")}class $m{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new $m(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];tt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{tt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];tt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new ue(l)),...r.map(([l])=>new ue(l)),...s.map(([l])=>new ue(l)),...i.map(([l])=>new ue(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new ue(i),l=e.findIndex(c=>c.equals(a));l>=0&&(tt(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const v4="Reached end of buffer unexpectedly";function Ms(t){if(t.length===0)throw new Error(v4);return t.shift()}function ir(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(v4);return t.splice(...e)}class hs{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new ue(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:In.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new pd(this.staticAccountKeys)}static compile(e){const n=$m.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new pd(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:In.encode(a.data)}));return new hs({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];vr(n,e);const r=this.instructions.map(h=>{const{accounts:p,programIdIndex:m}=h,y=Array.from(In.decode(h.data));let w=[];vr(w,p.length);let b=[];return vr(b,y.length),{programIdIndex:m,keyIndicesCount:Ae.Buffer.from(w),keyIndices:p,dataLength:Ae.Buffer.from(b),data:y}});let s=[];vr(s,r.length);let i=Ae.Buffer.alloc(fo);Ae.Buffer.from(s).copy(i);let o=s.length;r.forEach(h=>{const m=we([Xe("programIdIndex"),bt(h.keyIndicesCount.length,"keyIndicesCount"),jn(Xe("keyIndex"),h.keyIndices.length,"keyIndices"),bt(h.dataLength.length,"dataLength"),jn(Xe("userdatum"),h.data.length,"data")]).encode(h,i,o);o+=m}),i=i.slice(0,o);const a=we([bt(1,"numRequiredSignatures"),bt(1,"numReadonlySignedAccounts"),bt(1,"numReadonlyUnsignedAccounts"),bt(n.length,"keyCount"),jn(Fe("key"),e,"keys"),Fe("recentBlockhash")]),l={numRequiredSignatures:Ae.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ae.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ae.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ae.Buffer.from(n),keys:this.accountKeys.map(h=>Oe(h.toBytes())),recentBlockhash:In.decode(this.recentBlockhash)};let c=Ae.Buffer.alloc(2048);const d=a.encode(l,c);return i.copy(c,d),c.slice(0,d+i.length)}static from(e){let n=[...e];const r=Ms(n);if(r!==(r&Um))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Ms(n),i=Ms(n),o=sr(n);let a=[];for(let p=0;p<o;p++){const m=ir(n,0,Ls);a.push(new ue(Ae.Buffer.from(m)))}const l=ir(n,0,Ls),c=sr(n);let d=[];for(let p=0;p<c;p++){const m=Ms(n),y=sr(n),w=ir(n,0,y),b=sr(n),g=ir(n,0,b),S=In.encode(Ae.Buffer.from(g));d.push({programIdIndex:m,accounts:w,data:S})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:In.encode(Ae.Buffer.from(l)),accountKeys:a,instructions:d};return new hs(h)}}class va{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new pd(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=$m.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const d of i){const h=n.extractTableLookup(d);if(h!==void 0){const[p,{writable:m,readonly:y}]=h;r.push(p),s.writable.push(...m),s.readonly.push(...y)}}const[o,a]=n.getMessageComponents(),c=new pd(a,s).compileInstructions(e.instructions);return new va({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();vr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();vr(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();vr(i,this.addressTableLookups.length);const o=we([Xe("prefix"),we([Xe("numRequiredSignatures"),Xe("numReadonlySignedAccounts"),Xe("numReadonlyUnsignedAccounts")],"header"),bt(e.length,"staticAccountKeysLength"),jn(Fe(),this.staticAccountKeys.length,"staticAccountKeys"),Fe("recentBlockhash"),bt(r.length,"instructionsLength"),bt(n.length,"serializedInstructions"),bt(i.length,"addressTableLookupsLength"),bt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(fo),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:In.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(fo);for(const r of this.compiledInstructions){const s=Array();vr(s,r.accountKeyIndexes.length);const i=Array();vr(i,r.data.length);const o=we([Xe("programIdIndex"),bt(s.length,"encodedAccountKeyIndexesLength"),jn(Xe(),r.accountKeyIndexes.length,"accountKeyIndexes"),bt(i.length,"encodedDataLength"),bt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(fo);for(const r of this.addressTableLookups){const s=Array();vr(s,r.writableIndexes.length);const i=Array();vr(i,r.readonlyIndexes.length);const o=we([Fe("accountKey"),bt(s.length,"encodedWritableIndexesLength"),jn(Xe(),r.writableIndexes.length,"writableIndexes"),bt(i.length,"encodedReadonlyIndexesLength"),jn(Xe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Ms(n),s=r&Um;tt(r!==s,"Expected versioned message but received legacy message");const i=s;tt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Ms(n),numReadonlySignedAccounts:Ms(n),numReadonlyUnsignedAccounts:Ms(n)},a=[],l=sr(n);for(let y=0;y<l;y++)a.push(new ue(ir(n,0,Ls)));const c=In.encode(ir(n,0,Ls)),d=sr(n),h=[];for(let y=0;y<d;y++){const w=Ms(n),b=sr(n),g=ir(n,0,b),S=sr(n),_=new Uint8Array(ir(n,0,S));h.push({programIdIndex:w,accountKeyIndexes:g,data:_})}const p=sr(n),m=[];for(let y=0;y<p;y++){const w=new ue(ir(n,0,Ls)),b=sr(n),g=ir(n,0,b),S=sr(n),_=ir(n,0,S);m.push({accountKey:w,writableIndexes:g,readonlyIndexes:_})}return new va({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:m})}}const Hm={deserializeMessageVersion(t){const e=t[0],n=e&Um;return n===e?"legacy":n},deserialize:t=>{const e=Hm.deserializeMessageVersion(t);if(e==="legacy")return hs.from(t);if(e===0)return va.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let qs=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const HL=Ae.Buffer.alloc(ql).fill(0);class ft{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ae.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ze{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ft(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let w=0;w<n.length;w++)if(n[w].programId===void 0)throw new Error(`Transaction instruction index ${w} has undefined program id`);const s=[],i=[];n.forEach(w=>{w.keys.forEach(g=>{i.push({...g})});const b=w.programId.toString();s.includes(b)||s.push(b)}),s.forEach(w=>{i.push({pubkey:new ue(w),isSigner:!1,isWritable:!1})});const o=[];i.forEach(w=>{const b=w.pubkey.toString(),g=o.findIndex(S=>S.pubkey.toString()===b);g>-1?(o[g].isWritable=o[g].isWritable||w.isWritable,o[g].isSigner=o[g].isSigner||w.isSigner):o.push(w)}),o.sort(function(w,b){if(w.isSigner!==b.isSigner)return w.isSigner?-1:1;if(w.isWritable!==b.isWritable)return w.isWritable?-1:1;const g={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return w.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",g)});const a=o.findIndex(w=>w.pubkey.equals(r));if(a>-1){const[w]=o.splice(a,1);w.isSigner=!0,w.isWritable=!0,o.unshift(w)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const w of this.signatures){const b=o.findIndex(g=>g.pubkey.equals(w.publicKey));if(b>-1)o[b].isSigner||(o[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${w.publicKey.toString()}`)}let l=0,c=0,d=0;const h=[],p=[];o.forEach(({pubkey:w,isSigner:b,isWritable:g})=>{b?(h.push(w.toString()),l+=1,g||(c+=1)):(p.push(w.toString()),g||(d+=1))});const m=h.concat(p),y=n.map(w=>{const{data:b,programId:g}=w;return{programIdIndex:m.indexOf(g.toString()),accounts:w.keys.map(S=>m.indexOf(S.pubkey.toString())),data:In.encode(b)}});return y.forEach(w=>{tt(w.programIdIndex>=0),w.accounts.forEach(b=>tt(b>=0))}),new hs({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:e,instructions:y})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=Zw(r,s.secretKey);this._addSignature(s.publicKey,Oe(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){tt(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ae.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):LL(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];vr(r,n.length);const s=r.length+n.length*64+e.length,i=Ae.Buffer.alloc(s);return tt(n.length<256),Ae.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(tt(o.length===64,"signature has invalid length"),Ae.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),tt(i.length<=fo,`Transaction too large: ${i.length} > ${fo}`),i}get keys(){return tt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return tt(this.instructions.length===1),this.instructions[0].programId}get data(){return tt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=sr(n);let s=[];for(let i=0;i<r;i++){const o=ir(n,0,ql);s.push(In.encode(Ae.Buffer.from(o)))}return Ze.populate(hs.from(n),s)}static populate(e,n=[]){const r=new Ze;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==In.encode(HL)?null:In.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ft({keys:i,programId:e.accountKeys[s.programIdIndex],data:In.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class ev{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=o-a;tt(c>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-l;tt(d>=0,"Message header is invalid");const h=e.getAccountKeys(n),p=h.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const y of s){const w=[];for(const g of y.accountKeyIndexes){const S=h.get(g);if(S===void 0)throw new Error(`Failed to find key for account key index ${g}`);const _=g<o;let M;_?M=g<c:g<h.staticAccountKeys.length?M=g-o<d:M=g-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,w.push({pubkey:S,isSigner:g<r.numRequiredSignatures,isWritable:M})}const b=h.get(y.programIdIndex);if(b===void 0)throw new Error(`Failed to find program id for program id index ${y.programIdIndex}`);m.push(new ft({programId:b,data:Oe(y.data),keys:w}))}return new ev({payerKey:p,instructions:m,recentBlockhash:i})}compileToLegacyMessage(){return hs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return va.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Gl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)tt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(ql));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();vr(n,this.signatures.length);const r=we([bt(n.length,"encodedSignaturesLength"),jn(zL(),this.signatures.length,"signatures"),bt(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=sr(n);for(let o=0;o<s;o++)r.push(new Uint8Array(ir(n,0,ql)));const i=Hm.deserialize(new Uint8Array(n));return new Gl(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));tt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Zw(n,s.secretKey)}}addSignature(e,n){tt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));tt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const VL=160,KL=64,YL=VL/KL,b4=1e3/YL,_s=new ue("SysvarC1ock11111111111111111111111111111111"),qL=new ue("SysvarEpochSchedu1e111111111111111111111111"),GL=new ue("Sysvar1nstructions1111111111111111111111111"),yf=new ue("SysvarRecentB1ockHashes11111111111111111111"),Zl=new ue("SysvarRent111111111111111111111111111111111"),ZL=new ue("SysvarRewards111111111111111111111111111111"),QL=new ue("SysvarS1otHashes111111111111111111111111111"),XL=new ue("SysvarS1otHistory11111111111111111111111111"),xf=new ue("SysvarStakeHistory1111111111111111111111111");class md extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const JL={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class _e extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function ex(t,e,n,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await t.sendTransaction(e,n,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new md({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function Fo(t){return new Promise(e=>setTimeout(e,t))}function Ge(t,e){const n=t.layout.span>=0?t.layout.span:w4(t,e),r=Ae.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}function it(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const S4=En("lamportsPerSignature"),_4=we([xe("version"),xe("state"),Fe("authorizedPubkey"),Fe("nonce"),we([S4],"feeCalculator")]),tx=_4.span;class Vm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=_4.decode(Oe(e),0);return new Vm({authorizedPubkey:new ue(n.authorizedPubkey),nonce:new ue(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ql(t){const e=bt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=N8();return s.decode=(o,a)=>{const l=n(o,a);return i.decode(l)},s.encode=(o,a,l)=>{const c=i.encode(o);return r(c,a,l)},s}class eP{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=xe("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(mt))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:s}=it(mt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new ue(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=it(mt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:s}=it(mt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new ue(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=it(mt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:s,programId:i}=it(mt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ue(n),seed:r,space:s,programId:new ue(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=it(mt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ue(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:s}=it(mt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ue(n),seed:r,programId:new ue(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:s,space:i,programId:o}=it(mt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ue(n),seed:r,lamports:s,space:i,programId:new ue(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=it(mt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ue(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(mt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=it(mt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=it(mt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ue(n)}}static checkProgramId(e){if(!e.equals(vn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const mt=Object.freeze({Create:{index:0,layout:we([xe("instruction"),wr("lamports"),wr("space"),Fe("programId")])},Assign:{index:1,layout:we([xe("instruction"),Fe("programId")])},Transfer:{index:2,layout:we([xe("instruction"),Ql("lamports")])},CreateWithSeed:{index:3,layout:we([xe("instruction"),Fe("base"),Zo("seed"),wr("lamports"),wr("space"),Fe("programId")])},AdvanceNonceAccount:{index:4,layout:we([xe("instruction")])},WithdrawNonceAccount:{index:5,layout:we([xe("instruction"),wr("lamports")])},InitializeNonceAccount:{index:6,layout:we([xe("instruction"),Fe("authorized")])},AuthorizeNonceAccount:{index:7,layout:we([xe("instruction"),Fe("authorized")])},Allocate:{index:8,layout:we([xe("instruction"),wr("space")])},AllocateWithSeed:{index:9,layout:we([xe("instruction"),Fe("base"),Zo("seed"),wr("space"),Fe("programId")])},AssignWithSeed:{index:10,layout:we([xe("instruction"),Fe("base"),Zo("seed"),Fe("programId")])},TransferWithSeed:{index:11,layout:we([xe("instruction"),Ql("lamports"),Zo("seed"),Fe("programId")])},UpgradeNonceAccount:{index:12,layout:we([xe("instruction")])}});class vn{constructor(){}static createAccount(e){const n=mt.Create,r=Ge(n,{lamports:e.lamports,space:e.space,programId:Oe(e.programId.toBuffer())});return new ft({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=mt.TransferWithSeed;n=Ge(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=mt.Transfer;n=Ge(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ft({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=mt.AssignWithSeed;n=Ge(s,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=mt.Assign;n=Ge(s,{programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ft({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=mt.CreateWithSeed,r=Ge(n,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Oe(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ft({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Ze;"basePubkey"in e&&"seed"in e?n.add(vn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:tx,programId:this.programId})):n.add(vn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:tx,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=mt.InitializeNonceAccount,r=Ge(n,{authorized:Oe(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yf,isSigner:!1,isWritable:!1},{pubkey:Zl,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ft(s)}static nonceAdvance(e){const n=mt.AdvanceNonceAccount,r=Ge(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ft(s)}static nonceWithdraw(e){const n=mt.WithdrawNonceAccount,r=Ge(n,{lamports:e.lamports});return new ft({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:yf,isSigner:!1,isWritable:!1},{pubkey:Zl,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=mt.AuthorizeNonceAccount,r=Ge(n,{authorized:Oe(e.newAuthorizedPubkey.toBuffer())});return new ft({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=mt.AllocateWithSeed;n=Ge(s,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=mt.Allocate;n=Ge(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ft({keys:r,programId:this.programId,data:n})}}vn.programId=new ue("11111111111111111111111111111111");const tP=fo-300;class ba{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ba.chunkSize)+1+1)}static async load(e,n,r,s,i){{const h=await e.getMinimumBalanceForRentExemption(i.length),p=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==i.length&&(m=m||new Ze,m.add(vn.allocate({accountPubkey:r.publicKey,space:i.length}))),p.owner.equals(s)||(m=m||new Ze,m.add(vn.assign({accountPubkey:r.publicKey,programId:s}))),p.lamports<h&&(m=m||new Ze,m.add(vn.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:h-p.lamports})))}else m=new Ze().add(vn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:h>0?h:1,space:i.length,programId:s}));m!==null&&await ex(e,m,[n,r],{commitment:"confirmed"})}const o=we([xe("instruction"),xe("offset"),xe("bytesLength"),xe("bytesLengthPadding"),jn(Xe("byte"),ho(xe(),-8),"bytes")]),a=ba.chunkSize;let l=0,c=i,d=[];for(;c.length>0;){const h=c.slice(0,a),p=Ae.Buffer.alloc(a+16);o.encode({instruction:0,offset:l,bytes:h,bytesLength:0,bytesLengthPadding:0},p);const m=new Ze().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:p});d.push(ex(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Fo(1e3/4),l+=a,c=c.slice(a)}await Promise.all(d);{const h=we([xe("instruction")]),p=Ae.Buffer.alloc(h.span);h.encode({instruction:1},p);const m=new Ze().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Zl,isSigner:!1,isWritable:!1}],programId:s,data:p}),y="processed",w=await e.sendTransaction(m,[n,r],{preflightCommitment:y}),{context:b,value:g}=await e.confirmTransaction({signature:w,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},y);if(g.err)throw new Error(`Transaction ${w} failed (${JSON.stringify(g)})`);for(;;){try{if(await e.getSlot({commitment:y})>b.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(b4/2)))}}return!0}}ba.chunkSize=tP;const nP=new ue("BPFLoader2111111111111111111111111111111111");class rP{static getMinNumSignatures(e){return ba.getMinNumSignatures(e)}static load(e,n,r,s,i){return ba.load(e,n,r,i,s)}}function sP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hg,z2;function iP(){if(z2)return hg;z2=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,l,c,d,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(h=t.call(r),h==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(h==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",i=0;i<o;)c=l[i],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return hg=function(r){var s=n(r,!1);if(s!==void 0)return""+s},hg}var oP=iP(),W2=sP(oP);const Yc=32;function fg(t){let e=0;for(;t>1;)t/=2,e++;return e}function aP(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class k4{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=fg(aP(e+Yc+1))-fg(Yc)-1,r=this.getSlotsInEpoch(n),s=e-(r-Yc);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Yc:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+fg(Yc)):this.slotsPerEpoch}}var lP=globalThis.fetch;class cP extends uL{constructor(e,n,r){const s=i=>{const o=lL(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function uP(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const F2=56;class nx{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=uP(dP,e),r=e.length-F2;tt(r>=0,"lookup table is invalid"),tt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=we([jn(Fe(),s,"addresses")]).decode(e.slice(F2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ue(n.authority[0]):void 0,addresses:i.map(o=>new ue(o))}}}const dP={index:1,layout:we([xe("typeIndex"),Ql("deactivationSlot"),En("lastExtendedSlot"),Xe("lastExtendedStartIndex"),Xe(),jn(Fe(),ho(Xe(),-1),"authority")])},hP=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function fP(t){const e=t.match(hP);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${i}`}const Lt=Vd(Vw(ue),de(),t=>new ue(t)),E4=Kw([de(),Ct("base64")]),tv=Vd(Vw(Ae.Buffer),E4,t=>Ae.Buffer.from(t[0],"base64")),N4=30*1e3;function pP(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function pt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function U2(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function M4(t){return Jn([oe({jsonrpc:Ct("2.0"),id:de(),result:t}),oe({jsonrpc:Ct("2.0"),id:de(),error:oe({code:vc(),message:de(),data:Me(T8())})})])}const mP=M4(vc());function De(t){return Vd(M4(t),mP,e=>"error"in e?e:{...e,result:he(e.result,t)})}function Jt(t){return De(oe({context:oe({slot:X()}),value:t}))}function Km(t){return oe({context:oe({slot:X()}),value:t})}function pg(t,e){return t===0?new va({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new ue(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:In.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new hs(e)}const gP=oe({foundation:X(),foundationTerm:X(),initial:X(),taper:X(),terminal:X()}),yP=De(pe(me(oe({epoch:X(),effectiveSlot:X(),amount:X(),postBalance:X(),commission:Me(me(X()))})))),xP=pe(oe({slot:X(),prioritizationFee:X()})),wP=oe({total:X(),validator:X(),foundation:X(),epoch:X()}),vP=oe({epoch:X(),slotIndex:X(),slotsInEpoch:X(),absoluteSlot:X(),blockHeight:Me(X()),transactionCount:Me(X())}),bP=oe({slotsPerEpoch:X(),leaderScheduleSlotOffset:X(),warmup:Bs(),firstNormalEpoch:X(),firstNormalSlot:X()}),SP=t4(de(),pe(X())),Ta=me(Jn([oe({}),de()])),_P=oe({err:Ta}),kP=Ct("receivedSignature"),EP=oe({"solana-core":de(),"feature-set":Me(X())}),NP=oe({program:de(),programId:Lt,parsed:vc()}),MP=oe({programId:Lt,accounts:pe(Lt),data:de()}),$2=Jt(oe({err:me(Jn([oe({}),de()])),logs:me(pe(de())),accounts:Me(me(pe(me(oe({executable:Bs(),owner:de(),lamports:X(),data:pe(de()),rentEpoch:Me(X())}))))),unitsConsumed:Me(X()),returnData:Me(me(oe({programId:de(),data:Kw([de(),Ct("base64")])}))),innerInstructions:Me(me(pe(oe({index:X(),instructions:pe(Jn([NP,MP]))}))))})),AP=Jt(oe({byIdentity:t4(de(),pe(X())),range:oe({firstSlot:X(),lastSlot:X()})}));function IP(t,e,n,r,s,i){const o=n||lP;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,h)=>{const p=await new Promise((m,y)=>{try{r(d,h,(w,b)=>m([w,b]))}catch(w){y(w)}});return await o(...p)}),new iL(async(d,h)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},IB)};try{let m=5,y,w=500;for(;l?y=await l(t,p):y=await o(t,p),!(y.status!==429||s===!0||(m-=1,m===0));)console.error(`Server responded with ${y.status} ${y.statusText}.  Retrying after ${w}ms delay...`),await Fo(w),w*=2;const b=await y.text();y.ok?h(null,b):h(new Error(`${y.status} ${y.statusText}: ${b}`))}catch(m){m instanceof Error&&h(m)}},{})}function jP(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function CP(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const TP=De(gP),RP=De(wP),LP=De(xP),PP=De(vP),BP=De(bP),DP=De(SP),OP=De(X()),zP=Jt(oe({total:X(),circulating:X(),nonCirculating:X(),nonCirculatingAccounts:pe(Lt)})),rx=oe({amount:de(),uiAmount:me(X()),decimals:X(),uiAmountString:Me(de())}),WP=Jt(pe(oe({address:Lt,amount:de(),uiAmount:me(X()),decimals:X(),uiAmountString:Me(de())}))),FP=Jt(pe(oe({pubkey:Lt,account:oe({executable:Bs(),owner:Lt,lamports:X(),data:tv,rentEpoch:X()})}))),sx=oe({program:de(),parsed:vc(),space:X()}),UP=Jt(pe(oe({pubkey:Lt,account:oe({executable:Bs(),owner:Lt,lamports:X(),data:sx,rentEpoch:X()})}))),$P=Jt(pe(oe({lamports:X(),address:Lt}))),gd=oe({executable:Bs(),owner:Lt,lamports:X(),data:tv,rentEpoch:X()}),HP=oe({pubkey:Lt,account:gd}),VP=Vd(Jn([Vw(Ae.Buffer),sx]),Jn([E4,sx]),t=>Array.isArray(t)?he(t,tv):t),ix=oe({executable:Bs(),owner:Lt,lamports:X(),data:VP,rentEpoch:X()}),KP=oe({pubkey:Lt,account:ix}),YP=oe({state:Jn([Ct("active"),Ct("inactive"),Ct("activating"),Ct("deactivating")]),active:X(),inactive:X()}),qP=De(pe(oe({signature:de(),slot:X(),err:Ta,memo:me(de()),blockTime:Me(me(X()))}))),GP=De(pe(oe({signature:de(),slot:X(),err:Ta,memo:me(de()),blockTime:Me(me(X()))}))),ZP=oe({subscription:X(),result:Km(gd)}),QP=oe({pubkey:Lt,account:gd}),XP=oe({subscription:X(),result:Km(QP)}),JP=oe({parent:X(),slot:X(),root:X()}),eB=oe({subscription:X(),result:JP}),tB=Jn([oe({type:Jn([Ct("firstShredReceived"),Ct("completed"),Ct("optimisticConfirmation"),Ct("root")]),slot:X(),timestamp:X()}),oe({type:Ct("createdBank"),parent:X(),slot:X(),timestamp:X()}),oe({type:Ct("frozen"),slot:X(),timestamp:X(),stats:oe({numTransactionEntries:X(),numSuccessfulTransactions:X(),numFailedTransactions:X(),maxTransactionsPerEntry:X()})}),oe({type:Ct("dead"),slot:X(),timestamp:X(),err:de()})]),nB=oe({subscription:X(),result:tB}),rB=oe({subscription:X(),result:Km(Jn([_P,kP]))}),sB=oe({subscription:X(),result:X()}),iB=oe({pubkey:de(),gossip:me(de()),tpu:me(de()),rpc:me(de()),version:me(de())}),H2=oe({votePubkey:de(),nodePubkey:de(),activatedStake:X(),epochVoteAccount:Bs(),epochCredits:pe(Kw([X(),X(),X()])),commission:X(),lastVote:X(),rootSlot:me(X())}),oB=De(oe({current:pe(H2),delinquent:pe(H2)})),aB=Jn([Ct("processed"),Ct("confirmed"),Ct("finalized")]),lB=oe({slot:X(),confirmations:me(X()),err:Ta,confirmationStatus:Me(aB)}),cB=Jt(pe(me(lB))),uB=De(X()),A4=oe({accountKey:Lt,writableIndexes:pe(X()),readonlyIndexes:pe(X())}),nv=oe({signatures:pe(de()),message:oe({accountKeys:pe(de()),header:oe({numRequiredSignatures:X(),numReadonlySignedAccounts:X(),numReadonlyUnsignedAccounts:X()}),instructions:pe(oe({accounts:pe(X()),data:de(),programIdIndex:X()})),recentBlockhash:de(),addressTableLookups:Me(pe(A4))})}),I4=oe({pubkey:Lt,signer:Bs(),writable:Bs(),source:Me(Jn([Ct("transaction"),Ct("lookupTable")]))}),j4=oe({accountKeys:pe(I4),signatures:pe(de())}),C4=oe({parsed:vc(),program:de(),programId:Lt}),T4=oe({accounts:pe(Lt),data:de(),programId:Lt}),dB=Jn([T4,C4]),hB=Jn([oe({parsed:vc(),program:de(),programId:de()}),oe({accounts:pe(de()),data:de(),programId:de()})]),R4=Vd(dB,hB,t=>"accounts"in t?he(t,T4):he(t,C4)),L4=oe({signatures:pe(de()),message:oe({accountKeys:pe(I4),instructions:pe(R4),recentBlockhash:de(),addressTableLookups:Me(me(pe(A4)))})}),zp=oe({accountIndex:X(),mint:de(),owner:Me(de()),programId:Me(de()),uiTokenAmount:rx}),P4=oe({writable:pe(Lt),readonly:pe(Lt)}),Ym=oe({err:Ta,fee:X(),innerInstructions:Me(me(pe(oe({index:X(),instructions:pe(oe({accounts:pe(X()),data:de(),programIdIndex:X()}))})))),preBalances:pe(X()),postBalances:pe(X()),logMessages:Me(me(pe(de()))),preTokenBalances:Me(me(pe(zp))),postTokenBalances:Me(me(pe(zp))),loadedAddresses:Me(P4),computeUnitsConsumed:Me(X()),costUnits:Me(X())}),rv=oe({err:Ta,fee:X(),innerInstructions:Me(me(pe(oe({index:X(),instructions:pe(R4)})))),preBalances:pe(X()),postBalances:pe(X()),logMessages:Me(me(pe(de()))),preTokenBalances:Me(me(pe(zp))),postTokenBalances:Me(me(pe(zp))),loadedAddresses:Me(P4),computeUnitsConsumed:Me(X()),costUnits:Me(X())}),bc=Jn([Ct(0),Ct("legacy")]),Ra=oe({pubkey:de(),lamports:X(),postBalance:me(X()),rewardType:me(de()),commission:Me(me(X()))}),fB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),transactions:pe(oe({transaction:nv,meta:me(Ym),version:Me(bc)})),rewards:Me(pe(Ra)),blockTime:me(X()),blockHeight:me(X())}))),pB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),rewards:Me(pe(Ra)),blockTime:me(X()),blockHeight:me(X())}))),mB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),transactions:pe(oe({transaction:j4,meta:me(Ym),version:Me(bc)})),rewards:Me(pe(Ra)),blockTime:me(X()),blockHeight:me(X())}))),gB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),transactions:pe(oe({transaction:L4,meta:me(rv),version:Me(bc)})),rewards:Me(pe(Ra)),blockTime:me(X()),blockHeight:me(X())}))),yB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),transactions:pe(oe({transaction:j4,meta:me(rv),version:Me(bc)})),rewards:Me(pe(Ra)),blockTime:me(X()),blockHeight:me(X())}))),xB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),rewards:Me(pe(Ra)),blockTime:me(X()),blockHeight:me(X())}))),wB=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),transactions:pe(oe({transaction:nv,meta:me(Ym)})),rewards:Me(pe(Ra)),blockTime:me(X())}))),V2=De(me(oe({blockhash:de(),previousBlockhash:de(),parentSlot:X(),signatures:pe(de()),blockTime:me(X())}))),mg=De(me(oe({slot:X(),meta:me(Ym),blockTime:Me(me(X())),transaction:nv,version:Me(bc)}))),Th=De(me(oe({slot:X(),transaction:L4,meta:me(rv),blockTime:Me(me(X())),version:Me(bc)}))),vB=Jt(oe({blockhash:de(),lastValidBlockHeight:X()})),bB=Jt(Bs()),SB=oe({slot:X(),numTransactions:X(),numSlots:X(),samplePeriodSecs:X()}),_B=De(pe(SB)),kB=Jt(me(oe({feeCalculator:oe({lamportsPerSignature:X()})}))),EB=De(de()),NB=De(de()),MB=oe({err:Ta,logs:pe(de()),signature:de()}),AB=oe({result:Km(MB),subscription:X()}),IB={"solana-client":"js/1.0.0-maintenance"};class B4{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:h,config:p}=pt(d),m=this._buildArgs([],h,void 0,p),y=W2(m);return c[y]=c[y]??(async()=>{try{const w=await this._rpcRequest("getBlockHeight",m),b=he(w,De(X()));if("error"in b)throw new _e(b.error,"failed to get block height information");return b.result}finally{delete c[y]}})(),await c[y]}})();let r,s,i,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=pP(e),this._rpcWsEndpoint=r||fP(e),this._rpcClient=IP(e,s,i,o,a,l),this._rpcRequest=jP(this._rpcClient),this._rpcBatchRequest=CP(this._rpcClient),this._rpcWebSocket=new cP(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=he(o,Jt(X()));if("error"in a)throw new _e(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=he(n,De(me(X())));if("error"in r)throw new _e(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=he(e,De(X()));if("error"in n)throw new _e(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=he(e,OP);if("error"in n)throw new _e(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=he(r,zP);if("error"in s)throw new _e(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=he(s,Jt(rx));if("error"in i)throw new _e(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=he(s,Jt(rx));if("error"in i)throw new _e(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=pt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=he(l,FP);if("error"in c)throw new _e(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=he(o,UP);if("error"in a)throw new _e(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=he(s,$P);if("error"in i)throw new _e(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=he(s,WP);if("error"in i)throw new _e(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=he(o,Jt(me(gd)));if("error"in a)throw new _e(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=he(o,Jt(me(ix)));if("error"in a)throw new _e(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=pt(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),l=he(a,Jt(pe(me(ix))));if("error"in l)throw new _e(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=pt(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),l=he(a,Jt(pe(me(gd))));if("error"in l)throw new _e(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=pt(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=he(a,De(YP));if("error"in l)throw new _e(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=pt(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:U2(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(HP),d=o.withContext===!0?he(l,Jt(c)):he(l,De(c));if("error"in d)throw new _e(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=he(o,De(pe(KP)));if("error"in a)throw new _e(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=In.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return tt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(h,p)=>{r=void 0;const m={context:p,value:h};l({__type:qs.PROCESSED,response:m})},e);const d=new Promise(h=>{r==null?h():s=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&h()})});(async()=>{if(await d,i)return;const h=await this.getSignatureStatus(n);if(i||h==null)return;const{context:p,value:m}=h;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:qs.PROCESSED,response:{context:p,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(h=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=r;)if(await Fo(1e3),i||(m=await p(),i))return;h({__type:qs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),c=this.getCancellationPromise(n);let d;try{const h=await Promise.race([c,l,o]);if(h.__type===qs.PROCESSED)d=h.response;else throw new Xw(s)}finally{i=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const l=new Promise(m=>{let y=i,w=null;const b=async()=>{try{const{context:g,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return w=g.slot,S==null?void 0:S.nonce}catch{return y}};(async()=>{if(y=await b(),!a)for(;;){if(i!==y){m({__type:qs.NONCE_INVALID,slotInWhichNonceDidAdvance:w});return}if(await Fo(2e3),a||(y=await b(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(n);let p;try{const m=await Promise.race([h,d,l]);if(m.__type===qs.PROCESSED)p=m.response;else{let y;for(;;){const w=await this.getSignatureStatus(o);if(w==null)break;if(w.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Fo(400);continue}y=w;break}if(y!=null&&y.value){const w=e||"finalized",{confirmationStatus:b}=y.value;switch(w){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new xl(o);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new xl(o);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new xl(o);break;default:}p={context:y.context,value:{err:y.value.err}}}else throw new xl(o)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:qs.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,s]);if(l.__type===qs.PROCESSED)a=l.response;else throw new Jw(n,l.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=he(e,De(pe(iB)));if("error"in n)throw new _e(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=he(r,oB);if("error"in s)throw new _e(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=pt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=he(i,De(X()));if("error"in o)throw new _e(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=pt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=he(i,De(de()));if("error"in o)throw new _e(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=he(s,De(pe(Lt)));if("error"in i)throw new _e(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);tt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=he(s,cB);if("error"in i)throw new _e(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=pt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=he(i,De(X()));if("error"in o)throw new _e(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=he(r,TP);if("error"in s)throw new _e(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=pt(r),o=this._buildArgs([e.map(c=>c.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=he(a,yP);if("error"in l)throw new _e(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=he(e,RP);if("error"in n)throw new _e(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=pt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=he(i,PP);if("error"in o)throw new _e(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=he(e,BP);if("error"in n)throw new _e(n.error,"failed to get epoch schedule");const r=n.result;return new k4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=he(e,DP);if("error"in n)throw new _e(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=he(s,uB);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=he(n,_B);if("error"in r)throw new _e(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=he(s,kB);if("error"in i)throw new _e(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Oe(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=he(i,Jt(me(X())));if("error"in o)throw new _e(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=he(s,LP);if("error"in i)throw new _e(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=pt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=he(i,vB);if("error"in o)throw new _e(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=he(o,bB);if("error"in a)throw new _e(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=he(e,De(EP));if("error"in n)throw new _e(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=he(e,De(de()));if("error"in n)throw new _e(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=he(o,mB);if("error"in a)throw a.error;return a.result}case"none":{const a=he(o,pB);if("error"in a)throw a.error;return a.result}default:{const a=he(o,fB);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:h})=>({meta:d,transaction:{...c,message:pg(h,c.message)},version:h}))}:null}}}catch(a){throw new _e(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=he(o,yB);if("error"in a)throw a.error;return a.result}case"none":{const a=he(o,xB);if("error"in a)throw a.error;return a.result}default:{const a=he(o,gB);if("error"in a)throw a.error;return a.result}}}catch(a){throw new _e(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=he(i,AP);if("error"in o)throw new _e(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=he(o,mg);if("error"in a)throw new _e(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:pg(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=pt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=he(o,Th);if("error"in a)throw new _e(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=pt(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=he(l,Th);if("error"in c)throw new _e(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:s}=pt(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=he(l,mg);if("error"in c)throw new _e(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:pg(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=he(s,wB);if("error"in i)throw new _e(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const d=new hs(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Ze.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=he(i,De(pe(X())));if("error"in o)throw new _e(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=he(s,V2);if("error"in i)throw new _e(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=he(s,V2);if("error"in i)throw new _e(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=he(s,mg);if("error"in i)throw new _e(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new hs(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:Ze.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=he(s,Th);if("error"in i)throw new _e(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=he(o,Th);if("error"in a)throw new _e(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=he(i,qP);if("error"in o)throw new _e(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=he(i,GP);if("error"in o)throw new _e(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new nx({key:e,state:nx.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=Vm.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=he(r,EB);if("error"in s)throw new _e(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Fo(100);const r=Date.now()-this._blockhashInfo.lastFetch>=N4;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Fo(b4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=pt(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=he(i,Jt(X()));if("error"in o)throw new _e(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const w=e.serialize(),b=Ae.Buffer.from(w).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const g=n||{};g.encoding="base64","commitment"in g||(g.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(g.innerInstructions=n.innerInstructions);const S=[b,g],_=await this._rpcRequest("simulateTransaction",S),M=he(_,$2);if("error"in M)throw new Error("failed to simulate transaction: "+M.error.message);return M.result}let s;if(e instanceof Ze){let y=e;s=new Ze,s.feePayer=y.feePayer,s.instructions=e.instructions,s.nonceInfo=y.nonceInfo,s.signatures=y.signatures}else s=Ze.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let y=this._disableBlockhashCaching;for(;;){const w=await this._blockhashWithExpiryBlockHeight(y);if(s.lastValidBlockHeight=w.lastValidBlockHeight,s.recentBlockhash=w.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const b=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else y=!0}}const o=s._compile(),a=o.serialize(),c=s._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const y=(Array.isArray(r)?r:o.nonProgramIds()).map(w=>w.toBase58());d.accounts={encoding:"base64",addresses:y}}i&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const h=[c,d],p=await this._rpcRequest("simulateTransaction",h),m=he(p,$2);if("error"in m){let y;if("data"in m.error&&(y=m.error.data.logs,y&&Array.isArray(y))){const w=`
    `,b=w+y.join(w);console.error(m.error.message,b)}throw new md({action:"simulate",signature:"",transactionMessage:m.error.message,logs:y})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=Oe(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=he(a,NB);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new md({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=he(e,ZP);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=W2([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];tt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=pt(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=he(e,XP);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=pt(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:U2(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=he(e,AB);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=he(e,eB);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=he(e,nB);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=he(e,rB);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=he(e,sB);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class jl{constructor(e){this._keypair=void 0,this._keypair=e??B2()}static generate(){return new jl(B2())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const s=e.slice(0,32),i=Op(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new jl({publicKey:r,secretKey:e})}static fromSeed(e){const n=Op(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new jl({publicKey:n,secretKey:r})}get publicKey(){return new ue(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const si=Object.freeze({CreateLookupTable:{index:0,layout:we([xe("instruction"),Ql("recentSlot"),Xe("bumpSeed")])},FreezeLookupTable:{index:1,layout:we([xe("instruction")])},ExtendLookupTable:{index:2,layout:we([xe("instruction"),Ql(),jn(Fe(),ho(xe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:we([xe("instruction")])},CloseLookupTable:{index:4,layout:we([xe("instruction")])}});class jB{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=xe("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(si))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=it(si.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=it(si.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new ue(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(sv.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class sv{constructor(){}static createLookupTable(e){const[n,r]=ue.findProgramAddressSync([e.authority.toBuffer(),XM().encode(e.recentSlot)],this.programId),s=si.CreateLookupTable,i=Ge(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vn.programId,isSigner:!1,isWritable:!1}];return[new ft({programId:this.programId,keys:o,data:i}),n]}static freezeLookupTable(e){const n=si.FreezeLookupTable,r=Ge(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ft({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const n=si.ExtendLookupTable,r=Ge(n,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vn.programId,isSigner:!1,isWritable:!1}),new ft({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const n=si.DeactivateLookupTable,r=Ge(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ft({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const n=si.CloseLookupTable,r=Ge(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ft({programId:this.programId,keys:s,data:r})}}sv.programId=new ue("AddressLookupTab1e1111111111111111111111111");class CB{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Xe("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(As))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=it(As.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=it(As.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=it(As.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=it(As.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(iv.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const As=Object.freeze({RequestUnits:{index:0,layout:we([Xe("instruction"),xe("units"),xe("additionalFee")])},RequestHeapFrame:{index:1,layout:we([Xe("instruction"),xe("bytes")])},SetComputeUnitLimit:{index:2,layout:we([Xe("instruction"),xe("units")])},SetComputeUnitPrice:{index:3,layout:we([Xe("instruction"),Ql("microLamports")])}});class iv{constructor(){}static requestUnits(e){const n=As.RequestUnits,r=Ge(n,e);return new ft({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=As.RequestHeapFrame,r=Ge(n,e);return new ft({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=As.SetComputeUnitLimit,r=Ge(n,e);return new ft({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=As.SetComputeUnitPrice,r=Ge(n,{microLamports:BigInt(e.microLamports)});return new ft({keys:[],programId:this.programId,data:r})}}iv.programId=new ue("ComputeBudget111111111111111111111111111111");const K2=64,Y2=32,q2=64,G2=we([Xe("numSignatures"),Xe("padding"),Lr("signatureOffset"),Lr("signatureInstructionIndex"),Lr("publicKeyOffset"),Lr("publicKeyInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Lr("messageInstructionIndex")]);class qm{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:s,instructionIndex:i}=e;tt(n.length===Y2,`Public Key must be ${Y2} bytes but received ${n.length} bytes`),tt(s.length===q2,`Signature must be ${q2} bytes but received ${s.length} bytes`);const o=G2.span,a=o+n.length,l=a+s.length,c=1,d=Ae.Buffer.alloc(l+r.length),h=i??65535;return G2.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:h,publicKeyOffset:o,publicKeyInstructionIndex:h,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:h},d),d.fill(n,o),d.fill(s,a),d.fill(r,l),new ft({keys:[],programId:qm.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:s}=e;tt(n.length===K2,`Private key must be ${K2} bytes but received ${n.length} bytes`);try{const i=jl.fromSecretKey(n),o=i.publicKey.toBytes(),a=Zw(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}qm.programId=new ue("Ed25519SigVerify111111111111111111111111111");const TB=(t,e)=>{const n=Gw.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};Gw.utils.isValidPrivateKey;const RB=Gw.getPublicKey,Z2=32,gg=20,Q2=64,LB=11,yg=we([Xe("numSignatures"),Lr("signatureOffset"),Xe("signatureInstructionIndex"),Lr("ethAddressOffset"),Xe("ethAddressInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Xe("messageInstructionIndex"),bt(20,"ethAddress"),bt(64,"signature"),Xe("recoveryId")]);class Cl{constructor(){}static publicKeyToEthAddress(e){tt(e.length===Q2,`Public key must be ${Q2} bytes but received ${e.length} bytes`);try{return Ae.Buffer.from(R2(Oe(e))).slice(-gg)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Cl.createInstructionWithEthAddress({ethAddress:Cl.publicKeyToEthAddress(n),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=Ae.Buffer.from(n.substr(2),"hex"):a=Ae.Buffer.from(n,"hex"):a=n,tt(a.length===gg,`Address must be ${gg} bytes but received ${a.length} bytes`);const l=1+LB,c=l,d=l+a.length,h=d+s.length+1,p=1,m=Ae.Buffer.alloc(yg.span+r.length);return yg.encode({numSignatures:p,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:c,ethAddressInstructionIndex:o,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:o,signature:Oe(s),ethAddress:Oe(a),recoveryId:i},m),m.fill(Oe(r),yg.span),new ft({keys:[],programId:Cl.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:s}=e;tt(n.length===Z2,`Private key must be ${Z2} bytes but received ${n.length} bytes`);try{const i=Oe(n),o=RB(i,!1).slice(1),a=Ae.Buffer.from(R2(Oe(r))),[l,c]=TB(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:l,recoveryId:c,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Cl.programId=new ue("KeccakSecp256k11111111111111111111111111111");var D4;const O4=new ue("StakeConfig11111111111111111111111111111111");class z4{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Kd{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}D4=Kd;Kd.default=new D4(0,0,ue.default);class PB{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=xe("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(yn))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=it(yn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new z4(new ue(n.staker),new ue(n.withdrawer)),lockup:new Kd(r.unixTimestamp,r.epoch,new ue(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),it(yn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=it(yn.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ue(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=it(yn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ue(i),newAuthorizedPubkey:new ue(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=it(yn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(yn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=it(yn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(yn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Gm.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const yn=Object.freeze({Initialize:{index:0,layout:we([xe("instruction"),WL(),FL()])},Authorize:{index:1,layout:we([xe("instruction"),Fe("newAuthorized"),xe("stakeAuthorizationType")])},Delegate:{index:2,layout:we([xe("instruction")])},Split:{index:3,layout:we([xe("instruction"),wr("lamports")])},Withdraw:{index:4,layout:we([xe("instruction"),wr("lamports")])},Deactivate:{index:5,layout:we([xe("instruction")])},Merge:{index:7,layout:we([xe("instruction")])},AuthorizeWithSeed:{index:8,layout:we([xe("instruction"),Fe("newAuthorized"),xe("stakeAuthorizationType"),Zo("authoritySeed"),Fe("authorityOwner")])}}),BB=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Gm{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:s}=e,i=s||Kd.default,o=yn.Initialize,a=Ge(o,{authorized:{staker:Oe(r.staker.toBuffer()),withdrawer:Oe(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Oe(i.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zl,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ft(l)}static createAccountWithSeed(e){const n=new Ze;n.add(vn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const n=new Ze;n.add(vn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:s}=e,i=yn.Delegate,o=Ge(i);return new Ze().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:xf,isSigner:!1,isWritable:!1},{pubkey:O4,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=yn.Authorize,l=Ge(a,{newAuthorized:Oe(s.toBuffer()),stakeAuthorizationType:i.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Ze().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:l}=e,c=yn.AuthorizeWithSeed,d=Ge(c,{newAuthorized:Oe(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Oe(i.toBuffer())}),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:_s,isSigner:!1,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!0,isWritable:!1}),new Ze().add({keys:h,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=yn.Split,a=Ge(o,{lamports:i});return new ft({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Ze;return r.add(vn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:l}=e,c=new Ze;return c.add(vn.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(vn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:s}=e,i=yn.Merge,o=Ge(i);return new Ze().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:xf,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=yn.Withdraw,l=Ge(a,{lamports:i}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:xf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Ze().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,s=yn.Deactivate,i=Ge(s);return new Ze().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}Gm.programId=new ue("Stake11111111111111111111111111111111111111");Gm.space=200;class W4{constructor(e,n,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=s}}class DB{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=xe("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Is))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=it(Is.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new W4(new ue(n.nodePubkey),new ue(n.authorizedVoter),new ue(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=it(Is.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ue(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=it(Is.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ue(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ue(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=it(Is.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Sc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Is=Object.freeze({InitializeAccount:{index:0,layout:we([xe("instruction"),UL()])},Authorize:{index:1,layout:we([xe("instruction"),Fe("newAuthorized"),xe("voteAuthorizationType")])},Withdraw:{index:3,layout:we([xe("instruction"),wr("lamports")])},UpdateValidatorIdentity:{index:4,layout:we([xe("instruction")])},AuthorizeWithSeed:{index:10,layout:we([xe("instruction"),$L()])}}),OB=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Sc{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:s}=e,i=Is.InitializeAccount,o=Ge(i,{voteInit:{nodePubkey:Oe(s.nodePubkey.toBuffer()),authorizedVoter:Oe(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Oe(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zl,isSigner:!1,isWritable:!1},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ft(a)}static createAccount(e){const n=new Ze;return n.add(vn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Is.Authorize,a=Ge(o,{newAuthorized:Oe(s.toBuffer()),voteAuthorizationType:i.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ze().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,l=Is.AuthorizeWithSeed,c=Ge(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Oe(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Oe(i.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ze().add({keys:d,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Is.Withdraw,a=Ge(o,{lamports:s}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ze().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Sc.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Is.UpdateValidatorIdentity,o=Ge(i),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ze().add({keys:a,programId:this.programId,data:o})}}Sc.programId=new ue("Vote111111111111111111111111111111111111111");Sc.space=3762;const F4=new ue("Va1idator1nfo111111111111111111111111111111"),zB=oe({name:de(),website:Me(de()),details:Me(de()),iconUrl:Me(de()),keybaseUsername:Me(de())});class ov{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(sr(n)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ue(ir(n,0,Ls)),a=Ms(n)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(F4)&&s[1].isSigner){const i=Zo().decode(Ae.Buffer.from(n)),o=JSON.parse(i);return JM(o,zB),new ov(s[1].publicKey,o)}return null}}const WB=new ue("Vote111111111111111111111111111111111111111"),FB=we([Fe("nodePubkey"),Fe("authorizedWithdrawer"),Xe("commission"),En(),jn(we([En("slot"),xe("confirmationCount")]),ho(xe(),-8),"votes"),Xe("rootSlotValid"),En("rootSlot"),En(),jn(we([En("epoch"),Fe("authorizedVoter")]),ho(xe(),-8),"authorizedVoters"),we([jn(we([Fe("authorizedPubkey"),En("epochOfLastAuthorizedSwitch"),En("targetEpoch")]),32,"buf"),En("idx"),Xe("isEmpty")],"priorVoters"),En(),jn(we([En("epoch"),En("credits"),En("prevCredits")]),ho(xe(),-8),"epochCredits"),we([En("slot"),En("timestamp")],"lastTimestamp")]);class av{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=FB.decode(Oe(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new av({nodePubkey:new ue(r.nodePubkey),authorizedWithdrawer:new ue(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(UB),priorVoters:$B(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function UB({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ue(t)}}function X2({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new ue(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function $B({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(X2),...t.slice(0,e).map(X2)]}const J2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function U4(t,e){const n=e===!1?"http":"https";if(!t)return J2[n].devnet;const r=J2[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function HB(t,e,n,r){let s,i;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,i=r):i=n;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await t.sendRawTransaction(e,o),l=i&&i.commitment,d=(await(s?t.confirmTransaction(s,l):t.confirmTransaction(a,l))).value;if(d.err)throw a!=null?new md({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const $4=1e9,VB=Object.freeze(Object.defineProperty({__proto__:null,Account:DL,AddressLookupTableAccount:nx,AddressLookupTableInstruction:jB,AddressLookupTableProgram:sv,Authorized:z4,BLOCKHASH_CACHE_TIMEOUT_MS:N4,BPF_LOADER_DEPRECATED_PROGRAM_ID:OL,BPF_LOADER_PROGRAM_ID:nP,BpfLoader:rP,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:As,ComputeBudgetInstruction:CB,ComputeBudgetProgram:iv,Connection:B4,Ed25519Program:qm,Enum:PL,EpochSchedule:k4,FeeCalculatorLayout:S4,Keypair:jl,LAMPORTS_PER_SOL:$4,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:si,Loader:ba,Lockup:Kd,MAX_SEED_LENGTH:x4,Message:hs,MessageAccountKeys:pd,MessageV0:va,NONCE_ACCOUNT_LENGTH:tx,NonceAccount:Vm,PACKET_DATA_SIZE:fo,PUBLIC_KEY_LENGTH:Ls,PublicKey:ue,SIGNATURE_LENGTH_IN_BYTES:ql,SOLANA_SCHEMA:Pu,STAKE_CONFIG_ID:O4,STAKE_INSTRUCTION_LAYOUTS:yn,SYSTEM_INSTRUCTION_LAYOUTS:mt,SYSVAR_CLOCK_PUBKEY:_s,SYSVAR_EPOCH_SCHEDULE_PUBKEY:qL,SYSVAR_INSTRUCTIONS_PUBKEY:GL,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:yf,SYSVAR_RENT_PUBKEY:Zl,SYSVAR_REWARDS_PUBKEY:ZL,SYSVAR_SLOT_HASHES_PUBKEY:QL,SYSVAR_SLOT_HISTORY_PUBKEY:XL,SYSVAR_STAKE_HISTORY_PUBKEY:xf,Secp256k1Program:Cl,SendTransactionError:md,SolanaJSONRPCError:_e,SolanaJSONRPCErrorCode:JL,StakeAuthorizationLayout:BB,StakeInstruction:PB,StakeProgram:Gm,Struct:Qw,SystemInstruction:eP,SystemProgram:vn,Transaction:Ze,TransactionExpiredBlockheightExceededError:Xw,TransactionExpiredNonceInvalidError:xl,TransactionExpiredTimeoutError:Jw,TransactionInstruction:ft,TransactionMessage:ev,TransactionStatus:qs,VALIDATOR_INFO_KEY:F4,VERSION_PREFIX_MASK:Um,VOTE_PROGRAM_ID:WB,ValidatorInfo:ov,VersionedMessage:Hm,VersionedTransaction:Gl,VoteAccount:av,VoteAuthorizationLayout:OB,VoteInit:W4,VoteInstruction:DB,VoteProgram:Sc,clusterApiUrl:U4,sendAndConfirmRawTransaction:HB,sendAndConfirmTransaction:ex},Symbol.toStringTag,{value:"Module"})),H4=z.createContext({});function V4(){return z.useContext(H4)}const KB=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=z.useMemo(()=>new B4(e,n),[e,n]);return V.createElement(H4.Provider,{value:{connection:r}},t)};class Pt extends Error{constructor(e,n){super(e),this.error=n}}class Xl extends Pt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class K4 extends Pt{constructor(){super(...arguments),this.name="WalletLoadError"}}class Qo extends Pt{constructor(){super(...arguments),this.name="WalletConfigError"}}class yd extends Pt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Zm extends Pt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Qm extends Pt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Qi extends Pt{constructor(){super(...arguments),this.name="WalletAccountError"}}class Jl extends Pt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class YB extends Pt{constructor(){super(...arguments),this.name="WalletKeypairError"}}class tn extends Pt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class ci extends Pt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ns extends Pt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Xm extends Pt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ox extends Pt{constructor(){super(...arguments),this.name="WalletSignInError"}}class qB extends Pt{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class GB extends Pt{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class ZB extends Pt{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var nt;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(nt||(nt={}));class lv extends Fm{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new tn;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function cv(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Wp(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Cs(t){return"version"in t}class Y4 extends lv{async sendTransaction(e,n,r={}){let s=!0;try{if(Cs(e)){if(!this.supportedTransactionVersions)throw new ci("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new ci(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof ns?(s=!1,i):new ci(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof ns?(s=!1,i):new ci(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(Cs(r)){if(!this.supportedTransactionVersions)throw new ns("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ns(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Jm extends Y4{}class QB extends Jm{}const js="solana:signAndSendTransaction",wf="solana:signIn",Uo="solana:signMessage",un="solana:signTransaction",XB="solana:signAndSendAllTransactions",JB=Object.freeze(Object.defineProperty({__proto__:null,SignAndSendAllTransactions:XB,SolanaSignAndSendTransaction:js,SolanaSignIn:wf,SolanaSignMessage:Uo,SolanaSignTransaction:un},Symbol.toStringTag,{value:"Module"})),Yd="standard:connect",eD=Yd,xd="standard:disconnect",tD=xd,qd="standard:events",nD=qd,rD=Object.freeze(Object.defineProperty({__proto__:null,Connect:eD,Disconnect:tD,Events:nD,StandardConnect:Yd,StandardDisconnect:xd,StandardEvents:qd},Symbol.toStringTag,{value:"Module"}));function q4(t){return Yd in t.features&&qd in t.features&&(js in t.features||un in t.features)}var Fp;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(Fp||(Fp={}));const sD=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Jm,BaseSignInMessageSignerWalletAdapter:QB,BaseSignerWalletAdapter:Y4,BaseWalletAdapter:lv,EventEmitter:Fm,WalletAccountError:Qi,get WalletAdapterNetwork(){return Fp},WalletConfigError:Qo,WalletConnectionError:yd,WalletDisconnectedError:Zm,WalletDisconnectionError:Qm,WalletError:Pt,WalletKeypairError:YB,WalletLoadError:K4,WalletNotConnectedError:tn,WalletNotReadyError:Xl,WalletPublicKeyError:Jl,get WalletReadyState(){return nt},WalletSendTransactionError:ci,WalletSignInError:ox,WalletSignMessageError:Xm,WalletSignTransactionError:ns,WalletTimeoutError:qB,WalletWindowBlockedError:GB,WalletWindowClosedError:ZB,isIosAndRedirectable:Wp,isVersionedTransaction:Cs,isWalletAdapterCompatibleStandardWallet:q4,scopePollingDetectionStrategy:cv},Symbol.toStringTag,{value:"Module"}));class eS extends Pt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const iD=[],e0={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Zr("call","select")},connect(){return Promise.reject(Zr("call","connect"))},disconnect(){return Promise.reject(Zr("call","disconnect"))},sendTransaction(){return Promise.reject(Zr("call","sendTransaction"))},signTransaction(){return Promise.reject(Zr("call","signTransaction"))},signAllTransactions(){return Promise.reject(Zr("call","signAllTransactions"))},signMessage(){return Promise.reject(Zr("call","signMessage"))},signIn(){return Promise.reject(Zr("call","signIn"))}};Object.defineProperty(e0,"wallets",{get(){return Zr("read","wallets"),iD}});Object.defineProperty(e0,"wallet",{get(){return Zr("read","wallet"),null}});Object.defineProperty(e0,"publicKey",{get(){return Zr("read","publicKey"),null}});function Zr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const G4=z.createContext(e0);function uv(){return z.useContext(G4)}function oD(t,e){const n=z.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=z.useRef(!0);return z.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var Eo={};const aD=Si(sD),Z4=Si(VB),Q4=Si(JB);var Ws={},Gd={},lD=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},X4={},jr={};let dv;const cD=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];jr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};jr.getSymbolTotalCodewords=function(e){return cD[e]};jr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};jr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');dv=e};jr.isKanjiModeEnabled=function(){return typeof dv<"u"};jr.toSJIS=function(e){return dv(e)};var t0={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(t0);function J4(){this.buffer=[],this.length=0}J4.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var uD=J4;function Zd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Zd.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Zd.prototype.get=function(t,e){return this.data[t*this.size+e]};Zd.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Zd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var dD=Zd,eA={};(function(t){const e=jr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(eA);var tA={};const hD=jr.getSymbolSize,tS=7;tA.getPositions=function(e){const n=hD(e);return[[0,0],[n-tS,0],[0,n-tS]]};var nA={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,d=null;for(let h=0;h<i;h++){a=l=0,c=d=null;for(let p=0;p<i;p++){let m=s.get(h,p);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=s.get(p,h),m===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let d=0;d<i;d++)a=a<<1&2047|s.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),d<l&&(l=d,a=c)}return a}})(nA);var n0={};const Xi=t0,Rh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Lh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n0.getBlocksCount=function(e,n){switch(n){case Xi.L:return Rh[(e-1)*4+0];case Xi.M:return Rh[(e-1)*4+1];case Xi.Q:return Rh[(e-1)*4+2];case Xi.H:return Rh[(e-1)*4+3];default:return}};n0.getTotalCodewordsCount=function(e,n){switch(n){case Xi.L:return Lh[(e-1)*4+0];case Xi.M:return Lh[(e-1)*4+1];case Xi.Q:return Lh[(e-1)*4+2];case Xi.H:return Lh[(e-1)*4+3];default:return}};var rA={},r0={};const Bu=new Uint8Array(512),Up=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Bu[n]=e,Up[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Bu[n]=Bu[n-255]})();r0.log=function(e){if(e<1)throw new Error("log("+e+")");return Up[e]};r0.exp=function(e){return Bu[e]};r0.mul=function(e,n){return e===0||n===0?0:Bu[Up[e]+Up[n]]};(function(t){const e=r0;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(rA);const sA=rA;function hv(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}hv.prototype.initialize=function(e){this.degree=e,this.genPoly=sA.generateECPolynomial(this.degree)};hv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=sA.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var fD=hv,iA={},No={},fv={};fv.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Fs={};const oA="[0-9]+",pD="[A-Z $%*+\\-./:]+";let wd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wd=wd.replace(/u/g,"\\u");const mD="(?:(?![A-Z0-9 $%*+\\-./:]|"+wd+`)(?:.|[\r
]))+`;Fs.KANJI=new RegExp(wd,"g");Fs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Fs.BYTE=new RegExp(mD,"g");Fs.NUMERIC=new RegExp(oA,"g");Fs.ALPHANUMERIC=new RegExp(pD,"g");const gD=new RegExp("^"+wd+"$"),yD=new RegExp("^"+oA+"$"),xD=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Fs.testKanji=function(e){return gD.test(e)};Fs.testNumeric=function(e){return yD.test(e)};Fs.testAlphanumeric=function(e){return xD.test(e)};(function(t){const e=fv,n=Fs;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(No);(function(t){const e=jr,n=n0,r=t0,s=No,i=fv,o=7973,a=e.getBCHDigit(o);function l(p,m,y){for(let w=1;w<=40;w++)if(m<=t.getCapacity(w,y,p))return w}function c(p,m){return s.getCharCountIndicator(p,m)+4}function d(p,m){let y=0;return p.forEach(function(w){const b=c(w.mode,m);y+=b+w.getBitsLength()}),y}function h(p,m){for(let y=1;y<=40;y++)if(d(p,y)<=t.getCapacity(y,m,s.MIXED))return y}t.from=function(m,y){return i.isValid(m)?parseInt(m,10):y},t.getCapacity=function(m,y,w){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);const b=e.getSymbolTotalCodewords(m),g=n.getTotalCodewordsCount(m,y),S=(b-g)*8;if(w===s.MIXED)return S;const _=S-c(w,m);switch(w){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(m,y){let w;const b=r.from(y,r.M);if(Array.isArray(m)){if(m.length>1)return h(m,b);if(m.length===0)return 1;w=m[0]}else w=m;return l(w.mode,w.getLength(),b)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;e.getBCHDigit(y)-a>=0;)y^=o<<e.getBCHDigit(y)-a;return m<<12|y}})(iA);var aA={};const ax=jr,lA=1335,wD=21522,nS=ax.getBCHDigit(lA);aA.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;ax.getBCHDigit(s)-nS>=0;)s^=lA<<ax.getBCHDigit(s)-nS;return(r<<10|s)^wD};var cA={};const vD=No;function ec(t){this.mode=vD.NUMERIC,this.data=t.toString()}ec.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ec.prototype.getLength=function(){return this.data.length};ec.prototype.getBitsLength=function(){return ec.getBitsLength(this.data.length)};ec.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var bD=ec;const SD=No,xg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function tc(t){this.mode=SD.ALPHANUMERIC,this.data=t}tc.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};tc.prototype.getLength=function(){return this.data.length};tc.prototype.getBitsLength=function(){return tc.getBitsLength(this.data.length)};tc.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=xg.indexOf(this.data[n])*45;r+=xg.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(xg.indexOf(this.data[n]),6)};var _D=tc;const kD=No;function nc(t){this.mode=kD.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}nc.getBitsLength=function(e){return e*8};nc.prototype.getLength=function(){return this.data.length};nc.prototype.getBitsLength=function(){return nc.getBitsLength(this.data.length)};nc.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var ED=nc;const ND=No,MD=jr;function rc(t){this.mode=ND.KANJI,this.data=t}rc.getBitsLength=function(e){return e*13};rc.prototype.getLength=function(){return this.data.length};rc.prototype.getBitsLength=function(){return rc.getBitsLength(this.data.length)};rc.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=MD.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var AD=rc,uA={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,h,p,m,y,w,b;!a.empty();){l=a.pop(),c=l.value,h=l.cost,p=n[c]||{};for(d in p)p.hasOwnProperty(d)&&(m=p[d],y=h+m,w=o[d],b=typeof o[d]>"u",(b||w>y)&&(o[d]=y,a.push(d,y),i[d]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var g=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(g)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(uA);var ID=uA.exports;(function(t){const e=No,n=bD,r=_D,s=ED,i=AD,o=Fs,a=jr,l=ID;function c(g){return unescape(encodeURIComponent(g)).length}function d(g,S,_){const M=[];let R;for(;(R=g.exec(_))!==null;)M.push({data:R[0],index:R.index,mode:S,length:R[0].length});return M}function h(g){const S=d(o.NUMERIC,e.NUMERIC,g),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,g);let M,R;return a.isKanjiModeEnabled()?(M=d(o.BYTE,e.BYTE,g),R=d(o.KANJI,e.KANJI,g)):(M=d(o.BYTE_KANJI,e.BYTE,g),R=[]),S.concat(_,M,R).sort(function(D,L){return D.index-L.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function p(g,S){switch(S){case e.NUMERIC:return n.getBitsLength(g);case e.ALPHANUMERIC:return r.getBitsLength(g);case e.KANJI:return i.getBitsLength(g);case e.BYTE:return s.getBitsLength(g)}}function m(g){return g.reduce(function(S,_){const M=S.length-1>=0?S[S.length-1]:null;return M&&M.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function y(g){const S=[];for(let _=0;_<g.length;_++){const M=g[_];switch(M.mode){case e.NUMERIC:S.push([M,{data:M.data,mode:e.ALPHANUMERIC,length:M.length},{data:M.data,mode:e.BYTE,length:M.length}]);break;case e.ALPHANUMERIC:S.push([M,{data:M.data,mode:e.BYTE,length:M.length}]);break;case e.KANJI:S.push([M,{data:M.data,mode:e.BYTE,length:c(M.data)}]);break;case e.BYTE:S.push([{data:M.data,mode:e.BYTE,length:c(M.data)}])}}return S}function w(g,S){const _={},M={start:{}};let R=["start"];for(let W=0;W<g.length;W++){const D=g[W],L=[];for(let F=0;F<D.length;F++){const $=D[F],H=""+W+F;L.push(H),_[H]={node:$,lastCount:0},M[H]={};for(let K=0;K<R.length;K++){const A=R[K];_[A]&&_[A].node.mode===$.mode?(M[A][H]=p(_[A].lastCount+$.length,$.mode)-p(_[A].lastCount,$.mode),_[A].lastCount+=$.length):(_[A]&&(_[A].lastCount=$.length),M[A][H]=p($.length,$.mode)+4+e.getCharCountIndicator($.mode,S))}}R=L}for(let W=0;W<R.length;W++)M[R[W]].end=0;return{map:M,table:_}}function b(g,S){let _;const M=e.getBestModeForData(g);if(_=e.from(S,M),_!==e.BYTE&&_.bit<M.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(M));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(g);case e.ALPHANUMERIC:return new r(g);case e.KANJI:return new i(g);case e.BYTE:return new s(g)}}t.fromArray=function(S){return S.reduce(function(_,M){return typeof M=="string"?_.push(b(M,null)):M.data&&_.push(b(M.data,M.mode)),_},[])},t.fromString=function(S,_){const M=h(S,a.isKanjiModeEnabled()),R=y(M),W=w(R,_),D=l.find_path(W.map,"start","end"),L=[];for(let F=1;F<D.length-1;F++)L.push(W.table[D[F]].node);return t.fromArray(m(L))},t.rawSplit=function(S){return t.fromArray(h(S,a.isKanjiModeEnabled()))}})(cA);const s0=jr,wg=t0,jD=uD,CD=dD,TD=eA,RD=tA,lx=nA,cx=n0,LD=fD,$p=iA,PD=aA,BD=No,vg=cA;function DD(t,e){const n=t.size,r=RD.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function OD(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function zD(t,e){const n=TD.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function WD(t,e){const n=t.size,r=$p.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function bg(t,e,n){const r=t.size,s=PD.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function FD(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function UD(t,e,n){const r=new jD;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),BD.getCharCountIndicator(l.mode,t)),l.write(r)});const s=s0.getSymbolTotalCodewords(t),i=cx.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return $D(r,t,e)}function $D(t,e,n){const r=s0.getSymbolTotalCodewords(e),s=cx.getTotalCodewordsCount(e,n),i=r-s,o=cx.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(i/o),h=d+1,p=c-d,m=new LD(p);let y=0;const w=new Array(o),b=new Array(o);let g=0;const S=new Uint8Array(t.buffer);for(let D=0;D<o;D++){const L=D<l?d:h;w[D]=S.slice(y,y+L),b[D]=m.encode(w[D]),y+=L,g=Math.max(g,L)}const _=new Uint8Array(r);let M=0,R,W;for(R=0;R<g;R++)for(W=0;W<o;W++)R<w[W].length&&(_[M++]=w[W][R]);for(R=0;R<p;R++)for(W=0;W<o;W++)_[M++]=b[W][R];return _}function HD(t,e,n,r){let s;if(Array.isArray(t))s=vg.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=vg.rawSplit(t);c=$p.getBestVersionForData(d,n)}s=vg.fromString(t,c||40)}else throw new Error("Invalid data");const i=$p.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=UD(e,n,s),a=s0.getSymbolSize(e),l=new CD(a);return DD(l,e),OD(l),zD(l,e),bg(l,n,0),e>=7&&WD(l,e),FD(l,o),isNaN(r)&&(r=lx.getBestMask(l,bg.bind(null,l,n))),lx.applyMask(r,l),bg(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}X4.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=wg.M,s,i;return typeof n<"u"&&(r=wg.from(n.errorCorrectionLevel,wg.M),s=$p.from(n.version),i=lx.from(n.maskPattern),n.toSJISFunc&&s0.setToSJISFunction(n.toSJISFunc)),HD(e,s,r,i)};var dA={},pv={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),d=i.margin*l,h=[i.color.light,i.color.dark];for(let p=0;p<c;p++)for(let m=0;m<c;m++){let y=(p*c+m)*4,w=i.color.light;if(p>=d&&m>=d&&p<c-d&&m<c-d){const b=Math.floor((p-d)/l),g=Math.floor((m-d)/l);w=h[a[b*o+g]?1:0]}r[y++]=w.r,r[y++]=w.g,r[y++]=w.b,r[y]=w.a}}})(pv);(function(t){const e=pv;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(i.modules.size,l),h=c.getContext("2d"),p=h.createImageData(d,d);return e.qrToImageData(p.data,i,l),n(h,c,d),h.putImageData(p,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),d=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(d,h.quality)}})(dA);var hA={};const VD=pv;function rS(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Sg(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function KD(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?Sg("M",l+n,.5+c+n):Sg("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=Sg("h",o),o=0)):s++}return r}hA.render=function(e,n,r){const s=VD.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+rS(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+rS(s.color.dark,"stroke")+' d="'+KD(o,i,s.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const YD=lD,ux=X4,fA=dA,qD=hA;function mv(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!YD())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=ux.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=ux.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}Gd.create=ux.create;Gd.toCanvas=mv.bind(null,fA.render);Gd.toDataURL=mv.bind(null,fA.renderToDataURL);Gd.toString=mv.bind(null,function(t,e,n){return qD.render(t,n)});const GD=Si(rD);var lr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(lr);var Us={};function vf(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Hp="https://api.mainnet-beta.solana.com",pA="https://api.devnet.solana.com",mA="https://api.testnet.solana.com",gA="http://localhost:8899";function yA(t){return t.includes(Hp)?lr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?lr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?lr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?lr.SOLANA_LOCALNET_CHAIN:lr.SOLANA_MAINNET_CHAIN}function ZD(t,e){return e||(t===lr.SOLANA_MAINNET_CHAIN?Hp:t===lr.SOLANA_DEVNET_CHAIN?pA:t===lr.SOLANA_TESTNET_CHAIN?mA:t===lr.SOLANA_LOCALNET_CHAIN?gA:Hp)}function xA(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function QD(t,e){return xA(t,e)}function gv({message:t,signedMessage:e,signature:n,publicKey:r}){return QD(t,e)&&Ia.verify(n,e,r)}function XD(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:s,signature:i}=e;return gv({message:n,signedMessage:s,signature:i,publicKey:r})}function JD(t,e){const{signedMessage:n,signature:r,account:{publicKey:s}}=e,i=wA(t,e);return!!i&&gv({message:i,signedMessage:n,signature:r,publicKey:s})}function wA(t,e){const n=vA(t,e);return n?new TextEncoder().encode(n):null}function vA(t,e){const n=bA(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!xA(t.resources,n.resources))return null}else if(n.resources)return null;return yv(n)}function bA(t){const e=new TextDecoder().decode(t);return SA(e)}const eO="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",tO="(?<address>[^\\n]+)(?:\\n|$)",nO="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",rO="(?:\\nURI: (?<uri>[^\\n]+))?",sO="(?:\\nVersion: (?<version>[^\\n]+))?",iO="(?:\\nChain ID: (?<chainId>[^\\n]+))?",oO="(?:\\nNonce: (?<nonce>[^\\n]+))?",aO="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",lO="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",cO="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",uO="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",dO="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",hO=`${rO}${sO}${iO}${oO}${aO}${lO}${cO}${uO}${dO}`,fO=new RegExp(`^${eO}${tO}${nO}${hO}\\n*$`);function SA(t){var r;const e=fO.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function pO(t){const e=yv(t);return new TextEncoder().encode(e)}function yv(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const mO=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:pA,LOCALNET_ENDPOINT:gA,MAINNET_ENDPOINT:Hp,TESTNET_ENDPOINT:mA,createSignInMessage:pO,createSignInMessageText:yv,deriveSignInMessage:wA,deriveSignInMessageText:vA,getChainForEndpoint:yA,getCommitment:vf,getEndpointForChain:ZD,parseSignInMessage:bA,parseSignInMessageText:SA,verifyMessageSignature:gv,verifySignIn:JD,verifySignMessage:XD},Symbol.toStringTag,{value:"Module"})),gO=Si(mO);Object.defineProperty(Us,"__esModule",{value:!0});var yO=gO;const _r={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class kr extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}const xO={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class i0 extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function lt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function wO(t){return window.btoa(t)}function dx(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function vO(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function bf(t,e){return lt(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function bO(t){return yO.createSignInMessageText(t)}function SO(t){return wO(bO(t))}const _A="solana:signTransactions",hx="solana:cloneAuthorization",_O="solana:signInWithSolana";function kA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return lt(this,void 0,void 0,function*(){const{method:i,params:o}=kO(r,s,t),a=yield e(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield NO(o.sign_in_payload,a,e)),EO(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function kO(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function EO(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[_A];return r.supports_clone_authorization===!0&&s.push(hx),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(hx)})}}}return e}function NO(t,e,n){var r;return lt(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,o=SO(Object.assign(Object.assign({},t),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const ui=4;function MO(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ui);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const fx=12,xv=65;function AO(t,e,n){return lt(this,void 0,void 0,function*(){const r=MO(e),s=new Uint8Array(fx);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(NA(r,s),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function EA(t,e){return lt(this,void 0,void 0,function*(){const n=t.slice(0,ui),r=t.slice(ui,ui+fx),s=t.slice(ui+fx),i=yield crypto.subtle.decrypt(NA(n,r),e,s);return IO().decode(i)})}function NA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let _g;function IO(){return _g===void 0&&(_g=new TextDecoder("utf-8")),_g}function MA(){return lt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Sf(){return lt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function AA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function jO(){return IA(49152+Math.floor(Math.random()*16384))}function IA(t){if(t<49152||t>65535)throw new kr(_r.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function jA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const CO="solana-wallet";function sS(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function CA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new kr(_r.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${CO}:/`));const r=t.startsWith("/")?t:[...sS(n.pathname),...sS(t)].join("/");return new URL(r,n)}function TO(t,e,n,r=["v1"]){return lt(this,void 0,void 0,function*(){const s=IA(e),i=yield crypto.subtle.exportKey("raw",t),o=AA(i),a=CA("v1/associate/local",n);return a.searchParams.set("association",jA(o)),a.searchParams.set("port",`${s}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function RO(t,e,n,r,s=["v1"]){return lt(this,void 0,void 0,function*(){const i=yield crypto.subtle.exportKey("raw",t),o=AA(i),a=CA("v1/associate/remote",r);return a.searchParams.set("association",jA(o)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${dx(n,!0)}`),s.forEach(l=>{a.searchParams.set("v",l)}),a})}function TA(t,e){return lt(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return AO(n,r,e)})}function RA(t,e){return lt(this,void 0,void 0,function*(){const n=yield EA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new i0(r.id,r.error.code,r.error.message);return r})}function LA(t,e,n){return lt(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,xv),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function PA(t,e){return lt(this,void 0,void 0,function*(){const n=yield EA(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new kr(_r.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const Vp={Firefox:0,Other:1};function LO(){return navigator.userAgent.indexOf("Firefox/")!==-1?Vp.Firefox:Vp.Other}function PO(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let qc=null;function BO(t){qc==null&&(qc=document.createElement("iframe"),qc.style.display="none",document.body.appendChild(qc)),qc.contentWindow.location.href=t.toString()}function DO(t){return lt(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=LO();switch(e){case Vp.Firefox:BO(t);break;case Vp.Other:{const n=PO();window.location.assign(t),yield n;break}default:}}catch{throw new kr(_r.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function OO(t,e){return lt(this,void 0,void 0,function*(){const n=jO(),r=yield TO(t,n,e);return yield DO(r),n})}const Kp={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},BA="com.solana.mobilewalletadapter.v1",iS="com.solana.mobilewalletadapter.v1.base64";function DA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new kr(_r.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function OA(t){let e;try{e=new URL(t)}catch{throw new kr(_r.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new kr(_r.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Yp(t){return new DataView(t).getUint32(0,!1)}function zO(t){var e=new Uint8Array(t),n=t.byteLength,r=10,s=0,i=0,o;do{if(i>=n||i>r)throw new RangeError("Failed to decode varint");o=e[i++],s|=(o&127)<<7*i}while(o>=128);return{value:s,offset:i}}function WO(t){let{value:e,offset:n}=zO(t);return new Uint8Array(t.slice(n,n+e))}function FO(t,e){return lt(this,void 0,void 0,function*(){DA();const n=yield MA(),s=`ws://localhost:${yield OO(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const d=[...Kp.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((d,h)=>{let p;const m={},y=()=>lt(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",y);const{associationKeypair:R}=c,W=yield Sf();p.send(yield bf(W.publicKey,R.privateKey)),c={__type:"hello_req_sent",associationPublicKey:R.publicKey,ecdhPrivateKey:W.privateKey}}),w=R=>{R.wasClean?c={__type:"disconnected"}:h(new kr(_r.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${R.code}: ${R.reason}).`,{closeEvent:R})),S()},b=R=>lt(this,void 0,void 0,function*(){S(),Date.now()-i>=Kp.timeoutMs?h(new kr(_r.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(W=>{const D=o();_=window.setTimeout(W,D)}),M())}),g=R=>lt(this,void 0,void 0,function*(){const W=yield R.data.arrayBuffer();switch(c.__type){case"connecting":if(W.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const D=yield Sf();p.send(yield bf(D.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:D.privateKey};break;case"connected":try{const L=W.slice(0,ui),F=Yp(L);if(F!==l+1)throw new Error("Encrypted message has invalid sequence number");l=F;const $=yield RA(W,c.sharedSecret),H=m[$.id];delete m[$.id],H.resolve($.result)}catch(L){if(L instanceof i0){const F=m[L.jsonRpcMessageId];delete m[L.jsonRpcMessageId],F.reject(L)}else throw L}break;case"hello_req_sent":{if(W.byteLength===0){const K=yield Sf();p.send(yield bf(K.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:K.privateKey};break}const L=yield LA(W,c.associationPublicKey,c.ecdhPrivateKey),F=W.slice(xv),$=F.byteLength!==0?yield lt(this,void 0,void 0,function*(){const K=F.slice(0,ui),A=Yp(K);if(A!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=A,PA(F,L)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:L,sessionProperties:$};const H=kA($.protocol_version,(K,A)=>lt(this,void 0,void 0,function*(){const f=a++;return p.send(yield TA({id:f,jsonrpc:"2.0",method:K,params:A??{}},L)),new Promise((x,k)=>{m[f]={resolve(I){switch(K){case"authorize":case"reauthorize":{const{wallet_uri_base:C}=I;if(C!=null)try{OA(C)}catch(j){k(j);return}break}}x(I)},reject:k}})}));try{d(yield t(H))}catch(K){h(K)}finally{S(),p.close()}break}}});let S,_;const M=()=>{S&&S(),c={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),p=new WebSocket(s,[BA]),p.addEventListener("open",y),p.addEventListener("close",w),p.addEventListener("error",b),p.addEventListener("message",g),S=()=>{window.clearTimeout(_),p.removeEventListener("open",y),p.removeEventListener("close",w),p.removeEventListener("error",b),p.removeEventListener("message",g)}};M()})})}function UO(t){return lt(this,void 0,void 0,function*(){DA();const e=yield MA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const s=(()=>{const w=[...Kp.retryDelayScheduleMs];return()=>w.length>1?w.shift():w[0]})();let i=1,o=0,a,l={__type:"disconnected"},c,d,h=w=>lt(this,void 0,void 0,function*(){if(a=="base64"){const b=yield w.data;return vO(b).buffer}else return yield w.data.arrayBuffer()});const p=yield new Promise((w,b)=>{const g=()=>lt(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(iS)?a="base64":a="binary",c.removeEventListener("open",g)}),S=D=>{D.wasClean?l={__type:"disconnected"}:b(new kr(_r.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),d()},_=D=>lt(this,void 0,void 0,function*(){d(),Date.now()-r>=Kp.timeoutMs?b(new kr(_r.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(L=>{const F=s();R=window.setTimeout(L,F)}),W())}),M=D=>lt(this,void 0,void 0,function*(){const L=yield h(D);if(l.__type==="connecting"){if(L.byteLength==0)throw new Error("Encountered unexpected message while connecting");const F=WO(L);l={__type:"reflector_id_received",reflectorId:F};const $=yield RO(e.publicKey,t.remoteHostAuthority,F,t==null?void 0:t.baseUri);c.removeEventListener("message",M),w($)}});let R;const W=()=>{d&&d(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[BA,iS]),c.addEventListener("open",g),c.addEventListener("close",S),c.addEventListener("error",_),c.addEventListener("message",M),d=()=>{window.clearTimeout(R),c.removeEventListener("open",g),c.removeEventListener("close",S),c.removeEventListener("error",_),c.removeEventListener("message",M)}};W()});let m=!1,y;return{associationUrl:p,close:()=>{c.close(),y()},wallet:new Promise((w,b)=>{const g={},S=_=>lt(this,void 0,void 0,function*(){const M=yield h(_);switch(l.__type){case"reflector_id_received":if(M.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const R=yield Sf(),W=yield bf(R.publicKey,e.privateKey);a=="base64"?c.send(dx(W)):c.send(W),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:R.privateKey};break;case"connected":try{const D=M.slice(0,ui),L=Yp(D);if(L!==o+1)throw new Error("Encrypted message has invalid sequence number");o=L;const F=yield RA(M,l.sharedSecret),$=g[F.id];delete g[F.id],$.resolve(F.result)}catch(D){if(D instanceof i0){const L=g[D.jsonRpcMessageId];delete g[D.jsonRpcMessageId],L.reject(D)}else throw D}break;case"hello_req_sent":{const D=yield LA(M,l.associationPublicKey,l.ecdhPrivateKey),L=M.slice(xv),F=L.byteLength!==0?yield lt(this,void 0,void 0,function*(){const H=L.slice(0,ui),K=Yp(H);if(K!==o+1)throw new Error("Encrypted message has invalid sequence number");return o=K,PA(L,D)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:D,sessionProperties:F};const $=kA(F.protocol_version,(H,K)=>lt(this,void 0,void 0,function*(){const A=i++,f=yield TA({id:A,jsonrpc:"2.0",method:H,params:K??{}},D);return a=="base64"?c.send(dx(f)):c.send(f),new Promise((x,k)=>{g[A]={resolve(I){switch(H){case"authorize":case"reauthorize":{const{wallet_uri_base:C}=I;if(C!=null)try{OA(C)}catch(j){k(j);return}break}}x(I)},reject:k}})}));m=!0;try{w($)}catch(H){b(H)}break}}});c.addEventListener("message",S),y=()=>{c.removeEventListener("message",S),d(),m||b(new kr(_r.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}Us.SolanaCloneAuthorization=hx;Us.SolanaMobileWalletAdapterError=kr;Us.SolanaMobileWalletAdapterErrorCode=_r;Us.SolanaMobileWalletAdapterProtocolError=i0;Us.SolanaMobileWalletAdapterProtocolErrorCode=xO;Us.SolanaSignInWithSolana=_O;Us.SolanaSignTransactions=_A;var $O=Us.startRemoteScenario=UO,HO=Us.transact=FO;function VO(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var M=m[b],R=0,W=S-1;(M!==0||R<w)&&W!==-1;W--,R++)M+=256*_[W]>>>0,_[W]=M%o>>>0,M=M/o>>>0;if(M!==0)throw new Error("Non-zero carry");w=R,b++}for(var D=S-w;D!==S&&_[D]===0;)D++;for(var L=a.repeat(y);D<S;++D)L+=t.charAt(_[D]);return L}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);m[y];){var _=m.charCodeAt(y);if(_>255)return;var M=e[_];if(M===255)return;for(var R=0,W=g-1;(M!==0||R<b)&&W!==-1;W--,R++)M+=o*S[W]>>>0,S[W]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");b=R,y++}for(var D=g-b;D!==g&&S[D]===0;)D++;for(var L=new Uint8Array(w+(g-D)),F=w;D!==g;)L[F++]=S[D++];return L}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var KO=VO;const YO=KO,qO="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var zA=YO(qO);const GO=Ea(zA);function kg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Du(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function WA(t){return window.btoa(String.fromCharCode.call(null,...t))}function Eg(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function oS(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return WA(e)}function ZO(t){const n=t[0]*ql+1;return Hm.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Ze.from(t):Gl.deserialize(t)}function QO(t,e){return Du(this,void 0,void 0,function*(){return yield HO(r=>t(FA(r)),e)})}function XO(t){return Du(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield $O(t);return{wallet:e.then(i=>FA(i)),close:n,associationUrl:r}})}function FA(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:i,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,d=kg(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Du(this,void 0,void 0,function*(){const h=c.map(oS),p={min_context_slot:s,commitment:i,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),Object.values(p).some(w=>w!=null)?{options:p}:null),{payloads:h}));return m.map(Eg).map(GO.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,i=kg(r,["payloads"]);return Du(this,void 0,void 0,function*(){const o=s.map(WA),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:o}));return a.map(Eg)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,i=kg(r,["transactions"]);return Du(this,void 0,void 0,function*(){const o=s.map(oS),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:o}));return a.map(Eg).map(ZO)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const JO=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:XO,transact:QO},Symbol.toStringTag,{value:"Module"})),ez=Si(JO);Object.defineProperty(Ws,"__esModule",{value:!0});var wn=Q4,vd=Z4,tz=Gd,Tl=GD,aS=lr,UA=ez,nz=zA;function $A(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var rz=$A(tz),qp=$A(nz);function Le(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function q(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ze(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var cu,ln,Ro,Ga,HA,VA,KA,_f;const sz=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,iz=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,oz=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class YA{constructor(){cu.add(this),ln.set(this,null),Ro.set(this,{}),Ga.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),q(this,cu,"m",VA).call(this),q(this,ln,"f")&&(q(this,ln,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),q(this,cu,"m",KA).call(this),q(this,ln,"f")&&(q(this,ln,"f").style.display="none"),(n=q(this,Ro,"f").close)===null||n===void 0||n.forEach(r=>r(e))},_f.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),ze(this,ln,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Le(this,void 0,void 0,function*(){console.log("Injecting modal"),q(this,cu,"m",HA).call(this)})}addEventListener(e,n){var r;return!((r=q(this,Ro,"f")[e])===null||r===void 0)&&r.push(n)||(q(this,Ro,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;q(this,Ro,"f")[e]=(r=q(this,Ro,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}ln=new WeakMap,Ro=new WeakMap,Ga=new WeakMap,_f=new WeakMap,cu=new WeakSet,HA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){q(this,ln,"f")||ze(this,ln,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}ze(this,ln,document.createElement("div")),q(this,ln,"f").id="mobile-wallet-adapter-embedded-root-ui",q(this,ln,"f").innerHTML=sz,q(this,ln,"f").style.display="none";const e=q(this,ln,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=iz+this.contentStyles;const r=document.createElement("div");r.innerHTML=oz,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(q(this,ln,"f")),document.body.appendChild(r)},VA=function(){if(!q(this,ln,"f")||q(this,Ga,"f"))return;[...q(this,ln,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",q(this,_f,"f")),ze(this,Ga,!0)},KA=function(){if(!q(this,Ga,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",q(this,_f,"f")),!q(this,ln,"f")))return;[...q(this,ln,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),ze(this,Ga,!1)};class az extends YA{constructor(){super(...arguments),this.contentStyles=cz,this.contentHtml=lz}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Le(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Le(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const s=yield rz.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(s,r.firstElementChild):r.appendChild(s)}else console.error("QRCode Container not found")})}}const lz=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,cz=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,qA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function GA(t){return"version"in t}function ZA(t){return window.btoa(String.fromCharCode.call(null,...t))}function Ji(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Za,Xo,px,mx,gx,yx,uu,qn,Gs,Li,Qa,Xa,kf,du,Ef,xx,Nf,QA,wx,Mf,Ja,vx,hu,Af,el,fu,If,bx,Sx,jf,_x,kx,Ex,Cf,tl,Jo,Nx,Mx,Ax,Ix,pu,Gn,Pi,Bi,nl,rl,Tf,mu,Rf,Lf,qr,jx,Pf,XA,Cx,Bf,gu,Tx,yu,Df,sl,xu,Of,Rx,Lx,zf,Px,Bx,Dx,Wf;const wv="Mobile Wallet Adapter",JA=64,e3=[wn.SolanaSignAndSendTransaction,wn.SolanaSignTransaction,wn.SolanaSignMessage,wn.SolanaSignIn];class t3{constructor(e){Za.add(this),Xo.set(this,{}),px.set(this,"1.0.0"),mx.set(this,wv),gx.set(this,"https://solanamobile.com/wallets"),yx.set(this,qA),uu.set(this,void 0),qn.set(this,void 0),Gs.set(this,void 0),Li.set(this,!1),Qa.set(this,0),Xa.set(this,[]),kf.set(this,void 0),du.set(this,void 0),Ef.set(this,void 0),xx.set(this,(n,r)=>{var s;return!((s=q(this,Xo,"f")[n])===null||s===void 0)&&s.push(r)||(q(this,Xo,"f")[n]=[r]),()=>q(this,Za,"m",QA).call(this,n,r)}),wx.set(this,({silent:n}={})=>Le(this,void 0,void 0,function*(){if(q(this,Li,"f")||this.connected)return{accounts:this.accounts};ze(this,Li,!0);try{if(n){const r=yield q(this,Gs,"f").get();if(r)yield q(this,Ja,"f").call(this,r);else return{accounts:this.accounts}}else yield q(this,Mf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{ze(this,Li,!1)}return{accounts:this.accounts}})),Mf.set(this,n=>Le(this,void 0,void 0,function*(){try{const r=yield q(this,Gs,"f").get();if(r)return q(this,Ja,"f").call(this,r),r;const s=yield q(this,kf,"f").select(q(this,Xa,"f"));return yield q(this,el,"f").call(this,i=>Le(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:q(this,uu,"f"),sign_in_payload:n})]),l=q(this,If,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([q(this,vx,"f").call(this,o),q(this,Gs,"f").set(c),q(this,Ja,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ja.set(this,n=>Le(this,void 0,void 0,function*(){var r;const s=q(this,qn,"f")==null||((r=q(this,qn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||q(this,qn,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);ze(this,qn,n),s&&q(this,Za,"m",Nf).call(this,"change",{accounts:this.accounts})})),vx.set(this,n=>Le(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=wn.SolanaSignAndSendTransaction in this.features!==s||wn.SolanaSignTransaction in this.features!==r;ze(this,du,Object.assign(Object.assign({},(s||!s&&!r)&&{[wn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:q(this,jf,"f")}}),r&&{[wn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:q(this,_x,"f")}})),i&&q(this,Za,"m",Nf).call(this,"change",{features:this.features})})),hu.set(this,(n,r,s)=>Le(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:q(this,uu,"f"),chain:s}),o=q(this,If,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([q(this,Gs,"f").set(a),q(this,Ja,"f").call(this,a)])}catch(i){throw q(this,Af,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),Af.set(this,()=>Le(this,void 0,void 0,function*(){var n;q(this,Gs,"f").clear(),ze(this,Li,!1),ze(this,Qa,(n=q(this,Qa,"f"),n++,n)),ze(this,qn,void 0),q(this,Za,"m",Nf).call(this,"change",{accounts:this.accounts})})),el.set(this,n=>Le(this,void 0,void 0,function*(){var r;const s=(r=q(this,qn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=q(this,Qa,"f");try{return yield UA.transact(n,i)}catch(a){throw q(this,Qa,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield q(this,Ef,"f").call(this,this)),a}})),fu.set(this,()=>{if(!q(this,qn,"f"))throw new Error("Wallet not connected");return{authToken:q(this,qn,"f").auth_token,chain:q(this,qn,"f").chain}}),If.set(this,n=>n.map(r=>{var s,i;const o=Ji(r.address);return{address:qp.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:q(this,Xa,"f"),features:(i=r.features)!==null&&i!==void 0?i:e3}})),bx.set(this,n=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:s}=q(this,fu,"f").call(this);try{return yield q(this,el,"f").call(this,i=>Le(this,void 0,void 0,function*(){return yield q(this,hu,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Sx.set(this,(n,r)=>Le(this,void 0,void 0,function*(){const{authToken:s,chain:i}=q(this,fu,"f").call(this);try{return yield q(this,el,"f").call(this,o=>Le(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),q(this,hu,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),jf.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=vd.VersionedTransaction.deserialize(s.transaction),o=yield q(this,Sx,"f").call(this,i,s.options);r.push({signature:qp.default.decode(o)})}return r})),_x.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>vd.VersionedTransaction.deserialize(i));return(yield q(this,bx,"f").call(this,r)).map(i=>({signedTransaction:GA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),kx.set(this,(...n)=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:s}=q(this,fu,"f").call(this),i=n.map(({account:a})=>ZA(a.publicKey)),o=n.map(({message:a})=>a);try{return yield q(this,el,"f").call(this,a=>Le(this,void 0,void 0,function*(){return yield q(this,hu,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-JA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Ex.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield q(this,Cf,"f").call(this,s));else return[yield q(this,Cf,"f").call(this,n[0])];return r})),Cf.set(this,n=>Le(this,void 0,void 0,function*(){var r,s;ze(this,Li,!0);try{const i=yield q(this,Mf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Ji(o)}),signedMessage:Ji(i.sign_in_result.signed_message),signature:Ji(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{ze(this,Li,!1)}})),ze(this,Gs,e.authorizationCache),ze(this,uu,e.appIdentity),ze(this,Xa,e.chains),ze(this,kf,e.chainSelector),ze(this,Ef,e.onWalletNotFound),ze(this,du,{[wn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:q(this,jf,"f")}})}get version(){return q(this,px,"f")}get name(){return q(this,mx,"f")}get url(){return q(this,gx,"f")}get icon(){return q(this,yx,"f")}get chains(){return q(this,Xa,"f")}get features(){return Object.assign({[Tl.StandardConnect]:{version:"1.0.0",connect:q(this,wx,"f")},[Tl.StandardDisconnect]:{version:"1.0.0",disconnect:q(this,Af,"f")},[Tl.StandardEvents]:{version:"1.0.0",on:q(this,xx,"f")},[wn.SolanaSignMessage]:{version:"1.0.0",signMessage:q(this,kx,"f")},[wn.SolanaSignIn]:{version:"1.0.0",signIn:q(this,Ex,"f")}},q(this,du,"f"))}get accounts(){var e,n;return(n=(e=q(this,qn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!q(this,qn,"f")}get isAuthorized(){return!!q(this,qn,"f")}get currentAuthorization(){return q(this,qn,"f")}get cachedAuthorizationResult(){return q(this,Gs,"f").get()}}Xo=new WeakMap,px=new WeakMap,mx=new WeakMap,gx=new WeakMap,yx=new WeakMap,uu=new WeakMap,qn=new WeakMap,Gs=new WeakMap,Li=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,kf=new WeakMap,du=new WeakMap,Ef=new WeakMap,xx=new WeakMap,wx=new WeakMap,Mf=new WeakMap,Ja=new WeakMap,vx=new WeakMap,hu=new WeakMap,Af=new WeakMap,el=new WeakMap,fu=new WeakMap,If=new WeakMap,bx=new WeakMap,Sx=new WeakMap,jf=new WeakMap,_x=new WeakMap,kx=new WeakMap,Ex=new WeakMap,Cf=new WeakMap,Za=new WeakSet,Nf=function(e,...n){var r;(r=q(this,Xo,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},QA=function(e,n){var r;q(this,Xo,"f")[e]=(r=q(this,Xo,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};class n3{constructor(e){tl.add(this),Jo.set(this,{}),Nx.set(this,"1.0.0"),Mx.set(this,wv),Ax.set(this,"https://solanamobile.com/wallets"),Ix.set(this,qA),pu.set(this,void 0),Gn.set(this,void 0),Pi.set(this,void 0),Bi.set(this,!1),nl.set(this,0),rl.set(this,[]),Tf.set(this,void 0),mu.set(this,void 0),Rf.set(this,void 0),Lf.set(this,void 0),qr.set(this,void 0),jx.set(this,(n,r)=>{var s;return!((s=q(this,Jo,"f")[n])===null||s===void 0)&&s.push(r)||(q(this,Jo,"f")[n]=[r]),()=>q(this,tl,"m",XA).call(this,n,r)}),Cx.set(this,({silent:n}={})=>Le(this,void 0,void 0,function*(){if(q(this,Bi,"f")||this.connected)return{accounts:this.accounts};ze(this,Bi,!0);try{yield q(this,Bf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{ze(this,Bi,!1)}return{accounts:this.accounts}})),Bf.set(this,n=>Le(this,void 0,void 0,function*(){try{const r=yield q(this,Pi,"f").get();if(r)return q(this,gu,"f").call(this,r),r;q(this,qr,"f")&&ze(this,qr,void 0,"f");const s=yield q(this,Tf,"f").select(q(this,rl,"f"));return yield q(this,sl,"f").call(this,i=>Le(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:q(this,pu,"f"),sign_in_payload:n})]),l=q(this,Of,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([q(this,Tx,"f").call(this,o),q(this,Pi,"f").set(c),q(this,gu,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),gu.set(this,n=>Le(this,void 0,void 0,function*(){var r;const s=q(this,Gn,"f")==null||((r=q(this,Gn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||q(this,Gn,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);ze(this,Gn,n),s&&q(this,tl,"m",Pf).call(this,"change",{accounts:this.accounts})})),Tx.set(this,n=>Le(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),i=wn.SolanaSignAndSendTransaction in this.features!==s||wn.SolanaSignTransaction in this.features!==r;ze(this,mu,Object.assign(Object.assign({},s&&{[wn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:q(this,zf,"f")}}),r&&{[wn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:q(this,Px,"f")}})),i&&q(this,tl,"m",Pf).call(this,"change",{features:this.features})})),yu.set(this,(n,r,s)=>Le(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:q(this,pu,"f")}),o=q(this,Of,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([q(this,Pi,"f").set(a),q(this,gu,"f").call(this,a)])}catch(i){throw q(this,Df,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),Df.set(this,()=>Le(this,void 0,void 0,function*(){var n,r;(n=q(this,qr,"f"))===null||n===void 0||n.close(),q(this,Pi,"f").clear(),ze(this,Bi,!1),ze(this,nl,(r=q(this,nl,"f"),r++,r)),ze(this,Gn,void 0),ze(this,qr,void 0),q(this,tl,"m",Pf).call(this,"change",{accounts:this.accounts})})),sl.set(this,n=>Le(this,void 0,void 0,function*(){var r;const s=(r=q(this,Gn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=Object.assign(Object.assign({},s?{baseUri:s}:void 0),{remoteHostAuthority:q(this,Lf,"f")}),a=q(this,nl,"f"),l=new az;if(q(this,qr,"f"))return n(q(this,qr,"f").wallet);try{const{associationUrl:c,close:d,wallet:h}=yield UA.startRemoteScenario(o),p=l.addEventListener("close",m=>{m&&d()});return l.initWithQR(c.toString()),l.open(),ze(this,qr,{close:d,wallet:yield h},"f"),p(),l.close(),yield n(q(this,qr,"f").wallet)}catch(c){throw l.close(),q(this,nl,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield q(this,Rf,"f").call(this,this)),c}})),xu.set(this,()=>{if(!q(this,Gn,"f"))throw new Error("Wallet not connected");return{authToken:q(this,Gn,"f").auth_token,chain:q(this,Gn,"f").chain}}),Of.set(this,n=>n.map(r=>{var s,i;const o=Ji(r.address);return{address:qp.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:q(this,rl,"f"),features:(i=r.features)!==null&&i!==void 0?i:e3}})),Rx.set(this,n=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:s}=q(this,xu,"f").call(this);try{return yield q(this,sl,"f").call(this,i=>Le(this,void 0,void 0,function*(){return yield q(this,yu,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Lx.set(this,(n,r)=>Le(this,void 0,void 0,function*(){const{authToken:s,chain:i}=q(this,xu,"f").call(this);try{return yield q(this,sl,"f").call(this,o=>Le(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),q(this,yu,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),zf.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=vd.VersionedTransaction.deserialize(s.transaction),o=yield q(this,Lx,"f").call(this,i,s.options);r.push({signature:qp.default.decode(o)})}return r})),Px.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>vd.VersionedTransaction.deserialize(i));return(yield q(this,Rx,"f").call(this,r)).map(i=>({signedTransaction:GA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),Bx.set(this,(...n)=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:s}=q(this,xu,"f").call(this),i=n.map(({account:a})=>ZA(a.publicKey)),o=n.map(({message:a})=>a);try{return yield q(this,sl,"f").call(this,a=>Le(this,void 0,void 0,function*(){return yield q(this,yu,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-JA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Dx.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield q(this,Wf,"f").call(this,s));else return[yield q(this,Wf,"f").call(this,n[0])];return r})),Wf.set(this,n=>Le(this,void 0,void 0,function*(){var r,s;ze(this,Bi,!0);try{const i=yield q(this,Bf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Ji(o)}),signedMessage:Ji(i.sign_in_result.signed_message),signature:Ji(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{ze(this,Bi,!1)}})),ze(this,Pi,e.authorizationCache),ze(this,pu,e.appIdentity),ze(this,rl,e.chains),ze(this,Tf,e.chainSelector),ze(this,Lf,e.remoteHostAuthority),ze(this,Rf,e.onWalletNotFound),ze(this,mu,{[wn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:q(this,zf,"f")}})}get version(){return q(this,Nx,"f")}get name(){return q(this,Mx,"f")}get url(){return q(this,Ax,"f")}get icon(){return q(this,Ix,"f")}get chains(){return q(this,rl,"f")}get features(){return Object.assign({[Tl.StandardConnect]:{version:"1.0.0",connect:q(this,Cx,"f")},[Tl.StandardDisconnect]:{version:"1.0.0",disconnect:q(this,Df,"f")},[Tl.StandardEvents]:{version:"1.0.0",on:q(this,jx,"f")},[wn.SolanaSignMessage]:{version:"1.0.0",signMessage:q(this,Bx,"f")},[wn.SolanaSignIn]:{version:"1.0.0",signIn:q(this,Dx,"f")}},q(this,mu,"f"))}get accounts(){var e,n;return(n=(e=q(this,Gn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!q(this,qr,"f")&&!!q(this,Gn,"f")}get isAuthorized(){return!!q(this,Gn,"f")}get currentAuthorization(){return q(this,Gn,"f")}get cachedAuthorizationResult(){return q(this,Pi,"f").get()}}Jo=new WeakMap,Nx=new WeakMap,Mx=new WeakMap,Ax=new WeakMap,Ix=new WeakMap,pu=new WeakMap,Gn=new WeakMap,Pi=new WeakMap,Bi=new WeakMap,nl=new WeakMap,rl=new WeakMap,Tf=new WeakMap,mu=new WeakMap,Rf=new WeakMap,Lf=new WeakMap,qr=new WeakMap,jx=new WeakMap,Cx=new WeakMap,Bf=new WeakMap,gu=new WeakMap,Tx=new WeakMap,yu=new WeakMap,Df=new WeakMap,sl=new WeakMap,xu=new WeakMap,Of=new WeakMap,Rx=new WeakMap,Lx=new WeakMap,zf=new WeakMap,Px=new WeakMap,Bx=new WeakMap,Dx=new WeakMap,Wf=new WeakMap,tl=new WeakSet,Pf=function(e,...n){var r;(r=q(this,Jo,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},XA=function(e,n){var r;q(this,Jo,"f")[e]=(r=q(this,Jo,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};var uz=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},dz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ff;function lS(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new hz(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let hz=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Ff.set(this,void 0),uz(this,Ff,e,"f")}get detail(){return dz(this,Ff,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Ff=new WeakMap;function fz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function pz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function mz(t){fz()?lS(new t3(t)):pz()&&t.remoteHostAuthority!==void 0&&lS(new n3(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const gz="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",yz="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class xz extends YA{constructor(){super(...arguments),this.contentStyles=vz,this.contentHtml=wz}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=gz,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=yz,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const wz=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,vz=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function r3(){return Le(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new xz;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function bz(){return()=>Le(this,void 0,void 0,function*(){r3()})}const Ng="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Sz(){let t;try{t=window.localStorage}catch{}return{clear(){return Le(this,void 0,void 0,function*(){if(t)try{t.removeItem(Ng)}catch{}})},get(){return Le(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Ng));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new vd.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Le(this,void 0,void 0,function*(){if(t)try{t.setItem(Ng,JSON.stringify(e))}catch{}})}}}function _z(){return{select(t){return Le(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(aS.SOLANA_MAINNET_CHAIN)?aS.SOLANA_MAINNET_CHAIN:t[0]})}}}Ws.LocalSolanaMobileWalletAdapterWallet=t3;Ws.RemoteSolanaMobileWalletAdapterWallet=n3;Ws.SolanaMobileWalletAdapterWalletName=wv;Ws.createDefaultAuthorizationCache=Sz;Ws.createDefaultChainSelector=_z;Ws.createDefaultWalletNotFoundHandler=bz;Ws.defaultErrorModalWalletNotFoundHandler=r3;Ws.registerMwa=mz;Object.defineProperty(Eo,"__esModule",{value:!0});var cn=aD,Uf=Z4,$o=Q4,sc=Ws;function ht(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Ie(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function gr(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Ox="standard:connect",kz="standard:disconnect",Ez="standard:events";function Mg(t){return window.btoa(String.fromCharCode.call(null,...t))}function Nz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var mn,It,Hi,ii,$f,ti,Lo,zx,Wx,s3,Gp,Hf,zi;const Mz="Mobile Wallet Adapter",Az=64;function Iz(t){return"version"in t}function vv(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class i3 extends cn.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),mn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),It.set(this,void 0),Hi.set(this,!1),ii.set(this,Nz()?cn.WalletReadyState.Loadable:cn.WalletReadyState.Unsupported),$f.set(this,void 0),ti.set(this,void 0),Lo.set(this,void 0),zx.set(this,r=>ht(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Ie(this,mn,"m",s3).call(this);const s=yield Ie(this,$f,"f").call(this,r.accounts);s!==Ie(this,ti,"f")&&(gr(this,ti,s),gr(this,Lo,void 0),this.emit("connect",this.publicKey))}})),gr(this,$f,r=>ht(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>Mg(o)));return(s=r.find(({publicKey:o})=>Mg(o)===i))!==null&&s!==void 0?s:r[0]})),gr(this,It,e),Ie(this,It,"f").features[Ez].on("change",Ie(this,zx,"f")),this.name=Ie(this,It,"f").name,this.icon=Ie(this,It,"f").icon,this.url=Ie(this,It,"f").url}get publicKey(){var e;if(!Ie(this,Lo,"f")&&Ie(this,ti,"f"))try{gr(this,Lo,new Uf.PublicKey(Ie(this,ti,"f").publicKey),"f")}catch(n){throw new cn.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Ie(this,Lo,"f"))!==null&&e!==void 0?e:null}get connected(){return Ie(this,It,"f").connected}get connecting(){return Ie(this,Hi,"f")}get readyState(){return Ie(this,ii,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ht(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ht(this,void 0,void 0,function*(){Ie(this,mn,"m",Wx).call(this,!0)})}connect(){return ht(this,void 0,void 0,function*(){Ie(this,mn,"m",Wx).call(this)})}performAuthorization(e){return ht(this,void 0,void 0,function*(){try{const n=yield Ie(this,It,"f").cachedAuthorizationResult;return n?(yield Ie(this,It,"f").features[Ox].connect({silent:!0}),n):(e?yield Ie(this,It,"f").features[$o.SolanaSignIn].signIn(e):yield Ie(this,It,"f").features[Ox].connect(),yield yield Ie(this,It,"f").cachedAuthorizationResult)}catch(n){throw new cn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return ht(this,void 0,void 0,function*(){return yield Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){gr(this,Hi,!1),gr(this,Lo,void 0),gr(this,ti,void 0),yield Ie(this,It,"f").features[kz].disconnect(),this.emit("disconnect")}))})}signIn(e){return ht(this,void 0,void 0,function*(){return Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){var n;if(Ie(this,ii,"f")!==cn.WalletReadyState.Installed&&Ie(this,ii,"f")!==cn.WalletReadyState.Loadable)throw new cn.WalletNotReadyError;gr(this,Hi,!0);try{const r=yield Ie(this,It,"f").features[$o.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new cn.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{gr(this,Hi,!1)}}))})}signMessage(e){return ht(this,void 0,void 0,function*(){return yield Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){const n=Ie(this,mn,"m",Gp).call(this);try{return(yield Ie(this,It,"f").features[$o.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new cn.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return ht(this,void 0,void 0,function*(){return yield Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){const s=Ie(this,mn,"m",Gp).call(this);try{let i=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if($o.SolanaSignAndSendTransaction in Ie(this,It,"f").features){const o=vv(Ie(this,It,"f").currentAuthorization.chain),[a]=(yield Ie(this,It,"f").features[$o.SolanaSignAndSendTransaction].signAndSendTransaction({account:s,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Mg(l.signature));return a}else{const[o]=yield Ie(this,mn,"m",Hf).call(this,[e]);if(Iz(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new cn.WalletSendTransactionError(i==null?void 0:i.message,i)}}))})}signTransaction(e){return ht(this,void 0,void 0,function*(){return yield Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){const[n]=yield Ie(this,mn,"m",Hf).call(this,[e]);return n}))})}signAllTransactions(e){return ht(this,void 0,void 0,function*(){return yield Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){return yield Ie(this,mn,"m",Hf).call(this,e)}))})}}It=new WeakMap,Hi=new WeakMap,ii=new WeakMap,$f=new WeakMap,ti=new WeakMap,Lo=new WeakMap,zx=new WeakMap,mn=new WeakSet,Wx=function(e=!1){return ht(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ie(this,mn,"m",zi).call(this,()=>ht(this,void 0,void 0,function*(){if(Ie(this,ii,"f")!==cn.WalletReadyState.Installed&&Ie(this,ii,"f")!==cn.WalletReadyState.Loadable)throw new cn.WalletNotReadyError;gr(this,Hi,!0);try{yield Ie(this,It,"f").features[Ox].connect({silent:e})}catch(n){throw new cn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{gr(this,Hi,!1)}}))})},s3=function(){Ie(this,ii,"f")!==cn.WalletReadyState.Installed&&this.emit("readyStateChange",gr(this,ii,cn.WalletReadyState.Installed))},Gp=function(){if(!Ie(this,It,"f").isAuthorized||!Ie(this,ti,"f"))throw new cn.WalletNotConnectedError;return Ie(this,ti,"f")},Hf=function(e){return ht(this,void 0,void 0,function*(){const n=Ie(this,mn,"m",Gp).call(this);try{if($o.SolanaSignTransaction in Ie(this,It,"f").features)return Ie(this,It,"f").features[$o.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*Az+1;return Uf.VersionedMessage.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?Uf.Transaction.from(i):Uf.VersionedTransaction.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new cn.WalletSignTransactionError(r==null?void 0:r.message,r)}})},zi=function(e){return ht(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class o3 extends i3{constructor(e){var n;const r=vv((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new sc.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ht(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:sc.createDefaultChainSelector(),onWalletNotFound:()=>ht(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class jz extends i3{constructor(e){const n=vv(e.chain);super(new sc.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ht(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:sc.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>ht(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class Cz extends o3{}function Tz(){return{select(t){return ht(this,void 0,void 0,function*(){return t[0]})}}}function Rz(){return sc.createDefaultAuthorizationCache()}function Lz(t){return ht(this,void 0,void 0,function*(){return sc.defaultErrorModalWalletNotFoundHandler()})}function Pz(){return Lz}Eo.LocalSolanaMobileWalletAdapter=o3;Eo.RemoteSolanaMobileWalletAdapter=jz;var Bz=Eo.SolanaMobileWalletAdapter=Cz,Vf=Eo.SolanaMobileWalletAdapterWalletName=Mz,Dz=Eo.createDefaultAddressSelector=Tz,Oz=Eo.createDefaultAuthorizationResultCache=Rz,zz=Eo.createDefaultWalletNotFoundHandler=Pz,Wz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Fz=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Kf;function Uz(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new $z(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class $z extends Event{get detail(){return Wz(this,Kf,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Kf.set(this,void 0),Fz(this,Kf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Kf=new WeakMap;function Hz(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Vz(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),h=d.charCodeAt(0);if(e[h]!==255)throw new TypeError(d+" is ambiguous");e[h]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,h=0,p=0;const m=c.length;for(;p!==m&&c[p]===0;)p++,d++;const y=(m-p)*i+1>>>0,w=new Uint8Array(y);for(;p!==m;){let S=c[p],_=0;for(let M=y-1;(S!==0||_<h)&&M!==-1;M--,_++)S+=256*w[M]>>>0,w[M]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");h=_,p++}let b=y-h;for(;b!==y&&w[b]===0;)b++;let g=r.repeat(d);for(;b<y;++b)g+=t.charAt(w[b]);return g}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,h=0,p=0;for(;c[d]===r;)h++,d++;const m=(c.length-d)*s+1>>>0,y=new Uint8Array(m);for(;d<c.length;){const S=c.charCodeAt(d);if(S>255)return;let _=e[S];if(_===255)return;let M=0;for(let R=m-1;(_!==0||M<p)&&R!==-1;R--,M++)_+=n*y[R]>>>0,y[R]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");p=M,d++}let w=m-p;for(;w!==m&&y[w]===0;)w++;const b=new Uint8Array(h+(m-w));let g=h;for(;w!==m;)b[g++]=y[w++];return b}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var Kz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Yz=Vz(Kz);var ve=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},sn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Mn,rr,ea,ta,Po,wu,Zp,et,Qp,Fx,Yf,Ux,Ou,$x,cS,uS,dS,hS;class qz extends lv{get name(){return ve(this,et,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ve(this,et,"f").icon}get readyState(){return ve(this,Qp,"f")}get publicKey(){return ve(this,ea,"f")}get connecting(){return ve(this,ta,"f")}get supportedTransactionVersions(){return ve(this,Zp,"f")}get wallet(){return ve(this,et,"f")}get standard(){return!0}constructor({wallet:e}){super(),Mn.add(this),rr.set(this,void 0),ea.set(this,void 0),ta.set(this,void 0),Po.set(this,void 0),wu.set(this,void 0),Zp.set(this,void 0),et.set(this,void 0),Qp.set(this,typeof window>"u"||typeof document>"u"?nt.Unsupported:nt.Installed),$x.set(this,n=>{if("accounts"in n){const r=ve(this,et,"f").accounts[0];ve(this,rr,"f")&&!ve(this,Po,"f")&&r!==ve(this,rr,"f")&&(r?ve(this,Mn,"m",Yf).call(this,r):(this.emit("error",new Zm),ve(this,Mn,"m",Ux).call(this)))}"features"in n&&ve(this,Mn,"m",Ou).call(this)}),sn(this,et,e,"f"),sn(this,rr,null,"f"),sn(this,ea,null,"f"),sn(this,ta,!1,"f"),sn(this,Po,!1,"f"),sn(this,wu,ve(this,et,"f").features[qd].on("change",ve(this,$x,"f")),"f"),ve(this,Mn,"m",Ou).call(this)}destroy(){sn(this,rr,null,"f"),sn(this,ea,null,"f"),sn(this,ta,!1,"f"),sn(this,Po,!1,"f");const e=ve(this,wu,"f");e&&(sn(this,wu,null,"f"),e())}async autoConnect(){return ve(this,Mn,"m",Fx).call(this,{silent:!0})}async connect(){return ve(this,Mn,"m",Fx).call(this)}async disconnect(){if(xd in ve(this,et,"f").features)try{sn(this,Po,!0,"f"),await ve(this,et,"f").features[xd].disconnect()}catch(e){this.emit("error",new Qm(e==null?void 0:e.message,e))}finally{sn(this,Po,!1,"f")}ve(this,Mn,"m",Ux).call(this)}async sendTransaction(e,n,r={}){try{const s=ve(this,rr,"f");if(!s)throw new tn;let i;if(js in ve(this,et,"f").features)if(s.features.includes(js))i=js;else if(un in ve(this,et,"f").features&&s.features.includes(un))i=un;else throw new Qi;else if(un in ve(this,et,"f").features){if(!s.features.includes(un))throw new Qi;i=un}else throw new Qo;const o=yA(n.rpcEndpoint);if(!s.chains.includes(o))throw new ci;try{const{signers:a,...l}=r;let c;if(Cs(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===js){const[d]=await ve(this,et,"f").features[js].signAndSendTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:vf(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Yz.encode(d.signature)}else{const[d]=await ve(this,et,"f").features[un].signTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:vf(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...l,preflightCommitment:vf(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Pt?a:new ci(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}rr=new WeakMap,ea=new WeakMap,ta=new WeakMap,Po=new WeakMap,wu=new WeakMap,Zp=new WeakMap,et=new WeakMap,Qp=new WeakMap,$x=new WeakMap,Mn=new WeakSet,Fx=async function(e){try{if(this.connected||this.connecting)return;if(ve(this,Qp,"f")!==nt.Installed)throw new Xl;if(sn(this,ta,!0,"f"),!ve(this,et,"f").accounts.length)try{await ve(this,et,"f").features[Yd].connect(e)}catch(r){throw new yd(r==null?void 0:r.message,r)}const n=ve(this,et,"f").accounts[0];if(!n)throw new Qi;ve(this,Mn,"m",Yf).call(this,n)}catch(n){throw this.emit("error",n),n}finally{sn(this,ta,!1,"f")}},Yf=function(e){let n;try{n=new ue(e.address)}catch(r){throw new Jl(r==null?void 0:r.message,r)}sn(this,rr,e,"f"),sn(this,ea,n,"f"),ve(this,Mn,"m",Ou).call(this),this.emit("connect",n)},Ux=function(){sn(this,rr,null,"f"),sn(this,ea,null,"f"),ve(this,Mn,"m",Ou).call(this),this.emit("disconnect")},Ou=function(){var n,r;const e=js in ve(this,et,"f").features?ve(this,et,"f").features[js].supportedTransactionVersions:ve(this,et,"f").features[un].supportedTransactionVersions;sn(this,Zp,Hz(e,["legacy"])?null:new Set(e),"f"),un in ve(this,et,"f").features&&((n=ve(this,rr,"f"))!=null&&n.features.includes(un))?(this.signTransaction=ve(this,Mn,"m",cS),this.signAllTransactions=ve(this,Mn,"m",uS)):(delete this.signTransaction,delete this.signAllTransactions),Uo in ve(this,et,"f").features&&((r=ve(this,rr,"f"))!=null&&r.features.includes(Uo))?this.signMessage=ve(this,Mn,"m",dS):delete this.signMessage,wf in ve(this,et,"f").features?this.signIn=ve(this,Mn,"m",hS):delete this.signIn},cS=async function(e){try{const n=ve(this,rr,"f");if(!n)throw new tn;if(!(un in ve(this,et,"f").features))throw new Qo;if(!n.features.includes(un))throw new Qi;try{const s=(await ve(this,et,"f").features[un].signTransaction({account:n,transaction:Cs(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Cs(e)?Gl.deserialize(s):Ze.from(s)}catch(r){throw r instanceof Pt?r:new ns(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},uS=async function(e){try{const n=ve(this,rr,"f");if(!n)throw new tn;if(!(un in ve(this,et,"f").features))throw new Qo;if(!n.features.includes(un))throw new Qi;try{const r=await ve(this,et,"f").features[un].signTransaction(...e.map(s=>({account:n,transaction:Cs(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const o=r[i].signedTransaction;return Cs(s)?Gl.deserialize(o):Ze.from(o)})}catch(r){throw new ns(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},dS=async function(e){try{const n=ve(this,rr,"f");if(!n)throw new tn;if(!(Uo in ve(this,et,"f").features))throw new Qo;if(!n.features.includes(Uo))throw new Qi;try{return(await ve(this,et,"f").features[Uo].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Xm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},hS=async function(e={}){try{if(!(wf in ve(this,et,"f").features))throw new Qo;let n;try{[n]=await ve(this,et,"f").features[wf].signIn(e)}catch(r){throw new ox(r==null?void 0:r.message,r)}if(!n)throw new ox;return ve(this,Mn,"m",Yf).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const Gz=q4;var Zz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qz=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},qf;let xr;const o0=new Set;function Xz(t){zu=void 0,o0.add(t)}function Jz(t){zu=void 0,o0.delete(t)}const wl={};function e7(){if(xr||(xr=Object.freeze({register:fS,get:t7,on:n7}),typeof window>"u"))return xr;const t=Object.freeze({register:fS});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new r7(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return xr}function fS(...t){var e;return t=t.filter(n=>!o0.has(n)),t.length?(t.forEach(n=>Xz(n)),(e=wl.register)==null||e.forEach(n=>Hx(()=>n(...t))),function(){var r;t.forEach(s=>Jz(s)),(r=wl.unregister)==null||r.forEach(s=>Hx(()=>s(...t)))}):()=>{}}let zu;function t7(){return zu||(zu=[...o0]),zu}function n7(t,e){var n;return(n=wl[t])!=null&&n.push(e)||(wl[t]=[e]),function(){var s;wl[t]=(s=wl[t])==null?void 0:s.filter(i=>e!==i)}}function Hx(t){try{t()}catch(e){console.error(e)}}class r7 extends Event{get detail(){return Zz(this,qf,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),qf.set(this,void 0),Qz(this,qf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}qf=new WeakMap;function s7(){if(xr||(xr=e7(),typeof window>"u"))return xr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),xr;const{register:e}=xr,n=(...r)=>r.forEach(s=>Hx(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),xr}return n(...t),xr}function i7(t){const e=pS(()=>new Set),{get:n,on:r}=pS(()=>s7()),[s,i]=z.useState(()=>mS(n()));z.useEffect(()=>{const a=[r("register",(...l)=>i(c=>[...c,...mS(l)])),r("unregister",(...l)=>i(c=>c.filter(d=>l.some(h=>h===d.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=o7(s);return z.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,s]),z.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),z.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function pS(t){const e=z.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function o7(t){const e=z.useRef(void 0);return z.useEffect(()=>{e.current=t}),e.current}function mS(t){return t.filter(Gz).map(e=>new qz({wallet:e}))}var Rl;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Rl||(Rl={}));function a7(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function l7({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Vf&&n.readyState===nt.Installed)?Rl.DESKTOP_WEB:e&&/android/i.test(e)&&!a7(e)?Rl.MOBILE_WEB:Rl.DESKTOP_WEB}function c7(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function u7({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const l=z.useRef(!1),[c,d]=z.useState(!1),h=z.useRef(!1),[p,m]=z.useState(!1),[y,w]=z.useState(()=>(n==null?void 0:n.publicKey)??null),[b,g]=z.useState(()=>(n==null?void 0:n.connected)??!1),S=z.useRef(o);z.useEffect(()=>(S.current=o,()=>{S.current=void 0}),[o]);const _=z.useRef((x,k)=>(r.current||(S.current?S.current(x,k):(console.error(x,k),x instanceof Xl&&typeof window<"u"&&k&&window.open(k.url,"_blank"))),x)),[M,R]=z.useState(()=>e.map(x=>({adapter:x,readyState:x.readyState})).filter(({readyState:x})=>x!==nt.Unsupported));z.useEffect(()=>{R(k=>e.map((I,C)=>{const j=k[C];return j&&j.adapter===I&&j.readyState===I.readyState?j:{adapter:I,readyState:I.readyState}}).filter(({readyState:I})=>I!==nt.Unsupported));function x(k){R(I=>{const C=I.findIndex(({adapter:P})=>P===this);if(C===-1)return I;const{adapter:j}=I[C];return[...I.slice(0,C),{adapter:j,readyState:k},...I.slice(C+1)].filter(({readyState:P})=>P!==nt.Unsupported)})}return e.forEach(k=>k.on("readyStateChange",x,k)),()=>{e.forEach(k=>k.off("readyStateChange",x,k))}},[n,e]);const W=z.useMemo(()=>M.find(x=>x.adapter===n)??null,[n,M]);z.useEffect(()=>{if(!n)return;const x=C=>{w(C),l.current=!1,d(!1),g(!0),h.current=!1,m(!1)},k=()=>{r.current||(w(null),l.current=!1,d(!1),g(!1),h.current=!1,m(!1))},I=C=>{_.current(C,n)};return n.on("connect",x),n.on("disconnect",k),n.on("error",I),()=>{n.off("connect",x),n.off("disconnect",k),n.off("error",I),k()}},[n,r]);const D=z.useRef(!1);z.useEffect(()=>()=>{D.current=!1},[n]),z.useEffect(()=>{D.current||l.current||b||!s||!((W==null?void 0:W.readyState)===nt.Installed||(W==null?void 0:W.readyState)===nt.Loadable)||(l.current=!0,d(!0),D.current=!0,async function(){try{await s()}catch{i()}finally{d(!1),l.current=!1}}())},[b,s,i,W]);const L=z.useCallback(async(x,k,I)=>{if(!n)throw _.current(new eS);if(!b)throw _.current(new tn,n);return await n.sendTransaction(x,k,I)},[n,b]),F=z.useMemo(()=>n&&"signTransaction"in n?async x=>{if(!b)throw _.current(new tn,n);return await n.signTransaction(x)}:void 0,[n,b]),$=z.useMemo(()=>n&&"signAllTransactions"in n?async x=>{if(!b)throw _.current(new tn,n);return await n.signAllTransactions(x)}:void 0,[n,b]),H=z.useMemo(()=>n&&"signMessage"in n?async x=>{if(!b)throw _.current(new tn,n);return await n.signMessage(x)}:void 0,[n,b]),K=z.useMemo(()=>n&&"signIn"in n?async x=>await n.signIn(x):void 0,[n]),A=z.useCallback(async()=>{if(l.current||h.current||W!=null&&W.adapter.connected)return;if(!W)throw _.current(new eS);const{adapter:x,readyState:k}=W;if(!(k===nt.Installed||k===nt.Loadable))throw _.current(new Xl,x);l.current=!0,d(!0);try{await x.connect()}catch(I){throw i(),I}finally{d(!1),l.current=!1}},[i,W]),f=z.useCallback(async()=>{if(!h.current&&n){h.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),h.current=!1}}},[n]);return V.createElement(G4.Provider,{value:{autoConnect:!!s,wallets:M,wallet:W,publicKey:y,connected:b,connecting:c,disconnecting:p,select:a,connect:A,disconnect:f,sendTransaction:L,signTransaction:F,signAllTransactions:$,signMessage:H,signIn:K}},t)}let Ag;function d7(){var t;return Ag===void 0&&(Ag=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Ag}function gS(t){const e=d7();return l7({adapters:t,userAgentString:e})===Rl.MOBILE_WEB}function h7(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function f7({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=V4(),o=i7(e),a=z.useMemo(()=>{if(!gS(o))return null;const S=o.find(_=>_.name===Vf);return S||new Bz({addressSelector:Dz(),appIdentity:{uri:h7()},authorizationResultCache:Oz(),cluster:c7(i==null?void 0:i.rpcEndpoint),onWalletNotFound:zz()})},[o,i==null?void 0:i.rpcEndpoint]),l=z.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,d]=oD(r,null),h=z.useMemo(()=>l.find(S=>S.name===c)??null,[l,c]),p=z.useCallback(S=>{c!==S&&(h&&h.name!==Vf&&h.disconnect(),d(S))},[h,d,c]);z.useEffect(()=>{if(!h)return;function S(){w.current||d(null)}return h.on("disconnect",S),()=>{h.off("disconnect",S)}},[h,o,d,c]);const m=z.useRef(!1),y=z.useMemo(()=>{if(!(!n||!h))return async()=>{(n===!0||await n(h))&&(m.current?await h.connect():await h.autoConnect())}},[n,h]),w=z.useRef(!1);z.useEffect(()=>{if(c===Vf&&gS(o)){w.current=!1;return}function S(){w.current=!0}return window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)}},[o,c]);const b=z.useCallback(()=>{h&&p(null)},[h,p]),g=z.useCallback(S=>{m.current=!0,p(S)},[p]);return V.createElement(u7,{wallets:l,adapter:h,isUnloadingRef:w,onAutoConnectRequest:y,onConnectError:b,onError:s,onSelectWallet:g},t)}const p7="modulepreload",m7=function(t){return"/"+t},yS={},a3=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=m7(l),l in yS)return;yS[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":p7,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},g7="Phantom";class y7 extends Jm{constructor(e={}){super(),this.name=g7,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?nt.Unsupported:nt.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Zm),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new ue(n.toBytes())}catch(s){this.emit("error",new Jl(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==nt.Unsupported&&(Wp()?(this._readyState=nt.Loadable,this.emit("readyStateChange",this._readyState)):cv(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=nt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===nt.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===nt.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==nt.Installed)throw new Xl;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new yd(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Qi;let r;try{r=new ue(n.publicKey.toBytes())}catch(s){throw new Jl(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Qm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new tn;try{const{signers:i,...o}=r;Cs(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof Pt?i:new ci(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signTransaction(e)||e}catch(r){throw new ns(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ns(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new tn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Xm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const x7="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var ot=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},w7=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Gf,na,Vx,Kx,Yx,Un,qx,l3,c3,Gx,Zx,Qx,Xx,Jx;class v7{constructor(){Gf.add(this),na.set(this,{}),Vx.set(this,"1.0.0"),Kx.set(this,"MetaMask"),Yx.set(this,x7),Un.set(this,null),qx.set(this,(e,n)=>{var r;return(r=ot(this,na,"f")[e])!=null&&r.push(n)||(ot(this,na,"f")[e]=[n]),()=>ot(this,Gf,"m",c3).call(this,e,n)}),Gx.set(this,async()=>{if(!ot(this,Un,"f")){let e;try{e=(await a3(async()=>{const{default:n}=await import("./index-DfLCTjDX.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}w7(this,Un,new e,"f"),ot(this,Un,"f").on("standard_change",n=>ot(this,Gf,"m",l3).call(this,"change",n))}return this.accounts.length||await ot(this,Un,"f").connect(),{accounts:this.accounts}}),Zx.set(this,async()=>{ot(this,Un,"f")&&await ot(this,Un,"f").disconnect()}),Qx.set(this,async(...e)=>{if(!ot(this,Un,"f"))throw new tn;return await ot(this,Un,"f").standardSignAndSendTransaction(...e)}),Xx.set(this,async(...e)=>{if(!ot(this,Un,"f"))throw new tn;return await ot(this,Un,"f").standardSignTransaction(...e)}),Jx.set(this,async(...e)=>{if(!ot(this,Un,"f"))throw new tn;return await ot(this,Un,"f").standardSignMessage(...e)})}get version(){return ot(this,Vx,"f")}get name(){return ot(this,Kx,"f")}get icon(){return ot(this,Yx,"f")}get chains(){return[lr.SOLANA_MAINNET_CHAIN,lr.SOLANA_DEVNET_CHAIN,lr.SOLANA_TESTNET_CHAIN]}get features(){return{[Yd]:{version:"1.0.0",connect:ot(this,Gx,"f")},[xd]:{version:"1.0.0",disconnect:ot(this,Zx,"f")},[qd]:{version:"1.0.0",on:ot(this,qx,"f")},[js]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ot(this,Qx,"f")},[un]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ot(this,Xx,"f")},[Uo]:{version:"1.0.0",signMessage:ot(this,Jx,"f")}}}get accounts(){return ot(this,Un,"f")?ot(this,Un,"f").standardAccounts:[]}}na=new WeakMap,Vx=new WeakMap,Kx=new WeakMap,Yx=new WeakMap,Un=new WeakMap,qx=new WeakMap,Gx=new WeakMap,Zx=new WeakMap,Qx=new WeakMap,Xx=new WeakMap,Jx=new WeakMap,Gf=new WeakSet,l3=function(e,...n){var r;(r=ot(this,na,"f")[e])==null||r.forEach(s=>s.apply(null,n))},c3=function(e,n){var r;ot(this,na,"f")[e]=(r=ot(this,na,"f")[e])==null?void 0:r.filter(s=>n!==s)};let xS=!1;function b7(){xS||(Uz(new v7),xS=!0)}async function S7(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,o;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",n),s.data.data.error||b7()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const _7="Solflare";class k7 extends Jm{constructor(e={}){super(),this.name=_7,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?nt.Unsupported:nt.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Zm),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new ue(n.toBytes())}catch(s){this.emit("error",new Jl(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==nt.Unsupported&&(cv(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=nt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),S7())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===nt.Loadable&&Wp()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==nt.Loadable&&this._readyState!==nt.Installed)throw new Xl;if(this.readyState===nt.Loadable&&Wp()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let e;try{e=(await a3(async()=>{const{default:s}=await import("./index-B05Ii-k2.js");return{default:s}},[])).default}catch(s){throw new K4(s==null?void 0:s.message,s)}let n;try{n=new e({network:this._config.network})}catch(s){throw new Qo(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new yd(s==null?void 0:s.message,s)}if(!n.publicKey)throw new yd;let r;try{r=new ue(n.publicKey.toBytes())}catch(s){throw new Jl(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Qm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new tn;try{const{signers:i,...o}=r;return Cs(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment,await s.signAndSendTransaction(e,o)}catch(i){throw i instanceof Pt?i:new ci(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signTransaction(e)||e}catch(r){throw new ns(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ns(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signMessage(e,"utf8")}catch(r){throw new Xm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const u3={setVisible(t){console.error(d3("call","setVisible"))},visible:!1};Object.defineProperty(u3,"visible",{get(){return console.error(d3("read","visible")),!1}});function d3(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const h3=z.createContext(u3);function f3(){return z.useContext(h3)}function E7({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:l,wallets:c}=uv();let d;r?d="connecting":n?d="connected":i?d="disconnecting":l?d="has-wallet":d="no-wallet";const h=z.useCallback(()=>{e().catch(()=>{})},[e]),p=z.useCallback(()=>{s().catch(()=>{})},[s]),m=z.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:d,onConnect:d==="has-wallet"?h:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?p:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const p3=t=>V.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&V.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&V.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),m3=({wallet:t,...e})=>t&&V.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function N7({walletIcon:t,walletName:e,...n}){return V.createElement(p3,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?V.createElement(m3,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function M7({children:t,labels:e,...n}){const{setVisible:r}=f3(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=E7({onSelectWallet(){r(!0)}}),[d,h]=z.useState(!1),[p,m]=z.useState(!1),y=z.useRef(null);z.useEffect(()=>{const b=g=>{const S=y.current;!S||S.contains(g.target)||m(!1)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[]);const w=z.useMemo(()=>{if(t)return t;if(a){const b=a.toBase58();return b.slice(0,4)+".."+b.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return V.createElement("div",{className:"wallet-adapter-dropdown"},V.createElement(N7,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},w),V.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:y,role:"menu"},a?V.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),h(!0),setTimeout(()=>h(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,V.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?V.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const wS=({id:t,children:e,expanded:n=!1})=>{const r=z.useRef(null),s=z.useRef(!0),i="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return z.useLayoutEffect(()=>{n?o():a()},[n]),z.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function d(h){l&&h.target===l&&h.propertyName==="height"&&c()}return s.current&&(c(),s.current=!1),l.addEventListener("transitionend",d),()=>l.removeEventListener("transitionend",d)},[n]),V.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},Ig=({handleClick:t,tabIndex:e,wallet:n})=>V.createElement("li",null,V.createElement(p3,{onClick:t,startIcon:V.createElement(m3,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===nt.Installed&&V.createElement("span",null,"Detected"))),A7=()=>V.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},V.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),V.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),V.createElement("g",{clipPath:"url(#clip0_880_5115)"},V.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),V.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),V.createElement("defs",null,V.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("clipPath",{id:"clip0_880_5115"},V.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),I7=({className:t="",container:e="body"})=>{const n=z.useRef(null),{wallets:r,select:s}=uv(),{setVisible:i}=f3(),[o,a]=z.useState(!1),[l,c]=z.useState(!1),[d,h]=z.useState(null),[p,m]=z.useMemo(()=>{const _=[],M=[];for(const R of r)R.readyState===nt.Installed?_.push(R):M.push(R);return _.length?[_,M]:[M,[]]},[r]),y=z.useCallback(()=>{c(!1),setTimeout(()=>i(!1),150)},[i]),w=z.useCallback(_=>{_.preventDefault(),y()},[y]),b=z.useCallback((_,M)=>{s(M),w(_)},[s,w]),g=z.useCallback(()=>a(!o),[o]),S=z.useCallback(_=>{const M=n.current;if(!M)return;const R=M.querySelectorAll("button"),W=R[0],D=R[R.length-1];_.shiftKey?document.activeElement===W&&(D.focus(),_.preventDefault()):document.activeElement===D&&(W.focus(),_.preventDefault())},[n]);return z.useLayoutEffect(()=>{const _=R=>{R.key==="Escape"?y():R.key==="Tab"&&S(R)},{overflow:M}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=M,window.removeEventListener("keydown",_,!1)}},[y,S]),z.useLayoutEffect(()=>h(document.querySelector(e)),[e]),d&&DN.createPortal(V.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},V.createElement("div",{className:"wallet-adapter-modal-container"},V.createElement("div",{className:"wallet-adapter-modal-wrapper"},V.createElement("button",{onClick:w,className:"wallet-adapter-modal-button-close"},V.createElement("svg",{width:"14",height:"14"},V.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?V.createElement(V.Fragment,null,V.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),V.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(_=>V.createElement(Ig,{key:_.adapter.name,handleClick:M=>b(M,_.adapter.name),wallet:_})),m.length?V.createElement(wS,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(_=>V.createElement(Ig,{key:_.adapter.name,handleClick:M=>b(M,_.adapter.name),tabIndex:o?0:-1,wallet:_}))):null),m.length?V.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:g,tabIndex:0},V.createElement("span",null,o?"Less ":"More ","options"),V.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},V.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):V.createElement(V.Fragment,null,V.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),V.createElement("div",{className:"wallet-adapter-modal-middle"},V.createElement(A7,null)),m.length?V.createElement(V.Fragment,null,V.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:g,tabIndex:0},V.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),V.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},V.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),V.createElement(wS,{expanded:o,id:"wallet-adapter-modal-collapse"},V.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(_=>V.createElement(Ig,{key:_.adapter.name,handleClick:M=>b(M,_.adapter.name),tabIndex:o?0:-1,wallet:_}))))):null))),V.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:w})),d)},j7=({children:t,...e})=>{const[n,r]=z.useState(!1);return V.createElement(h3.Provider,{value:{visible:n,setVisible:r}},t,n&&V.createElement(I7,{...e}))},C7={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function T7(t){return V.createElement(M7,{...t,labels:C7})}require("@solana/wallet-adapter-react-ui/styles.css");const R7=({children:t})=>{const e=Fp.Devnet,n=z.useMemo(()=>U4(e),[e]),r=z.useMemo(()=>[new y7,new k7],[]);return u.jsx(KB,{endpoint:n,children:u.jsx(f7,{wallets:r,autoConnect:!0,children:u.jsx(j7,{children:t})})})},L7=()=>{const t=yc(),{publicKey:e,connected:n}=uv(),{connection:r}=V4(),[s,i]=z.useState(null),o=l=>t.pathname===l;z.useEffect(()=>{if(!e){i(null);return}const l=async()=>{try{const d=await r.getBalance(e);i(d/$4)}catch(d){console.error("Error fetching balance:",d),i(null)}};l();const c=setInterval(l,1e4);return()=>clearInterval(c)},[e,r]);const a=l=>`${l.slice(0,4)}...${l.slice(-4)}`;return u.jsx("header",{className:"header",children:u.jsxs("div",{className:"header-content",children:[u.jsx("div",{className:"header-left",children:u.jsxs(xs,{to:"/",className:"logo",children:[u.jsx("img",{src:"/White 3d Logo.png",alt:"Cyphr Logo"}),u.jsx("span",{children:"CYPHR"})]})}),u.jsxs("nav",{className:"header-nav",children:[u.jsx(xs,{to:"/dashboard",className:o("/dashboard")?"active":"",children:"Dashboard"}),u.jsx(xs,{to:"/discover",className:o("/discover")?"active":"",children:"Discover"}),u.jsx(xs,{to:"/portfolio",className:o("/portfolio")?"active":"",children:"Portfolio"}),u.jsx(xs,{to:"/spot",className:o("/spot")?"active":"",children:"Spot"}),u.jsx(xs,{to:"/perpetuals",className:o("/perpetuals")?"active":"",children:"Perpetuals"}),u.jsx(xs,{to:"/orders",className:o("/orders")?"active":"",children:"Orders"}),u.jsx(xs,{to:"/tracker",className:o("/tracker")?"active":"",children:"Tracker"}),u.jsx(xs,{to:"/strategy-builder",className:o("/strategy-builder")?"active":"",children:"Strategy Builder"})]}),u.jsxs("div",{className:"header-right",children:[u.jsxs("div",{className:"money-bag",children:[u.jsx("span",{className:"money-icon",children:""}),u.jsx("span",{className:"balance",children:n&&s!==null?`${s.toFixed(4)} SOL`:"$0.07"})]}),u.jsxs("div",{className:"user-section",children:[n&&e?u.jsx("div",{className:"wallet-info",children:u.jsx("span",{className:"wallet-address",children:a(e.toString())})}):null,u.jsx(T7,{className:"connect-wallet-button"}),u.jsx("div",{className:"user-icon",children:u.jsx("span",{children:""})})]})]})]})})},P7=()=>u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-content",children:[u.jsx("div",{className:"footer-left",children:u.jsxs("div",{className:"footer-brand",children:[u.jsx("span",{className:"brand-name",children:"Cyphr"}),u.jsx("span",{className:"brand-version",children:"v1.0"})]})}),u.jsxs("div",{className:"footer-center",children:[u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/WalletIcon.png",alt:"Wallet",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Wallet Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PhoneIcon.png",alt:"Phone",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Twitter Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PulseIcon.png",alt:"Pulse",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Pulse Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PNLIcon.png",alt:"PnL",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"PnL Tracker"]})]}),u.jsxs("div",{className:"footer-right",children:[u.jsx("div",{className:"footer-balance",children:u.jsx("span",{className:"balance-amount",children:"$186.9"})}),u.jsxs("div",{className:"connection-status",children:[u.jsx("div",{className:"status-indicator"}),u.jsx("span",{className:"status-text",children:"Connection is stable"})]}),u.jsxs("div",{className:"server-location",children:[u.jsx("span",{className:"location-text",children:"US-W"}),u.jsx("span",{className:"location-arrow",children:""})]}),u.jsxs("div",{className:"footer-actions",children:[u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}),u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),u.jsx("button",{className:"action-button",children:u.jsxs("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),u.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})}),ua=({token:t,size:e="md",className:n=""})=>{const r={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"},s=i=>({CO:"https://picsum.photos/40/40?random=1",RIB:"https://picsum.photos/40/40?random=2",PER:"https://picsum.photos/40/40?random=3",PAC:"https://picsum.photos/40/40?random=4",MU:"https://picsum.photos/40/40?random=5",PR:"https://picsum.photos/40/40?random=6",DX:"https://picsum.photos/40/40?random=7",NY:"https://picsum.photos/40/40?random=8",SOL:"https://picsum.photos/40/40?random=9",ETH:"https://picsum.photos/40/40?random=10",BTC:"https://picsum.photos/40/40?random=11",PEPE:"https://picsum.photos/40/40?random=12",DOGE:"https://picsum.photos/40/40?random=13",SHIB:"https://picsum.photos/40/40?random=14",BONK:"https://picsum.photos/40/40?random=15",GNOME:"https://picsum.photos/40/40?random=16",GONK:"https://picsum.photos/40/40?random=17"})[i]||`https://picsum.photos/40/40?random=${i.charCodeAt(0)}`;return u.jsx("div",{className:`${r[e]} ${n}`,children:u.jsxs("div",{className:`${r[e]} rounded-full bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold shadow-lg border-2 border-cyphr-gray/20 overflow-hidden`,children:[t.icon?u.jsx("img",{src:t.icon,alt:t.name,className:"w-full h-full object-cover rounded-full"}):u.jsx("img",{src:s(t.symbol||t.name),alt:t.name,className:"w-full h-full object-cover rounded-full",onError:i=>{var o;i.currentTarget.style.display="none",(o=i.currentTarget.nextElementSibling)==null||o.classList.remove("hidden")}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold text-sm hidden",children:(t.symbol||t.name).charAt(0)})]})})},B7=()=>{const t=[{day:1,value:1e4},{day:2,value:10200},{day:3,value:10150},{day:4,value:10300},{day:5,value:10500},{day:6,value:10700},{day:7,value:11e3},{day:8,value:11200},{day:9,value:11500},{day:10,value:11800},{day:11,value:12e3},{day:12,value:12200},{day:13,value:12500},{day:14,value:12847}],e=400,n=120,r=20,s=e-r*2,i=n-r*2,o=Math.min(...t.map(h=>h.value)),l=Math.max(...t.map(h=>h.value))-o,c=t.map((h,p)=>{const m=r+p/(t.length-1)*s,y=r+i-(h.value-o)/l*i;return`${m},${y}`}).join(" "),d=[...c.split(" ").map(h=>h.replace(","," ")),`${e-r} ${n-r}`,`${r} ${n-r}`].join(" L ");return u.jsx("div",{className:"w-full h-32 relative",children:u.jsxs("svg",{width:e,height:n,className:"w-full h-full",viewBox:`0 0 ${e} ${n}`,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.1"})]}),u.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7"}),u.jsx("stop",{offset:"100%",stopColor:"#BD496F"})]})]}),u.jsx("path",{d:`M ${d}`,fill:"url(#chartGradient)",opacity:"0.3"}),u.jsx("polyline",{points:c,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((h,p)=>{const m=r+p/(t.length-1)*s,y=r+i-(h.value-o)/l*i;return p>=t.length-3?u.jsx("circle",{cx:m,cy:y,r:"3",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"1"},p):null}),u.jsx("text",{x:e-r-5,y:r+15,textAnchor:"end",fill:"#6D8FC7",fontSize:"12",fontWeight:"600",fontFamily:"system-ui",children:"+$2,847"})]})})},D7=()=>{const[t,e]=z.useState("SOL"),[n,r]=z.useState("100"),s={totalValue:"$12,847.32",change24h:"+$1,234.56",changePercent:"+10.6%",tokens:[{name:"SOL",amount:"45.2",value:"$8,456.32",change:"+15.2%",color:"#6D8FC7"},{name:"ETH",amount:"2.1",value:"$3,234.00",change:"+8.7%",color:"#bd496f"},{name:"BTC",amount:"0.12",value:"$1,157.00",change:"+5.4%",color:"#a6a6a6"}]},i=[{token:"PEPE",signal:"BUY",strength:"Strong",price:"$0.00001234",change:"+23.4%",time:"2m ago"},{token:"DOGE",signal:"SELL",strength:"Medium",price:"$0.0789",change:"-5.2%",time:"5m ago"},{token:"SHIB",signal:"HOLD",strength:"Weak",price:"$0.00002345",change:"+1.8%",time:"8m ago"},{token:"BONK",signal:"BUY",strength:"Strong",price:"$0.00004567",change:"+45.6%",time:"12m ago"}],o=[{name:"SOL",price:"$187.23",change:"+2.4%"},{name:"ETH",price:"$1,540.00",change:"+1.8%"},{name:"BTC",price:"$9,641.67",change:"+0.9%"},{name:"PEPE",price:"$0.00001234",change:"+23.4%"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Dashboard"}),u.jsx("p",{className:"text-cyphr-gray",children:"Your trading overview and portfolio"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-cyphr-gray font-sf-pro text-sm font-semibold tracking-wide",children:"TOTAL PORTFOLIO"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{d:"M8 12h4a2 2 0 100-4h-1a2 2 0 110-4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})]})})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-2xl font-bold text-cyphr-white font-nulshock",children:s.totalValue}),u.jsx("div",{className:"text-cyphr-teal font-semibold text-base",children:s.change24h})]}),u.jsxs("div",{className:"text-cyphr-teal font-sf-pro text-sm font-semibold",children:[s.changePercent," today"]})]}),u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-2 shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Portfolio Performance"}),u.jsx("div",{className:"flex gap-2",children:["1D","1W","1M","3M","1Y"].map(a=>u.jsx("button",{className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:a},a))})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(B7,{})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Live Signals"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("polyline",{points:"13 2 13 9 20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("polyline",{points:"11 22 11 15 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("polyline",{points:"20 9 20 20 4 20 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.jsx("div",{className:"space-y-3",children:i.map((a,l)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${a.signal==="BUY"?"bg-cyphr-teal":a.signal==="SELL"?"bg-cyphr-pink":"bg-cyphr-gray"}`}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-sm",children:a.token}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[a.strength," ",a.signal]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.price}),u.jsx("div",{className:`text-xs font-semibold ${a.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.change}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:a.time})]})]},l))})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Quick Trade"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M13 2L13 9L20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M11 22L11 15L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M20 9L20 20L4 20L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Select Token"}),u.jsx("select",{value:t,onChange:a=>e(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:o.map(a=>u.jsxs("option",{value:a.name,children:[a.name," - ",a.price," (",a.change,")"]},a.name))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:n,onChange:a=>r(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(a=>u.jsxs("button",{onClick:()=>r(a),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",a]},a))}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{className:"px-4 py-2 bg-cyphr-teal text-cyphr-black rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Buy"}),u.jsx("button",{className:"px-4 py-2 bg-cyphr-pink text-cyphr-white rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Sell"})]})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Token Holdings"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{d:"M16 3v4M8 3v4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]}),u.jsx("div",{className:"space-y-3",children:s.tokens.map((a,l)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ua,{token:{name:a.name,symbol:a.name},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:a.name}),u.jsxs("div",{className:"text-cyphr-gray text-sm",children:[a.amount," tokens"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.value}),u.jsx("div",{className:"text-cyphr-teal text-xs font-semibold",children:a.change})]})]},l))})]})]})]})},g3=({address:t,className:e=""})=>{const n=s=>s.length<=7?s:`${s.slice(0,4)}...${s.slice(-3)}`,r=async()=>{try{await navigator.clipboard.writeText(t)}catch(s){console.error("Failed to copy address:",s)}};return u.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[u.jsx("span",{className:"text-cyphr-gray font-sf-pro",children:n(t)}),u.jsx("img",{src:"/CopyIcon.png",alt:"Copy",width:"10",height:"10",onClick:r,className:"opacity-60 hover:opacity-80 transition-all duration-200 cursor-pointer",title:"Copy address"})]})},O7=()=>{const[t,e]=z.useState("trending"),[n,r]=z.useState("1m"),s=["1m","5m","30m","1h"],i=[{id:1,name:"CO",symbol:"CO",fullName:"AWZy",address:"0xAWZy123456789abcdef123456789abcdef123456",time:"8s",marketCap:"$64.3K",marketCapChange:"-2.45%",liquidity:"$19.8K",volume:"$19.2K",txns:"169",buyTxns:"100",sellTxns:"69",buyTax:"22.2%",sellTax:"1.53%",totalTax:"4.18%",paid:!1,paidAmount:"0.14%",holders:"389",supply:"214",badgeType:"swap"},{id:2,name:"RIB",symbol:"RIB",fullName:"3RxT",address:"0x3RxT456789abcdef123456789abcdef12345678",time:"19h",marketCap:"$1.29M",marketCapChange:"+2.062%",liquidity:"$74.6K",volume:"$26K",txns:"124",buyTxns:"68",sellTxns:"56",buyTax:"16.3%",sellTax:"6.27%",totalTax:"4.77%",paid:!0,paidAmount:"0%",holders:"3925",supply:"833",badgeType:"swap"},{id:3,name:"PER",symbol:"PER",fullName:"5mEC",address:"0x5mEC789abcdef123456789abcdef123456789ab",time:"5m",marketCap:"$57.5K",marketCapChange:"-24.2%",liquidity:"$15.9K",volume:"$12.9K",txns:"181",buyTxns:"91",sellTxns:"90",buyTax:"28.79%",sellTax:"0.07%",totalTax:"2.02%",paid:!1,paidAmount:"0%",holders:"442",supply:"221",badgeType:"trending"},{id:4,name:"PAC",symbol:"PAC",fullName:"24xh",address:"0x24xh456789abcdef123456789abcdef12345678",time:"17s",marketCap:"$12.9K",marketCapChange:"+7.893%",liquidity:"$8.6K",volume:"$6.38K",txns:"36",buyTxns:"28",sellTxns:"8",buyTax:"27.74%",sellTax:"0%",totalTax:"23.14%",paid:!1,paidAmount:"23.14%",holders:"23",supply:"14",badgeType:"trending"},{id:5,name:"MU",symbol:"MU",fullName:"5bqe",address:"0x5bqe456789abcdef123456789abcdef12345678",time:"11m",marketCap:"$34.1K",marketCapChange:"+8.368%",liquidity:"$13.7K",volume:"$1.34K",txns:"24",buyTxns:"18",sellTxns:"6",buyTax:"25.74%",sellTax:"0%",totalTax:"25.74%",paid:!1,paidAmount:"25.74%",holders:"89",supply:"45",badgeType:"swap"},{id:6,name:"PR",symbol:"PR",fullName:"22nF",address:"0x22nF456789abcdef123456789abcdef12345678",time:"3h",marketCap:"$1.8M",marketCapChange:"-5.2%",liquidity:"$95K",volume:"$67K",txns:"178",buyTxns:"92",sellTxns:"86",buyTax:"15.8%",sellTax:"9.1%",totalTax:"4.12%",paid:!1,paidAmount:"0.25%",holders:"3456",supply:"987",badgeType:"trending"},{id:7,name:"DX",symbol:"DX",fullName:"EZut",address:"0xEZut456789abcdef123456789abcdef12345678",time:"45m",marketCap:"$890K",marketCapChange:"+12.3%",liquidity:"$67K",volume:"$45K",txns:"123",buyTxns:"78",sellTxns:"45",buyTax:"8.9%",sellTax:"5.4%",totalTax:"2.78%",paid:!0,paidAmount:"0%",holders:"2345",supply:"567",badgeType:"trending"},{id:8,name:"NY",symbol:"NY",fullName:"FUrE",address:"0xFUrE456789abcdef123456789abcdef12345678",time:"1h",marketCap:"$1.2M",marketCapChange:"+7.8%",liquidity:"$89K",volume:"$67K",txns:"156",buyTxns:"89",sellTxns:"67",buyTax:"11.2%",sellTax:"7.1%",totalTax:"3.45%",paid:!1,paidAmount:"0.18%",holders:"3456",supply:"789",badgeType:"swap"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Discover"}),u.jsx("p",{className:"text-cyphr-gray",children:"Find the latest trending tokens and opportunities"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["trending","new","top","watchlist"].map(o=>u.jsx("button",{onClick:()=>e(o),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===o?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:o})},o))}),u.jsx("div",{className:"flex gap-2",children:s.map(o=>u.jsx("button",{onClick:()=>r(o),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===o?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:o},o))}),u.jsx("div",{className:"flex gap-2 ml-4",children:u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),u.jsx("span",{children:"Filter"}),u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("img",{src:"/SearchIcon.png",alt:"Search",className:"w-4 h-4",style:{marginRight:"8px"}}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("img",{src:"/WatchlistStar.png",alt:"Watchlist",className:"w-4 h-4",style:{marginRight:"8px"}}),"Watchlist"]})]})]}),u.jsx("div",{className:"ultra-premium-glass overflow-hidden animate-slide-up shadow-elite-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20",children:[u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Token"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Market Cap"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Liquidity"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Volume"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Txns"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Tax"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Paid"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Actions"})]})}),u.jsx("tbody",{children:i.map(o=>u.jsxs("tr",{className:"border-b border-cyphr-gray/10 hover:bg-cyphr-gray/5 transition-colors duration-300",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(ua,{token:{name:o.name,symbol:o.symbol||o.name},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-cyphr-white font-semibold text-base mb-1",children:["$",o.name]}),u.jsx("div",{className:"text-cyphr-gray text-sm mb-1",children:o.fullName}),u.jsx("div",{className:"mb-1",children:u.jsx(g3,{address:o.address,className:"text-xs"})}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.time," ago"]})]})]})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:o.marketCap}),u.jsx("div",{className:`text-xs ${o.marketCapChange.startsWith("+")?"text-green-500":"text-red-500"}`,children:o.marketCapChange})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-cyphr-white text-sm",children:o.liquidity})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-cyphr-white text-sm",children:o.volume})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-cyphr-white text-sm",children:o.txns}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.buyTxns," buy / ",o.sellTxns," sell"]})]}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-cyphr-white text-sm",children:o.totalTax}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.buyTax," / ",o.sellTax]})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o.paid?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[o.paid?"":""," ",o.paidAmount]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(xs,{to:`/token/${o.id}`,className:"cyphr-button-primary px-3 py-1 text-xs font-semibold transition-all duration-300 hover:scale-105 no-underline",children:"View"}),u.jsx("button",{className:"cyphr-button px-3 py-1 text-xs font-semibold transition-all duration-300 hover:scale-105 flex items-center justify-center",children:u.jsx("img",{src:"/WatchlistStar.png",alt:"Watchlist",className:"w-4 h-4"})})]})})]},o.id))})]})})})]})},z7=()=>{const[t,e]=z.useState("wallets"),[n,r]=z.useState(""),s=[{id:1,name:"Axiom Main",address:"TzKG...h4W9",balance:"2.47",holdings:"12",color:"#ff6b35"},{id:2,name:"Trading Wallet",address:"Ax7K...mN3P",balance:"1.23",holdings:"8",color:"#6D8FC7"},{id:3,name:"Staking Pool",address:"Bx9L...qR5T",balance:"0.89",holdings:"5",color:"#bd496f"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Portfolio"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your wallets and track your investments"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(i=>u.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"Axiom Main"}),u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"2.47 SOL"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"cyphr-button-primary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:"+"}),"Add Wallet"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("img",{src:"/WalletIcon.png",alt:"Wallet",style:{width:"20px",height:"20px"}}),"Wallets"]})}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",placeholder:"Search by name or address...",value:n,onChange:i=>r(i.target.value),className:"elite-input w-full text-sm"})})}),u.jsx("div",{className:"space-y-4",children:s.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-cyphr-gray/20 hover:border-cyphr-teal/30 transition-all duration-300 cursor-pointer group",style:{background:"linear-gradient(135deg, rgba(45,186,161,0.05) 0%, rgba(189,73,111,0.05) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:i.color},children:i.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:i.name}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:i.address})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-cyphr-white font-semibold text-sm",children:[i.balance," SOL"]}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[i.holdings," holdings"]})]})]},i.id))})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:""}),"Total Value"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:""})]}),u.jsx("div",{className:"text-3xl font-bold text-cyphr-white mb-2",children:"$4.59"}),u.jsx("div",{className:"text-green-500 text-sm",children:"+12.5% (24h)"})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:""}),"Recent Activity"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:""})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full flex items-center justify-center text-white text-xs font-bold",children:"B"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"Bought BONK"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"2 hours ago"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"+$0.23"}),u.jsx("div",{className:"text-green-500 text-xs",children:"+15.2%"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-pink to-cyphr-teal rounded-full flex items-center justify-center text-white text-xs font-bold",children:"S"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"Sold PEPE"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"5 hours ago"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"-$0.12"}),u.jsx("div",{className:"text-red-500 text-xs",children:"-8.7%"})]})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:""}),"Performance"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:""})]}),u.jsx("div",{className:"h-32 bg-gradient-to-r from-cyphr-teal/20 to-cyphr-pink/20 rounded-lg flex items-center justify-center",children:u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Chart placeholder"})})]})]})]})]})},W7=()=>{const[t,e]=z.useState("active"),[n,r]=z.useState("max"),s=["1d","7d","30d","max"];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Spot Trading"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your spot positions and trading history"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(i=>u.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),u.jsx("div",{className:"flex gap-2",children:s.map(i=>u.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:i.toUpperCase()},i))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:"Axiom Main"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"2.47"})]}),u.jsx("span",{className:"text-cyphr-gray",children:""})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm mb-1 font-semibold",children:"Balance"}),u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total Value: ",u.jsx("span",{className:"text-cyphr-teal",children:"$89.47"})]})]}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Unrealized PNL: ",u.jsx("span",{className:"text-cyphr-teal",children:"+$12.34"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Available Balance: ",u.jsx("span",{className:"text-cyphr-teal",children:"$77.13"})]})})]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Realized PNL"})}),u.jsxs("div",{className:"h-40 bg-gradient-to-br from-cyphr-pink/5 to-cyphr-teal/5 rounded-lg flex items-center justify-center relative border border-cyphr-gray/20",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-cyphr-pink/20 via-cyphr-pink/10 to-transparent transform rotate-12 rounded-lg"})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-cyphr-pink to-transparent transform rotate-12"})}),u.jsx("div",{className:"absolute bottom-3 left-3 text-cyphr-gray text-xl",children:""})]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Performance"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-colors p-1 rounded hover:bg-cyphr-black/30",children:""})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total PNL: ",u.jsx("span",{className:"text-cyphr-teal",children:"+$23.67"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total TXNS: ",u.jsx("span",{className:"text-cyphr-teal",children:"47 / 23"})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold",children:"PNL Distribution"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:" >500%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"3"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:" 200% ~ 500%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"8"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:" 0% ~ 200%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"12"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:" 0% ~ -50%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"4"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:" < -50%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"2"})]})]}),u.jsx("div",{className:"w-full h-1 bg-cyphr-black/30 rounded-full mt-2 border border-cyphr-gray/20",children:u.jsx("div",{className:"w-4/5 h-1 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full shadow-lg"})})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active positions","history","top 100"].map(i=>u.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[u.jsx("input",{type:"text",placeholder:"Search by name or address",className:"elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white placeholder-cyphr-gray"}),u.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Show Hidden"}),u.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:" USD"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsx("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:u.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Bought"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Sold"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Remaining "}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"PNL"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Action"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"S"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"SOL"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"Solana"})]})]})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$22.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$12.34"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-pink to-cyphr-teal rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"B"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"BONK"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"Bonk"})]})]})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$0"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$8.90"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]})]})]})})}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Activity"})}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Type"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Amount "}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Market Cap "}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Age"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"SOL"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.5B"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"2h ago"})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-pink/20 text-cyphr-pink",children:"SELL"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"4h ago"})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"6h ago"})]})]})]})})]})]})]})]})},F7=({pair:t,timeframe:e})=>{const[n,r]=z.useState([]),s=(D,L)=>{const F=[],$=Date.now(),H=e==="1m"?6e4:e==="5m"?3e5:e==="15m"?9e5:e==="1h"?36e5:e==="4h"?144e5:864e5;let K=D;for(let A=50;A>=0;A--){const f=$-A*H,x=K,k=(Math.random()-.5)*L*K,I=Math.max(x+k,D*.8),C=Math.abs(I-x)*(1+Math.random()*2),j=Math.max(x,I)+C*Math.random(),P=Math.min(x,I)-C*Math.random(),T=Math.random()*1e6+1e5;F.push({time:f,open:x,high:j,low:P,close:I,volume:T}),K=I}return F};z.useEffect(()=>{const L={"SOL/USD":{basePrice:187.23,volatility:.02},"ETH/USD":{basePrice:1540,volatility:.015},"BTC/USD":{basePrice:9641.67,volatility:.012},"PEPE/USD":{basePrice:1234e-8,volatility:.08}}[t];L&&r(s(L.basePrice,L.volatility))},[t,e]);const i=800,o=500,a=60,l=80;if(n.length===0)return null;const c=i-a*2,d=o-a*2-l,h=n.flatMap(D=>[D.high,D.low]),p=Math.min(...h),m=Math.max(...h),y=m-p,w=Math.max(...n.map(D=>D.volume));Math.min(...n.map(D=>D.volume));const b=c/n.length*.8,g=c/n.length,S=n[n.length-1],_=n[n.length-2],M=S.close-((_==null?void 0:_.close)||S.open),R=M/((_==null?void 0:_.close)||S.open)*100,W=n.slice(-20).reduce((D,L)=>D+L.close,0)/Math.min(20,n.length);return n.slice(-50).reduce((D,L)=>D+L.close,0)/Math.min(50,n.length),u.jsx("div",{className:"w-full",children:u.jsxs("svg",{width:i,height:o,className:"w-full h-full",viewBox:`0 0 ${i} ${o}`,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:`candleGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.3"})]}),u.jsxs("linearGradient",{id:`volumeGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.6"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.2"})]})]}),[0,1,2,3,4].map(D=>u.jsx("line",{x1:a,y1:a+D*d/4,x2:i-a,y2:a+D*d/4,stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},`grid-${D}`)),[0,1,2,3,4].map(D=>{const L=m-D*y/4;return u.jsxs("text",{x:a-10,y:a+D*d/4+4,textAnchor:"end",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["$",L.toFixed(t==="PEPE/USD"?8:2)]},`price-${D}`)}),n.map((D,L)=>{if(L<19)return null;const F=a+L*g+g/2,$=a+d-(W-p)/y*d;return u.jsx("circle",{cx:F,cy:$,r:"1",fill:"#FFD700",opacity:"0.8"},`sma20-${L}`)}),n.map((D,L)=>{const F=a+L*g+(g-b)/2,$=D.close>=D.open,H=a+d-(Math.max(D.open,D.close)-p)/y*d,A=a+d-(Math.min(D.open,D.close)-p)/y*d-H,f=a+d-(D.high-p)/y*d,x=a+d-(D.low-p)/y*d;return u.jsxs("g",{children:[u.jsx("line",{x1:F+b/2,y1:f,x2:F+b/2,y2:x,stroke:$?"#6D8FC7":"#BD496F",strokeWidth:"1"}),u.jsx("rect",{x:F,y:H,width:b,height:Math.max(A,1),fill:$?"#6D8FC7":"#BD496F",stroke:$?"#6D8FC7":"#BD496F",strokeWidth:"1"})]},L)}),n.map((D,L)=>{const F=a+L*g+(g-b)/2,$=D.volume/w*60,H=o-a-$,K=D.close>=D.open;return u.jsx("rect",{x:F,y:H,width:b,height:$,fill:K?"#6D8FC7":"#BD496F",opacity:"0.3"},`volume-${L}`)}),u.jsx("line",{x1:a,y1:a+d-(S.close-p)/y*d,x2:i-a,y2:a+d-(S.close-p)/y*d,stroke:"rgba(109, 146, 203, 0.5)",strokeWidth:"1",strokeDasharray:"5,5"}),u.jsx("circle",{cx:i-a,cy:a+d-(S.close-p)/y*d,r:"4",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"2"}),u.jsxs("text",{x:i-a+10,y:a+d-(S.close-p)/y*d,textAnchor:"start",fill:"#6D8FC7",fontSize:"14",fontWeight:"600",fontFamily:"system-ui",children:["$",S.close.toFixed(t==="PEPE/USD"?8:2)]}),u.jsxs("text",{x:i-a+10,y:a+d-(S.close-p)/y*d+20,textAnchor:"start",fill:M>=0?"#6D8FC7":"#BD496F",fontSize:"12",fontWeight:"500",fontFamily:"system-ui",children:[M>=0?"+":"",R.toFixed(2),"%"]}),u.jsxs("text",{x:i-a+10,y:o-a-40,textAnchor:"start",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["Vol: ",S.volume.toLocaleString()]}),[0,12,25,37,50].map(D=>{var $;const F=new Date((($=n[D])==null?void 0:$.time)||Date.now()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return u.jsx("text",{x:a+D*g+g/2,y:o-a+15,textAnchor:"middle",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:F},`time-${D}`)})]})})},U7=()=>{const[t,e]=z.useState("SOL/USD"),[n,r]=z.useState("market"),[s,i]=z.useState("buy"),[o,a]=z.useState("100"),[l,c]=z.useState("10x"),[d,h]=z.useState("1m"),[p,m]=z.useState(!1),y=[{pair:"SOL/USD",price:"$187.23",change:"+2.4%",volume:"$45.2M"},{pair:"ETH/USD",price:"$1,540.00",change:"+1.8%",volume:"$23.1M"},{pair:"BTC/USD",price:"$9,641.67",change:"+0.9%",volume:"$67.8M"},{pair:"PEPE/USD",price:"$0.00001234",change:"+23.4%",volume:"$12.8M"}],w=[{price:"187.25",size:"1,234",total:"1,234",side:"sell"},{price:"187.24",size:"2,156",total:"3,390",side:"sell"},{price:"187.23",size:"3,421",total:"6,811",side:"sell"},{price:"187.22",size:"892",total:"7,703",side:"sell"},{price:"187.21",size:"1,567",total:"9,270",side:"sell"},{price:"187.20",size:"2,345",total:"11,615",side:"buy"},{price:"187.19",size:"1,789",total:"13,404",side:"buy"},{price:"187.18",size:"3,156",total:"16,560",side:"buy"},{price:"187.17",size:"2,234",total:"18,794",side:"buy"},{price:"187.16",size:"1,567",total:"20,361",side:"buy"}],b=[{price:"187.23",size:"45.2",side:"buy",time:"12:34:56"},{price:"187.22",size:"23.1",side:"sell",time:"12:34:52"},{price:"187.24",size:"67.8",side:"buy",time:"12:34:48"},{price:"187.21",size:"12.8",side:"sell",time:"12:34:44"},{price:"187.25",size:"34.5",side:"buy",time:"12:34:40"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Perpetuals"}),u.jsx("p",{className:"text-cyphr-gray",children:"Trade with leverage and advanced order types"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(g=>u.jsx("button",{onClick:()=>e(g.pair),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===g.pair?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold",children:g.pair}),u.jsx("div",{className:"text-xs",children:g.price}),u.jsx("div",{className:`text-xs ${g.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:g.change})]})},g.pair))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Indicators"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Settings"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-3 shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:[t," Chart"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-cyphr-gray",children:[u.jsx("span",{children:"MA20"}),u.jsx("div",{className:"w-3 h-0.5 bg-yellow-400"}),u.jsx("span",{children:"Volume"}),u.jsx("div",{className:"w-3 h-0.5 bg-cyphr-teal opacity-30"})]})]}),u.jsx("div",{className:"flex gap-2",children:["1m","5m","15m","1h","4h","1d"].map(g=>u.jsx("button",{onClick:()=>h(g),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${d===g?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:g},g))})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(F7,{pair:t,timeframe:d})})]}),u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order Form"}),u.jsx("button",{onClick:()=>m(!p),className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs",children:p?"Simple":"Advanced"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Order Type"}),u.jsx("div",{className:"flex gap-2",children:["market","limit","stop"].map(g=>u.jsx("button",{onClick:()=>r(g),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${n===g?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Side"}),u.jsx("div",{className:"flex gap-2",children:["buy","sell"].map(g=>u.jsx("button",{onClick:()=>i(g),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${s===g?g==="buy"?"bg-green-600 text-white":"bg-red-600 text-white":"premium-nav-button text-cyphr-gray hover:text-cyphr-white"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:o,onChange:g=>a(g.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(g=>u.jsxs("button",{onClick:()=>a(g),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",g]},g))}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Leverage"}),u.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:["1x","2x","5x","10x","20x","50x","100x"].map(g=>u.jsx("option",{value:g,children:g},g))})]}),p&&u.jsxs("div",{className:"mb-4 space-y-3 p-3 rounded-lg bg-cyphr-black/20 border border-cyphr-gray/20",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Stop Loss"}),u.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Stop loss price"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Take Profit"}),u.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Take profit price"})]})]}),u.jsxs("button",{className:"w-full elite-button px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-white bg-gradient-to-r from-cyphr-teal to-cyphr-pink",children:["Execute ",s.charAt(0).toUpperCase()+s.slice(1)," Order"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Market Stats"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:""})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h High"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$192.45"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Low"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$181.20"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Volume"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$45.2M"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"Open Interest"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$12.8M"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"Funding Rate"}),u.jsx("span",{className:"text-cyphr-teal font-semibold",children:"+0.0125%"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Order Book"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:""})]}),u.jsx("div",{className:"space-y-1",children:w.map((g,S)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:`font-mono ${g.side==="sell"?"text-red-400":"text-green-400"}`,children:g.price}),u.jsx("span",{className:"text-cyphr-white",children:g.size}),u.jsx("span",{className:"text-cyphr-gray",children:g.total})]},S))})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Recent Trades"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:""})]}),u.jsx("div",{className:"space-y-1",children:b.map((g,S)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:`font-mono ${g.side==="sell"?"text-red-400":"text-green-400"}`,children:g.price}),u.jsx("span",{className:"text-cyphr-white",children:g.size}),u.jsx("span",{className:"text-cyphr-gray",children:g.time})]},S))})]})]})]})},$7=()=>{const[t,e]=z.useState("active"),[n,r]=z.useState(null),s=[{id:"ORD-001",token:"PEPE",type:"BUY",amount:"1000",price:"$0.00001234",status:"pending",time:"2 minutes ago",progress:75},{id:"ORD-002",token:"DOGE",type:"SELL",amount:"500",price:"$0.0789",status:"executing",time:"5 minutes ago",progress:45},{id:"ORD-003",token:"SHIB",type:"BUY",amount:"2000",price:"$0.00002345",status:"pending",time:"8 minutes ago",progress:20}],i=[{id:"ORD-004",token:"PEPE",type:"BUY",amount:"500",price:"$0.00001230",status:"completed",time:"1 hour ago",executedPrice:"$0.00001232"},{id:"ORD-005",token:"DOGE",type:"SELL",amount:"1000",price:"$0.0790",status:"cancelled",time:"2 hours ago",executedPrice:null},{id:"ORD-006",token:"BONK",type:"BUY",amount:"1500",price:"$0.00004500",status:"completed",time:"3 hours ago",executedPrice:"$0.00004567"}],o={totalOrders:156,pendingOrders:8,totalVolume:"$45,234.56",successRate:"91.0%"};return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Orders"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your trading orders and view order history"})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Orders"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-white",children:o.totalOrders})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Success Rate"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-teal",children:o.successRate})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Volume"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:o.totalVolume})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Pending"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-pink",children:o.pendingOrders})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active","history"].map(a=>u.jsx("button",{onClick:()=>e(a),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===a?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:a})},a))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),t==="active"&&u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Active Orders"}),u.jsx("span",{className:"text-cyphr-teal text-lg",children:""})]}),s.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-cyphr-gray text-4xl mb-4",children:""}),u.jsx("div",{className:"text-cyphr-gray font-sf-pro text-lg",children:"No active orders"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Your active orders will appear here"})]}):u.jsx("div",{className:"space-y-4",children:s.map(a=>u.jsxs("div",{className:"p-6 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(ua,{token:{name:a.token,symbol:a.token},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-lg mb-1",children:a.token}),u.jsxs("div",{className:"text-cyphr-gray text-sm",children:["Order #",a.id]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-lg font-bold ${a.type==="BUY"?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.type}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:a.time})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Amount"}),u.jsxs("div",{className:"font-bold text-cyphr-white",children:["$",a.amount]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Price"}),u.jsx("div",{className:"font-bold text-cyphr-white",children:a.price})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Status"}),u.jsx("div",{className:`font-semibold ${a.status==="pending"?"text-cyphr-pink":"text-cyphr-teal"}`,children:a.status.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Progress"}),u.jsxs("div",{className:"font-bold text-cyphr-white",children:[a.progress,"%"]})]})]}),u.jsx("div",{className:"w-full bg-cyphr-dark-gray rounded-full h-2 mb-4",children:u.jsx("div",{className:"bg-gradient-to-r from-cyphr-teal to-cyphr-pink h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Cancel Order"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Modify"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"View Details"})]})]},a.id))})]}),t==="history"&&u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order History"}),u.jsx("span",{className:"text-cyphr-teal text-lg",children:""})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b-2 border-cyphr-gray",children:[u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Order ID"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Token"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Type"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Amount"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Price"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Executed Price"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Time"})]})}),u.jsx("tbody",{children:i.map(a=>u.jsxs("tr",{className:"border-b border-cyphr-gray/30 hover:bg-cyphr-black/30 transition-all duration-200",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"font-mono text-cyphr-white text-sm",children:a.id})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-lg flex items-center justify-center text-cyphr-black font-bold text-sm shadow-lg",children:a.token.charAt(0)}),u.jsx("span",{className:"font-bold text-cyphr-white",children:a.token})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.type==="BUY"?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink text-cyphr-white"}`,children:a.type})}),u.jsxs("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:["$",a.amount]}),u.jsx("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:a.price}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.status==="completed"?"bg-cyphr-teal text-cyphr-black":a.status==="cancelled"?"bg-cyphr-pink text-cyphr-white":"bg-cyphr-gray text-cyphr-black"}`,children:a.status.toUpperCase()})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-cyphr-gray text-sm",children:a.executedPrice||"N/A"})}),u.jsx("td",{className:"px-6 py-4 text-cyphr-gray text-sm",children:a.time})]},a.id))})]})})]})]})},H7=()=>{var D;const[t,e]=z.useState("ai-insights"),[n,r]=z.useState("USDC"),[s,i]=z.useState(""),[o,a]=z.useState(!1),[l,c]=z.useState(""),[d,h]=z.useState(!1),[p,m]=z.useState([]),y=[{name:"Trades",icon:"",path:"trades"},{name:"My Holdings",icon:"",path:"holdings"},{name:"Token Details",icon:"",path:"details"},{name:"AI Insights",icon:"",path:"ai-insights"},{name:"Bubble Map",icon:"",path:"bubble"}],w={USDC:{name:"USD Coin",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDtlv",bubbleConfig:{centralSize:80,clusters:{yellow:{count:8,sizeRange:[20,45],position:{x:[20,80],y:[30,70]}},purple:{count:6,sizeRange:[18,40],position:{x:[60,90],y:[10,50]}},pink:{count:4,sizeRange:[15,35],position:{x:[10,40],y:[60,90]}},blue:{count:5,sizeRange:[16,38],position:{x:[70,95],y:[60,90]}}},scattered:{count:35,sizeRange:[6,18]}}},SOL:{name:"Solana",address:"So11111111111111111111111111111111111111112",bubbleConfig:{centralSize:85,clusters:{yellow:{count:10,sizeRange:[22,48],position:{x:[15,85],y:[25,75]}},purple:{count:7,sizeRange:[20,42],position:{x:[55,95],y:[5,55]}},pink:{count:6,sizeRange:[18,38],position:{x:[5,45],y:[55,95]}},blue:{count:6,sizeRange:[19,40],position:{x:[65,95],y:[55,95]}}},scattered:{count:40,sizeRange:[6,20]}}},ETH:{name:"Ethereum",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",bubbleConfig:{centralSize:90,clusters:{yellow:{count:12,sizeRange:[25,50],position:{x:[10,90],y:[20,80]}},purple:{count:8,sizeRange:[22,45],position:{x:[50,95],y:[5,60]}},pink:{count:7,sizeRange:[20,42],position:{x:[5,50],y:[50,95]}},blue:{count:8,sizeRange:[21,44],position:{x:[55,95],y:[50,95]}}},scattered:{count:45,sizeRange:[6,22]}}},BONK:{name:"Bonk",address:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",bubbleConfig:{centralSize:70,clusters:{yellow:{count:6,sizeRange:[18,38],position:{x:[30,70],y:[35,65]}},purple:{count:4,sizeRange:[16,32],position:{x:[65,85],y:[20,50]}},pink:{count:3,sizeRange:[14,30],position:{x:[20,50],y:[65,85]}},blue:{count:4,sizeRange:[15,34],position:{x:[65,85],y:[65,85]}}},scattered:{count:25,sizeRange:[6,16]}}},PEPE:{name:"Pepe",address:"0x6982508145454Ce325dDbE47a25d4ec3d2311933",bubbleConfig:{centralSize:75,clusters:{yellow:{count:7,sizeRange:[20,40],position:{x:[25,75],y:[30,70]}},purple:{count:5,sizeRange:[18,35],position:{x:[60,90],y:[15,55]}},pink:{count:4,sizeRange:[16,32],position:{x:[15,50],y:[60,90]}},blue:{count:5,sizeRange:[17,36],position:{x:[65,90],y:[60,90]}}},scattered:{count:30,sizeRange:[6,18]}}},DOGE:{name:"Dogecoin",address:"0x3832d2F059E559F2088cd4e4d0d24290818Bbe3B",bubbleConfig:{centralSize:65,clusters:{yellow:{count:5,sizeRange:[16,32],position:{x:[35,65],y:[40,60]}},purple:{count:3,sizeRange:[14,28],position:{x:[65,85],y:[25,55]}},pink:{count:3,sizeRange:[12,26],position:{x:[25,55],y:[65,85]}},blue:{count:3,sizeRange:[15,30],position:{x:[65,85],y:[65,85]}}},scattered:{count:20,sizeRange:[6,14]}}}},b=L=>{r(L),i(""),a(!1)},g=async L=>{if(L.length<2){m([]);return}h(!0),await new Promise($=>setTimeout($,800));const F=[{name:`${L.toUpperCase()} Token`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:L.toUpperCase()},{name:`${L.toUpperCase()} Protocol`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${L.toUpperCase()}P`},{name:`${L.toUpperCase()} Finance`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${L.toUpperCase()}F`}];m(F),h(!1)},S=L=>{const F={centralSize:70+Math.random()*30,clusters:{yellow:{count:5+Math.floor(Math.random()*8),sizeRange:[15,40],position:{x:[20,80],y:[25,75]}},purple:{count:4+Math.floor(Math.random()*6),sizeRange:[12,35],position:{x:[60,90],y:[10,60]}},pink:{count:3+Math.floor(Math.random()*5),sizeRange:[10,30],position:{x:[10,50],y:[60,90]}},blue:{count:4+Math.floor(Math.random()*6),sizeRange:[12,32],position:{x:[65,95],y:[60,90]}}},scattered:{count:20+Math.floor(Math.random()*30),sizeRange:[5,18]}};return _(F)},_=(L,F)=>{const $=[];let H=1;$.push({id:H++,x:50,y:50,size:L.centralSize,color:"#6D8FC7",type:"central",isCentral:!0}),Object.entries(L.clusters).forEach(([K,A])=>{for(let f=0;f<A.count;f++){const x=A.position.x[0]+Math.random()*(A.position.x[1]-A.position.x[0]),k=A.position.y[0]+Math.random()*(A.position.y[1]-A.position.y[0]),I=A.sizeRange[0]+Math.random()*(A.sizeRange[1]-A.sizeRange[0]);$.push({id:H++,x,y:k,size:I,color:R(K),type:"connected",isCentral:!1})}});for(let K=0;K<L.scattered.count;K++)$.push({id:H++,x:Math.random()*100,y:Math.random()*100,size:L.scattered.sizeRange[0]+Math.random()*(L.scattered.sizeRange[1]-L.scattered.sizeRange[0]),color:R(["yellow","purple","pink","blue"][Math.floor(Math.random()*4)]),type:"scattered",isCentral:!1});return $},M=L=>{const F=w[L];return F?_(F.bubbleConfig):S()},R=L=>{var $;return(($={yellow:["#facc15","#fde047","#fef08a"],purple:["#c084fc","#d8b4fe","#e9d5ff"],pink:["#f472b6","#f9a8d4","#fbcfe8"],blue:["#60a5fa","#93c5fd","#bfdbfe"]}[L])==null?void 0:$[Math.floor(Math.random()*3)])||"#ffffff"};z.useEffect(()=>{r("USDC")},[]);const W=M(n);return console.log("Generated bubbles:",W),console.log("Bubble count:",W.length),console.log("Connected bubbles:",W.filter(L=>L.type==="connected").length),u.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-32 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Insights"}),u.jsx("p",{className:"text-cyphr-gray",children:"AI-powered analysis and market insights"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(L=>u.jsx("button",{onClick:()=>e(L.path),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===L.path?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"transition-transform duration-300 hover:scale-105",children:L.name})},L.path))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"AI Summary"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("p",{className:"text-cyphr-white text-xs leading-relaxed",children:["This token shows ",u.jsx("span",{className:"text-cyphr-teal font-medium",children:"medium risk"}),". Liquidity is mostly unlocked, and deployer has a 60% migration rate. 40% of supply is held by 3 wallets, 2 of which are new."]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-lg mb-6 flex items-center gap-3 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyphr-teal",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-cyphr-teal font-mono text-sm font-semibold",children:"Risk Level:"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-cyphr-teal rounded-full animate-pulse"}),u.jsx("span",{className:"text-cyphr-white text-sm font-medium font-mono",children:"Medium"})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Pool Overview"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Liquidity:"}),u.jsx("span",{className:"text-cyphr-white",children:"$2.4M"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Volume 24h:"}),u.jsx("span",{className:"text-cyphr-white",children:"$890K"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Holders:"}),u.jsx("span",{className:"text-cyphr-white",children:"1,247"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Liquidity Events"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Recent Add:"}),u.jsx("span",{className:"text-green-500",children:"+$450K"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Recent Remove:"}),u.jsx("span",{className:"text-red-500",children:"-$120K"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Net Change:"}),u.jsx("span",{className:"text-cyphr-teal",children:"+$330K"})]})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),"Who's In"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Top Holder:"}),u.jsx("span",{className:"text-cyphr-white",children:"15.2%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Top 10:"}),u.jsx("span",{className:"text-cyphr-white",children:"42.8%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"New Wallets:"}),u.jsx("span",{className:"text-cyphr-teal",children:"67%"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deployer Insights"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Migration Rate:"}),u.jsx("span",{className:"text-cyphr-white",children:"60%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Success Rate:"}),u.jsx("span",{className:"text-green-500",children:"78%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Avg Hold Time:"}),u.jsx("span",{className:"text-cyphr-white",children:"3.2 days"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Historical Liquidity Events"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"2h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$120K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"4h ago:"}),u.jsx("span",{className:"text-red-500",children:"-$80K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"6h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$200K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"8h ago:"}),u.jsx("span",{className:"text-red-500",children:"-$150K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"12h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$300K"})]})]})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a8 8 0 00-8 8c0 1.5.4 2.9 1.1 4.1a1 1 0 00.8.3h13.4a1 1 0 00.8-.3C17.6 13.9 18 12.5 18 11a8 8 0 00-8-8zm0 14a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"})}),"Interactive Bubble Map"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"1H"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"24H"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"7D"})]})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:s,onChange:L=>{i(L.target.value),g(L.target.value)},placeholder:"Search any token for holder distribution...",className:"w-full elite-input px-4 py-3 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm"}),d&&u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyphr-teal"})}),p.length>0&&s.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-cyphr-black/90 border border-cyphr-gray/30 rounded-lg z-50 max-h-48 overflow-y-auto",children:p.map((L,F)=>u.jsx("button",{onClick:()=>{c(L.symbol),i(L.name),m([]),r(L.symbol)},className:"w-full px-4 py-3 text-left hover:bg-cyphr-gray/20 transition-colors duration-200 border-b border-cyphr-gray/20 last:border-b-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:L.name}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:L.symbol})]}),u.jsxs("div",{className:"text-cyphr-gray text-xs font-mono",children:[L.address.slice(0,8),"..."]})]})},F))})]})}),u.jsx("div",{className:"flex items-center gap-4 mb-4",children:u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Object.keys(w).slice(0,6).map(L=>u.jsxs("button",{onClick:()=>b(L),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===L?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-gray/20 text-cyphr-gray hover:text-cyphr-white hover:bg-cyphr-gray/30"}`,children:[u.jsx(ua,{token:{name:L,symbol:L},size:"md"}),L]},L)),l&&u.jsxs("button",{onClick:()=>r(l),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===l?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink/20 text-cyphr-pink hover:bg-cyphr-pink/30 border border-cyphr-pink/30"}`,children:[u.jsx(ua,{token:{name:l,symbol:l},size:"md"}),l," "]})]})}),u.jsxs("div",{className:"relative w-full h-96 rounded-lg overflow-hidden",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.08) 0%, rgba(189,73,111,0.08) 100%)",border:"1px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.08)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[u.jsx("div",{className:"absolute top-4 left-4 z-20 bg-cyphr-black/80 backdrop-blur-md rounded-lg p-3 border border-cyphr-gray/30",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ua,{token:{name:n,symbol:n},size:"md"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white text-sm font-semibold",children:n}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:(D=w[n])==null?void 0:D.name})]})]})}),u.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2",children:[u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"1H"}),u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"24H"}),u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"7D"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("linearGradient",{id:"connectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.9)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(109,143,199,0.5)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0.1)"})]}),u.jsxs("radialGradient",{id:"bubbleGlow",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.4)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0)"})]})]}),(()=>{const L=W.find(F=>F.isCentral);return L?u.jsx("circle",{cx:`${L.x}%`,cy:`${L.y}%`,r:"80",fill:"url(#bubbleGlow)",opacity:"0.7"}):null})(),(()=>{const L=W.find($=>$.isCentral),F=W.filter($=>$.type==="connected"&&!$.isCentral);return L?F.slice(0,6).map(($,H)=>u.jsxs("g",{children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:`connection-glow-${H}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(45,186,161,0.3)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(45,186,161,0.1)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(45,186,161,0)"})]})}),u.jsx("line",{x1:`${L.x}%`,y1:`${L.y}%`,x2:`${$.x}%`,y2:`${$.y}%`,stroke:`url(#connection-glow-${H})`,strokeWidth:"8",opacity:"0.4"}),u.jsx("line",{x1:`${L.x}%`,y1:`${L.y}%`,x2:`${$.x}%`,y2:`${$.y}%`,stroke:"rgba(45,186,161,0.2)",strokeWidth:"1",opacity:"0.6"})]},`connection-indicator-${H}`)):null})()]}),W.map((L,F)=>u.jsxs("div",{className:"absolute rounded-full flex items-center justify-center text-white text-xs font-medium transition-all duration-700 hover:scale-125 cursor-pointer",style:{left:`${L.x}%`,top:`${L.y}%`,width:`${L.size}px`,height:`${L.size}px`,background:L.type==="central"?"radial-gradient(circle, rgba(45,186,161,1) 0%, rgba(45,186,161,0.9) 40%, rgba(45,186,161,0.6) 70%, rgba(45,186,161,0.2) 100%)":L.type==="connected"?`radial-gradient(circle, ${L.color} 0%, ${L.color}90 40%, ${L.color}60 70%, ${L.color}20 100%)`:`radial-gradient(circle, ${L.color} 0%, ${L.color}80 50%, ${L.color}40 80%, ${L.color}10 100%)`,transform:"translate(-50%, -50%)",boxShadow:L.type==="central"?"0 0 60px rgba(45,186,161,0.8), 0 0 120px rgba(45,186,161,0.4), 0 0 180px rgba(45,186,161,0.2)":L.type==="connected"?`0 0 ${L.size*1.5}px ${L.color}60, 0 0 ${L.size*2.2}px ${L.color}40`:`0 0 ${L.size*.8}px ${L.color}40`,opacity:L.type==="scattered"?.85:1,zIndex:L.type==="central"?50:L.type==="connected"?25:10,animation:`fadeInUp ${.3+F*.05}s ease-out forwards`,position:"absolute",pointerEvents:"auto"},children:[L.type==="central"&&u.jsxs("div",{className:"absolute inset-0 rounded-full flex items-center justify-center",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full opacity-95 shadow-lg"}),u.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/50 animate-pulse"}),u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/30 animate-ping",style:{animationDelay:"0.5s"}})]}),L.type==="connected"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/40 animate-ping",style:{animationDelay:`${F*.3}s`}}),u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${F*.2}s`}})]}),L.type==="scattered"&&u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${F*.4}s`}})]},L.id))]})]})]})]})};function Ln(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Ln(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var y3={exports:{}},x3={},w3={exports:{}},v3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=z;function V7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var K7=typeof Object.is=="function"?Object.is:V7,Y7=ic.useState,q7=ic.useEffect,G7=ic.useLayoutEffect,Z7=ic.useDebugValue;function Q7(t,e){var n=e(),r=Y7({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return G7(function(){s.value=n,s.getSnapshot=e,jg(s)&&i({inst:s})},[t,n,e]),q7(function(){return jg(s)&&i({inst:s}),t(function(){jg(s)&&i({inst:s})})},[t]),Z7(n),n}function jg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!K7(t,n)}catch{return!0}}function X7(t,e){return e()}var J7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X7:Q7;v3.useSyncExternalStore=ic.useSyncExternalStore!==void 0?ic.useSyncExternalStore:J7;w3.exports=v3;var e9=w3.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=z,t9=e9;function n9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var r9=typeof Object.is=="function"?Object.is:n9,s9=t9.useSyncExternalStore,i9=a0.useRef,o9=a0.useEffect,a9=a0.useMemo,l9=a0.useDebugValue;x3.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=i9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=a9(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var y=o.value;if(s(y,m))return h=y}return h=m}if(y=h,r9(d,m))return y;var w=r(m);return s!==void 0&&s(y,w)?(d=m,y):(d=m,h=w)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=s9(t,i[0],i[1]);return o9(function(){o.hasValue=!0,o.value=a},[a]),l9(a),a};y3.exports=x3;var c9=y3.exports;const u9=Ea(c9),d9={},vS=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(d9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},h9=t=>t?vS(t):vS,{useDebugValue:f9}=V,{useSyncExternalStoreWithSelector:p9}=u9,m9=t=>t;function b3(t,e=m9,n){const r=p9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return f9(r),r}const bS=(t,e)=>{const n=h9(t),r=(s,i=e)=>b3(n,s,i);return Object.assign(r,n),r},g9=(t,e)=>t?bS(t,e):bS;function _n(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var y9={value:()=>{}};function l0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zf(n)}function Zf(t){this._=t}function x9(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zf.prototype=l0.prototype={constructor:Zf,on:function(t,e){var n=this._,r=x9(t+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(t=r[i]).type)&&(s=w9(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(s=(t=r[i]).type)n[s]=SS(n[s],t.name,e);else if(e==null)for(s in n)n[s]=SS(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zf(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function w9(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function SS(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=y9,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var e1="http://www.w3.org/1999/xhtml";const _S={svg:"http://www.w3.org/2000/svg",xhtml:e1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function c0(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_S.hasOwnProperty(e)?{space:_S[e],local:t}:t}function v9(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===e1&&e.documentElement.namespaceURI===e1?e.createElement(t):e.createElementNS(n,t)}}function b9(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function S3(t){var e=c0(t);return(e.local?b9:v9)(e)}function S9(){}function bv(t){return t==null?S9:function(){return this.querySelector(t)}}function _9(t){typeof t!="function"&&(t=bv(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=new Array(o),l,c,d=0;d<o;++d)(l=i[d])&&(c=t.call(l,l.__data__,d,i))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Nr(r,this._parents)}function k9(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function E9(){return[]}function _3(t){return t==null?E9:function(){return this.querySelectorAll(t)}}function N9(t){return function(){return k9(t.apply(this,arguments))}}function M9(t){typeof t=="function"?t=N9(t):t=_3(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var o=e[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),s.push(l));return new Nr(r,s)}function k3(t){return function(){return this.matches(t)}}function E3(t){return function(e){return e.matches(t)}}var A9=Array.prototype.find;function I9(t){return function(){return A9.call(this.children,t)}}function j9(){return this.firstElementChild}function C9(t){return this.select(t==null?j9:I9(typeof t=="function"?t:E3(t)))}var T9=Array.prototype.filter;function R9(){return Array.from(this.children)}function L9(t){return function(){return T9.call(this.children,t)}}function P9(t){return this.selectAll(t==null?R9:L9(typeof t=="function"?t:E3(t)))}function B9(t){typeof t!="function"&&(t=k3(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&a.push(l);return new Nr(r,this._parents)}function N3(t){return new Array(t.length)}function D9(){return new Nr(this._enter||this._groups.map(N3),this._parents)}function Xp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Xp.prototype={constructor:Xp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function O9(t){return function(){return t}}function z9(t,e,n,r,s,i){for(var o=0,a,l=e.length,c=i.length;o<c;++o)(a=e[o])?(a.__data__=i[o],r[o]=a):n[o]=new Xp(t,i[o]);for(;o<l;++o)(a=e[o])&&(s[o]=a)}function W9(t,e,n,r,s,i,o){var a,l,c=new Map,d=e.length,h=i.length,p=new Array(d),m;for(a=0;a<d;++a)(l=e[a])&&(p[a]=m=o.call(l,l.__data__,a,e)+"",c.has(m)?s[a]=l:c.set(m,l));for(a=0;a<h;++a)m=o.call(t,i[a],a,i)+"",(l=c.get(m))?(r[a]=l,l.__data__=i[a],c.delete(m)):n[a]=new Xp(t,i[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(p[a])===l&&(s[a]=l)}function F9(t){return t.__data__}function U9(t,e){if(!arguments.length)return Array.from(this,F9);var n=e?W9:z9,r=this._parents,s=this._groups;typeof t!="function"&&(t=O9(t));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var d=r[c],h=s[c],p=h.length,m=$9(t.call(d,d&&d.__data__,c,r)),y=m.length,w=a[c]=new Array(y),b=o[c]=new Array(y),g=l[c]=new Array(p);n(d,h,w,b,g,m,e);for(var S=0,_=0,M,R;S<y;++S)if(M=w[S]){for(S>=_&&(_=S+1);!(R=b[_])&&++_<y;);M._next=R||null}}return o=new Nr(o,r),o._enter=a,o._exit=l,o}function $9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function H9(){return new Nr(this._exit||this._groups.map(N3),this._parents)}function V9(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function K9(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var c=n[l],d=r[l],h=c.length,p=a[l]=new Array(h),m,y=0;y<h;++y)(m=c[y]||d[y])&&(p[y]=m);for(;l<s;++l)a[l]=n[l];return new Nr(a,this._parents)}function Y9(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function q9(t){t||(t=G9);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(e)}return new Nr(s,this._parents).order()}function G9(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Z9(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Q9(){return Array.from(this)}function X9(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function J9(){let t=0;for(const e of this)++t;return t}function eW(){return!this.node()}function tW(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&t.call(a,a.__data__,i,s);return this}function nW(t){return function(){this.removeAttribute(t)}}function rW(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sW(t,e){return function(){this.setAttribute(t,e)}}function iW(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function oW(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function aW(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function lW(t,e){var n=c0(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?rW:nW:typeof e=="function"?n.local?aW:oW:n.local?iW:sW)(n,e))}function M3(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cW(t){return function(){this.style.removeProperty(t)}}function uW(t,e,n){return function(){this.style.setProperty(t,e,n)}}function dW(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function hW(t,e,n){return arguments.length>1?this.each((e==null?cW:typeof e=="function"?dW:uW)(t,e,n??"")):oc(this.node(),t)}function oc(t,e){return t.style.getPropertyValue(e)||M3(t).getComputedStyle(t,null).getPropertyValue(e)}function fW(t){return function(){delete this[t]}}function pW(t,e){return function(){this[t]=e}}function mW(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function gW(t,e){return arguments.length>1?this.each((e==null?fW:typeof e=="function"?mW:pW)(t,e)):this.node()[t]}function A3(t){return t.trim().split(/^|\s+/)}function Sv(t){return t.classList||new I3(t)}function I3(t){this._node=t,this._names=A3(t.getAttribute("class")||"")}I3.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function j3(t,e){for(var n=Sv(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function C3(t,e){for(var n=Sv(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function yW(t){return function(){j3(this,t)}}function xW(t){return function(){C3(this,t)}}function wW(t,e){return function(){(e.apply(this,arguments)?j3:C3)(this,t)}}function vW(t,e){var n=A3(t+"");if(arguments.length<2){for(var r=Sv(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?wW:e?yW:xW)(n,e))}function bW(){this.textContent=""}function SW(t){return function(){this.textContent=t}}function _W(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kW(t){return arguments.length?this.each(t==null?bW:(typeof t=="function"?_W:SW)(t)):this.node().textContent}function EW(){this.innerHTML=""}function NW(t){return function(){this.innerHTML=t}}function MW(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function AW(t){return arguments.length?this.each(t==null?EW:(typeof t=="function"?MW:NW)(t)):this.node().innerHTML}function IW(){this.nextSibling&&this.parentNode.appendChild(this)}function jW(){return this.each(IW)}function CW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TW(){return this.each(CW)}function RW(t){var e=typeof t=="function"?t:S3(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function LW(){return null}function PW(t,e){var n=typeof t=="function"?t:S3(t),r=e==null?LW:typeof e=="function"?e:bv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function BW(){var t=this.parentNode;t&&t.removeChild(this)}function DW(){return this.each(BW)}function OW(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zW(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function WW(t){return this.select(t?zW:OW)}function FW(t){return arguments.length?this.property("__data__",t):this.node().__data__}function UW(t){return function(e){t.call(this,e,this.__data__)}}function $W(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function HW(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function VW(t,e,n){return function(){var r=this.__on,s,i=UW(e);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function KW(t,e,n){var r=$W(t+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(s=0,d=a[l];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?VW:HW,s=0;s<i;++s)this.each(a(r[s],e,n));return this}function T3(t,e,n){var r=M3(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function YW(t,e){return function(){return T3(this,t,e)}}function qW(t,e){return function(){return T3(this,t,e.apply(this,arguments))}}function GW(t,e){return this.each((typeof e=="function"?qW:YW)(t,e))}function*ZW(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var R3=[null];function Nr(t,e){this._groups=t,this._parents=e}function Qd(){return new Nr([[document.documentElement]],R3)}function QW(){return this}Nr.prototype=Qd.prototype={constructor:Nr,select:_9,selectAll:M9,selectChild:C9,selectChildren:P9,filter:B9,data:U9,enter:D9,exit:H9,join:V9,merge:K9,selection:QW,order:Y9,sort:q9,call:Z9,nodes:Q9,node:X9,size:J9,empty:eW,each:tW,attr:lW,style:hW,property:gW,classed:vW,text:kW,html:AW,raise:jW,lower:TW,append:RW,insert:PW,remove:DW,clone:WW,datum:FW,on:KW,dispatch:GW,[Symbol.iterator]:ZW};function Dr(t){return typeof t=="string"?new Nr([[document.querySelector(t)]],[document.documentElement]):new Nr([[t]],R3)}function XW(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Xr(t,e){if(t=XW(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const JW={passive:!1},bd={capture:!0,passive:!1};function Cg(t){t.stopImmediatePropagation()}function Ll(t){t.preventDefault(),t.stopImmediatePropagation()}function L3(t){var e=t.document.documentElement,n=Dr(t).on("dragstart.drag",Ll,bd);"onselectstart"in e?n.on("selectstart.drag",Ll,bd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function P3(t,e){var n=t.document.documentElement,r=Dr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ll,bd),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ph=t=>()=>t;function t1(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}t1.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function eF(t){return!t.ctrlKey&&!t.button}function tF(){return this.parentNode}function nF(t,e){return e??{x:t.x,y:t.y}}function rF(){return navigator.maxTouchPoints||"ontouchstart"in this}function sF(){var t=eF,e=tF,n=nF,r=rF,s={},i=l0("start","drag","end"),o=0,a,l,c,d,h=0;function p(M){M.on("mousedown.drag",m).filter(r).on("touchstart.drag",b).on("touchmove.drag",g,JW).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(M,R){if(!(d||!t.call(this,M,R))){var W=_(this,e.call(this,M,R),M,R,"mouse");W&&(Dr(M.view).on("mousemove.drag",y,bd).on("mouseup.drag",w,bd),L3(M.view),Cg(M),c=!1,a=M.clientX,l=M.clientY,W("start",M))}}function y(M){if(Ll(M),!c){var R=M.clientX-a,W=M.clientY-l;c=R*R+W*W>h}s.mouse("drag",M)}function w(M){Dr(M.view).on("mousemove.drag mouseup.drag",null),P3(M.view,c),Ll(M),s.mouse("end",M)}function b(M,R){if(t.call(this,M,R)){var W=M.changedTouches,D=e.call(this,M,R),L=W.length,F,$;for(F=0;F<L;++F)($=_(this,D,M,R,W[F].identifier,W[F]))&&(Cg(M),$("start",M,W[F]))}}function g(M){var R=M.changedTouches,W=R.length,D,L;for(D=0;D<W;++D)(L=s[R[D].identifier])&&(Ll(M),L("drag",M,R[D]))}function S(M){var R=M.changedTouches,W=R.length,D,L;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),D=0;D<W;++D)(L=s[R[D].identifier])&&(Cg(M),L("end",M,R[D]))}function _(M,R,W,D,L,F){var $=i.copy(),H=Xr(F||W,R),K,A,f;if((f=n.call(M,new t1("beforestart",{sourceEvent:W,target:p,identifier:L,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:$}),D))!=null)return K=f.x-H[0]||0,A=f.y-H[1]||0,function x(k,I,C){var j=H,P;switch(k){case"start":s[L]=x,P=o++;break;case"end":delete s[L],--o;case"drag":H=Xr(C||I,R),P=o;break}$.call(k,M,new t1(k,{sourceEvent:I,subject:f,target:p,identifier:L,active:P,x:H[0]+K,y:H[1]+A,dx:H[0]-j[0],dy:H[1]-j[1],dispatch:$}),D)}}return p.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Ph(!!M),p):t},p.container=function(M){return arguments.length?(e=typeof M=="function"?M:Ph(M),p):e},p.subject=function(M){return arguments.length?(n=typeof M=="function"?M:Ph(M),p):n},p.touchable=function(M){return arguments.length?(r=typeof M=="function"?M:Ph(!!M),p):r},p.on=function(){var M=i.on.apply(i,arguments);return M===i?p:M},p.clickDistance=function(M){return arguments.length?(h=(M=+M)*M,p):Math.sqrt(h)},p}function _v(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function B3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xd(){}var Sd=.7,Jp=1/Sd,Pl="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iF=/^#([0-9a-f]{3,8})$/,oF=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),aF=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),lF=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${_d}\\)$`),cF=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${_d}\\)$`),uF=new RegExp(`^hsl\\(${_d},${Ps},${Ps}\\)$`),dF=new RegExp(`^hsla\\(${_d},${Ps},${Ps},${_d}\\)$`),kS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_v(Xd,kd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ES,formatHex:ES,formatHex8:hF,formatHsl:fF,formatRgb:NS,toString:NS});function ES(){return this.rgb().formatHex()}function hF(){return this.rgb().formatHex8()}function fF(){return D3(this).formatHsl()}function NS(){return this.rgb().formatRgb()}function kd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MS(e):n===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oF.exec(t))?new hr(e[1],e[2],e[3],1):(e=aF.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lF.exec(t))?Bh(e[1],e[2],e[3],e[4]):(e=cF.exec(t))?Bh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uF.exec(t))?jS(e[1],e[2]/100,e[3]/100,1):(e=dF.exec(t))?jS(e[1],e[2]/100,e[3]/100,e[4]):kS.hasOwnProperty(t)?MS(kS[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function MS(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function Bh(t,e,n,r){return r<=0&&(t=e=n=NaN),new hr(t,e,n,r)}function pF(t){return t instanceof Xd||(t=kd(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function n1(t,e,n,r){return arguments.length===1?pF(t):new hr(t,e,n,r??1)}function hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_v(hr,n1,B3(Xd,{brighter(t){return t=t==null?Jp:Math.pow(Jp,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(da(this.r),da(this.g),da(this.b),em(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AS,formatHex:AS,formatHex8:mF,formatRgb:IS,toString:IS}));function AS(){return`#${ra(this.r)}${ra(this.g)}${ra(this.b)}`}function mF(){return`#${ra(this.r)}${ra(this.g)}${ra(this.b)}${ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function IS(){const t=em(this.opacity);return`${t===1?"rgb(":"rgba("}${da(this.r)}, ${da(this.g)}, ${da(this.b)}${t===1?")":`, ${t})`}`}function em(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function da(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ra(t){return t=da(t),(t<16?"0":"")+t.toString(16)}function jS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,n,r)}function D3(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof Xd||(t=kd(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(e===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new es(o,a,l,t.opacity)}function gF(t,e,n,r){return arguments.length===1?D3(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_v(es,gF,B3(Xd,{brighter(t){return t=t==null?Jp:Math.pow(Jp,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new hr(Tg(t>=240?t-240:t+120,s,r),Tg(t,s,r),Tg(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new es(CS(this.h),Dh(this.s),Dh(this.l),em(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=em(this.opacity);return`${t===1?"hsl(":"hsla("}${CS(this.h)}, ${Dh(this.s)*100}%, ${Dh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CS(t){return t=(t||0)%360,t<0?t+360:t}function Dh(t){return Math.max(0,Math.min(1,t||0))}function Tg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const O3=t=>()=>t;function yF(t,e){return function(n){return t+n*e}}function xF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wF(t){return(t=+t)==1?z3:function(e,n){return n-e?xF(e,n,t):O3(isNaN(e)?n:e)}}function z3(t,e){var n=e-t;return n?yF(t,n):O3(isNaN(t)?e:t)}const TS=function t(e){var n=wF(e);function r(s,i){var o=n((s=n1(s)).r,(i=n1(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),c=z3(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return r.gamma=t,r}(1);function Wi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var r1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rg=new RegExp(r1.source,"g");function vF(t){return function(){return t}}function bF(t){return function(e){return t(e)+""}}function SF(t,e){var n=r1.lastIndex=Rg.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=r1.exec(t))&&(s=Rg.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Wi(r,s)})),n=Rg.lastIndex;return n<e.length&&(i=e.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?bF(l[0].x):vF(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)a[(h=l[d]).i]=h.x(c);return a.join("")})}var RS=180/Math.PI,s1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W3(t,e,n,r,s,i){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*RS,skewX:Math.atan(l)*RS,scaleX:o,scaleY:a}}var Oh;function _F(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?s1:W3(e.a,e.b,e.c,e.d,e.e,e.f)}function kF(t){return t==null||(Oh||(Oh=document.createElementNS("http://www.w3.org/2000/svg","g")),Oh.setAttribute("transform",t),!(t=Oh.transform.baseVal.consolidate()))?s1:(t=t.matrix,W3(t.a,t.b,t.c,t.d,t.e,t.f))}function F3(t,e,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,h,p,m,y){if(c!==h||d!==p){var w=m.push("translate(",null,e,null,n);y.push({i:w-4,x:Wi(c,h)},{i:w-2,x:Wi(d,p)})}else(h||p)&&m.push("translate("+h+e+p+n)}function o(c,d,h,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:h.push(s(h)+"rotate(",null,r)-2,x:Wi(c,d)})):d&&h.push(s(h)+"rotate("+d+r)}function a(c,d,h,p){c!==d?p.push({i:h.push(s(h)+"skewX(",null,r)-2,x:Wi(c,d)}):d&&h.push(s(h)+"skewX("+d+r)}function l(c,d,h,p,m,y){if(c!==h||d!==p){var w=m.push(s(m)+"scale(",null,",",null,")");y.push({i:w-4,x:Wi(c,h)},{i:w-2,x:Wi(d,p)})}else(h!==1||p!==1)&&m.push(s(m)+"scale("+h+","+p+")")}return function(c,d){var h=[],p=[];return c=t(c),d=t(d),i(c.translateX,c.translateY,d.translateX,d.translateY,h,p),o(c.rotate,d.rotate,h,p),a(c.skewX,d.skewX,h,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,p),c=d=null,function(m){for(var y=-1,w=p.length,b;++y<w;)h[(b=p[y]).i]=b.x(m);return h.join("")}}}var EF=F3(_F,"px, ","px)","deg)"),NF=F3(kF,", ",")",")"),MF=1e-12;function LS(t){return((t=Math.exp(t))+1/t)/2}function AF(t){return((t=Math.exp(t))-1/t)/2}function IF(t){return((t=Math.exp(2*t))-1)/(t+1)}const jF=function t(e,n,r){function s(i,o){var a=i[0],l=i[1],c=i[2],d=o[0],h=o[1],p=o[2],m=d-a,y=h-l,w=m*m+y*y,b,g;if(w<MF)g=Math.log(p/c)/e,b=function(D){return[a+D*m,l+D*y,c*Math.exp(e*D*g)]};else{var S=Math.sqrt(w),_=(p*p-c*c+r*w)/(2*c*n*S),M=(p*p-c*c-r*w)/(2*p*n*S),R=Math.log(Math.sqrt(_*_+1)-_),W=Math.log(Math.sqrt(M*M+1)-M);g=(W-R)/e,b=function(D){var L=D*g,F=LS(R),$=c/(n*S)*(F*IF(e*L+R)-AF(R));return[a+$*m,l+$*y,c*F/LS(e*L+R)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return t(o,a,l)},s}(Math.SQRT2,2,4);var ac=0,vu=0,Gc=0,U3=1e3,tm,bu,nm=0,Sa=0,u0=0,Ed=typeof performance=="object"&&performance.now?performance:Date,$3=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kv(){return Sa||($3(CF),Sa=Ed.now()+u0)}function CF(){Sa=0}function rm(){this._call=this._time=this._next=null}rm.prototype=H3.prototype={constructor:rm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?kv():+n)+(e==null?0:+e),!this._next&&bu!==this&&(bu?bu._next=this:tm=this,bu=this),this._call=t,this._time=n,i1()},stop:function(){this._call&&(this._call=null,this._time=1/0,i1())}};function H3(t,e,n){var r=new rm;return r.restart(t,e,n),r}function TF(){kv(),++ac;for(var t=tm,e;t;)(e=Sa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ac}function PS(){Sa=(nm=Ed.now())+u0,ac=vu=0;try{TF()}finally{ac=0,LF(),Sa=0}}function RF(){var t=Ed.now(),e=t-nm;e>U3&&(u0-=e,nm=t)}function LF(){for(var t,e=tm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tm=n);bu=t,i1(r)}function i1(t){if(!ac){vu&&(vu=clearTimeout(vu));var e=t-Sa;e>24?(t<1/0&&(vu=setTimeout(PS,t-Ed.now()-u0)),Gc&&(Gc=clearInterval(Gc))):(Gc||(nm=Ed.now(),Gc=setInterval(RF,U3)),ac=1,$3(PS))}}function BS(t,e,n){var r=new rm;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var PF=l0("start","end","cancel","interrupt"),BF=[],V3=0,DS=1,o1=2,Qf=3,OS=4,a1=5,Xf=6;function d0(t,e,n,r,s,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;DF(t,n,{name:e,index:r,group:s,on:PF,tween:BF,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:V3})}function Ev(t,e){var n=fs(t,e);if(n.state>V3)throw new Error("too late; already scheduled");return n}function $s(t,e){var n=fs(t,e);if(n.state>Qf)throw new Error("too late; already running");return n}function fs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function DF(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=H3(i,0,n.time);function i(c){n.state=DS,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,h,p,m;if(n.state!==DS)return l();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Qf)return BS(o);m.state===OS?(m.state=Xf,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[d]):+d<e&&(m.state=Xf,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[d])}if(BS(function(){n.state===Qf&&(n.state=OS,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=o1,n.on.call("start",t,t.__data__,n.index,n.group),n.state===o1){for(n.state=Qf,s=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(m=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=m);s.length=h+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=a1,1),h=-1,p=s.length;++h<p;)s[h].call(t,d);n.state===a1&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Xf,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Jf(t,e){var n=t.__transition,r,s,i=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}s=r.state>o1&&r.state<a1,r.state=Xf,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function OF(t){return this.each(function(){Jf(this,t)})}function zF(t,e){var n,r;return function(){var s=$s(this,t),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function WF(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=$s(this,t),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:e,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===e){s[l]=a;break}l===c&&s.push(a)}i.tween=s}}function FF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=fs(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===t)return o.value;return null}return this.each((e==null?zF:WF)(n,t,e))}function Nv(t,e,n){var r=t._id;return t.each(function(){var s=$s(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return fs(s,r).value[e]}}function K3(t,e){var n;return(typeof e=="number"?Wi:e instanceof kd?TS:(n=kd(e))?(e=n,TS):SF)(t,e)}function UF(t){return function(){this.removeAttribute(t)}}function $F(t){return function(){this.removeAttributeNS(t.space,t.local)}}function HF(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function VF(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function KF(t,e,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a)))}}function YF(t,e,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a)))}}function qF(t,e){var n=c0(t),r=n==="transform"?NF:K3;return this.attrTween(t,typeof e=="function"?(n.local?YF:KF)(n,r,Nv(this,"attr."+t,e)):e==null?(n.local?$F:UF)(n):(n.local?VF:HF)(n,r,e))}function GF(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ZF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function QF(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ZF(t,i)),n}return s._value=e,s}function XF(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&GF(t,i)),n}return s._value=e,s}function JF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=c0(t);return this.tween(n,(r.local?QF:XF)(r,e))}function eU(t,e){return function(){Ev(this,t).delay=+e.apply(this,arguments)}}function tU(t,e){return e=+e,function(){Ev(this,t).delay=e}}function nU(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eU:tU)(e,t)):fs(this.node(),e).delay}function rU(t,e){return function(){$s(this,t).duration=+e.apply(this,arguments)}}function sU(t,e){return e=+e,function(){$s(this,t).duration=e}}function iU(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rU:sU)(e,t)):fs(this.node(),e).duration}function oU(t,e){if(typeof e!="function")throw new Error;return function(){$s(this,t).ease=e}}function aU(t){var e=this._id;return arguments.length?this.each(oU(e,t)):fs(this.node(),e).ease}function lU(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;$s(this,t).ease=n}}function cU(t){if(typeof t!="function")throw new Error;return this.each(lU(this._id,t))}function uU(t){typeof t!="function"&&(t=k3(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&a.push(l);return new wi(r,this._parents,this._name,this._id)}function dU(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=e[a],c=n[a],d=l.length,h=o[a]=new Array(d),p,m=0;m<d;++m)(p=l[m]||c[m])&&(h[m]=p);for(;a<r;++a)o[a]=e[a];return new wi(o,this._parents,this._name,this._id)}function hU(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function fU(t,e,n){var r,s,i=hU(e)?Ev:$s;return function(){var o=i(this,t),a=o.on;a!==r&&(s=(r=a).copy()).on(e,n),o.on=s}}function pU(t,e){var n=this._id;return arguments.length<2?fs(this.node(),n).on.on(t):this.each(fU(n,t,e))}function mU(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function gU(){return this.on("end.remove",mU(this._id))}function yU(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bv(t));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,c=i[o]=new Array(l),d,h,p=0;p<l;++p)(d=a[p])&&(h=t.call(d,d.__data__,p,a))&&("__data__"in d&&(h.__data__=d.__data__),c[p]=h,d0(c[p],e,n,p,c,fs(d,n)));return new wi(i,this._parents,e,n)}function xU(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_3(t));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var p=t.call(d,d.__data__,h,l),m,y=fs(d,n),w=0,b=p.length;w<b;++w)(m=p[w])&&d0(m,e,n,w,p,y);i.push(p),o.push(d)}return new wi(i,o,e,n)}var wU=Qd.prototype.constructor;function vU(){return new wU(this._groups,this._parents)}function bU(t,e){var n,r,s;return function(){var i=oc(this,t),o=(this.style.removeProperty(t),oc(this,t));return i===o?null:i===n&&o===r?s:s=e(n=i,r=o)}}function Y3(t){return function(){this.style.removeProperty(t)}}function SU(t,e,n){var r,s=n+"",i;return function(){var o=oc(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}function _U(t,e,n){var r,s,i;return function(){var o=oc(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),oc(this,t))),o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a))}}function kU(t,e){var n,r,s,i="style."+e,o="end."+i,a;return function(){var l=$s(this,t),c=l.on,d=l.value[i]==null?a||(a=Y3(e)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),l.on=r}}function EU(t,e,n){var r=(t+="")=="transform"?EF:K3;return e==null?this.styleTween(t,bU(t,r)).on("end.style."+t,Y3(t)):typeof e=="function"?this.styleTween(t,_U(t,r,Nv(this,"style."+t,e))).each(kU(this._id,t)):this.styleTween(t,SU(t,r,e),n).on("end.style."+t,null)}function NU(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function MU(t,e,n){var r,s;function i(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&NU(t,o,n)),r}return i._value=e,i}function AU(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,MU(t,e,n??""))}function IU(t){return function(){this.textContent=t}}function jU(t){return function(){var e=t(this);this.textContent=e??""}}function CU(t){return this.tween("text",typeof t=="function"?jU(Nv(this,"text",t)):IU(t==null?"":t+""))}function TU(t){return function(e){this.textContent=t.call(this,e)}}function RU(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&TU(s)),e}return r._value=t,r}function LU(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,RU(t))}function PU(){for(var t=this._name,e=this._id,n=q3(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=fs(l,e);d0(l,t,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wi(r,this._parents,t,n)}function BU(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var c=$s(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),s===0&&i()})}var DU=0;function wi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function q3(){return++DU}var Ks=Qd.prototype;wi.prototype={constructor:wi,select:yU,selectAll:xU,selectChild:Ks.selectChild,selectChildren:Ks.selectChildren,filter:uU,merge:dU,selection:vU,transition:PU,call:Ks.call,nodes:Ks.nodes,node:Ks.node,size:Ks.size,empty:Ks.empty,each:Ks.each,on:pU,attr:qF,attrTween:JF,style:EU,styleTween:AU,text:CU,textTween:LU,remove:gU,tween:FF,delay:nU,duration:iU,ease:aU,easeVarying:cU,end:BU,[Symbol.iterator]:Ks[Symbol.iterator]};function OU(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zU={time:null,delay:0,duration:250,ease:OU};function WU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function FU(t){var e,n;t instanceof wi?(e=t._id,t=t._name):(e=q3(),(n=zU).time=kv(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&d0(l,t,e,c,o,n||WU(l,e));return new wi(r,this._parents,t,e)}Qd.prototype.interrupt=OF;Qd.prototype.transition=FU;const zh=t=>()=>t;function UU(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function di(t,e,n){this.k=t,this.x=e,this.y=n}di.prototype={constructor:di,scale:function(t){return t===1?this:new di(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new di(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fi=new di(1,0,0);di.prototype;function Lg(t){t.stopImmediatePropagation()}function Zc(t){t.preventDefault(),t.stopImmediatePropagation()}function $U(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function HU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function zS(){return this.__zoom||fi}function VU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function KU(){return navigator.maxTouchPoints||"ontouchstart"in this}function YU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function G3(){var t=$U,e=HU,n=YU,r=VU,s=KU,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=jF,c=l0("start","zoom","end"),d,h,p,m=500,y=150,w=0,b=10;function g(f){f.property("__zoom",zS).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",$).filter(s).on("touchstart.zoom",H).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(f,x,k,I){var C=f.selection?f.selection():f;C.property("__zoom",zS),f!==C?R(f,x,k,I):C.interrupt().each(function(){W(this,arguments).event(I).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},g.scaleBy=function(f,x,k,I){g.scaleTo(f,function(){var C=this.__zoom.k,j=typeof x=="function"?x.apply(this,arguments):x;return C*j},k,I)},g.scaleTo=function(f,x,k,I){g.transform(f,function(){var C=e.apply(this,arguments),j=this.__zoom,P=k==null?M(C):typeof k=="function"?k.apply(this,arguments):k,T=j.invert(P),v=typeof x=="function"?x.apply(this,arguments):x;return n(_(S(j,v),P,T),C,o)},k,I)},g.translateBy=function(f,x,k,I){g.transform(f,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),o)},null,I)},g.translateTo=function(f,x,k,I,C){g.transform(f,function(){var j=e.apply(this,arguments),P=this.__zoom,T=I==null?M(j):typeof I=="function"?I.apply(this,arguments):I;return n(fi.translate(T[0],T[1]).scale(P.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof k=="function"?-k.apply(this,arguments):-k),j,o)},I,C)};function S(f,x){return x=Math.max(i[0],Math.min(i[1],x)),x===f.k?f:new di(x,f.x,f.y)}function _(f,x,k){var I=x[0]-k[0]*f.k,C=x[1]-k[1]*f.k;return I===f.x&&C===f.y?f:new di(f.k,I,C)}function M(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function R(f,x,k,I){f.on("start.zoom",function(){W(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(I).end()}).tween("zoom",function(){var C=this,j=arguments,P=W(C,j).event(I),T=e.apply(C,j),v=k==null?M(T):typeof k=="function"?k.apply(C,j):k,B=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),Q=C.__zoom,Z=typeof x=="function"?x.apply(C,j):x,ne=l(Q.invert(v).concat(B/Q.k),Z.invert(v).concat(B/Z.k));return function(J){if(J===1)J=Z;else{var se=ne(J),re=B/se[2];J=new di(re,v[0]-se[0]*re,v[1]-se[1]*re)}P.zoom(null,J)}})}function W(f,x,k){return!k&&f.__zooming||new D(f,x)}function D(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,x),this.taps=0}D.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,x){return this.mouse&&f!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var x=Dr(this.that).datum();c.call(f,this.that,new UU(f,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),x)}};function L(f,...x){if(!t.apply(this,arguments))return;var k=W(this,x).event(f),I=this.__zoom,C=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),j=Xr(f);if(k.wheel)(k.mouse[0][0]!==j[0]||k.mouse[0][1]!==j[1])&&(k.mouse[1]=I.invert(k.mouse[0]=j)),clearTimeout(k.wheel);else{if(I.k===C)return;k.mouse=[j,I.invert(j)],Jf(this),k.start()}Zc(f),k.wheel=setTimeout(P,y),k.zoom("mouse",n(_(S(I,C),k.mouse[0],k.mouse[1]),k.extent,o));function P(){k.wheel=null,k.end()}}function F(f,...x){if(p||!t.apply(this,arguments))return;var k=f.currentTarget,I=W(this,x,!0).event(f),C=Dr(f.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",B,!0),j=Xr(f,k),P=f.clientX,T=f.clientY;L3(f.view),Lg(f),I.mouse=[j,this.__zoom.invert(j)],Jf(this),I.start();function v(Q){if(Zc(Q),!I.moved){var Z=Q.clientX-P,ne=Q.clientY-T;I.moved=Z*Z+ne*ne>w}I.event(Q).zoom("mouse",n(_(I.that.__zoom,I.mouse[0]=Xr(Q,k),I.mouse[1]),I.extent,o))}function B(Q){C.on("mousemove.zoom mouseup.zoom",null),P3(Q.view,I.moved),Zc(Q),I.event(Q).end()}}function $(f,...x){if(t.apply(this,arguments)){var k=this.__zoom,I=Xr(f.changedTouches?f.changedTouches[0]:f,this),C=k.invert(I),j=k.k*(f.shiftKey?.5:2),P=n(_(S(k,j),I,C),e.apply(this,x),o);Zc(f),a>0?Dr(this).transition().duration(a).call(R,P,I,f):Dr(this).call(g.transform,P,I,f)}}function H(f,...x){if(t.apply(this,arguments)){var k=f.touches,I=k.length,C=W(this,x,f.changedTouches.length===I).event(f),j,P,T,v;for(Lg(f),P=0;P<I;++P)T=k[P],v=Xr(T,this),v=[v,this.__zoom.invert(v),T.identifier],C.touch0?!C.touch1&&C.touch0[2]!==v[2]&&(C.touch1=v,C.taps=0):(C.touch0=v,j=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),j&&(C.taps<2&&(h=v[0],d=setTimeout(function(){d=null},m)),Jf(this),C.start())}}function K(f,...x){if(this.__zooming){var k=W(this,x).event(f),I=f.changedTouches,C=I.length,j,P,T,v;for(Zc(f),j=0;j<C;++j)P=I[j],T=Xr(P,this),k.touch0&&k.touch0[2]===P.identifier?k.touch0[0]=T:k.touch1&&k.touch1[2]===P.identifier&&(k.touch1[0]=T);if(P=k.that.__zoom,k.touch1){var B=k.touch0[0],Q=k.touch0[1],Z=k.touch1[0],ne=k.touch1[1],J=(J=Z[0]-B[0])*J+(J=Z[1]-B[1])*J,se=(se=ne[0]-Q[0])*se+(se=ne[1]-Q[1])*se;P=S(P,Math.sqrt(J/se)),T=[(B[0]+Z[0])/2,(B[1]+Z[1])/2],v=[(Q[0]+ne[0])/2,(Q[1]+ne[1])/2]}else if(k.touch0)T=k.touch0[0],v=k.touch0[1];else return;k.zoom("touch",n(_(P,T,v),k.extent,o))}}function A(f,...x){if(this.__zooming){var k=W(this,x).event(f),I=f.changedTouches,C=I.length,j,P;for(Lg(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),j=0;j<C;++j)P=I[j],k.touch0&&k.touch0[2]===P.identifier?delete k.touch0:k.touch1&&k.touch1[2]===P.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(P=Xr(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<b)){var T=Dr(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return g.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:zh(+f),g):r},g.filter=function(f){return arguments.length?(t=typeof f=="function"?f:zh(!!f),g):t},g.touchable=function(f){return arguments.length?(s=typeof f=="function"?f:zh(!!f),g):s},g.extent=function(f){return arguments.length?(e=typeof f=="function"?f:zh([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),g):e},g.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],g):[i[0],i[1]]},g.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(f){return arguments.length?(n=f,g):n},g.duration=function(f){return arguments.length?(a=+f,g):a},g.interpolate=function(f){return arguments.length?(l=f,g):l},g.on=function(){var f=c.on.apply(c,arguments);return f===c?g:f},g.clickDistance=function(f){return arguments.length?(w=(f=+f)*f,g):Math.sqrt(w)},g.tapDistance=function(f){return arguments.length?(b=+f,g):b},g}const h0=z.createContext(null),qU=h0.Provider,vi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Z3=vi.error001();function xt(t,e){const n=z.useContext(h0);if(n===null)throw new Error(Z3);return b3(n,t,e)}const pn=()=>{const t=z.useContext(h0);if(t===null)throw new Error(Z3);return z.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},GU=t=>t.userSelectionActive?"none":"all";function Mv({position:t,children:e,className:n,style:r,...s}){const i=xt(GU),o=`${t}`.split("-");return V.createElement("div",{className:Ln(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},e)}function ZU({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:V.createElement(Mv,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},V.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const QU=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d})=>{const h=z.useRef(null),[p,m]=z.useState({x:0,y:0,width:0,height:0}),y=Ln(["react-flow__edge-textwrapper",c]);return z.useEffect(()=>{if(h.current){const w=h.current.getBBox();m({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:V.createElement("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...d},s&&V.createElement("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),V.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l)};var XU=z.memo(QU);const Av=t=>({width:t.offsetWidth,height:t.offsetHeight}),lc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Iv=(t={x:0,y:0},e)=>({x:lc(t.x,e[0][0],e[1][0]),y:lc(t.y,e[0][1],e[1][1])}),WS=(t,e,n)=>t<e?lc(Math.abs(t-e),1,50)/50:t>n?-lc(Math.abs(t-n),1,50)/50:0,Q3=(t,e)=>{const n=WS(t.x,35,e.width-35)*20,r=WS(t.y,35,e.height-35)*20;return[n,r]},X3=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},J3=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Nd=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),eI=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),FS=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),JU=(t,e)=>eI(J3(Nd(t),Nd(e))),l1=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},e$=t=>zr(t.width)&&zr(t.height)&&zr(t.x)&&zr(t.y),zr=t=>!isNaN(t)&&isFinite(t),Xt=Symbol.for("internals"),tI=["Enter"," ","Escape"],t$=(t,e)=>{},n$=t=>"nativeEvent"in t;function c1(t){var s,i;const e=n$(t)?t.nativeEvent:t,n=((i=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:i[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const nI=t=>"clientX"in t,po=(t,e)=>{var i,o;const n=nI(t),r=n?t.clientX:(i=t.touches)==null?void 0:i[0].clientX,s=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},sm=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Jd=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m=20})=>V.createElement(V.Fragment,null,V.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),m&&V.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&zr(n)&&zr(r)?V.createElement(XU,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);Jd.displayName="BaseEdge";function Qc(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(i=>i.id===t);s&&n(r,{...s})}}function rI({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,i=n<t?n+s:n-s,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[i,a,s,o]}function sI({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=t*.125+s*.375+o*.375+n*.125,c=e*.125+i*.375+a*.375+r*.125,d=Math.abs(l-t),h=Math.abs(c-e);return[l,c,d,h]}var _a;(function(t){t.Strict="strict",t.Loose="loose"})(_a||(_a={}));var sa;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(sa||(sa={}));var Md;(function(t){t.Partial="partial",t.Full="full"})(Md||(Md={}));var Vi;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Vi||(Vi={}));var im;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(im||(im={}));var ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ke||(ke={}));function US({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===ke.Left||t===ke.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function iI({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:i=ke.Top}){const[o,a]=US({pos:n,x1:t,y1:e,x2:r,y2:s}),[l,c]=US({pos:i,x1:r,y1:s,x2:t,y2:e}),[d,h,p,m]=sI({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${s}`,d,h,p,m]}const jv=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:i=ke.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})=>{const[b,g,S]=iI({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return V.createElement(Jd,{path:b,labelX:g,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})});jv.displayName="SimpleBezierEdge";const $S={[ke.Left]:{x:-1,y:0},[ke.Right]:{x:1,y:0},[ke.Top]:{x:0,y:-1},[ke.Bottom]:{x:0,y:1}},r$=({source:t,sourcePosition:e=ke.Bottom,target:n})=>e===ke.Left||e===ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},HS=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function s$({source:t,sourcePosition:e=ke.Bottom,target:n,targetPosition:r=ke.Top,center:s,offset:i}){const o=$S[e],a=$S[r],l={x:t.x+o.x*i,y:t.y+o.y*i},c={x:n.x+a.x*i,y:n.y+a.y*i},d=r$({source:l,sourcePosition:e,target:c}),h=d.x!==0?"x":"y",p=d[h];let m=[],y,w;const b={x:0,y:0},g={x:0,y:0},[S,_,M,R]=rI({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*a[h]===-1){y=s.x??S,w=s.y??_;const D=[{x:y,y:l.y},{x:y,y:c.y}],L=[{x:l.x,y:w},{x:c.x,y:w}];o[h]===p?m=h==="x"?D:L:m=h==="x"?L:D}else{const D=[{x:l.x,y:c.y}],L=[{x:c.x,y:l.y}];if(h==="x"?m=o.x===p?L:D:m=o.y===p?D:L,e===r){const A=Math.abs(t[h]-n[h]);if(A<=i){const f=Math.min(i-1,i-A);o[h]===p?b[h]=(l[h]>t[h]?-1:1)*f:g[h]=(c[h]>n[h]?-1:1)*f}}if(e!==r){const A=h==="x"?"y":"x",f=o[h]===a[A],x=l[A]>c[A],k=l[A]<c[A];(o[h]===1&&(!f&&x||f&&k)||o[h]!==1&&(!f&&k||f&&x))&&(m=h==="x"?D:L)}const F={x:l.x+b.x,y:l.y+b.y},$={x:c.x+g.x,y:c.y+g.y},H=Math.max(Math.abs(F.x-m[0].x),Math.abs($.x-m[0].x)),K=Math.max(Math.abs(F.y-m[0].y),Math.abs($.y-m[0].y));H>=K?(y=(F.x+$.x)/2,w=m[0].y):(y=m[0].x,w=(F.y+$.y)/2)}return[[t,{x:l.x+b.x,y:l.y+b.y},...m,{x:c.x+g.x,y:c.y+g.y},n],y,w,M,R]}function i$(t,e,n,r){const s=Math.min(HS(t,e)/2,HS(e,n)/2,r),{x:i,y:o}=e;if(t.x===i&&i===n.x||t.y===o&&o===n.y)return`L${i} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function u1({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:i=ke.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[d,h,p,m,y]=s$({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:c});return[d.reduce((b,g,S)=>{let _="";return S>0&&S<d.length-1?_=i$(d[S-1],g,d[S+1],o):_=`${S===0?"M":"L"}${g.x} ${g.y}`,b+=_,b},""),h,p,m,y]}const f0=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,sourcePosition:h=ke.Bottom,targetPosition:p=ke.Top,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:b})=>{const[g,S,_]=u1({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return V.createElement(Jd,{path:g,labelX:S,labelY:_,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:y,interactionWidth:b})});f0.displayName="SmoothStepEdge";const Cv=z.memo(t=>{var e;return V.createElement(f0,{...t,pathOptions:z.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});Cv.displayName="StepEdge";function o$({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,i,o,a]=rI({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,i,o,a]}const Tv=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m})=>{const[y,w,b]=o$({sourceX:t,sourceY:e,targetX:n,targetY:r});return V.createElement(Jd,{path:y,labelX:w,labelY:b,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m})});Tv.displayName="StraightEdge";function Wh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function VS({pos:t,x1:e,y1:n,x2:r,y2:s,c:i}){switch(t){case ke.Left:return[e-Wh(e-r,i),n];case ke.Right:return[e+Wh(r-e,i),n];case ke.Top:return[e,n-Wh(n-s,i)];case ke.Bottom:return[e,n+Wh(s-n,i)]}}function oI({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:i=ke.Top,curvature:o=.25}){const[a,l]=VS({pos:n,x1:t,y1:e,x2:r,y2:s,c:o}),[c,d]=VS({pos:i,x1:r,y1:s,x2:t,y2:e,c:o}),[h,p,m,y]=sI({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${a},${l} ${c},${d} ${r},${s}`,h,p,m,y]}const om=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:i=ke.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:b})=>{const[g,S,_]=oI({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:w==null?void 0:w.curvature});return V.createElement(Jd,{path:g,labelX:S,labelY:_,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:b})});om.displayName="BezierEdge";const Rv=z.createContext(null),a$=Rv.Provider;Rv.Consumer;const l$=()=>z.useContext(Rv),c$=t=>"id"in t&&"source"in t&&"target"in t,u$=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,d1=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,d$=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),aI=(t,e)=>{if(!t.source||!t.target)return e;let n;return c$(t)?n={...t}:n={...t,id:u$(t)},d$(n,e)?e:e.concat(n)},h1=({x:t,y:e},[n,r,s],i,[o,a])=>{const l={x:(t-n)/s,y:(e-r)/s};return i?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},lI=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),ha=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},p0=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:i,y:o}=ha(s,e).positionAbsolute;return J3(r,Nd({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return eI(n)},cI=(t,e,[n,r,s]=[0,0,1],i=!1,o=!1,a=[0,0])=>{const l={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},c=[];return t.forEach(d=>{const{width:h,height:p,selectable:m=!0,hidden:y=!1}=d;if(o&&!m||y)return!1;const{positionAbsolute:w}=ha(d,a),b={x:w.x,y:w.y,width:h||0,height:p||0},g=l1(l,b),S=typeof h>"u"||typeof p>"u"||h===null||p===null,_=i&&g>0,M=(h||0)*(p||0);(S||_||g>=M||d.dragging)&&c.push(d)}),c},uI=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},dI=(t,e,n,r,s,i=.1)=>{const o=e/(t.width*(1+i)),a=n/(t.height*(1+i)),l=Math.min(o,a),c=lc(l,r,s),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,m=n/2-h*c;return{x:p,y:m,zoom:c}},Bo=(t,e=0)=>t.transition().duration(e);function KS(t,e,n,r){return(e[n]||[]).reduce((s,i)=>{var o,a;return`${t.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((a=t.positionAbsolute)==null?void 0:a.y)??0)+i.y+i.height/2}),s},[])}function h$(t,e,n,r,s,i){const{x:o,y:a}=po(t),c=e.elementsFromPoint(o,a).find(y=>y.classList.contains("react-flow__handle"));if(c){const y=c.getAttribute("data-nodeid");if(y){const w=Lv(void 0,c),b=c.getAttribute("data-handleid"),g=i({nodeId:y,id:b,type:w});if(g){const S=s.find(_=>_.nodeId===y&&_.type===w&&_.id===b);return{handle:{id:b,type:w,nodeId:y,x:(S==null?void 0:S.x)||n.x,y:(S==null?void 0:S.y)||n.y},validHandleResult:g}}}}let d=[],h=1/0;if(s.forEach(y=>{const w=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(w<=r){const b=i(y);w<=h&&(w<h?d=[{handle:y,validHandleResult:b}]:w===h&&d.push({handle:y,validHandleResult:b}),h=w)}}),!d.length)return{handle:null,validHandleResult:hI()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:w})=>m?y.type==="target":p?w.isValid:!0)||d[0]}const f$={source:null,target:null,sourceHandle:null,targetHandle:null},hI=()=>({handleDomNode:null,isValid:!1,connection:f$,endHandle:null});function fI(t,e,n,r,s,i,o){const a=s==="target",l=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),c={...hI(),handleDomNode:l};if(l){const d=Lv(void 0,l),h=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),w={source:a?h:n,sourceHandle:a?p:r,target:a?n:h,targetHandle:a?r:p};c.connection=w,m&&y&&(e===_a.Strict?a&&d==="source"||!a&&d==="target":h!==n||p!==r)&&(c.endHandle={nodeId:h,handleId:p,type:d},c.isValid=i(w))}return c}function p$({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,i)=>{if(i[Xt]){const{handleBounds:o}=i[Xt];let a=[],l=[];o&&(a=KS(i,o,"source",`${e}-${n}-${r}`),l=KS(i,o,"target",`${e}-${n}-${r}`)),s.push(...a,...l)}return s},[])}function Lv(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Pg(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function m$(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function pI({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const d=X3(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:m,connectionRadius:y,onConnectStart:w,panBy:b,getNodes:g,cancelConnection:S}=i();let _=0,M;const{x:R,y:W}=po(t),D=d==null?void 0:d.elementFromPoint(R,W),L=Lv(l,D),F=p==null?void 0:p.getBoundingClientRect();if(!F||!L)return;let $,H=po(t,F),K=!1,A=null,f=!1,x=null;const k=p$({nodes:g(),nodeId:n,handleId:e,handleType:L}),I=()=>{if(!m)return;const[P,T]=Q3(H,F);b({x:P,y:T}),_=requestAnimationFrame(I)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:L,connectionStartHandle:{nodeId:n,handleId:e,type:L},connectionEndHandle:null}),w==null||w(t,{nodeId:n,handleId:e,handleType:L});function C(P){const{transform:T}=i();H=po(P,F);const{handle:v,validHandleResult:B}=h$(P,d,h1(H,T,!1,[1,1]),y,k,Q=>fI(Q,h,n,e,s?"target":"source",a,d));if(M=v,K||(I(),K=!0),x=B.handleDomNode,A=B.connection,f=B.isValid,o({connectionPosition:M&&f?lI({x:M.x,y:M.y},T):H,connectionStatus:m$(!!M,f),connectionEndHandle:B.endHandle}),!M&&!f&&!x)return Pg($);A.source!==A.target&&x&&(Pg($),$=x,x.classList.add("connecting","react-flow__handle-connecting"),x.classList.toggle("valid",f),x.classList.toggle("react-flow__handle-valid",f))}function j(P){var T,v;(M||x)&&A&&f&&(r==null||r(A)),(v=(T=i()).onConnectEnd)==null||v.call(T,P),l&&(c==null||c(P)),Pg($),S(),cancelAnimationFrame(_),K=!1,f=!1,A=null,x=null,d.removeEventListener("mousemove",C),d.removeEventListener("mouseup",j),d.removeEventListener("touchmove",C),d.removeEventListener("touchend",j)}d.addEventListener("mousemove",C),d.addEventListener("mouseup",j),d.addEventListener("touchmove",C),d.addEventListener("touchend",j)}const YS=()=>!0,g$=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),y$=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n}},mI=z.forwardRef(({type:t="source",position:e=ke.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:h,...p},m)=>{var F,$;const y=o||null,w=t==="target",b=pn(),g=l$(),{connectOnClick:S,noPanClassName:_}=xt(g$,_n),{connecting:M,clickConnecting:R}=xt(y$(g,y,t),_n);g||($=(F=b.getState()).onError)==null||$.call(F,"010",vi.error010());const W=H=>{const{defaultEdgeOptions:K,onConnect:A,hasDefaultEdges:f}=b.getState(),x={...K,...H};if(f){const{edges:k,setEdges:I}=b.getState();I(aI(x,k))}A==null||A(x),a==null||a(x)},D=H=>{if(!g)return;const K=nI(H);s&&(K&&H.button===0||!K)&&pI({event:H,handleId:y,nodeId:g,onConnect:W,isTarget:w,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||YS}),K?d==null||d(H):h==null||h(H)},L=H=>{const{onClickConnectStart:K,onClickConnectEnd:A,connectionClickStartHandle:f,connectionMode:x,isValidConnection:k}=b.getState();if(!g||!f&&!s)return;if(!f){K==null||K(H,{nodeId:g,handleId:y,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:g,type:t,handleId:y}});return}const I=X3(H.target),C=n||k||YS,{connection:j,isValid:P}=fI({nodeId:g,id:y,type:t},x,f.nodeId,f.handleId||null,f.type,C,I);P&&W(j),A==null||A(H),b.setState({connectionClickStartHandle:null})};return V.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":e,"data-id":`${g}-${y}-${t}`,className:Ln(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,connecting:R,connectionindicator:r&&(s&&!M||i&&M)}]),onMouseDown:D,onTouchStart:D,onClick:S?L:void 0,ref:m,...p},l)});mI.displayName="Handle";var wo=z.memo(mI);const gI=({data:t,isConnectable:e,targetPosition:n=ke.Top,sourcePosition:r=ke.Bottom})=>V.createElement(V.Fragment,null,V.createElement(wo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,V.createElement(wo,{type:"source",position:r,isConnectable:e}));gI.displayName="DefaultNode";var f1=z.memo(gI);const yI=({data:t,isConnectable:e,sourcePosition:n=ke.Bottom})=>V.createElement(V.Fragment,null,t==null?void 0:t.label,V.createElement(wo,{type:"source",position:n,isConnectable:e}));yI.displayName="InputNode";var xI=z.memo(yI);const wI=({data:t,isConnectable:e,targetPosition:n=ke.Top})=>V.createElement(V.Fragment,null,V.createElement(wo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);wI.displayName="OutputNode";var vI=z.memo(wI);const Pv=()=>null;Pv.displayName="GroupNode";const x$=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Fh=t=>t.id;function w$(t,e){return _n(t.selectedNodes.map(Fh),e.selectedNodes.map(Fh))&&_n(t.selectedEdges.map(Fh),e.selectedEdges.map(Fh))}const bI=z.memo(({onSelectionChange:t})=>{const e=pn(),{selectedNodes:n,selectedEdges:r}=xt(x$,w$);return z.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(i=>i(s))},[n,r,t]),null});bI.displayName="SelectionListener";const v$=t=>!!t.onSelectionChange;function b$({onSelectionChange:t}){const e=xt(v$);return t||e?V.createElement(bI,{onSelectionChange:t}):null}const S$=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function $a(t,e){z.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function We(t,e,n){z.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const _$=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:w,maxZoom:b,nodeExtent:g,onNodesChange:S,onEdgesChange:_,elementsSelectable:M,connectionMode:R,snapGrid:W,snapToGrid:D,translateExtent:L,connectOnClick:F,defaultEdgeOptions:$,fitView:H,fitViewOptions:K,onNodesDelete:A,onEdgesDelete:f,onNodeDrag:x,onNodeDragStart:k,onNodeDragStop:I,onSelectionDrag:C,onSelectionDragStart:j,onSelectionDragStop:P,noPanClassName:T,nodeOrigin:v,rfId:B,autoPanOnConnect:Q,autoPanOnNodeDrag:Z,onError:ne,connectionRadius:J,isValidConnection:se,nodeDragThreshold:re})=>{const{setNodes:le,setEdges:ge,setDefaultNodesAndEdges:be,setMinZoom:Ve,setMaxZoom:Te,setTranslateExtent:Ce,setNodeExtent:ie,reset:fe}=xt(S$,_n),ae=pn();return z.useEffect(()=>{const dt=r==null?void 0:r.map(Pe=>({...Pe,...$}));return be(n,dt),()=>{fe()}},[]),We("defaultEdgeOptions",$,ae.setState),We("connectionMode",R,ae.setState),We("onConnect",s,ae.setState),We("onConnectStart",i,ae.setState),We("onConnectEnd",o,ae.setState),We("onClickConnectStart",a,ae.setState),We("onClickConnectEnd",l,ae.setState),We("nodesDraggable",c,ae.setState),We("nodesConnectable",d,ae.setState),We("nodesFocusable",h,ae.setState),We("edgesFocusable",p,ae.setState),We("edgesUpdatable",m,ae.setState),We("elementsSelectable",M,ae.setState),We("elevateNodesOnSelect",y,ae.setState),We("snapToGrid",D,ae.setState),We("snapGrid",W,ae.setState),We("onNodesChange",S,ae.setState),We("onEdgesChange",_,ae.setState),We("connectOnClick",F,ae.setState),We("fitViewOnInit",H,ae.setState),We("fitViewOnInitOptions",K,ae.setState),We("onNodesDelete",A,ae.setState),We("onEdgesDelete",f,ae.setState),We("onNodeDrag",x,ae.setState),We("onNodeDragStart",k,ae.setState),We("onNodeDragStop",I,ae.setState),We("onSelectionDrag",C,ae.setState),We("onSelectionDragStart",j,ae.setState),We("onSelectionDragStop",P,ae.setState),We("noPanClassName",T,ae.setState),We("nodeOrigin",v,ae.setState),We("rfId",B,ae.setState),We("autoPanOnConnect",Q,ae.setState),We("autoPanOnNodeDrag",Z,ae.setState),We("onError",ne,ae.setState),We("connectionRadius",J,ae.setState),We("isValidConnection",se,ae.setState),We("nodeDragThreshold",re,ae.setState),$a(t,le),$a(e,ge),$a(w,Ve),$a(b,Te),$a(L,Ce),$a(g,ie),null},qS={display:"none"},k$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},SI="react-flow__node-desc",_I="react-flow__edge-desc",E$="react-flow__aria-live",N$=t=>t.ariaLiveMessage;function M$({rfId:t}){const e=xt(N$);return V.createElement("div",{id:`${E$}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:k$},e)}function A$({rfId:t,disableKeyboardA11y:e}){return V.createElement(V.Fragment,null,V.createElement("div",{id:`${SI}-${t}`,style:qS},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),V.createElement("div",{id:`${_I}-${t}`,style:qS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&V.createElement(M$,{rfId:t}))}var Ad=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=z.useState(!1),s=z.useRef(!1),i=z.useRef(new Set([])),[o,a]=z.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=c.reduce((h,p)=>h.concat(...p),[]);return[c,d]}return[[],[]]},[t]);return z.useEffect(()=>{const l=typeof document<"u"?document:null,c=(e==null?void 0:e.target)||l;if(t!==null){const d=m=>{if(s.current=m.ctrlKey||m.metaKey||m.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&c1(m))return!1;const w=ZS(m.code,a);i.current.add(m[w]),GS(o,i.current,!1)&&(m.preventDefault(),r(!0))},h=m=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&c1(m))return!1;const w=ZS(m.code,a);GS(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[w]),m.key==="Meta"&&i.current.clear(),s.current=!1},p=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[t,r]),n};function GS(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function ZS(t,e){return e.includes(t)?"code":"key"}function kI(t,e,n,r){var a,l;const s=t.parentNode||t.parentId;if(!s)return n;const i=e.get(s),o=ha(i,r);return kI(i,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[Xt])==null?void 0:a.z)??0)>(n.z??0)?((l=i[Xt])==null?void 0:l.z)??0:n.z??0},r)}function EI(t,e,n){t.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:a,z:l}=kI(r,t,{...r.position,z:((i=r[Xt])==null?void 0:i.z)??0},e);r.positionAbsolute={x:o,y:a},r[Xt].z=l,n!=null&&n[r.id]&&(r[Xt].isParent=!0)}})}function Bg(t,e,n,r){const s=new Map,i={},o=r?1e3:0;return t.forEach(a=>{var m;const l=(zr(a.zIndex)?a.zIndex:0)+(a.selected?o:0),c=e.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},h=a.parentNode||a.parentId;h&&(i[h]=!0);const p=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(d,Xt,{enumerable:!1,value:{handleBounds:p||(m=c==null?void 0:c[Xt])==null?void 0:m.handleBounds,z:l}}),s.set(a.id,d)}),EI(s,n,i),s}function NI(t,e={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:h}=t(),p=e.initial&&!c&&d;if(a&&l&&(p||!e.initial)){const y=n().filter(b=>{var S;const g=e.includeHiddenNodes?b.width&&b.height:!b.hidden;return(S=e.nodes)!=null&&S.length?g&&e.nodes.some(_=>_.id===b.id):g}),w=y.every(b=>b.width&&b.height);if(y.length>0&&w){const b=p0(y,h),{x:g,y:S,zoom:_}=dI(b,r,s,e.minZoom??i,e.maxZoom??o,e.padding??.1),M=fi.translate(g,S).scale(_);return typeof e.duration=="number"&&e.duration>0?a.transform(Bo(l,e.duration),M):a.transform(l,M),!0}}return!1}function I$(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Xt]:r[Xt],selected:n.selected})}),new Map(e)}function j$(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Uh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();t!=null&&t.length&&(l&&r({nodeInternals:I$(t,s)}),o==null||o(t)),e!=null&&e.length&&(c&&r({edges:j$(e,i)}),a==null||a(e))}const Ha=()=>{},C$={zoomIn:Ha,zoomOut:Ha,zoomTo:Ha,getZoom:()=>1,setViewport:Ha,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ha,fitBounds:Ha,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},T$=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),R$=()=>{const t=pn(),{d3Zoom:e,d3Selection:n}=xt(T$,_n);return z.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Bo(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(Bo(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>e.scaleTo(Bo(n,i==null?void 0:i.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,i)=>{const[o,a,l]=t.getState().transform,c=fi.translate(s.x??o,s.y??a).scale(s.zoom??l);e.transform(Bo(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[s,i,o]=t.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>NI(t.getState,s),setCenter:(s,i,o)=>{const{width:a,height:l,maxZoom:c}=t.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,h=a/2-s*d,p=l/2-i*d,m=fi.translate(h,p).scale(d);e.transform(Bo(n,o==null?void 0:o.duration),m)},fitBounds:(s,i)=>{const{width:o,height:a,minZoom:l,maxZoom:c}=t.getState(),{x:d,y:h,zoom:p}=dI(s,o,a,l,c,(i==null?void 0:i.padding)??.1),m=fi.translate(d,h).scale(p);e.transform(Bo(n,i==null?void 0:i.duration),m)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:a}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),h1(s,i,o,a)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:a,domNode:l}=t.getState();if(!l)return s;const{x:c,y:d}=l.getBoundingClientRect(),h={x:s.x-c,y:s.y-d};return h1(h,i,o,a)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=t.getState();if(!o)return s;const{x:a,y:l}=o.getBoundingClientRect(),c=lI(s,i);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:C$,[e,n])};function Bv(){const t=R$(),e=pn(),n=z.useCallback(()=>e.getState().getNodes().map(w=>({...w})),[]),r=z.useCallback(w=>e.getState().nodeInternals.get(w),[]),s=z.useCallback(()=>{const{edges:w=[]}=e.getState();return w.map(b=>({...b}))},[]),i=z.useCallback(w=>{const{edges:b=[]}=e.getState();return b.find(g=>g.id===w)},[]),o=z.useCallback(w=>{const{getNodes:b,setNodes:g,hasDefaultNodes:S,onNodesChange:_}=e.getState(),M=b(),R=typeof w=="function"?w(M):w;if(S)g(R);else if(_){const W=R.length===0?M.map(D=>({type:"remove",id:D.id})):R.map(D=>({item:D,type:"reset"}));_(W)}},[]),a=z.useCallback(w=>{const{edges:b=[],setEdges:g,hasDefaultEdges:S,onEdgesChange:_}=e.getState(),M=typeof w=="function"?w(b):w;if(S)g(M);else if(_){const R=M.length===0?b.map(W=>({type:"remove",id:W.id})):M.map(W=>({item:W,type:"reset"}));_(R)}},[]),l=z.useCallback(w=>{const b=Array.isArray(w)?w:[w],{getNodes:g,setNodes:S,hasDefaultNodes:_,onNodesChange:M}=e.getState();if(_){const W=[...g(),...b];S(W)}else if(M){const R=b.map(W=>({item:W,type:"add"}));M(R)}},[]),c=z.useCallback(w=>{const b=Array.isArray(w)?w:[w],{edges:g=[],setEdges:S,hasDefaultEdges:_,onEdgesChange:M}=e.getState();if(_)S([...g,...b]);else if(M){const R=b.map(W=>({item:W,type:"add"}));M(R)}},[]),d=z.useCallback(()=>{const{getNodes:w,edges:b=[],transform:g}=e.getState(),[S,_,M]=g;return{nodes:w().map(R=>({...R})),edges:b.map(R=>({...R})),viewport:{x:S,y:_,zoom:M}}},[]),h=z.useCallback(({nodes:w,edges:b})=>{const{nodeInternals:g,getNodes:S,edges:_,hasDefaultNodes:M,hasDefaultEdges:R,onNodesDelete:W,onEdgesDelete:D,onNodesChange:L,onEdgesChange:F}=e.getState(),$=(w||[]).map(x=>x.id),H=(b||[]).map(x=>x.id),K=S().reduce((x,k)=>{const I=k.parentNode||k.parentId,C=!$.includes(k.id)&&I&&x.find(P=>P.id===I);return(typeof k.deletable=="boolean"?k.deletable:!0)&&($.includes(k.id)||C)&&x.push(k),x},[]),A=_.filter(x=>typeof x.deletable=="boolean"?x.deletable:!0),f=A.filter(x=>H.includes(x.id));if(K||f){const x=uI(K,A),k=[...f,...x],I=k.reduce((C,j)=>(C.includes(j.id)||C.push(j.id),C),[]);if((R||M)&&(R&&e.setState({edges:_.filter(C=>!I.includes(C.id))}),M&&(K.forEach(C=>{g.delete(C.id)}),e.setState({nodeInternals:new Map(g)}))),I.length>0&&(D==null||D(k),F&&F(I.map(C=>({id:C,type:"remove"})))),K.length>0&&(W==null||W(K),L)){const C=K.map(j=>({id:j.id,type:"remove"}));L(C)}}},[]),p=z.useCallback(w=>{const b=e$(w),g=b?null:e.getState().nodeInternals.get(w.id);return!b&&!g?[null,null,b]:[b?w:FS(g),g,b]},[]),m=z.useCallback((w,b=!0,g)=>{const[S,_,M]=p(w);return S?(g||e.getState().getNodes()).filter(R=>{if(!M&&(R.id===_.id||!R.positionAbsolute))return!1;const W=FS(R),D=l1(W,S);return b&&D>0||D>=S.width*S.height}):[]},[]),y=z.useCallback((w,b,g=!0)=>{const[S]=p(w);if(!S)return!1;const _=l1(S,b);return g&&_>0||_>=S.width*S.height},[]);return z.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:a,addNodes:l,addEdges:c,toObject:d,deleteElements:h,getIntersectingNodes:m,isNodeIntersecting:y}),[t,n,r,s,i,o,a,l,c,d,h,m,y])}const L$={actInsideInputWithModifier:!1};var P$=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=pn(),{deleteElements:r}=Bv(),s=Ad(t,L$),i=Ad(e);z.useEffect(()=>{if(s){const{edges:o,getNodes:a}=n.getState(),l=a().filter(d=>d.selected),c=o.filter(d=>d.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[s]),z.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function B$(t){const e=pn();z.useEffect(()=>{let n;const r=()=>{var i,o;if(!t.current)return;const s=Av(t.current);(s.height===0||s.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",vi.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const Dv={position:"absolute",width:"100%",height:"100%",top:0,left:0},D$=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,$h=t=>({x:t.x,y:t.y,zoom:t.k}),Va=(t,e)=>t.target.closest(`.${e}`),QS=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),XS=t=>{const e=t.ctrlKey&&sm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},O$=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),z$=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=sa.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:p,translateExtent:m,minZoom:y,maxZoom:w,zoomActivationKeyCode:b,preventScrolling:g=!0,children:S,noWheelClassName:_,noPanClassName:M})=>{const R=z.useRef(),W=pn(),D=z.useRef(!1),L=z.useRef(!1),F=z.useRef(null),$=z.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:K,d3ZoomHandler:A,userSelectionActive:f}=xt(O$,_n),x=Ad(b),k=z.useRef(0),I=z.useRef(!1),C=z.useRef();return B$(F),z.useEffect(()=>{if(F.current){const j=F.current.getBoundingClientRect(),P=G3().scaleExtent([y,w]).translateExtent(m),T=Dr(F.current).call(P),v=fi.translate(p.x,p.y).scale(lc(p.zoom,y,w)),B=[[0,0],[j.width,j.height]],Q=P.constrain()(v,B,m);P.transform(T,Q),P.wheelDelta(XS),W.setState({d3Zoom:P,d3Selection:T,d3ZoomHandler:T.on("wheel.zoom"),transform:[Q.x,Q.y,Q.k],domNode:F.current.closest(".react-flow")})}},[]),z.useEffect(()=>{K&&H&&(o&&!x&&!f?K.on("wheel.zoom",j=>{if(Va(j,_))return!1;j.preventDefault(),j.stopImmediatePropagation();const P=K.property("__zoom").k||1;if(j.ctrlKey&&i){const se=Xr(j),re=XS(j),le=P*Math.pow(2,re);H.scaleTo(K,le,se,j);return}const T=j.deltaMode===1?20:1;let v=l===sa.Vertical?0:j.deltaX*T,B=l===sa.Horizontal?0:j.deltaY*T;!sm()&&j.shiftKey&&l!==sa.Vertical&&(v=j.deltaY*T,B=0),H.translateBy(K,-(v/P)*a,-(B/P)*a,{internal:!0});const Q=$h(K.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:ne,onViewportChangeEnd:J}=W.getState();clearTimeout(C.current),I.current||(I.current=!0,e==null||e(j,Q),Z==null||Z(Q)),I.current&&(t==null||t(j,Q),ne==null||ne(Q),C.current=setTimeout(()=>{n==null||n(j,Q),J==null||J(Q),I.current=!1},150))},{passive:!1}):typeof A<"u"&&K.on("wheel.zoom",function(j,P){if(!g&&j.type==="wheel"&&!j.ctrlKey||Va(j,_))return null;j.preventDefault(),A.call(this,j,P)},{passive:!1}))},[f,o,l,K,H,A,x,i,g,_,e,t,n]),z.useEffect(()=>{H&&H.on("start",j=>{var v,B;if(!j.sourceEvent||j.sourceEvent.internal)return null;k.current=(v=j.sourceEvent)==null?void 0:v.button;const{onViewportChangeStart:P}=W.getState(),T=$h(j.transform);D.current=!0,$.current=T,((B=j.sourceEvent)==null?void 0:B.type)==="mousedown"&&W.setState({paneDragging:!0}),P==null||P(T),e==null||e(j.sourceEvent,T)})},[H,e]),z.useEffect(()=>{H&&(f&&!D.current?H.on("zoom",null):f||H.on("zoom",j=>{var T;const{onViewportChange:P}=W.getState();if(W.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),L.current=!!(r&&QS(h,k.current??0)),(t||P)&&!((T=j.sourceEvent)!=null&&T.internal)){const v=$h(j.transform);P==null||P(v),t==null||t(j.sourceEvent,v)}}))},[f,H,t,h,r]),z.useEffect(()=>{H&&H.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=W.getState();if(D.current=!1,W.setState({paneDragging:!1}),r&&QS(h,k.current??0)&&!L.current&&r(j.sourceEvent),L.current=!1,(n||P)&&D$($.current,j.transform)){const T=$h(j.transform);$.current=T,clearTimeout(R.current),R.current=setTimeout(()=>{P==null||P(T),n==null||n(j.sourceEvent,T)},o?150:0)}})},[H,o,h,n,r]),z.useEffect(()=>{H&&H.filter(j=>{const P=x||s,T=i&&j.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&j.button===1&&j.type==="mousedown"&&(Va(j,"react-flow__node")||Va(j,"react-flow__edge")))return!0;if(!h&&!P&&!o&&!c&&!i||f||!c&&j.type==="dblclick"||Va(j,_)&&j.type==="wheel"||Va(j,M)&&(j.type!=="wheel"||o&&j.type==="wheel"&&!x)||!i&&j.ctrlKey&&j.type==="wheel"||!P&&!o&&!T&&j.type==="wheel"||!h&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(h)&&!h.includes(j.button)&&j.type==="mousedown")return!1;const v=Array.isArray(h)&&h.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&v})},[f,H,s,i,o,c,h,d,x]),V.createElement("div",{className:"react-flow__renderer",ref:F,style:Dv},S)},W$=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function F$(){const{userSelectionActive:t,userSelectionRect:e}=xt(W$,_n);return t&&e?V.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function JS(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(s>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),e.position.x<0){const o=Math.abs(e.position.x);r.position.x=r.position.x-o,r.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);r.position.y=r.position.y-o,r.style.height+=o,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function MI(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const i=t.filter(a=>a.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const a of i)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&JS(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&JS(r,o);break}case"remove":return r}return r.push(o),r},n)}function AI(t,e){return MI(t,e)}function U$(t,e){return MI(t,e)}const Fi=(t,e)=>({id:t,type:"select",selected:e});function vl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Fi(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Fi(r.id,!1))),n},[])}const Dg=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},$$=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),II=z.memo(({isSelecting:t,selectionMode:e=Md.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:d,children:h})=>{const p=z.useRef(null),m=pn(),y=z.useRef(0),w=z.useRef(0),b=z.useRef(),{userSelectionActive:g,elementsSelectable:S,dragging:_}=xt($$,_n),M=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,w.current=0},R=A=>{i==null||i(A),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},W=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}o==null||o(A)},D=a?A=>a(A):void 0,L=A=>{const{resetSelectedElements:f,domNode:x}=m.getState();if(b.current=x==null?void 0:x.getBoundingClientRect(),!S||!t||A.button!==0||A.target!==p.current||!b.current)return;const{x:k,y:I}=po(A,b.current);f(),m.setState({userSelectionRect:{width:0,height:0,startX:k,startY:I,x:k,y:I}}),r==null||r(A)},F=A=>{const{userSelectionRect:f,nodeInternals:x,edges:k,transform:I,onNodesChange:C,onEdgesChange:j,nodeOrigin:P,getNodes:T}=m.getState();if(!t||!b.current||!f)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const v=po(A,b.current),B=f.startX??0,Q=f.startY??0,Z={...f,x:v.x<B?v.x:B,y:v.y<Q?v.y:Q,width:Math.abs(v.x-B),height:Math.abs(v.y-Q)},ne=T(),J=cI(x,Z,I,e===Md.Partial,!0,P),se=uI(J,k).map(le=>le.id),re=J.map(le=>le.id);if(y.current!==re.length){y.current=re.length;const le=vl(ne,re);le.length&&(C==null||C(le))}if(w.current!==se.length){w.current=se.length;const le=vl(k,se);le.length&&(j==null||j(le))}m.setState({userSelectionRect:Z})},$=A=>{if(A.button!==0)return;const{userSelectionRect:f}=m.getState();!g&&f&&A.target===p.current&&(R==null||R(A)),m.setState({nodesSelectionActive:y.current>0}),M(),s==null||s(A)},H=A=>{g&&(m.setState({nodesSelectionActive:y.current>0}),s==null||s(A)),M()},K=S&&(t||g);return V.createElement("div",{className:Ln(["react-flow__pane",{dragging:_,selection:t}]),onClick:K?void 0:Dg(R,p),onContextMenu:Dg(W,p),onWheel:Dg(D,p),onMouseEnter:K?void 0:l,onMouseDown:K?L:void 0,onMouseMove:K?F:c,onMouseUp:K?$:void 0,onMouseLeave:K?H:d,ref:p,style:Dv},h,V.createElement(F$,null))});II.displayName="Pane";function jI(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:jI(r,e):!1}function e_(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function H$(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!jI(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function V$(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function CI(t,e,n,r,s=[0,0],i){const o=V$(t,t.extent||r);let a=o;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:p,y:m}=ha(h,s).positionAbsolute;a=h&&zr(p)&&zr(m)&&zr(h.width)&&zr(h.height)?[[p+t.width*s[0],m+t.height*s[1]],[p+h.width-t.width+t.width*s[0],m+h.height-t.height+t.height*s[1]]]:a}else i==null||i("005",vi.error005()),a=o;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:p,y:m}=ha(h,s).positionAbsolute;a=[[t.extent[0][0]+p,t.extent[0][1]+m],[t.extent[1][0]+p,t.extent[1][1]+m]]}let c={x:0,y:0};if(l){const h=n.get(l);c=ha(h,s).positionAbsolute}const d=a&&a!=="parent"?Iv(e,a):e;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function Og({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const t_=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const i=Array.from(s),o=e.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return i.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-a.x)/n,y:(c.top-o.top-a.y)/n,...Av(l)}})};function Xc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function p1({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",vi.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([t])}function K$(){const t=pn();return z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:i?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function zg(t){return(e,n,r)=>t==null?void 0:t(e,r)}function TI({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const a=pn(),[l,c]=z.useState(!1),d=z.useRef([]),h=z.useRef({x:null,y:null}),p=z.useRef(0),m=z.useRef(null),y=z.useRef({x:0,y:0}),w=z.useRef(null),b=z.useRef(!1),g=z.useRef(!1),S=z.useRef(!1),_=K$();return z.useEffect(()=>{if(t!=null&&t.current){const M=Dr(t.current),R=({x:L,y:F})=>{const{nodeInternals:$,onNodeDrag:H,onSelectionDrag:K,updateNodePositions:A,nodeExtent:f,snapGrid:x,snapToGrid:k,nodeOrigin:I,onError:C}=a.getState();h.current={x:L,y:F};let j=!1,P={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&f){const v=p0(d.current,I);P=Nd(v)}if(d.current=d.current.map(v=>{const B={x:L-v.distance.x,y:F-v.distance.y};k&&(B.x=x[0]*Math.round(B.x/x[0]),B.y=x[1]*Math.round(B.y/x[1]));const Q=[[f[0][0],f[0][1]],[f[1][0],f[1][1]]];d.current.length>1&&f&&!v.extent&&(Q[0][0]=v.positionAbsolute.x-P.x+f[0][0],Q[1][0]=v.positionAbsolute.x+(v.width??0)-P.x2+f[1][0],Q[0][1]=v.positionAbsolute.y-P.y+f[0][1],Q[1][1]=v.positionAbsolute.y+(v.height??0)-P.y2+f[1][1]);const Z=CI(v,B,$,Q,I,C);return j=j||v.position.x!==Z.position.x||v.position.y!==Z.position.y,v.position=Z.position,v.positionAbsolute=Z.positionAbsolute,v}),!j)return;A(d.current,!0,!0),c(!0);const T=s?H:zg(K);if(T&&w.current){const[v,B]=Og({nodeId:s,dragItems:d.current,nodeInternals:$});T(w.current,v,B)}},W=()=>{if(!m.current)return;const[L,F]=Q3(y.current,m.current);if(L!==0||F!==0){const{transform:$,panBy:H}=a.getState();h.current.x=(h.current.x??0)-L/$[2],h.current.y=(h.current.y??0)-F/$[2],H({x:L,y:F})&&R(h.current)}p.current=requestAnimationFrame(W)},D=L=>{var I;const{nodeInternals:F,multiSelectionActive:$,nodesDraggable:H,unselectNodesAndEdges:K,onNodeDragStart:A,onSelectionDragStart:f}=a.getState();g.current=!0;const x=s?A:zg(f);(!o||!i)&&!$&&s&&((I=F.get(s))!=null&&I.selected||K()),s&&i&&o&&p1({id:s,store:a,nodeRef:t});const k=_(L);if(h.current=k,d.current=H$(F,H,k,s),x&&d.current){const[C,j]=Og({nodeId:s,dragItems:d.current,nodeInternals:F});x(L.sourceEvent,C,j)}};if(e)M.on(".drag",null);else{const L=sF().on("start",F=>{const{domNode:$,nodeDragThreshold:H}=a.getState();H===0&&D(F),S.current=!1;const K=_(F);h.current=K,m.current=($==null?void 0:$.getBoundingClientRect())||null,y.current=po(F.sourceEvent,m.current)}).on("drag",F=>{var A,f;const $=_(F),{autoPanOnNodeDrag:H,nodeDragThreshold:K}=a.getState();if(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1&&(S.current=!0),!S.current){if(!b.current&&g.current&&H&&(b.current=!0,W()),!g.current){const x=$.xSnapped-(((A=h==null?void 0:h.current)==null?void 0:A.x)??0),k=$.ySnapped-(((f=h==null?void 0:h.current)==null?void 0:f.y)??0);Math.sqrt(x*x+k*k)>K&&D(F)}(h.current.x!==$.xSnapped||h.current.y!==$.ySnapped)&&d.current&&g.current&&(w.current=F.sourceEvent,y.current=po(F.sourceEvent,m.current),R($))}}).on("end",F=>{if(!(!g.current||S.current)&&(c(!1),b.current=!1,g.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:$,nodeInternals:H,onNodeDragStop:K,onSelectionDragStop:A}=a.getState(),f=s?K:zg(A);if($(d.current,!1,!1),f){const[x,k]=Og({nodeId:s,dragItems:d.current,nodeInternals:H});f(F.sourceEvent,x,k)}}}).filter(F=>{const $=F.target;return!F.button&&(!n||!e_($,`.${n}`,t))&&(!r||e_($,r,t))});return M.call(L),()=>{M.on(".drag",null)}}}},[t,e,n,r,i,a,s,o,_]),l}function RI(){const t=pn();return z.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:d}=t.getState(),h=o().filter(S=>S.selected&&(S.draggable||d&&typeof S.draggable>"u")),p=a?l[0]:5,m=a?l[1]:5,y=n.isShiftPressed?4:1,w=n.x*p*y,b=n.y*m*y,g=h.map(S=>{if(S.positionAbsolute){const _={x:S.positionAbsolute.x+w,y:S.positionAbsolute.y+b};a&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:M,position:R}=CI(S,_,r,s,void 0,c);S.position=R,S.positionAbsolute=M}return S});i(g,!0,!1)},[])}const Bl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Jc=t=>{const e=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:m,onContextMenu:y,onDoubleClick:w,style:b,className:g,isDraggable:S,isSelectable:_,isConnectable:M,isFocusable:R,selectNodesOnDrag:W,sourcePosition:D,targetPosition:L,hidden:F,resizeObserver:$,dragHandle:H,zIndex:K,isParent:A,noDragClassName:f,noPanClassName:x,initialized:k,disableKeyboardA11y:I,ariaLabel:C,rfId:j,hasHandleBounds:P})=>{const T=pn(),v=z.useRef(null),B=z.useRef(null),Q=z.useRef(D),Z=z.useRef(L),ne=z.useRef(r),J=_||S||d||h||p||m,se=RI(),re=Xc(n,T.getState,h),le=Xc(n,T.getState,p),ge=Xc(n,T.getState,m),be=Xc(n,T.getState,y),Ve=Xc(n,T.getState,w),Te=fe=>{const{nodeDragThreshold:ae}=T.getState();if(_&&(!W||!S||ae>0)&&p1({id:n,store:T,nodeRef:v}),d){const dt=T.getState().nodeInternals.get(n);dt&&d(fe,{...dt})}},Ce=fe=>{if(!c1(fe)&&!I)if(tI.includes(fe.key)&&_){const ae=fe.key==="Escape";p1({id:n,store:T,unselect:ae,nodeRef:v})}else S&&c&&Object.prototype.hasOwnProperty.call(Bl,fe.key)&&(T.setState({ariaLiveMessage:`Moved selected node ${fe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),se({x:Bl[fe.key].x,y:Bl[fe.key].y,isShiftPressed:fe.shiftKey}))};z.useEffect(()=>()=>{B.current&&($==null||$.unobserve(B.current),B.current=null)},[]),z.useEffect(()=>{if(v.current&&!F){const fe=v.current;(!k||!P||B.current!==fe)&&(B.current&&($==null||$.unobserve(B.current)),$==null||$.observe(fe),B.current=fe)}},[F,k,P]),z.useEffect(()=>{const fe=ne.current!==r,ae=Q.current!==D,dt=Z.current!==L;v.current&&(fe||ae||dt)&&(fe&&(ne.current=r),ae&&(Q.current=D),dt&&(Z.current=L),T.getState().updateNodeDimensions([{id:n,nodeElement:v.current,forceUpdate:!0}]))},[n,r,D,L]);const ie=TI({nodeRef:v,disabled:F||!S,noDragClassName:f,handleSelector:H,nodeId:n,isSelectable:_,selectNodesOnDrag:W});return F?null:V.createElement("div",{className:Ln(["react-flow__node",`react-flow__node-${r}`,{[x]:S},g,{selected:c,selectable:_,parent:A,dragging:ie}]),ref:v,style:{zIndex:K,transform:`translate(${a}px,${l}px)`,pointerEvents:J?"all":"none",visibility:k?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:le,onMouseLeave:ge,onContextMenu:be,onClick:Te,onDoubleClick:Ve,onKeyDown:R?Ce:void 0,tabIndex:R?0:void 0,role:R?"button":void 0,"aria-describedby":I?void 0:`${SI}-${j}`,"aria-label":C},V.createElement(a$,{value:n},V.createElement(t,{id:n,data:s,type:r,xPos:i,yPos:o,selected:c,isConnectable:M,sourcePosition:D,targetPosition:L,dragging:ie,dragHandle:H,zIndex:K})))};return e.displayName="NodeWrapper",z.memo(e)};const Y$=t=>{const e=t.getNodes().filter(n=>n.selected);return{...p0(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function q$({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=pn(),{width:s,height:i,x:o,y:a,transformString:l,userSelectionActive:c}=xt(Y$,_n),d=RI(),h=z.useRef(null);if(z.useEffect(()=>{var y;n||(y=h.current)==null||y.focus({preventScroll:!0})},[n]),TI({nodeRef:h}),c||!s||!i)return null;const p=t?y=>{const w=r.getState().getNodes().filter(b=>b.selected);t(y,w)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(Bl,y.key)&&d({x:Bl[y.key].x,y:Bl[y.key].y,isShiftPressed:y.shiftKey})};return V.createElement("div",{className:Ln(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},V.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:i,top:a,left:o}}))}var G$=z.memo(q$);const Z$=t=>t.nodesSelectionActive,LI=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:b,panActivationKeyCode:g,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:R,panOnScroll:W,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:F,panOnDrag:$,defaultViewport:H,translateExtent:K,minZoom:A,maxZoom:f,preventScrolling:x,onSelectionContextMenu:k,noWheelClassName:I,noPanClassName:C,disableKeyboardA11y:j})=>{const P=xt(Z$),T=Ad(h),v=Ad(g),B=v||$,Q=v||W,Z=T||p&&B!==!0;return P$({deleteKeyCode:a,multiSelectionKeyCode:b}),V.createElement(z$,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:R,panOnScroll:Q,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:F,panOnDrag:!T&&B,defaultViewport:H,translateExtent:K,minZoom:A,maxZoom:f,zoomActivationKeyCode:S,preventScrolling:x,noWheelClassName:I,noPanClassName:C},V.createElement(II,{onSelectionStart:y,onSelectionEnd:w,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:B,isSelecting:!!Z,selectionMode:m},t,P&&V.createElement(G$,{onSelectionContextMenu:k,noPanClassName:C,disableKeyboardA11y:j})))};LI.displayName="FlowRenderer";var Q$=z.memo(LI);function X$(t){return xt(z.useCallback(n=>t?cI(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function J$(t){const e={input:Jc(t.input||xI),default:Jc(t.default||f1),output:Jc(t.output||vI),group:Jc(t.group||Pv)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Jc(t[i]||f1),s),n);return{...e,...r}}const eH=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},tH=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),PI=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=xt(tH,_n),a=X$(t.onlyRenderVisibleElements),l=z.useRef(),c=z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const p=h.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(p)});return l.current=d,d},[]);return z.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),V.createElement("div",{className:"react-flow__nodes",style:Dv},a.map(d=>{var R,W,D;let h=d.type||"default";t.nodeTypes[h]||(o==null||o("003",vi.error003(h)),h="default");const p=t.nodeTypes[h]||t.nodeTypes.default,m=!!(d.draggable||e&&typeof d.draggable>"u"),y=!!(d.selectable||s&&typeof d.selectable>"u"),w=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),g=t.nodeExtent?Iv(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,S=(g==null?void 0:g.x)??0,_=(g==null?void 0:g.y)??0,M=eH({x:S,y:_,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return V.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||ke.Bottom,targetPosition:d.targetPosition||ke.Top,hidden:d.hidden,xPos:S,yPos:_,xPosOrigin:M.x,yPosOrigin:M.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:b,resizeObserver:c,dragHandle:d.dragHandle,zIndex:((R=d[Xt])==null?void 0:R.z)??0,isParent:!!((W=d[Xt])!=null&&W.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((D=d[Xt])!=null&&D.handleBounds)})}))};PI.displayName="NodeRenderer";var nH=z.memo(PI);const rH=(t,e,n)=>n===ke.Left?t-e:n===ke.Right?t+e:t,sH=(t,e,n)=>n===ke.Top?t-e:n===ke.Bottom?t+e:t,n_="react-flow__edgeupdater",r_=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a})=>V.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ln([n_,`${n_}-${a}`]),cx:rH(e,r,t),cy:sH(n,r,t),r,stroke:"transparent",fill:"transparent"}),iH=()=>!0;var Ka=t=>{const e=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:a,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,style:b,source:g,target:S,sourceX:_,sourceY:M,targetX:R,targetY:W,sourcePosition:D,targetPosition:L,elementsSelectable:F,hidden:$,sourceHandleId:H,targetHandleId:K,onContextMenu:A,onMouseEnter:f,onMouseMove:x,onMouseLeave:k,reconnectRadius:I,onReconnect:C,onReconnectStart:j,onReconnectEnd:P,markerEnd:T,markerStart:v,rfId:B,ariaLabel:Q,isFocusable:Z,isReconnectable:ne,pathOptions:J,interactionWidth:se,disableKeyboardA11y:re})=>{const le=z.useRef(null),[ge,be]=z.useState(!1),[Ve,Te]=z.useState(!1),Ce=pn(),ie=z.useMemo(()=>`url('#${d1(v,B)}')`,[v,B]),fe=z.useMemo(()=>`url('#${d1(T,B)}')`,[T,B]);if($)return null;const ae=Y=>{var He;const{edges:G,addSelectedEdges:te,unselectNodesAndEdges:Re,multiSelectionActive:je}=Ce.getState(),Ee=G.find(Ne=>Ne.id===n);Ee&&(F&&(Ce.setState({nodesSelectionActive:!1}),Ee.selected&&je?(Re({nodes:[],edges:[Ee]}),(He=le.current)==null||He.blur()):te([n])),o&&o(Y,Ee))},dt=Qc(n,Ce.getState,a),Pe=Qc(n,Ce.getState,A),Ke=Qc(n,Ce.getState,f),_t=Qc(n,Ce.getState,x),Be=Qc(n,Ce.getState,k),$e=(Y,G)=>{if(Y.button!==0)return;const{edges:te,isValidConnection:Re}=Ce.getState(),je=G?S:g,Ee=(G?K:H)||null,He=G?"target":"source",Ne=Re||iH,kt=G,Ei=te.find(ps=>ps.id===n);Te(!0),j==null||j(Y,Ei,He);const Et=ps=>{Te(!1),P==null||P(ps,Ei,He)};pI({event:Y,handleId:Ee,nodeId:je,onConnect:ps=>C==null?void 0:C(Ei,ps),isTarget:kt,getState:Ce.getState,setState:Ce.setState,isValidConnection:Ne,edgeUpdaterType:He,onReconnectEnd:Et})},qe=Y=>$e(Y,!0),st=Y=>$e(Y,!1),O=()=>be(!0),E=()=>be(!1),N=!F&&!o,U=Y=>{var G;if(!re&&tI.includes(Y.key)&&F){const{unselectNodesAndEdges:te,addSelectedEdges:Re,edges:je}=Ce.getState();Y.key==="Escape"?((G=le.current)==null||G.blur(),te({edges:[je.find(He=>He.id===n)]})):Re([n])}};return V.createElement("g",{className:Ln(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:l,animated:c,inactive:N,updating:ge}]),onClick:ae,onDoubleClick:dt,onContextMenu:Pe,onMouseEnter:Ke,onMouseMove:_t,onMouseLeave:Be,onKeyDown:Z?U:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Q===null?void 0:Q||`Edge from ${g} to ${S}`,"aria-describedby":Z?`${_I}-${B}`:void 0,ref:le},!Ve&&V.createElement(t,{id:n,source:g,target:S,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,data:i,style:b,sourceX:_,sourceY:M,targetX:R,targetY:W,sourcePosition:D,targetPosition:L,sourceHandleId:H,targetHandleId:K,markerStart:ie,markerEnd:fe,pathOptions:J,interactionWidth:se}),ne&&V.createElement(V.Fragment,null,(ne==="source"||ne===!0)&&V.createElement(r_,{position:D,centerX:_,centerY:M,radius:I,onMouseDown:qe,onMouseEnter:O,onMouseOut:E,type:"source"}),(ne==="target"||ne===!0)&&V.createElement(r_,{position:L,centerX:R,centerY:W,radius:I,onMouseDown:st,onMouseEnter:O,onMouseOut:E,type:"target"})))};return e.displayName="EdgeWrapper",z.memo(e)};function oH(t){const e={default:Ka(t.default||om),straight:Ka(t.bezier||Tv),step:Ka(t.step||Cv),smoothstep:Ka(t.step||f0),simplebezier:Ka(t.simplebezier||jv)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Ka(t[i]||om),s),n);return{...e,...r}}function s_(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,i=(n==null?void 0:n.width)||e.width,o=(n==null?void 0:n.height)||e.height;switch(t){case ke.Top:return{x:r+i/2,y:s};case ke.Right:return{x:r+i,y:s+o/2};case ke.Bottom:return{x:r+i/2,y:s+o};case ke.Left:return{x:r,y:s+o/2}}}function i_(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const aH=(t,e,n,r,s,i)=>{const o=s_(n,t,e),a=s_(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function lH({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:a,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=Nd({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),h=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),p=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(h*p)>0}function o_(t){var r,s,i,o,a;const e=((r=t==null?void 0:t[Xt])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const cH=[{level:0,isMaxLevel:!0,edges:[]}];function uH(t,e,n=!1){let r=-1;const s=t.reduce((o,a)=>{var d,h;const l=zr(a.zIndex);let c=l?a.zIndex:0;if(n){const p=e.get(a.target),m=e.get(a.source),y=a.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),w=Math.max(((d=m==null?void 0:m[Xt])==null?void 0:d.z)||0,((h=p==null?void 0:p[Xt])==null?void 0:h.z)||0,1e3);c=(l?a.zIndex:0)+(y?w:0)}return o[c]?o[c].push(a):o[c]=[a],r=c>r?c:r,o},{}),i=Object.entries(s).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return i.length===0?cH:i}function dH(t,e,n){const r=xt(z.useCallback(s=>t?s.edges.filter(i=>{const o=e.get(i.source),a=e.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&lH({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return uH(r,e,n)}const hH=({color:t="none",strokeWidth:e=1})=>V.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),fH=({color:t="none",strokeWidth:e=1})=>V.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),a_={[im.Arrow]:hH,[im.ArrowClosed]:fH};function pH(t){const e=pn();return z.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(a_,t)?a_[t]:((i=(s=e.getState()).onError)==null||i.call(s,"009",vi.error009(t)),null)},[t])}const mH=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=pH(e);return l?V.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},V.createElement(l,{color:n,strokeWidth:o})):null},gH=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=d1(o,e);r.includes(a)||(s.push({id:a,color:o.color||t,...o}),r.push(a))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},BI=({defaultColor:t,rfId:e})=>{const n=xt(z.useCallback(gH({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return V.createElement("defs",null,n.map(r=>V.createElement(mH,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};BI.displayName="MarkerDefinitions";var yH=z.memo(BI);const xH=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),DI=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,children:b,disableKeyboardA11y:g})=>{const{edgesFocusable:S,edgesUpdatable:_,elementsSelectable:M,width:R,height:W,connectionMode:D,nodeInternals:L,onError:F}=xt(xH,_n),$=dH(e,L,n);return R?V.createElement(V.Fragment,null,$.map(({level:H,edges:K,isMaxLevel:A})=>V.createElement("svg",{key:H,style:{zIndex:H},width:R,height:W,className:"react-flow__edges react-flow__container"},A&&V.createElement(yH,{defaultColor:t,rfId:r}),V.createElement("g",null,K.map(f=>{const[x,k,I]=o_(L.get(f.source)),[C,j,P]=o_(L.get(f.target));if(!I||!P)return null;let T=f.type||"default";s[T]||(F==null||F("011",vi.error011(T)),T="default");const v=s[T]||s.default,B=D===_a.Strict?j.target:(j.target??[]).concat(j.source??[]),Q=i_(k.source,f.sourceHandle),Z=i_(B,f.targetHandle),ne=(Q==null?void 0:Q.position)||ke.Bottom,J=(Z==null?void 0:Z.position)||ke.Top,se=!!(f.focusable||S&&typeof f.focusable>"u"),re=f.reconnectable||f.updatable,le=typeof p<"u"&&(re||_&&typeof re>"u");if(!Q||!Z)return F==null||F("008",vi.error008(Q,f)),null;const{sourceX:ge,sourceY:be,targetX:Ve,targetY:Te}=aH(x,Q,ne,C,Z,J);return V.createElement(v,{key:f.id,id:f.id,className:Ln([f.className,i]),type:T,data:f.data,selected:!!f.selected,animated:!!f.animated,hidden:!!f.hidden,label:f.label,labelStyle:f.labelStyle,labelShowBg:f.labelShowBg,labelBgStyle:f.labelBgStyle,labelBgPadding:f.labelBgPadding,labelBgBorderRadius:f.labelBgBorderRadius,style:f.style,source:f.source,target:f.target,sourceHandleId:f.sourceHandle,targetHandleId:f.targetHandle,markerEnd:f.markerEnd,markerStart:f.markerStart,sourceX:ge,sourceY:be,targetX:Ve,targetY:Te,sourcePosition:ne,targetPosition:J,elementsSelectable:M,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,rfId:r,ariaLabel:f.ariaLabel,isFocusable:se,isReconnectable:le,pathOptions:"pathOptions"in f?f.pathOptions:void 0,interactionWidth:f.interactionWidth,disableKeyboardA11y:g})})))),b):null};DI.displayName="EdgeRenderer";var wH=z.memo(DI);const vH=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function bH({children:t}){const e=xt(vH);return V.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function SH(t){const e=Bv(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const _H={[ke.Left]:ke.Right,[ke.Right]:ke.Left,[ke.Top]:ke.Bottom,[ke.Bottom]:ke.Top},OI=({nodeId:t,handleType:e,style:n,type:r=Vi.Bezier,CustomComponent:s,connectionStatus:i})=>{var W,D,L;const{fromNode:o,handleId:a,toX:l,toY:c,connectionMode:d}=xt(z.useCallback(F=>({fromNode:F.nodeInternals.get(t),handleId:F.connectionHandleId,toX:(F.connectionPosition.x-F.transform[0])/F.transform[2],toY:(F.connectionPosition.y-F.transform[1])/F.transform[2],connectionMode:F.connectionMode}),[t]),_n),h=(W=o==null?void 0:o[Xt])==null?void 0:W.handleBounds;let p=h==null?void 0:h[e];if(d===_a.Loose&&(p=p||(h==null?void 0:h[e==="source"?"target":"source"])),!o||!p)return null;const m=a?p.find(F=>F.id===a):p[0],y=m?m.x+m.width/2:(o.width??0)/2,w=m?m.y+m.height/2:o.height??0,b=(((D=o.positionAbsolute)==null?void 0:D.x)??0)+y,g=(((L=o.positionAbsolute)==null?void 0:L.y)??0)+w,S=m==null?void 0:m.position,_=S?_H[S]:null;if(!S||!_)return null;if(s)return V.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:b,fromY:g,toX:l,toY:c,fromPosition:S,toPosition:_,connectionStatus:i});let M="";const R={sourceX:b,sourceY:g,sourcePosition:S,targetX:l,targetY:c,targetPosition:_};return r===Vi.Bezier?[M]=oI(R):r===Vi.Step?[M]=u1({...R,borderRadius:0}):r===Vi.SmoothStep?[M]=u1(R):r===Vi.SimpleBezier?[M]=iI(R):M=`M${b},${g} ${l},${c}`,V.createElement("path",{d:M,fill:"none",className:"react-flow__connection-path",style:n})};OI.displayName="ConnectionLine";const kH=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function EH({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:a,height:l,connectionStatus:c}=xt(kH,_n);return!(s&&i&&a&&o)?null:V.createElement("svg",{style:t,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},V.createElement("g",{className:Ln(["react-flow__connection",c])},V.createElement(OI,{nodeId:s,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function l_(t,e){return z.useRef(null),pn(),z.useMemo(()=>e(t),[t])}const zI=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:w,onSelectionEnd:b,connectionLineType:g,connectionLineStyle:S,connectionLineComponent:_,connectionLineContainerStyle:M,selectionKeyCode:R,selectionOnDrag:W,selectionMode:D,multiSelectionKeyCode:L,panActivationKeyCode:F,zoomActivationKeyCode:$,deleteKeyCode:H,onlyRenderVisibleElements:K,elementsSelectable:A,selectNodesOnDrag:f,defaultViewport:x,translateExtent:k,minZoom:I,maxZoom:C,preventScrolling:j,defaultMarkerColor:P,zoomOnScroll:T,zoomOnPinch:v,panOnScroll:B,panOnScrollSpeed:Q,panOnScrollMode:Z,zoomOnDoubleClick:ne,panOnDrag:J,onPaneClick:se,onPaneMouseEnter:re,onPaneMouseMove:le,onPaneMouseLeave:ge,onPaneScroll:be,onPaneContextMenu:Ve,onEdgeContextMenu:Te,onEdgeMouseEnter:Ce,onEdgeMouseMove:ie,onEdgeMouseLeave:fe,onReconnect:ae,onReconnectStart:dt,onReconnectEnd:Pe,reconnectRadius:Ke,noDragClassName:_t,noWheelClassName:Be,noPanClassName:$e,elevateEdgesOnSelect:qe,disableKeyboardA11y:st,nodeOrigin:O,nodeExtent:E,rfId:N})=>{const U=l_(t,J$),Y=l_(e,oH);return SH(i),V.createElement(Q$,{onPaneClick:se,onPaneMouseEnter:re,onPaneMouseMove:le,onPaneMouseLeave:ge,onPaneContextMenu:Ve,onPaneScroll:be,deleteKeyCode:H,selectionKeyCode:R,selectionOnDrag:W,selectionMode:D,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:L,panActivationKeyCode:F,zoomActivationKeyCode:$,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:T,zoomOnPinch:v,zoomOnDoubleClick:ne,panOnScroll:B,panOnScrollSpeed:Q,panOnScrollMode:Z,panOnDrag:J,defaultViewport:x,translateExtent:k,minZoom:I,maxZoom:C,onSelectionContextMenu:y,preventScrolling:j,noDragClassName:_t,noWheelClassName:Be,noPanClassName:$e,disableKeyboardA11y:st},V.createElement(bH,null,V.createElement(wH,{edgeTypes:Y,onEdgeClick:a,onEdgeDoubleClick:c,onlyRenderVisibleElements:K,onEdgeContextMenu:Te,onEdgeMouseEnter:Ce,onEdgeMouseMove:ie,onEdgeMouseLeave:fe,onReconnect:ae,onReconnectStart:dt,onReconnectEnd:Pe,reconnectRadius:Ke,defaultMarkerColor:P,noPanClassName:$e,elevateEdgesOnSelect:!!qe,disableKeyboardA11y:st,rfId:N},V.createElement(EH,{style:S,type:g,component:_,containerStyle:M})),V.createElement("div",{className:"react-flow__edgelabel-renderer"}),V.createElement(nH,{nodeTypes:U,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:f,onlyRenderVisibleElements:K,noPanClassName:$e,noDragClassName:_t,disableKeyboardA11y:st,nodeOrigin:O,nodeExtent:E,rfId:N})))};zI.displayName="GraphView";var NH=z.memo(zI);const m1=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ti={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:m1,nodeExtent:m1,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_a.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:t$,isValidConnection:void 0},MH=()=>g9((t,e)=>({...Ti,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=e();t({nodeInternals:Bg(n,r,s,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Bg(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=e(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(h.transform),m=n.reduce((w,b)=>{const g=s.get(b.id);if(g!=null&&g.hidden)s.set(g.id,{...g,[Xt]:{...g[Xt],handleBounds:void 0}});else if(g){const S=Av(b.nodeElement);!!(S.width&&S.height&&(g.width!==S.width||g.height!==S.height||b.forceUpdate))&&(s.set(g.id,{...g,[Xt]:{...g[Xt],handleBounds:{source:t_(".source",b.nodeElement,p,c),target:t_(".target",b.nodeElement,p,c)}},...S}),w.push({id:g.id,type:"dimensions",dimensions:S}))}return w},[]);EI(s,c);const y=o||i&&!o&&NI(e,{initial:!0,...a});t({nodeInternals:new Map(s),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=e(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:s};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(i){const c=AI(n,a()),d=Bg(c,s,o,l);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let o,a=null;r?o=n.map(l=>Fi(l,!0)):(o=vl(i(),n),a=vl(s,[])),Uh({changedNodes:o,changedEdges:a,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let o,a=null;r?o=n.map(l=>Fi(l,!0)):(o=vl(s,n),a=vl(i(),[])),Uh({changedNodes:a,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=e(),o=n||i(),a=r||s,l=o.map(d=>(d.selected=!1,Fi(d.id,!1))),c=a.map(d=>Fi(d.id,!1));Uh({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(a=>a.selected).map(a=>Fi(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Fi(a.id,!1));Uh({changedNodes:i,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=Iv(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:a,translateExtent:l}=e();if(!o||!a||!n.x&&!n.y)return!1;const c=fi.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],h=o==null?void 0:o.constrain()(c,d,l);return o.transform(a,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:Ti.connectionNodeId,connectionHandleId:Ti.connectionHandleId,connectionHandleType:Ti.connectionHandleType,connectionStatus:Ti.connectionStatus,connectionStartHandle:Ti.connectionStartHandle,connectionEndHandle:Ti.connectionEndHandle}),reset:()=>t({...Ti})}),Object.is),WI=({children:t})=>{const e=z.useRef(null);return e.current||(e.current=MH()),V.createElement(qU,{value:e.current},t)};WI.displayName="ReactFlowProvider";const FI=({children:t})=>z.useContext(h0)?V.createElement(V.Fragment,null,t):V.createElement(WI,null,t);FI.displayName="ReactFlowWrapper";const AH={input:xI,default:f1,output:vI,group:Pv},IH={default:om,straight:Tv,step:Cv,smoothstep:f0,simplebezier:jv},jH=[0,0],CH=[15,15],TH={x:0,y:0,zoom:1},RH={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},UI=z.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=AH,edgeTypes:o=IH,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:g,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:M,onNodeContextMenu:R,onNodeDoubleClick:W,onNodeDragStart:D,onNodeDrag:L,onNodeDragStop:F,onNodesDelete:$,onEdgesDelete:H,onSelectionChange:K,onSelectionDragStart:A,onSelectionDrag:f,onSelectionDragStop:x,onSelectionContextMenu:k,onSelectionStart:I,onSelectionEnd:C,connectionMode:j=_a.Strict,connectionLineType:P=Vi.Bezier,connectionLineStyle:T,connectionLineComponent:v,connectionLineContainerStyle:B,deleteKeyCode:Q="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:ne=!1,selectionMode:J=Md.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:re=sm()?"Meta":"Control",zoomActivationKeyCode:le=sm()?"Meta":"Control",snapToGrid:ge=!1,snapGrid:be=CH,onlyRenderVisibleElements:Ve=!1,selectNodesOnDrag:Te=!0,nodesDraggable:Ce,nodesConnectable:ie,nodesFocusable:fe,nodeOrigin:ae=jH,edgesFocusable:dt,edgesUpdatable:Pe,elementsSelectable:Ke,defaultViewport:_t=TH,minZoom:Be=.5,maxZoom:$e=2,translateExtent:qe=m1,preventScrolling:st=!0,nodeExtent:O,defaultMarkerColor:E="#b1b1b7",zoomOnScroll:N=!0,zoomOnPinch:U=!0,panOnScroll:Y=!1,panOnScrollSpeed:G=.5,panOnScrollMode:te=sa.Free,zoomOnDoubleClick:Re=!0,panOnDrag:je=!0,onPaneClick:Ee,onPaneMouseEnter:He,onPaneMouseMove:Ne,onPaneMouseLeave:kt,onPaneScroll:Ei,onPaneContextMenu:Et,children:Mt,onEdgeContextMenu:ps,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Dt,onEdgeMouseMove:th,onEdgeMouseLeave:Ot,onEdgeUpdate:zt,onEdgeUpdateStart:nh,onEdgeUpdateEnd:Wt,onReconnect:Ft,onReconnectStart:rh,onReconnectEnd:Ut,reconnectRadius:$t=10,edgeUpdaterRadius:sh=10,onNodesChange:Ht,onEdgesChange:Vt,noDragClassName:ih="nodrag",noWheelClassName:Kt="nowheel",noPanClassName:At="nopan",fitView:oh=!1,fitViewOptions:Yt,connectOnClick:qt=!0,attributionPosition:kc,proOptions:Ec,defaultEdgeOptions:Nc,elevateNodesOnSelect:Mc=!0,elevateEdgesOnSelect:Ac=!1,disableKeyboardA11y:Pa=!1,autoPanOnConnect:Ic=!0,autoPanOnNodeDrag:jc=!0,connectionRadius:Cc=20,isValidConnection:Tc,onError:Rc,style:Lc,id:Ba,nodeDragThreshold:Pc,...Bc},Dc)=>{const Mo=Ba||"1";return V.createElement("div",{...Bc,style:{...Lc,...RH},ref:Dc,className:Ln(["react-flow",s]),"data-testid":"rf__wrapper",id:Ba},V.createElement(FI,null,V.createElement(NH,{onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:M,onNodeContextMenu:R,onNodeDoubleClick:W,nodeTypes:i,edgeTypes:o,connectionLineType:P,connectionLineStyle:T,connectionLineComponent:v,connectionLineContainerStyle:B,selectionKeyCode:Z,selectionOnDrag:ne,selectionMode:J,deleteKeyCode:Q,multiSelectionKeyCode:re,panActivationKeyCode:se,zoomActivationKeyCode:le,onlyRenderVisibleElements:Ve,selectNodesOnDrag:Te,defaultViewport:_t,translateExtent:qe,minZoom:Be,maxZoom:$e,preventScrolling:st,zoomOnScroll:N,zoomOnPinch:U,zoomOnDoubleClick:Re,panOnScroll:Y,panOnScrollSpeed:G,panOnScrollMode:te,panOnDrag:je,onPaneClick:Ee,onPaneMouseEnter:He,onPaneMouseMove:Ne,onPaneMouseLeave:kt,onPaneScroll:Ei,onPaneContextMenu:Et,onSelectionContextMenu:k,onSelectionStart:I,onSelectionEnd:C,onEdgeContextMenu:ps,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Dt,onEdgeMouseMove:th,onEdgeMouseLeave:Ot,onReconnect:Ft??zt,onReconnectStart:rh??nh,onReconnectEnd:Ut??Wt,reconnectRadius:$t??sh,defaultMarkerColor:E,noDragClassName:ih,noWheelClassName:Kt,noPanClassName:At,elevateEdgesOnSelect:Ac,rfId:Mo,disableKeyboardA11y:Pa,nodeOrigin:ae,nodeExtent:O}),V.createElement(_$,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:g,nodesDraggable:Ce,nodesConnectable:ie,nodesFocusable:fe,edgesFocusable:dt,edgesUpdatable:Pe,elementsSelectable:Ke,elevateNodesOnSelect:Mc,minZoom:Be,maxZoom:$e,nodeExtent:O,onNodesChange:Ht,onEdgesChange:Vt,snapToGrid:ge,snapGrid:be,connectionMode:j,translateExtent:qe,connectOnClick:qt,defaultEdgeOptions:Nc,fitView:oh,fitViewOptions:Yt,onNodesDelete:$,onEdgesDelete:H,onNodeDragStart:D,onNodeDrag:L,onNodeDragStop:F,onSelectionDrag:f,onSelectionDragStart:A,onSelectionDragStop:x,noPanClassName:At,nodeOrigin:ae,rfId:Mo,autoPanOnConnect:Ic,autoPanOnNodeDrag:jc,onError:Rc,connectionRadius:Cc,isValidConnection:Tc,nodeDragThreshold:Pc}),V.createElement(b$,{onSelectionChange:K}),Mt,V.createElement(ZU,{proOptions:Ec,position:kc}),V.createElement(A$,{rfId:Mo,disableKeyboardA11y:Pa})))});UI.displayName="ReactFlow";function $I(t){return e=>{const[n,r]=z.useState(e),s=z.useCallback(i=>r(o=>t(i,o)),[]);return[n,r,s]}}const LH=$I(AI),PH=$I(U$),HI=({id:t,x:e,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:h,onClick:p,selected:m})=>{const{background:y,backgroundColor:w}=i||{},b=o||y||w;return V.createElement("rect",{className:Ln(["react-flow__minimap-node",{selected:m},c]),x:e,y:n,rx:d,ry:d,width:r,height:s,fill:b,stroke:a,strokeWidth:l,shapeRendering:h,onClick:p?g=>p(g,t):void 0})};HI.displayName="MiniMapNode";var BH=z.memo(HI);const DH=t=>t.nodeOrigin,OH=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Wg=t=>t instanceof Function?t:()=>t;function zH({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=BH,onClick:o}){const a=xt(OH,_n),l=xt(DH),c=Wg(e),d=Wg(t),h=Wg(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return V.createElement(V.Fragment,null,a.map(m=>{const{x:y,y:w}=ha(m,l).positionAbsolute;return V.createElement(i,{key:m.id,x:y,y:w,width:m.width,height:m.height,style:m.style,selected:m.selected,className:h(m),color:c(m),borderRadius:r,strokeColor:d(m),strokeWidth:s,shapeRendering:p,onClick:o,id:m.id})}))}var WH=z.memo(zH);const FH=200,UH=150,$H=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?JU(p0(e,t.nodeOrigin),n):n,rfId:t.rfId}},HH="react-flow__minimap-desc";function VI({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:w=!1,ariaLabel:b="React Flow mini map",inversePan:g=!1,zoomStep:S=10,offsetScale:_=5}){const M=pn(),R=z.useRef(null),{boundingRect:W,viewBB:D,rfId:L}=xt($H,_n),F=(t==null?void 0:t.width)??FH,$=(t==null?void 0:t.height)??UH,H=W.width/F,K=W.height/$,A=Math.max(H,K),f=A*F,x=A*$,k=_*A,I=W.x-(f-W.width)/2-k,C=W.y-(x-W.height)/2-k,j=f+k*2,P=x+k*2,T=`${HH}-${L}`,v=z.useRef(0);v.current=A,z.useEffect(()=>{if(R.current){const Z=Dr(R.current),ne=re=>{const{transform:le,d3Selection:ge,d3Zoom:be}=M.getState();if(re.sourceEvent.type!=="wheel"||!ge||!be)return;const Ve=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*S,Te=le[2]*Math.pow(2,Ve);be.scaleTo(ge,Te)},J=re=>{const{transform:le,d3Selection:ge,d3Zoom:be,translateExtent:Ve,width:Te,height:Ce}=M.getState();if(re.sourceEvent.type!=="mousemove"||!ge||!be)return;const ie=v.current*Math.max(1,le[2])*(g?-1:1),fe={x:le[0]-re.sourceEvent.movementX*ie,y:le[1]-re.sourceEvent.movementY*ie},ae=[[0,0],[Te,Ce]],dt=fi.translate(fe.x,fe.y).scale(le[2]),Pe=be.constrain()(dt,ae,Ve);be.transform(ge,Pe)},se=G3().on("zoom",y?J:null).on("zoom.wheel",w?ne:null);return Z.call(se),()=>{Z.on("zoom",null)}}},[y,w,g,S]);const B=p?Z=>{const ne=Xr(Z);p(Z,{x:ne[0],y:ne[1]})}:void 0,Q=m?(Z,ne)=>{const J=M.getState().nodeInternals.get(ne);m(Z,J)}:void 0;return V.createElement(Mv,{position:h,style:t,className:Ln(["react-flow__minimap",e]),"data-testid":"rf__minimap"},V.createElement("svg",{width:F,height:$,viewBox:`${I} ${C} ${j} ${P}`,role:"img","aria-labelledby":T,ref:R,onClick:B},b&&V.createElement("title",{id:T},b),V.createElement(WH,{onClick:Q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),V.createElement("path",{className:"react-flow__minimap-mask",d:`M${I-k},${C-k}h${j+k*2}v${P+k*2}h${-j-k*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}VI.displayName="MiniMap";var VH=z.memo(VI);function KH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},V.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function YH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},V.createElement("path",{d:"M0 0h32v4.2H0z"}))}function qH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},V.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function GH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},V.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ZH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},V.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Su=({children:t,className:e,...n})=>V.createElement("button",{type:"button",className:Ln(["react-flow__controls-button",e]),...n},t);Su.displayName="ControlButton";const QH=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),KI=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:d,position:h="bottom-left"})=>{const p=pn(),[m,y]=z.useState(!1),{isInteractive:w,minZoomReached:b,maxZoomReached:g}=xt(QH,_n),{zoomIn:S,zoomOut:_,fitView:M}=Bv();if(z.useEffect(()=>{y(!0)},[]),!m)return null;const R=()=>{S(),i==null||i()},W=()=>{_(),o==null||o()},D=()=>{M(s),a==null||a()},L=()=>{p.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)};return V.createElement(Mv,{className:Ln(["react-flow__controls",c]),position:h,style:t,"data-testid":"rf__controls"},e&&V.createElement(V.Fragment,null,V.createElement(Su,{onClick:R,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},V.createElement(KH,null)),V.createElement(Su,{onClick:W,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},V.createElement(YH,null))),n&&V.createElement(Su,{className:"react-flow__controls-fitview",onClick:D,title:"fit view","aria-label":"fit view"},V.createElement(qH,null)),r&&V.createElement(Su,{className:"react-flow__controls-interactive",onClick:L,title:"toggle interactivity","aria-label":"toggle interactivity"},w?V.createElement(ZH,null):V.createElement(GH,null)),d)};KI.displayName="Controls";var XH=z.memo(KI),as;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(as||(as={}));function JH({color:t,dimensions:e,lineWidth:n}){return V.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function eV({color:t,radius:e}){return V.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const tV={[as.Dots]:"#91919a",[as.Lines]:"#eee",[as.Cross]:"#e2e2e2"},nV={[as.Dots]:1,[as.Lines]:1,[as.Cross]:6},rV=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function YI({id:t,variant:e=as.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:a,className:l}){const c=z.useRef(null),{transform:d,patternId:h}=xt(rV,_n),p=o||tV[e],m=r||nV[e],y=e===as.Dots,w=e===as.Cross,b=Array.isArray(n)?n:[n,n],g=[b[0]*d[2]||1,b[1]*d[2]||1],S=m*d[2],_=w?[S,S]:g,M=y?[S/i,S/i]:[_[0]/i,_[1]/i];return V.createElement("svg",{className:Ln(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},V.createElement("pattern",{id:h+t,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`},y?V.createElement(eV,{color:p,radius:S/i}):V.createElement(JH,{dimensions:_,color:p,lineWidth:s})),V.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}YI.displayName="Background";var sV=z.memo(YI);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function eh(t){return t+.5|0}const eo=(t,e,n)=>Math.max(Math.min(t,n),e);function _u(t){return eo(eh(t*2.55),0,255)}function mo(t){return eo(eh(t*255),0,255)}function ni(t){return eo(eh(t/2.55)/100,0,1)}function c_(t){return eo(eh(t*100),0,100)}const Cr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},g1=[..."0123456789ABCDEF"],iV=t=>g1[t&15],oV=t=>g1[(t&240)>>4]+g1[t&15],Hh=t=>(t&240)>>4===(t&15),aV=t=>Hh(t.r)&&Hh(t.g)&&Hh(t.b)&&Hh(t.a);function lV(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Cr[t[1]]*17,g:255&Cr[t[2]]*17,b:255&Cr[t[3]]*17,a:e===5?Cr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Cr[t[1]]<<4|Cr[t[2]],g:Cr[t[3]]<<4|Cr[t[4]],b:Cr[t[5]]<<4|Cr[t[6]],a:e===9?Cr[t[7]]<<4|Cr[t[8]]:255})),n}const cV=(t,e)=>t<255?e(t):"";function uV(t){var e=aV(t)?iV:oV;return t?"#"+e(t.r)+e(t.g)+e(t.b)+cV(t.a,e):void 0}const dV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qI(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function hV(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function fV(t,e,n){const r=qI(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function pV(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Ov(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,d;return i!==o&&(d=i-o,c=a>.5?d/(2-i-o):d/(i+o),l=pV(n,r,s,d,i),l=l*60+.5),[l|0,c||0,a]}function zv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(mo)}function Wv(t,e,n){return zv(qI,t,e,n)}function mV(t,e,n){return zv(fV,t,e,n)}function gV(t,e,n){return zv(hV,t,e,n)}function GI(t){return(t%360+360)%360}function yV(t){const e=dV.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?_u(+e[5]):mo(+e[5]));const s=GI(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=mV(s,i,o):e[1]==="hsv"?r=gV(s,i,o):r=Wv(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function xV(t,e){var n=Ov(t);n[0]=GI(n[0]+e),n=Wv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function wV(t){if(!t)return;const e=Ov(t),n=e[0],r=c_(e[1]),s=c_(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${ni(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const u_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},d_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vV(){const t={},e=Object.keys(d_),n=Object.keys(u_);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,u_[i]);i=parseInt(d_[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Vh;function bV(t){Vh||(Vh=vV(),Vh.transparent=[0,0,0,0]);const e=Vh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const SV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _V(t){const e=SV.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?_u(o):eo(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?_u(r):eo(r,0,255)),s=255&(e[4]?_u(s):eo(s,0,255)),i=255&(e[6]?_u(i):eo(i,0,255)),{r,g:s,b:i,a:n}}}function kV(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ni(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Fg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ya=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function EV(t,e,n){const r=Ya(ni(t.r)),s=Ya(ni(t.g)),i=Ya(ni(t.b));return{r:mo(Fg(r+n*(Ya(ni(e.r))-r))),g:mo(Fg(s+n*(Ya(ni(e.g))-s))),b:mo(Fg(i+n*(Ya(ni(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Kh(t,e,n){if(t){let r=Ov(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Wv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function ZI(t,e){return t&&Object.assign(e||{},t)}function h_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=mo(t[3]))):(e=ZI(t,{r:0,g:0,b:0,a:1}),e.a=mo(e.a)),e}function NV(t){return t.charAt(0)==="r"?_V(t):yV(t)}class Id{constructor(e){if(e instanceof Id)return e;const n=typeof e;let r;n==="object"?r=h_(e):n==="string"&&(r=lV(e)||bV(e)||NV(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=ZI(this._rgb);return e&&(e.a=ni(e.a)),e}set rgb(e){this._rgb=h_(e)}rgbString(){return this._valid?kV(this._rgb):void 0}hexString(){return this._valid?uV(this._rgb):void 0}hslString(){return this._valid?wV(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=EV(this._rgb,e._rgb,n)),this}clone(){return new Id(this.rgb)}alpha(e){return this._rgb.a=mo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=eh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Kh(this._rgb,2,e),this}darken(e){return Kh(this._rgb,2,-e),this}saturate(e){return Kh(this._rgb,1,e),this}desaturate(e){return Kh(this._rgb,1,-e),this}rotate(e){return xV(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ys(){}const MV=(()=>{let t=0;return()=>t++})();function yt(t){return t==null}function hn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Yn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ys(t,e){return Yn(t)?t:e}function Ye(t,e){return typeof t>"u"?e:t}const AV=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function at(t,e,n,r){let s,i,o;if(hn(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Qe(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function am(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function lm(t){if(hn(t))return t.map(lm);if(Qe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=lm(t[n[s]]);return e}return t}function QI(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function IV(t,e,n,r){if(!QI(t))return;const s=e[t],i=n[t];Qe(s)&&Qe(i)?jd(s,i,r):e[t]=lm(i)}function jd(t,e,n){const r=hn(e)?e:[e],s=r.length;if(!Qe(t))return t;n=n||{};const i=n.merger||IV;let o;for(let a=0;a<s;++a){if(o=r[a],!Qe(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)i(l[c],t,o,n)}return t}function Wu(t,e){return jd(t,e,{merger:jV})}function jV(t,e,n){if(!QI(t))return;const r=e[t],s=n[t];Qe(r)&&Qe(s)?Wu(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=lm(s))}const f_={"":t=>t,x:t=>t.x,y:t=>t.y};function CV(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function TV(t){const e=CV(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function cm(t,e){return(f_[e]||(f_[e]=TV(e)))(t)}function Fv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const um=t=>typeof t<"u",vo=t=>typeof t=="function",p_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function RV(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Sn=Math.PI,ls=2*Sn,LV=ls+Sn,dm=Number.POSITIVE_INFINITY,PV=Sn/180,rs=Sn/2,Ao=Sn/4,m_=Sn*2/3,XI=Math.log10,cc=Math.sign;function Fu(t,e,n){return Math.abs(t-e)<n}function g_(t){const e=Math.round(t);t=Fu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(XI(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function BV(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function DV(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Cd(t){return!DV(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function OV(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function zV(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ia(t){return t*(Sn/180)}function WV(t){return t*(180/Sn)}function y_(t){if(!Yn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function FV(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Sn&&(i+=ls),{angle:i,distance:s}}function y1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function UV(t,e){return(t-e+LV)%ls-Sn}function Ss(t){return(t%ls+ls)%ls}function JI(t,e,n,r){const s=Ss(t),i=Ss(e),o=Ss(n),a=Ss(i-s),l=Ss(o-s),c=Ss(s-i),d=Ss(s-o);return s===i||s===o||r&&i===o||a>l&&c<d}function Wr(t,e,n){return Math.max(e,Math.min(n,t))}function $V(t){return Wr(t,-32768,32767)}function bl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Uv(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const oa=(t,e,n,r)=>Uv(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),HV=(t,e,n)=>Uv(t,n,r=>t[r][e]>=n);function VV(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const ej=["push","pop","shift","splice","unshift"];function KV(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ej.forEach(n=>{const r="_onData"+Fv(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function x_(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(ej.forEach(i=>{delete t[i]}),delete t._chartjs)}function YV(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const tj=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function nj(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,tj.call(window,()=>{r=!1,t.apply(e,n)}))}}function qV(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const $v=t=>t==="start"?"left":t==="end"?"right":"center",$n=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,GV=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function ZV(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:p,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(s=Math.min(oa(l,d,h).lo,n?r:oa(e,d,o.getPixelForValue(h)).lo),c){const w=l.slice(0,s+1).reverse().findIndex(b=>!yt(b[a.axis]));s-=Math.max(0,w)}s=Wr(s,0,r-1)}if(y){let w=Math.max(oa(l,o.axis,p,!0).hi+1,n?0:oa(e,d,o.getPixelForValue(p),!0).hi+1);if(c){const b=l.slice(w-1).findIndex(g=>!yt(g[a.axis]));w+=Math.max(0,b)}i=Wr(w,s,r)-s}else i=r-s}return{start:s,count:i}}function QV(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Yh=t=>t===0||t===1,w_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ls/n)),v_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ls/n)+1,Uu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*rs)+1,easeOutSine:t=>Math.sin(t*rs),easeInOutSine:t=>-.5*(Math.cos(Sn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yh(t)?t:w_(t,.075,.3),easeOutElastic:t=>Yh(t)?t:v_(t,.075,.3),easeInOutElastic(t){return Yh(t)?t:t<.5?.5*w_(t*2,.1125,.45):.5+.5*v_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Uu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Uu.easeInBounce(t*2)*.5:Uu.easeOutBounce(t*2-1)*.5+.5};function Hv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function b_(t){return Hv(t)?t:new Id(t)}function Ug(t){return Hv(t)?t:new Id(t).saturate(.5).darken(.1).hexString()}const XV=["x","y","borderWidth","radius","tension"],JV=["color","borderColor","backgroundColor"];function eK(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:JV},numbers:{type:"number",properties:XV}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function tK(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const S_=new Map;function nK(t,e){e=e||{};const n=t+JSON.stringify(e);let r=S_.get(n);return r||(r=new Intl.NumberFormat(t,e),S_.set(n,r)),r}function rj(t,e,n){return nK(e,n).format(t)}const rK={values(t){return hn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=sK(t,n)}const o=XI(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rj(t,r,l)}};function sK(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var sj={formatters:rK};function iK(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ka=Object.create(null),x1=Object.create(null);function $u(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function $g(t,e,n){return typeof e=="string"?jd($u(t,e),n):jd($u(t,""),e)}class oK{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Ug(s.backgroundColor),this.hoverBorderColor=(r,s)=>Ug(s.borderColor),this.hoverColor=(r,s)=>Ug(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return $g(this,e,n)}get(e){return $u(this,e)}describe(e,n){return $g(x1,e,n)}override(e,n){return $g(ka,e,n)}route(e,n,r,s){const i=$u(this,e),o=$u(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return Qe(l)?Object.assign({},c,l):Ye(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var nn=new oK({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eK,tK,iK]);function aK(t){return!t||yt(t.size)||yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function __(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Io(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function k_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function w1(t,e,n,r){ij(t,e,n,r,null)}function ij(t,e,n,r,s){let i,o,a,l,c,d,h,p;const m=e.pointStyle,y=e.rotation,w=e.radius;let b=(y||0)*PV;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,w,0,0,ls):t.arc(n,r,w,0,ls),t.closePath();break;case"triangle":d=s?s/2:w,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*w),b+=m_,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*w),b+=m_,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(b+Ao)*l,h=Math.cos(b+Ao)*(s?s/2-c:l),a=Math.sin(b+Ao)*l,p=Math.sin(b+Ao)*(s?s/2-c:l),t.arc(n-h,r-a,c,b-Sn,b-rs),t.arc(n+p,r-o,c,b-rs,b),t.arc(n+h,r+a,c,b,b+rs),t.arc(n-p,r+o,c,b+rs,b+Sn),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*w,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=Ao;case"rectRot":h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+p,r-o),t.lineTo(n+h,r+a),t.lineTo(n-p,r+o),t.closePath();break;case"crossRot":b+=Ao;case"cross":h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"star":h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o),b+=Ao,h=Math.cos(b)*(s?s/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(s?s/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"line":o=s?s/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:w),r+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Td(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function m0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function g0(t){t.restore()}function lK(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function cK(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function uK(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),yt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function dK(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function hK(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Rd(t,e,n,r,s,i={}){const o=hn(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,uK(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&hK(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),yt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),dK(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function v1(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Sn,Sn,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Sn,rs,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,rs,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-rs,!0),t.lineTo(n+o.topLeft,r)}const fK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mK(t,e){const n=(""+t).match(fK);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const gK=t=>+t||0;function oj(t,e){const n={},r=Qe(e),s=r?Object.keys(e):e,i=Qe(t)?r?o=>Ye(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=gK(i(o));return n}function yK(t){return oj(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Hu(t){return oj(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kr(t){const e=yK(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vn(t,e){t=t||{},e=e||nn.font;let n=Ye(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ye(t.style,e.style);r&&!(""+r).match(pK)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ye(t.family,e.family),lineHeight:mK(Ye(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ye(t.weight,e.weight),string:""};return s.string=aK(s),s}function qh(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function xK(t,e,n){const{min:r,max:s}=t,i=AV(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function La(t,e){return Object.assign(Object.create(t),e)}function Vv(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=uj("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Vv([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return lj(a,l,()=>NK(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return N_(a).includes(l)},ownKeys(a){return N_(a)},set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function uc(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:aj(t,r),setContext:i=>uc(t,i,n,r),override:i=>uc(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return lj(i,o,()=>vK(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function aj(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:vo(n)?n:()=>n,isIndexable:vo(r)?r:()=>r}}const wK=(t,e)=>t?t+Fv(e):e,Kv=(t,e)=>Qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function lj(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function vK(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return vo(a)&&o.isScriptable(e)&&(a=bK(e,a,t,n)),hn(a)&&a.length&&(a=SK(e,a,t,o.isIndexable)),Kv(e,a)&&(a=uc(a,s,i&&i[e],o)),a}function bK(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Kv(t,l)&&(l=Yv(s._scopes,s,t,l)),l}function SK(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Qe(e[0])){const l=e,c=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=Yv(c,s,t,d);e.push(uc(h,i,o&&o[t],a))}}return e}function cj(t,e,n){return vo(t)?t(e,n):t}const _K=(t,e)=>t===!0?e:typeof t=="string"?cm(e,t):void 0;function kK(t,e,n,r,s){for(const i of e){const o=_K(n,i);if(o){t.add(o);const a=cj(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Yv(t,e,n,r){const s=e._rootScopes,i=cj(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=E_(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=E_(a,o,i,l,r),l===null)?!1:Vv(Array.from(a),[""],s,i,()=>EK(e,n,r))}function E_(t,e,n,r,s){for(;n;)n=kK(t,e,n,r,s);return n}function EK(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return hn(s)&&Qe(n)?n:s||{}}function NK(t,e,n,r){let s;for(const i of e)if(s=uj(wK(i,t),n),typeof s<"u")return Kv(t,s)?Yv(n,r,t,s):s}function uj(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function N_(t){let e=t._keys;return e||(e=t._keys=MK(t._scopes)),e}function MK(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const AK=Number.EPSILON||1e-14,dc=(t,e)=>e<t.length&&!t[e].skip&&t[e],dj=t=>t==="x"?"y":"x";function IK(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=y1(i,s),l=y1(o,i);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=r*c,p=r*d;return{previous:{x:i.x-h*(o.x-s.x),y:i.y-h*(o.y-s.y)},next:{x:i.x+p*(o.x-s.x),y:i.y+p*(o.y-s.y)}}}function jK(t,e,n){const r=t.length;let s,i,o,a,l,c=dc(t,0);for(let d=0;d<r-1;++d)if(l=c,c=dc(t,d+1),!(!l||!c)){if(Fu(e[d],0,AK)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function CK(t,e,n="x"){const r=dj(n),s=t.length;let i,o,a,l=dc(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=dc(t,c+1),!a)continue;const d=a[n],h=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=h-i*e[c]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=h+i*e[c])}}function TK(t,e="x"){const n=dj(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=dc(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=dc(t,o+1),!!l){if(c){const d=c[e]-l[e];s[o]=d!==0?(c[n]-l[n])/d:0}i[o]=a?c?cc(s[o-1])!==cc(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}jK(t,s,i),CK(t,i,e)}function Gh(t,e,n){return Math.max(Math.min(t,n),e)}function RK(t,e){let n,r,s,i,o,a=Td(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&Td(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=Gh(s.cp1x,e.left,e.right),s.cp1y=Gh(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Gh(s.cp2x,e.left,e.right),s.cp2y=Gh(s.cp2y,e.top,e.bottom)))}function LK(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")TK(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=IK(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&RK(t,n)}function qv(){return typeof window<"u"&&typeof document<"u"}function Gv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function hm(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const y0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function PK(t,e){return y0(t).getPropertyValue(e)}const BK=["top","right","bottom","left"];function fa(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=BK[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const DK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function OK(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(DK(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Do(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=y0(n),i=s.boxSizing==="border-box",o=fa(s,"padding"),a=fa(s,"border","width"),{x:l,y:c,box:d}=OK(t,n),h=o.left+(d&&a.left),p=o.top+(d&&a.top);let{width:m,height:y}=e;return i&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/m*n.width/r),y:Math.round((c-p)/y*n.height/r)}}function zK(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Gv(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=y0(i),l=fa(a,"border","width"),c=fa(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=hm(a.maxWidth,i,"clientWidth"),s=hm(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||dm,maxHeight:s||dm}}const Zh=t=>Math.round(t*10)/10;function WK(t,e,n,r){const s=y0(t),i=fa(s,"margin"),o=hm(s.maxWidth,t,"clientWidth")||dm,a=hm(s.maxHeight,t,"clientHeight")||dm,l=zK(t,e,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const p=fa(s,"border","width"),m=fa(s,"padding");c-=m.width+p.width,d-=m.height+p.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=Zh(Math.min(c,o,l.maxWidth)),d=Zh(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Zh(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Zh(Math.floor(d*r))),{width:c,height:d}}function M_(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const FK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};qv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function A_(t,e){const n=PK(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Oo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function UK(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function $K(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Oo(t,s,n),a=Oo(s,i,n),l=Oo(i,e,n),c=Oo(o,a,n),d=Oo(a,l,n);return Oo(c,d,n)}const HK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},VK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dl(t,e,n){return t?HK(e,n):VK()}function hj(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function fj(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function pj(t){return t==="angle"?{between:JI,compare:UV,normalize:Ss}:{between:bl,compare:(e,n)=>e-n,normalize:e=>e}}function I_({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function KK(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=pj(r),l=e.length;let{start:c,end:d,loop:h}=t,p,m;if(h){for(c+=l,d+=l,p=0,m=l;p<m&&o(a(e[c%l][r]),s,i);++p)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function mj(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=pj(r),{start:d,end:h,loop:p,style:m}=KK(t,e,n),y=[];let w=!1,b=null,g,S,_;const M=()=>l(s,_,g)&&a(s,_)!==0,R=()=>a(i,g)===0||l(i,_,g),W=()=>w||M(),D=()=>!w||R();for(let L=d,F=d;L<=h;++L)S=e[L%o],!S.skip&&(g=c(S[r]),g!==_&&(w=l(g,s,i),b===null&&W()&&(b=a(g,s)===0?L:F),b!==null&&D()&&(y.push(I_({start:b,end:L,loop:p,count:o,style:m})),b=null),F=L,_=g));return b!==null&&y.push(I_({start:b,end:h,loop:p,count:o,style:m})),y}function gj(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=mj(r[s],t.points,e);i.length&&n.push(...i)}return n}function YK(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function qK(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function GK(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=YK(n,s,i,r);if(r===!0)return j_(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return j_(t,qK(n,o,l,c),n,e)}function j_(t,e,n,r){return!r||!r.setContext||!n?e:ZK(t,e,n,r)}function ZK(t,e,n,r){const s=t._chart.getContext(),i=C_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=i,h=e[0].start,p=h;function m(y,w,b,g){const S=a?-1:1;if(y!==w){for(y+=l;n[y%l].skip;)y-=S;for(;n[w%l].skip;)w+=S;y%l!==w%l&&(c.push({start:y%l,end:w%l,loop:b,style:g}),d=g,h=w%l)}}for(const y of e){h=a?h:y.start;let w=n[h%l],b;for(p=h+1;p<=y.end;p++){const g=n[p%l];b=C_(r.setContext(La(s,{type:"segment",p0:w,p1:g,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),QK(b,d)&&m(h,p-1,y.loop,d),w=g,d=b}h<p-1&&m(h,p-1,y.loop,d)}return c}function C_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function QK(t,e){if(!e)return!1;const n=[],r=function(s,i){return Hv(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Qh(t,e,n){return t.options.clip?t[n]:e[n]}function XK(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Qh(n,e,"left"),right:Qh(n,e,"right"),top:Qh(r,e,"top"),bottom:Qh(r,e,"bottom")}:e}function yj(t,e){const n=e._clip;if(n.disabled)return!1;const r=XK(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class JK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=tj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zs=new JK;const T_="transparent",eY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=b_(t||T_),s=r.valid&&b_(e||T_);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class tY{constructor(e,n,r,s){const i=n[r];s=qh([e.to,s,i,e.from]);const o=qh([e.from,i,s]);this._active=!0,this._fn=e.fn||eY[e.type||typeof o],this._easing=Uu[e.easing]||Uu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=qh([e.to,n,s,e.from]),this._from=qh([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class xj{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Qe(e))return;const n=Object.keys(nn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Qe(i))return;const o={};for(const a of n)o[a]=i[a];(hn(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=rY(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&nY(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[c];let h=i[c];const p=r.get(c);if(h)if(p&&h.active()){h.update(p,d,a);continue}else h.cancel();if(!p||!p.duration){e[c]=d;continue}i[c]=h=new tY(p,e,c,d),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Zs.add(this._chart,r),!0}}function nY(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function rY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function R_(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function sY(t,e,n){if(n===!1)return!1;const r=R_(t,n),s=R_(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function iY(t){let e,n,r,s;return Qe(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function wj(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function L_(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}c=t.values[l],Yn(c)&&(i||e===0||cc(e)===cc(c))&&(e+=c)}return!d&&!r.all?0:e}function oY(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function Hg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function aY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function lY(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function cY(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function P_(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function B_(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,d=aY(i,o,r),h=e.length;let p;for(let m=0;m<h;++m){const y=e[m],{[l]:w,[c]:b}=y,g=y._stacks||(y._stacks={});p=g[c]=cY(s,d,w),p[a]=b,p._top=P_(p,o,!0,r.type),p._bottom=P_(p,o,!1,r.type);const S=p._visualValues||(p._visualValues={});S[a]=b}}function Vg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function uY(t,e){return La(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dY(t,e,n){return La(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function eu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Kg=t=>t==="reset"||t==="none",D_=(t,e)=>e?t:Object.assign({},t),hY=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wj(n,!0),values:null};class Vu{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&eu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,p,m,y)=>h==="x"?p:h==="r"?y:m,i=n.xAxisID=Ye(r.xAxisID,Vg(e,"x")),o=n.yAxisID=Ye(r.yAxisID,Vg(e,"y")),a=n.rAxisID=Ye(r.rAxisID,Vg(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&x_(this._data,this),e._stacked&&eu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Qe(n)){const s=this._cachedMeta;this._data=oY(n,s)}else if(r!==n){if(r){x_(r,this);const s=this._cachedMeta;eu(s),s._parsed=[]}n&&Object.isExtensible(n)&&KV(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Hg(n.vScale,n),n.stack!==r.stack&&(s=!0,eu(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(B_(this,n._parsed),n._stacked=Hg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,h,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{hn(s[e])?p=this.parseArrayData(r,s,e,n):Qe(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const m=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=h=p[d],l&&(m()&&(l=!1),c=h);r._sorted=l}o&&B_(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),d=i===o,h=new Array(s);let p,m,y;for(p=0,m=s;p<m;++p)y=p+r,h[p]={[a]:d||i.parse(c[y],y),[l]:o.parse(n[y],y)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,d,h;for(l=0,c=s;l<c;++l)d=l+r,h=n[d],a[l]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,h,p,m;for(d=0,h=s;d<h;++d)p=d+r,m=n[p],c[d]={x:i.parse(cm(m,a),p),y:o.parse(cm(m,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:wj(s,!0),values:n._stacks[e.axis]._visualValues};return L_(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=L_(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=hY(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=lY(a);let p,m;function y(){m=s[p];const w=m[a.axis];return!Yn(m[e.axis])||d>w||h<w}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(c,e,m,l),i));++p);if(i){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],Yn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=iY(Ye(this.options.clip,sY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const h=s[d];h.hidden||(h.active&&c?o.push(h):h.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=dY(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=uY(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&um(r);if(a)return D_(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),d),m=Object.keys(nn.elements[e]),y=()=>this.getContext(r,s,n),w=c.resolveNamedOptions(p,m,y,h);return w.$shared&&(w.$shared=l,i[o]=Object.freeze(D_(w,l))),w}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(p,this.getContext(e,r,n))}const c=new xj(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Kg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Kg(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Kg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&eu(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Se(Vu,"defaults",{}),Se(Vu,"datasetElementType",null),Se(Vu,"dataElementType",null);class ep extends Vu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=ZV(n,s,o);this._drawStart=a,this._drawCount=l,QV(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),p=o.axis,m=a.axis,{spanGaps:y,segment:w}=this.options,b=Cd(y)?y:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||s==="none",S=n+r,_=e.length;let M=n>0&&this.getParsed(n-1);for(let R=0;R<_;++R){const W=e[R],D=g?W:{};if(R<n||R>=S){D.skip=!0;continue}const L=this.getParsed(R),F=yt(L[m]),$=D[p]=o.getPixelForValue(L[p],R),H=D[m]=i||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,L,l):L[m],R);D.skip=isNaN($)||isNaN(H)||F,D.stop=R>0&&Math.abs(L[p]-M[p])>b,w&&(D.parsed=L,D.raw=c.data[R]),h&&(D.options=d||this.resolveDataElementOptions(R,W.active?"active":s)),g||this.updateElement(W,R,D,s),M=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Se(ep,"id","line"),Se(ep,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Se(ep,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function jo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zv{constructor(e){Se(this,"options");this.options=e||{}}static override(e){Object.assign(Zv.prototype,e)}init(){}formats(){return jo()}parse(){return jo()}format(){return jo()}add(){return jo()}diff(){return jo()}startOf(){return jo()}endOf(){return jo()}}var fY={_date:Zv};function pY(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?HV:oa;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const p=c(i,e,n-h),m=c(i,e,n+h);return{lo:p.lo,hi:m.hi}}}}else{const d=c(i,e,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:p}=t,m=p.slice(0,d.lo+1).reverse().findIndex(w=>!yt(w[h.axis]));d.lo-=Math.max(0,m);const y=p.slice(d.hi).findIndex(w=>!yt(w[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function x0(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:d}=i[a],{lo:h,hi:p}=pY(i[a],e,o,s);for(let m=h;m<=p;++m){const y=d[m];y.skip||r(y,c,m)}}}function mY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Yg(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||x0(t,n,e,function(a,l,c){!s&&!Td(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function gY(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=FV(o,{x:e.x,y:e.y});JI(h,c,d)&&s.push({element:o,datasetIndex:a,index:l})}return x0(t,n,e,i),s}function yY(t,e,n,r,s,i){let o=[];const a=mY(n);let l=Number.POSITIVE_INFINITY;function c(d,h,p){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const y=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!m)return;const b=a(e,y);b<l?(o=[{element:d,datasetIndex:h,index:p}],l=b):b===l&&o.push({element:d,datasetIndex:h,index:p})}return x0(t,n,e,c),o}function qg(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?gY(t,e,n,s):yY(t,e,n,r,s,i)}function O_(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return x0(t,n,e,(l,c,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var xY={modes:{index(t,e,n,r){const s=Do(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Yg(t,s,i,r,o):qg(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Do(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Yg(t,s,i,r,o):qg(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=Do(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Yg(t,s,i,r,o)},nearest(t,e,n,r){const s=Do(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return qg(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Do(e,t);return O_(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Do(e,t);return O_(t,s,"y",n.intersect,r)}}};const vj=["left","top","right","bottom"];function tu(t,e){return t.filter(n=>n.pos===e)}function z_(t,e){return t.filter(n=>vj.indexOf(n.pos)===-1&&n.box.axis===e)}function nu(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function wY(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function vY(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!vj.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function bY(t,e){const n=vY(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function SY(t){const e=wY(t),n=nu(e.filter(c=>c.box.fullSize),!0),r=nu(tu(e,"left"),!0),s=nu(tu(e,"right")),i=nu(tu(e,"top"),!0),o=nu(tu(e,"bottom")),a=z_(e,"x"),l=z_(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:tu(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function W_(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function bj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _Y(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!Qe(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&bj(o,i.getPadding());const a=Math.max(0,e.outerWidth-W_(o,t,"left","right")),l=Math.max(0,e.outerHeight-W_(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function kY(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function EY(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function ku(t,e,n,r){const s=[];let i,o,a,l,c,d;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,EY(a.horizontal,e));const{same:h,other:p}=_Y(e,n,a,r);c|=h&&s.length,d=d||p,l.fullSize||s.push(a)}return c&&ku(s,e,n,r)||d}function Xh(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function F_(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,p=c.size||l.height;um(c.start)&&(o=c.start),l.fullSize?Xh(l,s.left,o,n.outerWidth-s.right-s.left,p):Xh(l,e.left+c.placed,o,h,p),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*d,p=c.size||l.width;um(c.start)&&(i=c.start),l.fullSize?Xh(l,i,s.top,p,n.outerHeight-s.bottom-s.top):Xh(l,i,e.top+c.placed,p,h),c.start=i,c.placed+=h,i=l.right}}e.x=i,e.y=o}var Fr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Kr(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=SY(t.boxes),l=a.vertical,c=a.horizontal;at(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const d=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),p=Object.assign({},s);bj(p,Kr(r));const m=Object.assign({maxPadding:p,w:i,h:o,x:s.left,y:s.top},s),y=bY(l.concat(c),h);ku(a.fullSize,m,h,y),ku(l,m,h,y),ku(c,m,h,y)&&ku(l,m,h,y),kY(m),F_(a.leftAndTop,m,h,y),m.x+=m.w,m.y+=m.h,F_(a.rightAndBottom,m,h,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},at(a.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Sj{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class NY extends Sj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const tp="$chartjs",MY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},U_=t=>t===null||t==="";function AY(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[tp]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",U_(s)){const i=A_(t,"width");i!==void 0&&(t.width=i)}if(U_(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=A_(t,"height");i!==void 0&&(t.height=i)}return t}const _j=FK?{passive:!0}:!1;function IY(t,e,n){t&&t.addEventListener(e,n,_j)}function jY(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,_j)}function CY(t,e){const n=MY[t.type]||t.type,{x:r,y:s}=Do(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function fm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function TY(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||fm(a.addedNodes,r),o=o&&!fm(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function RY(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||fm(a.removedNodes,r),o=o&&!fm(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ld=new Map;let $_=0;function kj(){const t=window.devicePixelRatio;t!==$_&&($_=t,Ld.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function LY(t,e){Ld.size||window.addEventListener("resize",kj),Ld.set(t,e)}function PY(t){Ld.delete(t),Ld.size||window.removeEventListener("resize",kj)}function BY(t,e,n){const r=t.canvas,s=r&&Gv(r);if(!s)return;const i=nj((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(s),LY(t,i),o}function Gg(t,e,n){n&&n.disconnect(),e==="resize"&&PY(t)}function DY(t,e,n){const r=t.canvas,s=nj(i=>{t.ctx!==null&&n(CY(i,t))},t);return IY(r,e,s),s}class OY extends Sj{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(AY(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[tp])return!1;const r=n[tp].initial;["height","width"].forEach(i=>{const o=r[i];yt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[tp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:TY,detach:RY,resize:BY}[n]||DY;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Gg,detach:Gg,resize:Gg}[n]||jY)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return WK(e,n,r,s)}isAttached(e){const n=e&&Gv(e);return!!(n&&n.isConnected)}}function zY(t){return!qv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?NY:OY}class bi{constructor(){Se(this,"x");Se(this,"y");Se(this,"active",!1);Se(this,"options");Se(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Cd(this.x)&&Cd(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Se(bi,"defaults",{}),Se(bi,"defaultRoutes");function WY(t,e){const n=t.options.ticks,r=FY(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?$Y(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return HY(e,c,i,o/s),c;const d=UY(i,e,s);if(o>0){let h,p;const m=o>1?Math.round((l-a)/(o-1)):null;for(Jh(e,c,d,yt(m)?0:a-m,a),h=0,p=o-1;h<p;h++)Jh(e,c,d,i[h],i[h+1]);return Jh(e,c,d,l,yt(m)?e.length:l+m),c}return Jh(e,c,d),c}function FY(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function UY(t,e,n){const r=VY(t),s=e.length/n;if(!r)return Math.max(s,1);const i=BV(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function $Y(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function HY(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Jh(t,e,n,r,s){const i=Ye(r,0),o=Math.min(Ye(s,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(i+a*n))}function VY(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const KY=t=>t==="left"?"right":t==="right"?"left":t,H_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,V_=(t,e)=>Math.min(e||t,t);function K_(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function YY(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function qY(t,e){at(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function ru(t){return t.drawTicks?t.tickLength:0}function Y_(t,e){if(!t.display)return 0;const n=Vn(t.font,e),r=Kr(t.padding);return(hn(t.text)?t.text.length:1)*n.lineHeight+r.height}function GY(t,e){return La(t,{scale:e,type:"scale"})}function ZY(t,e,n){return La(t,{tick:n,index:e,type:"tick"})}function QY(t,e,n){let r=$v(t);return(n&&e!=="right"||!n&&e==="right")&&(r=KY(r)),r}function XY(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,p,m,y;const w=o-s,b=a-i;if(t.isHorizontal()){if(m=$n(r,i,a),Qe(n)){const g=Object.keys(n)[0],S=n[g];y=d[g].getPixelForValue(S)+w-e}else n==="center"?y=(c.bottom+c.top)/2+w-e:y=H_(t,n,e);p=a-i}else{if(Qe(n)){const g=Object.keys(n)[0],S=n[g];m=d[g].getPixelForValue(S)-b+e}else n==="center"?m=(c.left+c.right)/2-b+e:m=H_(t,n,e);y=$n(r,o,s),h=n==="left"?-rs:rs}return{titleX:m,titleY:y,maxWidth:p,rotation:h}}class _c extends bi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=ys(e,Number.POSITIVE_INFINITY),n=ys(n,Number.NEGATIVE_INFINITY),r=ys(r,Number.POSITIVE_INFINITY),s=ys(s,Number.NEGATIVE_INFINITY),{min:ys(e,r),max:ys(n,s),minDefined:Yn(e),maxDefined:Yn(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:ys(n,ys(r,n)),max:ys(r,ys(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xK(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?K_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=WY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=vt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=V_(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,m=Wr(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),h+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-ru(e.grid)-n.padding-Y_(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),o=WV(Math.min(Math.asin(Wr((d.highest.height+6)/a,-1,1)),Math.asin(Wr(l/c,-1,1))-Math.asin(Wr(p/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Y_(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ru(i)+l):(e.height=this.maxHeight,e.width=ru(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:p}=this._getLabelSizes(),m=r.padding*2,y=ia(this.labelRotation),w=Math.cos(y),b=Math.sin(y);if(a){const g=r.mirror?0:b*h.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+g+m)}else{const g=r.mirror?0:w*h.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+g+m)}this._calculatePadding(c,d,b,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?c?(p=s*e.width,m=r*n.height):(p=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,m=n.width/2),this.paddingLeft=Math.max((p-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)yt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=K_(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/V_(n,r));let c=0,d=0,h,p,m,y,w,b,g,S,_,M,R;for(h=0;h<n;h+=l){if(y=e[h].label,w=this._resolveTickFontOptions(h),s.font=b=w.string,g=i[b]=i[b]||{data:{},gc:[]},S=w.lineHeight,_=M=0,!yt(y)&&!hn(y))_=__(s,g.data,g.gc,_,y),M=S;else if(hn(y))for(p=0,m=y.length;p<m;++p)R=y[p],!yt(R)&&!hn(R)&&(_=__(s,g.data,g.gc,_,R),M+=S);o.push(_),a.push(M),c=Math.max(_,c),d=Math.max(M,d)}qY(i,n);const W=o.indexOf(c),D=a.indexOf(d),L=F=>({width:o[F]||0,height:a[F]||0});return{first:L(0),last:L(n-1),widest:L(W),highest:L(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return $V(this._alignToPixels?Io(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=ZY(this.getContext(),e,r))}return this.$context||(this.$context=GY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ia(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=ru(i),m=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,b=w/2,g=function(k){return Io(r,k,w)};let S,_,M,R,W,D,L,F,$,H,K,A;if(o==="top")S=g(this.bottom),D=this.bottom-p,F=S-b,H=g(e.top)+b,A=e.bottom;else if(o==="bottom")S=g(this.top),H=e.top,A=g(e.bottom)-b,D=S+b,F=this.top+p;else if(o==="left")S=g(this.right),W=this.right-p,L=S-b,$=g(e.left)+b,K=e.right;else if(o==="right")S=g(this.left),$=e.left,K=g(e.right)-b,W=S+b,L=this.left+p;else if(n==="x"){if(o==="center")S=g((e.top+e.bottom)/2+.5);else if(Qe(o)){const k=Object.keys(o)[0],I=o[k];S=g(this.chart.scales[k].getPixelForValue(I))}H=e.top,A=e.bottom,D=S+b,F=D+p}else if(n==="y"){if(o==="center")S=g((e.left+e.right)/2);else if(Qe(o)){const k=Object.keys(o)[0],I=o[k];S=g(this.chart.scales[k].getPixelForValue(I))}W=S-b,L=W-p,$=e.left,K=e.right}const f=Ye(s.ticks.maxTicksLimit,h),x=Math.max(1,Math.ceil(h/f));for(_=0;_<h;_+=x){const k=this.getContext(_),I=i.setContext(k),C=a.setContext(k),j=I.lineWidth,P=I.color,T=C.dash||[],v=C.dashOffset,B=I.tickWidth,Q=I.tickColor,Z=I.tickBorderDash||[],ne=I.tickBorderDashOffset;M=YY(this,_,l),M!==void 0&&(R=Io(r,M,j),c?W=L=$=K=R:D=F=H=A=R,m.push({tx1:W,ty1:D,tx2:L,ty2:F,x1:$,y1:H,x2:K,y2:A,width:j,color:P,borderDash:T,borderDashOffset:v,tickWidth:B,tickColor:Q,tickBorderDash:Z,tickBorderDashOffset:ne}))}return this._ticksLength=h,this._borderValue=S,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=i,p=ru(r.grid),m=p+d,y=h?-d:m,w=-ia(this.labelRotation),b=[];let g,S,_,M,R,W,D,L,F,$,H,K,A="middle";if(s==="top")W=this.bottom-y,D=this._getXAxisLabelAlignment();else if(s==="bottom")W=this.top+y,D=this._getXAxisLabelAlignment();else if(s==="left"){const x=this._getYAxisLabelAlignment(p);D=x.textAlign,R=x.x}else if(s==="right"){const x=this._getYAxisLabelAlignment(p);D=x.textAlign,R=x.x}else if(n==="x"){if(s==="center")W=(e.top+e.bottom)/2+m;else if(Qe(s)){const x=Object.keys(s)[0],k=s[x];W=this.chart.scales[x].getPixelForValue(k)+m}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")R=(e.left+e.right)/2-m;else if(Qe(s)){const x=Object.keys(s)[0],k=s[x];R=this.chart.scales[x].getPixelForValue(k)}D=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));const f=this._getLabelSizes();for(g=0,S=a.length;g<S;++g){_=a[g],M=_.label;const x=i.setContext(this.getContext(g));L=this.getPixelForTick(g)+i.labelOffset,F=this._resolveTickFontOptions(g),$=F.lineHeight,H=hn(M)?M.length:1;const k=H/2,I=x.color,C=x.textStrokeColor,j=x.textStrokeWidth;let P=D;o?(R=L,D==="inner"&&(g===S-1?P=this.options.reverse?"left":"right":g===0?P=this.options.reverse?"right":"left":P="center"),s==="top"?c==="near"||w!==0?K=-H*$+$/2:c==="center"?K=-f.highest.height/2-k*$+$:K=-f.highest.height+$/2:c==="near"||w!==0?K=$/2:c==="center"?K=f.highest.height/2-k*$:K=f.highest.height-H*$,h&&(K*=-1),w!==0&&!x.showLabelBackdrop&&(R+=$/2*Math.sin(w))):(W=L,K=(1-H)*$/2);let T;if(x.showLabelBackdrop){const v=Kr(x.backdropPadding),B=f.heights[g],Q=f.widths[g];let Z=K-v.top,ne=0-v.left;switch(A){case"middle":Z-=B/2;break;case"bottom":Z-=B;break}switch(D){case"center":ne-=Q/2;break;case"right":ne-=Q;break;case"inner":g===S-1?ne-=Q:g>0&&(ne-=Q/2);break}T={left:ne,top:Z,width:Q+v.width,height:B+v.height,color:x.backdropColor}}b.push({label:M,font:F,textOffset:K,options:{rotation:w,color:I,strokeColor:C,strokeWidth:j,textAlign:P,textBaseline:A,translation:[R,W],backdrop:T}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ia(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,p;this.isHorizontal()?(c=Io(e,this.left,o)-o/2,d=Io(e,this.right,a)+a/2,h=p=l):(h=Io(e,this.top,o)-o/2,p=Io(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&m0(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Rd(r,c,0,d,l,a)}s&&g0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Vn(r.font),o=Kr(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Qe(n)?(l+=o.bottom,hn(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:p}=XY(this,l,n,a);Rd(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:p,textAlign:QY(a,n,s),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ye(e.grid&&e.grid.z,-1),s=Ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==_c.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ef{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;tq(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,JY(e,o,r),this.override&&nn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in nn[s]&&(delete nn[s][r],this.override&&delete ka[r])}}function JY(t,e,n){const r=jd(Object.create(null),[n?nn.get(n):{},nn.get(e),t.defaults]);nn.set(e,r),t.defaultRoutes&&eq(e,t.defaultRoutes),t.descriptors&&nn.describe(e,t.descriptors)}function eq(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");nn.route(i,s,l,a)})}function tq(t){return"id"in t&&"defaults"in t}class nq{constructor(){this.controllers=new ef(Vu,"datasets",!0),this.elements=new ef(bi,"elements"),this.plugins=new ef(Object,"plugins"),this.scales=new ef(_c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):at(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Fv(e);vt(r["before"+s],[],r),n[e](r),vt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var bs=new nq;class rq{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(vt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Ye(r.options&&r.options.plugins,{}),i=sq(r);return s===!1&&!n?[]:oq(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function sq(t){const e={},n=[],r=Object.keys(bs.plugins.items);for(let i=0;i<r.length;i++)n.push(bs.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function iq(t,e){return!e&&t===!1?null:t===!0?{}:t}function oq(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=iq(r[l],s);c!==null&&i.push({plugin:a,options:aq(t.config,{plugin:a,local:n[l]},c,o)})}return i}function aq(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function b1(t,e){const n=nn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function lq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function cq(t,e){return t===e?"_index_":"_value_"}function q_(t){if(t==="x"||t==="y"||t==="r")return t}function uq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function S1(t,...e){if(q_(t))return t;for(const n of e){const r=n.axis||uq(n.position)||t.length>1&&q_(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function G_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function dq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return G_(t,"x",n[0])||G_(t,"y",n[0])}return{}}function hq(t,e){const n=ka[t.type]||{scales:{}},r=e.scales||{},s=b1(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Qe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=S1(o,a,dq(o,t),nn.scales[a.type]),c=cq(l,s),d=n.scales||{};i[o]=Wu(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||b1(a,e),d=(ka[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=lq(h,l),m=o[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),Wu(i[m],[{axis:p},r[m],d[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];Wu(a,[nn.scales[a.type],nn.scale])}),i}function Ej(t){const e=t.options||(t.options={});e.plugins=Ye(e.plugins,{}),e.scales=hq(t,e)}function Nj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fq(t){return t=t||{},t.data=Nj(t.data),Ej(t),t}const Z_=new Map,Mj=new Set;function tf(t,e){let n=Z_.get(t);return n||(n=e(),Z_.set(t,n),Mj.add(n)),n}const su=(t,e,n)=>{const r=cm(e,n);r!==void 0&&t.add(r)};class pq{constructor(e){this._config=fq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Nj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ej(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return tf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return tf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return tf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>su(l,e,h))),d.forEach(h=>su(l,s,h)),d.forEach(h=>su(l,ka[i]||{},h)),d.forEach(h=>su(l,nn,h)),d.forEach(h=>su(l,x1,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Mj.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ka[n]||{},nn.datasets[n]||{},{type:n},nn,x1]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Q_(this._resolverCache,e,s);let l=o;if(gq(o,n)){i.$shared=!1,r=vo(r)?r():r;const c=this.createResolver(e,r,a);l=uc(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=Q_(this._resolverCache,e,r);return Qe(n)?uc(i,n,void 0,s):i}}function Q_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Vv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const mq=t=>Qe(t)&&Object.getOwnPropertyNames(t).some(e=>vo(t[e]));function gq(t,e){const{isScriptable:n,isIndexable:r}=aj(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(vo(a)||mq(a))||o&&hn(a))return!0}return!1}var yq="4.5.0";const xq=["top","bottom","left","right","chartArea"];function X_(t,e){return t==="top"||t==="bottom"||xq.indexOf(t)===-1&&e==="x"}function J_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function ek(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),vt(n&&n.onComplete,[t],e)}function wq(t){const e=t.chart,n=e.options.animation;vt(n&&n.onProgress,[t],e)}function Aj(t){return qv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const np={},tk=t=>{const e=Aj(t);return Object.values(np).filter(n=>n.canvas===e).pop()};function vq(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function bq(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Ri;let w0=(Ri=class{static register(...e){bs.add(...e),nk()}static unregister(...e){bs.remove(...e),nk()}constructor(e,n){const r=this.config=new pq(n),s=Aj(e),i=tk(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zY(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=MV(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],np[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zs.listen(this,"complete",ek),Zs.listen(this,"progress",wq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return yt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():M_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return k_(this.canvas,this.ctx),this}stop(){return Zs.stop(this),this}resize(e,n){Zs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,M_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),vt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};at(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=S1(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),at(i,o=>{const a=o.options,l=a.id,c=S1(l,a),d=Ye(a.type,o.dtype);(a.position===void 0||X_(a.position,c)!==X_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const p=bs.getScale(d);h=new p({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),at(s,(o,a)=>{o||delete r[a]}),at(r,o=>{Fr.configure(this,o,o.options),Fr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(J_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||b1(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=bs.getController(a),{datasetElementType:c,dataElementType:d}=nn.datasets[a];Object.assign(l,{dataElementType:bs.getElement(d),datasetElementType:c&&bs.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){at(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),p=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||at(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(J_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){at(this.scales,e=>{Fr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!p_(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;vq(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!p_(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],at(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,vo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zs.has(this)?this.attached&&!Zs.running(this)&&Zs.start(this):(this.draw(),ek({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=yj(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&m0(n,s),e.controller.draw(),s&&g0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Td(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=xY.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=La(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);um(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Zs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),k_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete np[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};at(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){at(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},at(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!am(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=RV(e),c=bq(e,this._lastEvent,r,l);r&&(this._lastEvent=null,vt(i.onHover,[e,a,this],this),l&&vt(i.onClick,[e,a,this],this));const d=!am(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Se(Ri,"defaults",nn),Se(Ri,"instances",np),Se(Ri,"overrides",ka),Se(Ri,"registry",bs),Se(Ri,"version",yq),Se(Ri,"getChart",tk),Ri);function nk(){return at(w0.instances,t=>t._plugins.invalidate())}function Ij(t,e,n=e){t.lineCap=Ye(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ye(n.borderDash,e.borderDash)),t.lineDashOffset=Ye(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ye(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ye(n.borderWidth,e.borderWidth),t.strokeStyle=Ye(n.borderColor,e.borderColor)}function Sq(t,e,n){t.lineTo(n.x,n.y)}function _q(t){return t.stepped?lK:t.tension||t.cubicInterpolationMode==="monotone"?cK:Sq}function jj(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function kq(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=jj(s,n,r),d=_q(i);let{move:h=!0,reverse:p}=r||{},m,y,w;for(m=0;m<=c;++m)y=s[(a+(p?c-m:m))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):d(t,w,y,p,i.stepped),w=y);return l&&(y=s[(a+(p?c:0))%o],d(t,w,y,p,i.stepped)),!!l}function Eq(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=jj(s,n,r),{move:l=!0,reverse:c}=r||{};let d=0,h=0,p,m,y,w,b,g;const S=M=>(o+(c?a-M:M))%i,_=()=>{w!==b&&(t.lineTo(d,b),t.lineTo(d,w),t.lineTo(d,g))};for(l&&(m=s[S(0)],t.moveTo(m.x,m.y)),p=0;p<=a;++p){if(m=s[S(p)],m.skip)continue;const M=m.x,R=m.y,W=M|0;W===y?(R<w?w=R:R>b&&(b=R),d=(h*d+M)/++h):(_(),t.lineTo(M,R),y=W,h=0,w=b=R),g=R}_()}function _1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Eq:kq}function Nq(t){return t.stepped?UK:t.tension||t.cubicInterpolationMode==="monotone"?$K:Oo}function Mq(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Ij(t,e.options),t.stroke(s)}function Aq(t,e,n,r){const{segments:s,options:i}=e,o=_1(e);for(const a of s)Ij(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Iq=typeof Path2D=="function";function jq(t,e,n,r){Iq&&!e.options.segment?Mq(t,e,n,r):Aq(t,e,n,r)}class to extends bi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;LK(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GK(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=gj(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=Nq(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:p}=o[c],m=i[h],y=i[p];if(m===y){a.push(m);continue}const w=Math.abs((s-m[n])/(y[n]-m[n])),b=l(m,y,w,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return _1(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=_1(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),jq(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Se(to,"id","line"),Se(to,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Se(to,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Se(to,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rk(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class rp extends bi{constructor(n){super();Se(this,"parsed");Se(this,"skip");Se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return rk(this,n,"x",r)}inYRange(n,r){return rk(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Td(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,w1(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Se(rp,"id","point"),Se(rp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Se(rp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Cq(t,e,n){const r=t.segments,s=t.points,i=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=v0(l,c,s);const d=k1(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:d,start:s[l],end:s[c]});continue}const h=gj(e,d);for(const p of h){const m=k1(n,i[p.start],i[p.end],p.loop),y=mj(a,s,m);for(const w of y)o.push({source:w,target:p,start:{[n]:sk(d,m,"start",Math.max)},end:{[n]:sk(d,m,"end",Math.min)}})}}return o}function k1(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=Ss(s),i=Ss(i)),{property:t,start:s,end:i}}function Tq(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=v0(o,a,s);const l=s[o],c=s[a];r!==null?(i.push({x:l.x,y:r}),i.push({x:c.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:c.y}))}),i}function v0(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function sk(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Cj(t,e){let n=[],r=!1;return hn(t)?(r=!0,n=t):n=Tq(t,e),n.length?new to({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function ik(t){return t&&t.fill!==!1}function Rq(t,e,n){let s=t[e].fill;const i=[e];let o;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Yn(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;i.push(s),s=o.fill}return!1}function Lq(t,e,n){const r=Oq(t);if(Qe(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Yn(s)&&Math.floor(s)===s?Pq(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Pq(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Bq(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Qe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Dq(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Qe(t)?r=t.value:r=e.getBaseValue(),r}function Oq(t){const e=t.options,n=e.fill;let r=Ye(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function zq(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,o=r.points,a=Wq(e,n);a.push(Cj({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const c=i[l];for(let d=c.start;d<=c.end;d++)Fq(s,o[d],a)}return new to({points:s,options:{}})}function Wq(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function Fq(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:o,last:a,point:l}=Uq(i,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function Uq(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<i.length;c++){const d=i[c],h=o[d.start][n],p=o[d.end][n];if(bl(s,h,p)){a=s===h,l=s===p;break}}return{first:a,last:l,point:r}}class Tj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:o}=this;return n=n||{start:0,end:ls},e.arc(s,i,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function $q(t){const{chart:e,fill:n,line:r}=t;if(Yn(n))return Hq(e,n);if(n==="stack")return zq(t);if(n==="shape")return!0;const s=Vq(t);return s instanceof Tj?s:Cj(s,r)}function Hq(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Vq(t){return(t.scale||{}).getPointPositionForValue?Yq(t):Kq(t)}function Kq(t){const{scale:e={},fill:n}=t,r=Bq(n,e);if(Yn(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function Yq(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,o=Dq(n,e,i),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new Tj({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Zg(t,e,n){const r=$q(e),{chart:s,index:i,line:o,scale:a,axis:l}=e,c=o.options,d=c.fill,h=c.backgroundColor,{above:p=h,below:m=h}=d||{},y=s.getDatasetMeta(i),w=yj(s,y);r&&o.points.length&&(m0(t,n),qq(t,{line:o,target:r,above:p,below:m,area:n,scale:a,axis:l,clip:w}),g0(t))}function qq(t,e){const{line:n,target:r,above:s,below:i,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(c==="x"?(ok(t,r,o.top),Qg(t,{line:n,target:r,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),ok(t,r,o.bottom)):c==="y"&&(ak(t,r,o.left),Qg(t,{line:n,target:r,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),ak(t,r,o.right),d=s)),Qg(t,{line:n,target:r,color:d,scale:a,property:c,clip:l}),t.restore()}function ok(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=s[l],h=s[v0(l,c,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function ak(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=s[l],h=s[v0(l,c,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Qg(t,e){const{line:n,target:r,property:s,color:i,scale:o,clip:a}=e,l=Cq(n,r,s);for(const{source:c,target:d,start:h,end:p}of l){const{style:{backgroundColor:m=i}={}}=c,y=r!==!0;t.save(),t.fillStyle=m,Gq(t,o,a,y&&k1(s,h,p)),t.beginPath();const w=!!n.pathSegment(t,c);let b;if(y){w?t.closePath():lk(t,r,p,s);const g=!!r.pathSegment(t,d,{move:w,reverse:!0});b=w&&g,b||lk(t,r,h,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function Gq(t,e,n,r){const s=e.chart.chartArea,{property:i,start:o,end:a}=r||{};if(i==="x"||i==="y"){let l,c,d,h;i==="x"?(l=o,c=s.top,d=a,h=s.bottom):(l=s.left,c=o,d=s.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,d-l,h-c),t.clip()}}function lk(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var Zq={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,o,a,l;for(o=0;o<r;++o)i=t.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof to&&(l={visible:t.isDatasetVisible(o),index:o,fill:Lq(a,o,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,s.push(l);for(o=0;o<r;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=Rq(s,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),r&&a.fill&&Zg(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;ik(i)&&Zg(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!ik(r)||n.drawTime!=="beforeDatasetDraw"||Zg(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ck=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Qq=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class uk extends bi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Vn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ck(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let h=e;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-d;return this.legendItems.forEach((y,w)=>{const b=r+n/2+i.measureText(y.text).width;(w===0||c[c.length-1]+b+2*a>o)&&(h+=d,c[c.length-(w>0?0:1)]=0,m+=d,p++),l[w]={left:0,top:m,row:p,width:b,height:s},c[c.length-1]+=b+a}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let h=a,p=0,m=0,y=0,w=0;return this.legendItems.forEach((b,g)=>{const{itemWidth:S,itemHeight:_}=Xq(r,n,i,b,s);g>0&&m+_+2*a>d&&(h+=p+a,c.push({width:p,height:m}),y+=p+a,w++,p=m=0),l[g]={left:y,top:m,col:w,width:S,height:_},p=Math.max(p,S),m+=_+a}),h+=p,c.push({width:p,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Dl(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=$n(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=$n(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=$n(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=$n(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;m0(e,this),this._draw(),g0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=nn.color,l=Dl(e.rtl,this.left,this.width),c=Vn(o.font),{padding:d}=o,h=c.size,p=h/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:y,boxHeight:w,itemHeight:b}=ck(o,h),g=function(W,D,L){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;s.save();const F=Ye(L.lineWidth,1);if(s.fillStyle=Ye(L.fillStyle,a),s.lineCap=Ye(L.lineCap,"butt"),s.lineDashOffset=Ye(L.lineDashOffset,0),s.lineJoin=Ye(L.lineJoin,"miter"),s.lineWidth=F,s.strokeStyle=Ye(L.strokeStyle,a),s.setLineDash(Ye(L.lineDash,[])),o.usePointStyle){const $={radius:w*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:F},H=l.xPlus(W,y/2),K=D+p;ij(s,$,H,K,o.pointStyleWidth&&y)}else{const $=D+Math.max((h-w)/2,0),H=l.leftForLtr(W,y),K=Hu(L.borderRadius);s.beginPath(),Object.values(K).some(A=>A!==0)?v1(s,{x:H,y:$,w:y,h:w,radius:K}):s.rect(H,$,y,w),s.fill(),F!==0&&s.stroke()}s.restore()},S=function(W,D,L){Rd(s,L.text,W,D+b/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},_=this.isHorizontal(),M=this._computeTitleHeight();_?m={x:$n(i,this.left+d,this.right-r[0]),y:this.top+d+M,line:0}:m={x:this.left+d,y:$n(i,this.top+M+d,this.bottom-n[0].height),line:0},hj(this.ctx,e.textDirection);const R=b+d;this.legendItems.forEach((W,D)=>{s.strokeStyle=W.fontColor,s.fillStyle=W.fontColor;const L=s.measureText(W.text).width,F=l.textAlign(W.textAlign||(W.textAlign=o.textAlign)),$=y+p+L;let H=m.x,K=m.y;l.setWidth(this.width),_?D>0&&H+$+d>this.right&&(K=m.y+=R,m.line++,H=m.x=$n(i,this.left+d,this.right-r[m.line])):D>0&&K+R>this.bottom&&(H=m.x=H+n[m.line].width+d,m.line++,K=m.y=$n(i,this.top+M+d,this.bottom-n[m.line].height));const A=l.x(H);if(g(A,K,W),H=GV(F,H+y+p,_?H+$:this.right,e.rtl),S(l.x(H),K,W),_)m.x+=$+d;else if(typeof W.text!="string"){const f=c.lineHeight;m.y+=Rj(W,f)+d}else m.y+=R}),fj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Vn(n.font),s=Kr(n.padding);if(!n.display)return;const i=Dl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+c,h=$n(e.align,h,this.right-p);else{const y=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);d=c+$n(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=$n(a,h,h+p);o.textAlign=i.textAlign($v(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Rd(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=Vn(e.font),r=Kr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(bl(e,this.left,this.right)&&bl(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],bl(e,s.left,s.left+s.width)&&bl(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!tG(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Qq(s,r);s&&!i&&vt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&vt(n.onHover,[e,r,this],this)}else r&&vt(n.onClick,[e,r,this],this)}}function Xq(t,e,n,r,s){const i=Jq(r,t,e,n),o=eG(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Jq(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function eG(t,e,n){let r=t;return typeof e.text!="string"&&(r=Rj(e,n)),r}function Rj(t,e){const n=t.text?t.text.length:0;return e*n}function tG(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var nG={id:"legend",_element:uk,start(t,e,n){const r=t.legend=new uk({ctx:t.ctx,options:n,chart:t});Fr.configure(t,r,n),Fr.addBox(t,r)},stop(t){Fr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Fr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Kr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Lj extends bi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=hn(r.text)?r.text.length:1;this._padding=Kr(r.padding);const i=s*Vn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=$n(a,r,i),h=n+e,c=i-r):(o.position==="left"?(d=r+e,h=$n(a,s,n),l=Sn*-.5):(d=i-e,h=$n(a,n,s),l=Sn*.5),c=s-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Vn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Rd(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:$v(n.align),textBaseline:"middle",translation:[o,a]})}}function rG(t,e){const n=new Lj({ctx:t.ctx,options:e,chart:t});Fr.configure(t,n,e),Fr.addBox(t,n),t.titleBlock=n}var sG={id:"title",_element:Lj,start(t,e,n){rG(t,n)},stop(t){const e=t.titleBlock;Fr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Fr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Eu={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=y1(e,c);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ws(t,e){return e&&(hn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Qs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function iG(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function dk(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Vn(e.bodyFont),c=Vn(e.titleFont),d=Vn(e.footerFont),h=i.length,p=s.length,m=r.length,y=Kr(e.padding);let w=y.height,b=0,g=r.reduce((M,R)=>M+R.before.length+R.lines.length+R.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(w+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const M=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=m*M+(g-m)*l.lineHeight+(g-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let S=0;const _=function(M){b=Math.max(b,n.measureText(M).width+S)};return n.save(),n.font=c.string,at(t.title,_),n.font=l.string,at(t.beforeBody.concat(t.afterBody),_),S=e.displayColors?o+2+e.boxPadding:0,at(r,M=>{at(M.before,_),at(M.lines,_),at(M.after,_)}),S=0,n.font=d.string,at(t.footer,_),n.restore(),b+=y.width,{width:b,height:w}}function oG(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function aG(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function lG(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),aG(c,t,e,n)&&(c="center"),c}function hk(t,e,n){const r=n.yAlign||e.yAlign||oG(t,n);return{xAlign:n.xAlign||e.xAlign||lG(t,e,n,r),yAlign:r}}function cG(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function uG(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function fk(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=Hu(o);let y=cG(e,a);const w=uG(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(d,p)+s:a==="right"&&(y+=Math.max(h,m)+s),{x:Wr(y,0,r.width-e.width),y:Wr(w,0,r.height-e.height)}}function nf(t,e,n){const r=Kr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function pk(t){return ws([],Qs(t))}function dG(t,e,n){return La(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function mk(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Pj={beforeTitle:Ys,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ys,beforeBody:Ys,beforeLabel:Ys,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return yt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ys,afterBody:Ys,beforeFooter:Ys,footer:Ys,afterFooter:Ys};function nr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?Pj[e].call(n,r):s}class E1 extends bi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new xj(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=dG(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=nr(r,"beforeTitle",this,e),i=nr(r,"title",this,e),o=nr(r,"afterTitle",this,e);let a=[];return a=ws(a,Qs(s)),a=ws(a,Qs(i)),a=ws(a,Qs(o)),a}getBeforeBody(e,n){return pk(nr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return at(e,i=>{const o={before:[],lines:[],after:[]},a=mk(r,i);ws(o.before,Qs(nr(a,"beforeLabel",this,i))),ws(o.lines,nr(a,"label",this,i)),ws(o.after,Qs(nr(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return pk(nr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=nr(r,"beforeFooter",this,e),i=nr(r,"footer",this,e),o=nr(r,"afterFooter",this,e);let a=[];return a=ws(a,Qs(s)),a=ws(a,Qs(i)),a=ws(a,Qs(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(iG(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,p)=>e.filter(d,h,p,r))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,r))),at(a,d=>{const h=mk(e.callbacks,d);s.push(nr(h,"labelColor",this,d)),i.push(nr(h,"labelPointStyle",this,d)),o.push(nr(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Eu[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=dk(this,r),c=Object.assign({},a,l),d=hk(this.chart,r,c),h=fk(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=Hu(a),{x:p,y:m}=e,{width:y,height:w}=n;let b,g,S,_,M,R;return i==="center"?(M=m+w/2,s==="left"?(b=p,g=b-o,_=M+o,R=M-o):(b=p+y,g=b+o,_=M-o,R=M+o),S=b):(s==="left"?g=p+Math.max(l,d)+o:s==="right"?g=p+y-Math.max(c,h)-o:g=this.caretX,i==="top"?(_=m,M=_-o,b=g-o,S=g+o):(_=m+w,M=_+o,b=g+o,S=g-o),R=_),{x1:b,x2:g,x3:S,y1:_,y2:M,y3:R}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Dl(r.rtl,this.x,this.width);for(e.x=nf(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Vn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=Vn(i.bodyFont),h=nf(this,"left",i),p=s.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+m;if(i.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(p,c)+c/2,g=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,w1(e,w,b,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,w1(e,w,b,g)}else{e.lineWidth=Qe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=s.leftForLtr(p,c),b=s.leftForLtr(s.xPlus(p,1),c-2),g=Hu(o.borderRadius);Object.values(g).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,v1(e,{x:w,y,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),v1(e,{x:b,y:y+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,y,c,l),e.strokeRect(w,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,h=Vn(r.bodyFont);let p=h.lineHeight,m=0;const y=Dl(r.rtl,this.x,this.width),w=function(L){n.fillText(L,y.x(e.x+m),e.y+p/2),e.y+=p+i},b=y.textAlign(o);let g,S,_,M,R,W,D;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=nf(this,b,r),n.fillStyle=r.bodyColor,at(this.beforeBody,w),m=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,M=0,W=s.length;M<W;++M){for(g=s[M],S=this.labelTextColors[M],n.fillStyle=S,at(g.before,w),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,M,y,r),p=Math.max(h.lineHeight,l)),R=0,D=_.length;R<D;++R)w(_[R]),p=h.lineHeight;at(g.after,w)}m=0,p=h.lineHeight,at(this.afterBody,w),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Dl(r.rtl,this.x,this.width);for(e.x=nf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Vn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:y}=Hu(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+d-y),n.quadraticCurveTo(a+c,l+d,a+c-y,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Eu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=dk(this,e),l=Object.assign({},o,this._size),c=hk(n,e,l),d=fk(e,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Kr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),hj(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),fj(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!am(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!am(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=Eu[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}Se(E1,"positioners",Eu);var hG={id:"tooltip",_element:E1,positioners:Eu,afterInit(t,e,n){n&&(t.tooltip=new E1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fG=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pG(t,e,n,r){const s=t.indexOf(e);if(s===-1)return fG(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const mG=(t,e)=>t===null?null:Wr(Math.round(t),0,e);function gk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class N1 extends _c{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(yt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:pG(r,e,Ye(n,e),this._addedLabels),mG(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return gk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Se(N1,"id","category"),Se(N1,"defaults",{ticks:{callback:gk}});function gG(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:p}=t,m=i||1,y=d-1,{min:w,max:b}=e,g=!yt(o),S=!yt(a),_=!yt(c),M=(b-w)/(h+1);let R=g_((b-w)/y/m)*m,W,D,L,F;if(R<1e-14&&!g&&!S)return[{value:w},{value:b}];F=Math.ceil(b/R)-Math.floor(w/R),F>y&&(R=g_(F*R/y/m)*m),yt(l)||(W=Math.pow(10,l),R=Math.ceil(R*W)/W),s==="ticks"?(D=Math.floor(w/R)*R,L=Math.ceil(b/R)*R):(D=w,L=b),g&&S&&i&&OV((a-o)/i,R/1e3)?(F=Math.round(Math.min((a-o)/R,d)),R=(a-o)/F,D=o,L=a):_?(D=g?o:D,L=S?a:L,F=c-1,R=(L-D)/F):(F=(L-D)/R,Fu(F,Math.round(F),R/1e3)?F=Math.round(F):F=Math.ceil(F));const $=Math.max(y_(R),y_(D));W=Math.pow(10,yt(l)?$:l),D=Math.round(D*W)/W,L=Math.round(L*W)/W;let H=0;for(g&&(p&&D!==o?(n.push({value:o}),D<o&&H++,Fu(Math.round((D+H*R)*W)/W,o,yk(o,M,t))&&H++):D<o&&H++);H<F;++H){const K=Math.round((D+H*R)*W)/W;if(S&&K>a)break;n.push({value:K})}return S&&p&&L!==a?n.length&&Fu(n[n.length-1].value,a,yk(a,M,t))?n[n.length-1].value=a:n.push({value:a}):(!S||L===a)&&n.push({value:L}),n}function yk(t,e,{horizontal:n,minRotation:r}){const s=ia(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class yG extends _c{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return yt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=cc(s),c=cc(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=gG(s,i);return e.bounds==="ticks"&&zV(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return rj(e,this.chart.options.locale,this.options.ticks.format)}}class M1 extends yG{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Yn(e)?e:0,this.max=Yn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ia(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Se(M1,"id","linear"),Se(M1,"defaults",{ticks:{callback:sj.formatters.numeric}});const b0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cr=Object.keys(b0);function xk(t,e){return t-e}function wk(t,e){if(yt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Yn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Cd(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function vk(t,e,n,r){const s=cr.length;for(let i=cr.indexOf(t);i<s-1;++i){const o=b0[cr[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return cr[i]}return cr[s-1]}function xG(t,e,n,r,s){for(let i=cr.length-1;i>=cr.indexOf(n);i--){const o=cr[i];if(b0[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return cr[n?cr.indexOf(n):0]}function wG(t){for(let e=cr.indexOf(t)+1,n=cr.length;e<n;++e)if(b0[cr[e]].common)return cr[e]}function bk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Uv(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function vG(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Sk(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:vG(t,r,s,n)}class pm extends _c{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new fY._date(e.adapters.date);s.init(n),Wu(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:wk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Yn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Yn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=VV(s,i,o);return this._unit=n.unit||(r.autoSkip?vk(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):xG(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:wG(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Sk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Wr(n,0,o),r=Wr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||vk(i.minUnit,n,r,this._getLabelCapacity(n)),a=Ye(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Cd(l)||l===!0,d={};let h=n,p,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(p=h,m=0;p<r;p=+e.add(p,a,o),m++)bk(d,p,y);return(p===r||s.bounds==="ticks"||m===1)&&bk(d,p,y),Object.keys(d).sort(xk).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return vt(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],p=r[n],m=c&&h&&p&&p.major;return this._adapter.format(e,s||(m?h:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ia(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,Sk(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(wk(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return YV(e.sort(xk))}}Se(pm,"id","time"),Se(pm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rf(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=oa(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=oa(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class _k extends pm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=rf(n,this.min),this._tableRange=rf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(rf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return rf(this._table,r*this._tableRange+this._minPos,!0)}}Se(_k,"id","timeseries"),Se(_k,"defaults",pm.defaults);const Bj="label";function kk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function bG(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Dj(t,e){t.labels=e}function Oj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bj;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function SG(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bj;const n={labels:[],datasets:[]};return Dj(n,t.labels),Oj(n,t.datasets,e),n}function _G(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...p}=t,m=z.useRef(null),y=z.useRef(null),w=()=>{m.current&&(y.current=new w0(m.current,{type:o,data:SG(a,i),options:l&&{...l},plugins:c}),kk(e,y.current))},b=()=>{kk(e,null),y.current&&(y.current.destroy(),y.current=null)};return z.useEffect(()=>{!s&&y.current&&l&&bG(y.current,l)},[s,l]),z.useEffect(()=>{!s&&y.current&&Dj(y.current.config.data,a.labels)},[s,a.labels]),z.useEffect(()=>{!s&&y.current&&a.datasets&&Oj(y.current.config.data,a.datasets,i)},[s,a.datasets]),z.useEffect(()=>{y.current&&(s?(b(),setTimeout(w)):y.current.update(h))},[s,l,a.labels,a.datasets,h]),z.useEffect(()=>{y.current&&(b(),setTimeout(w))},[o]),z.useEffect(()=>(w(),()=>b()),[]),V.createElement("canvas",{ref:m,role:"img",height:n,width:r,...p},d)}const kG=z.forwardRef(_G);function EG(t,e){return w0.register(e),z.forwardRef((n,r)=>V.createElement(kG,{...n,ref:r,type:t}))}const NG=EG("line",ep),MG=()=>{var l,c,d;const[t,e]=z.useState({connected:!1}),[n,r]=z.useState(!1),[s,i]=z.useState(null),o=async()=>{r(!0),i(null);try{if(!window.solana||!window.solana.isPhantom){i("Phantom wallet not found. Please install Phantom wallet extension."),r(!1);return}const p=(await window.solana.connect()).publicKey.toString();e({connected:!0,address:p,balance:0})}catch(h){i("Failed to connect wallet. Please try again."),console.error("Wallet connection error:",h)}finally{r(!1)}},a=()=>{window.solana&&window.solana.disconnect(),e({connected:!1})};return u.jsxs("div",{className:"wallet-connect-item",children:[u.jsx("label",{children:"Wallet Connection:"}),u.jsxs("div",{className:"wallet-section",children:[t.connected?u.jsxs("div",{className:"wallet-info",children:[u.jsx("div",{className:"wallet-address",children:u.jsxs("span",{children:["Connected: ",(l=t.address)==null?void 0:l.slice(0,4),"...",(c=t.address)==null?void 0:c.slice(-4)]})}),u.jsx("div",{className:"wallet-balance",children:u.jsxs("span",{children:["Balance: ",((d=t.balance)==null?void 0:d.toFixed(4))||"0"," SOL"]})})]}):u.jsx("div",{className:"wallet-disconnected",children:u.jsx("span",{children:"Connect wallet to execute strategies"})}),u.jsx("button",{className:"wallet-button",onClick:t.connected?a:o,disabled:n,children:n?"Connecting...":t.connected?"Disconnect":"Connect Wallet"})]}),s&&u.jsx("div",{className:"wallet-error",children:u.jsx("span",{children:s})})]})};w0.register(N1,M1,rp,to,sG,hG,nG,Zq);const AG=({data:t})=>u.jsxs("div",{className:"strategy-node input-node",title:"Data Source: Provides real-time token data for strategy execution",children:[u.jsx(wo,{type:"source",position:ke.Right}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:"node-risk-badge low-risk",children:"Low Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Token:"}),u.jsx("input",{type:"text",placeholder:"SOL, ETH, etc.",value:t.token||"",onChange:e=>t.onChange("token",e.target.value)})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Data Type:"}),u.jsxs("select",{value:t.dataType||"price",onChange:e=>t.onChange("dataType",e.target.value),children:[u.jsx("option",{value:"price",children:"Price"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"volatility",children:"Volatility"}),u.jsx("option",{value:"market_cap",children:"Market Cap"})]})]})]})]}),IG=({data:t})=>u.jsxs("div",{className:"strategy-node logic-node",title:"Strategy Logic: Defines conditions and triggers for your strategy",children:[u.jsx(wo,{type:"target",position:ke.Left}),u.jsx(wo,{type:"source",position:ke.Right}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/StrategyLogicIcon.png",alt:"Strategy Logic",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Logic Type:"}),u.jsxs("select",{value:t.logicType||"time",onChange:e=>t.onChange("logicType",e.target.value),children:[u.jsx("option",{value:"time",children:"Time-Based"}),u.jsx("option",{value:"price",children:"Price-Based"}),u.jsx("option",{value:"volatility",children:"Volatility-Based"}),u.jsx("option",{value:"volume",children:"Volume-Based"}),u.jsx("option",{value:"ai",children:"AI-Optimized"})]})]}),t.logicType==="time"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Duration:"}),u.jsxs("select",{value:t.duration||"3",onChange:e=>t.onChange("duration",e.target.value),children:[u.jsx("option",{value:"1",children:"1 Week"}),u.jsx("option",{value:"2",children:"2 Weeks"}),u.jsx("option",{value:"3",children:"3 Weeks"}),u.jsx("option",{value:"4",children:"1 Month"}),u.jsx("option",{value:"8",children:"2 Months"}),u.jsx("option",{value:"12",children:"3 Months"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Profit Target (%):"}),u.jsx("input",{type:"number",placeholder:"15",value:t.profitTarget||"",onChange:e=>t.onChange("profitTarget",e.target.value)})]})]}),t.logicType==="price"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Condition:"}),u.jsxs("select",{value:t.condition||"above",onChange:e=>t.onChange("condition",e.target.value),children:[u.jsx("option",{value:"above",children:"Price Above"}),u.jsx("option",{value:"below",children:"Price Below"}),u.jsx("option",{value:"crosses",children:"Price Crosses"}),u.jsx("option",{value:"percent_change",children:"% Change"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Value:"}),u.jsx("input",{type:"number",placeholder:"0.00",value:t.value||"",onChange:e=>t.onChange("value",e.target.value)})]})]}),t.logicType==="volatility"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Volatility Threshold:"}),u.jsxs("select",{value:t.volatilityThreshold||"high",onChange:e=>t.onChange("volatilityThreshold",e.target.value),children:[u.jsx("option",{value:"low",children:"Low (< 20%)"}),u.jsx("option",{value:"medium",children:"Medium (20-50%)"}),u.jsx("option",{value:"high",children:"High (> 50%)"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action:"}),u.jsxs("select",{value:t.volatilityAction||"exit",onChange:e=>t.onChange("volatilityAction",e.target.value),children:[u.jsx("option",{value:"exit",children:"Exit Position"}),u.jsx("option",{value:"hedge",children:"Hedge Position"}),u.jsx("option",{value:"rebalance",children:"Rebalance"})]})]})]}),t.logicType==="ai"&&u.jsxs("div",{className:"ai-logic-info",children:[u.jsxs("div",{className:"ai-badge",children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",style:{width:"16px",height:"16px",marginRight:"4px",verticalAlign:"middle"}})," AI-Powered"]}),u.jsx("p",{children:"AI analyzes market conditions and optimizes entry/exit timing"}),u.jsxs("div",{className:"ai-improvement",children:[u.jsx("span",{children:"Estimated Improvement:"}),u.jsx("span",{className:"improvement-value",children:"+75%"})]})]})]})]}),jG=({data:t})=>u.jsxs("div",{className:"strategy-node action-node",title:"Action: Defines what happens when conditions are met",children:[u.jsx(wo,{type:"target",position:ke.Left}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action Type:"}),u.jsxs("select",{value:t.actionType||"entry",onChange:e=>t.onChange("actionType",e.target.value),children:[u.jsx("option",{value:"entry",children:"Entry Action"}),u.jsx("option",{value:"exit",children:"Exit Action"}),u.jsx("option",{value:"rebalance",children:"Rebalance"}),u.jsx("option",{value:"hedge",children:"Hedge"})]})]}),t.actionType==="entry"&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action:"}),u.jsxs("select",{value:t.action||"stake",onChange:e=>t.onChange("action",e.target.value),children:[u.jsx("option",{value:"stake",children:"Stake"}),u.jsx("option",{value:"buy",children:"Buy"}),u.jsx("option",{value:"liquidity",children:"Add Liquidity"}),u.jsx("option",{value:"yield_farm",children:"Yield Farm"})]})]})}),t.actionType==="exit"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Exit Strategy:"}),u.jsxs("select",{value:t.exitStrategy||"all",onChange:e=>t.onChange("exitStrategy",e.target.value),children:[u.jsx("option",{value:"all",children:"All (Initial + Earnings)"}),u.jsx("option",{value:"earnings",children:"Earnings Only"}),u.jsx("option",{value:"partial",children:"Partial Exit"}),u.jsx("option",{value:"stop_loss",children:"Stop Loss"})]})]}),t.exitStrategy==="stop_loss"&&u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Stop Loss (%):"}),u.jsx("input",{type:"number",placeholder:"10",value:t.stopLoss||"",onChange:e=>t.onChange("stopLoss",e.target.value)})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Auto Execute:"}),u.jsxs("select",{value:t.autoExecute||"true",onChange:e=>t.onChange("autoExecute",e.target.value),children:[u.jsx("option",{value:"true",children:"Yes (Automated)"}),u.jsx("option",{value:"false",children:"No (Manual Approval)"})]})]})]})]}),CG={inputNode:AG,logicNode:IG,actionNode:jG},TG=()=>{const[t,e,n]=LH([]),[r,s,i]=PH([]),[o,a]=z.useState(null),[l,c]=z.useState("My DeFi Strategy"),[d,h]=z.useState(!1),[p,m]=z.useState(null),[y,w]=z.useState("20"),[b,g]=z.useState("SOL"),[S,_]=z.useState(150),[M,R]=z.useState(!1),[W,D]=z.useState(""),[L,F]=z.useState("medium"),[$,H]=z.useState(!1),[K,A]=z.useState(!1),f=z.useMemo(()=>(parseFloat(y)||0)*S,[y,S]),x=z.useMemo(()=>S,[S]),k=z.useCallback(()=>{const J=t.filter(le=>le.type==="logicNode"),se=t.filter(le=>le.type==="actionNode");let re=0;return J.forEach(le=>{var ge,be,Ve;((ge=le.data)==null?void 0:ge.logicType)==="volatility"&&(re+=2),((be=le.data)==null?void 0:be.logicType)==="ai"&&(re+=1),((Ve=le.data)==null?void 0:Ve.logicType)==="price"&&(re+=1)}),se.forEach(le=>{var ge,be;((ge=le.data)==null?void 0:ge.actionType)==="hedge"&&(re-=1),((be=le.data)==null?void 0:be.exitStrategy)==="stop_loss"&&(re-=1)}),re<=0?"low":re<=2?"medium":"high"},[t]),I=z.useCallback(J=>s(se=>aI(J,se)),[s]),C=z.useCallback((J,se)=>{a(se)},[]),j=z.useCallback((J,se,re)=>{e(le=>le.map(ge=>ge.id===J?{...ge,data:{...ge.data,[se]:re}}:ge))},[e]),P=z.useCallback((J,se)=>{const re={id:`${J}-${Date.now()}`,type:J==="input"?"inputNode":J==="logic"?"logicNode":"actionNode",position:se,data:{label:J==="input"?"Data Input":J==="logic"?"Strategy Logic":"Action",onChange:(le,ge)=>j(re.id,le,ge),token:b,duration:"3",profitTarget:"15",action:"stake",exitStrategy:"all",logicType:"time",riskLevel:"medium-risk"}};e(le=>[...le,re])},[e,j,b]),T=z.useCallback(J=>{J.preventDefault();const se=J.dataTransfer.getData("application/reactflow"),re={x:J.clientX-280,y:J.clientY-100};P(se,re)},[P]),v=z.useCallback(J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},[]),B=z.useCallback(()=>{W.trim()&&(h(!0),setTimeout(()=>{const J=[{id:"ai-input-1",type:"inputNode",position:{x:100,y:100},data:{label:"AI Data Source",onChange:(re,le)=>j("ai-input-1",re,le),token:b,dataType:"price"}},{id:"ai-logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"AI-Optimized Logic",onChange:(re,le)=>j("ai-logic-1",re,le),logicType:"ai",duration:"4",profitTarget:"12",riskLevel:"low-risk"}},{id:"ai-action-1",type:"actionNode",position:{x:700,y:100},data:{label:"AI Action",onChange:(re,le)=>j("ai-action-1",re,le),actionType:"entry",action:"stake",riskLevel:"low-risk"}}],se=[{id:"ai-e1-2",source:"ai-input-1",target:"ai-logic-1"},{id:"ai-e2-3",source:"ai-logic-1",target:"ai-action-1"}];e(J),s(se),R(!1),h(!1)},2e3))},[W,b,e,s,j]),Q=z.useCallback(()=>{h(!0),setTimeout(()=>{var Ve,Te,Ce,ie;const J=parseFloat(((Te=(Ve=t.find(fe=>fe.type==="logicNode"))==null?void 0:Ve.data)==null?void 0:Te.profitTarget)||"15"),se=parseInt(((ie=(Ce=t.find(fe=>fe.type==="logicNode"))==null?void 0:Ce.data)==null?void 0:ie.duration)||"3"),re=parseFloat(y),le=re*J/100,ge=k(),be=t.some(fe=>{var ae;return((ae=fe.data)==null?void 0:ae.logicType)==="ai"})?75:0;m({totalReturn:J+be,timeToExit:`${se} weeks`,expectedProfit:le.toFixed(2),initialInvestment:re,finalValue:(re+le).toFixed(2),successRate:95,riskLevel:ge,maxDrawdown:ge==="high"?25:ge==="medium"?15:8,sharpeRatio:ge==="high"?1.2:ge==="medium"?1.8:2.5,aiImprovement:be,chartData:{labels:Array.from({length:se},(fe,ae)=>`Week ${ae+1}`),datasets:[{label:`${b} Value`,data:Array.from({length:se},(fe,ae)=>{const dt=(J+be)/se;return re+re*dt*(ae+1)/100}),borderColor:"#6D8FC7",backgroundColor:"rgba(109, 143, 199, 0.1)",tension:.4,fill:!0}]}}),h(!1)},2e3)},[t,y,b,k]),Z=z.useCallback(()=>{const J={name:l,nodes:t,edges:r,depositAmount:y,selectedToken:b,totalCostUSD:f,riskLevel:k(),timestamp:new Date().toISOString()};console.log("Saving strategy:",J),alert("Strategy saved! (Check console for details)")},[l,t,r,y,b,f,k]),ne=z.useCallback(()=>{const J={name:l,nodes:t,edges:r,riskLevel:k(),publishedAt:new Date().toISOString(),author:"User",forks:0,likes:0};console.log("Publishing strategy:",J),H(!1),alert("Strategy published! (Check console for details)")},[l,t,r,k]);return V.useEffect(()=>{const J=[{id:"input-1",type:"inputNode",position:{x:100,y:100},data:{label:"Token Data",onChange:(re,le)=>j("input-1",re,le),token:b,dataType:"price"}},{id:"logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"Strategy Logic",onChange:(re,le)=>j("logic-1",re,le),logicType:"time",duration:"3",profitTarget:"15",riskLevel:"medium-risk"}},{id:"action-1",type:"actionNode",position:{x:700,y:100},data:{label:"Action",onChange:(re,le)=>j("action-1",re,le),actionType:"entry",action:"stake",riskLevel:"medium-risk"}}],se=[{id:"e1-2",source:"input-1",target:"logic-1"},{id:"e2-3",source:"logic-1",target:"action-1"}];e(J),s(se)},[b]),u.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Strategy Builder"}),u.jsx("p",{className:"text-cyphr-gray",children:"Test your risk before you buy"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex-1 max-w-md",children:u.jsx("input",{type:"text",value:l,onChange:J=>c(J.target.value),placeholder:"Enter strategy name...",className:"elite-input px-4 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm w-full"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>R(!0),children:"AI Builder"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:Q,disabled:d,children:d?"Simulating...":"Simulate Strategy"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:Z,children:"Save Strategy"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>H(!0),children:"Publish"})]})]}),u.jsxs("div",{className:"risk-profile-banner animate-slide-up",children:[u.jsxs("div",{className:"risk-indicator",children:[u.jsx("span",{className:"risk-label",children:"Strategy Risk Level:"}),u.jsxs("span",{className:`risk-badge ${k()}-risk`,children:[k().toUpperCase()," RISK"]})]}),u.jsxs("div",{className:"risk-metrics",children:[u.jsxs("div",{className:"risk-metric",children:[u.jsx("span",{children:"Max Drawdown:"}),u.jsx("span",{className:"metric-value",children:k()==="high"?"25%":k()==="medium"?"15%":"8%"})]}),u.jsxs("div",{className:"risk-metric",children:[u.jsx("span",{children:"Sharpe Ratio:"}),u.jsx("span",{className:"metric-value",children:k()==="high"?"1.2":k()==="medium"?"1.8":"2.5"})]})]})]}),u.jsx("div",{className:"deposit-config animate-slide-up",children:u.jsxs("div",{className:"config-card",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}})," Deposit Configuration"]}),u.jsxs("div",{className:"config-grid",children:[u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Token:"}),u.jsxs("select",{value:b,onChange:J=>g(J.target.value),className:"cyphr-select",children:[u.jsx("option",{value:"SOL",children:"SOL"}),u.jsx("option",{value:"ETH",children:"ETH"}),u.jsx("option",{value:"BTC",children:"BTC"}),u.jsx("option",{value:"USDC",children:"USDC"})]})]}),u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Amount:"}),u.jsx("input",{type:"number",value:y,onChange:J=>w(J.target.value),placeholder:"20",className:"cyphr-input"})]}),u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Total Cost (USD):"}),u.jsxs("div",{className:"cost-display",children:[u.jsxs("span",{className:"cost-amount",children:["$",f.toFixed(2)]}),u.jsxs("span",{className:"cost-per-token",children:["@ $",x.toFixed(2)," per ",b]})]})]}),u.jsx(MG,{})]})]})}),M&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"middle"}})," AI Strategy Builder"]}),u.jsx("button",{className:"modal-close",onClick:()=>R(!1),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Describe your strategy and AI will generate it for you:"}),u.jsx("textarea",{value:W,onChange:J=>D(J.target.value),placeholder:"e.g., 'I want a low-risk staking strategy for SOL with 10% yield and stop-loss protection'",className:"ai-prompt-input"}),u.jsxs("div",{className:"ai-examples",children:[u.jsx("h4",{children:"Example Prompts:"}),u.jsxs("ul",{children:[u.jsx("li",{children:'"Conservative yield farming with USDC, max 5% risk"'}),u.jsx("li",{children:'"Aggressive SOL trading with AI optimization"'}),u.jsx("li",{children:'"Balanced portfolio with automatic rebalancing"'})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>R(!1),children:"Cancel"}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:B,children:"Generate Strategy"})]})]})}),$&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Publish Strategy"}),u.jsx("button",{className:"modal-close",onClick:()=>H(!1),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Share your strategy with the community and earn from referrals:"}),u.jsxs("div",{className:"social-benefits",children:[u.jsxs("div",{className:"benefit-item",children:[u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",className:"benefit-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Earn 5% from strategy forks"})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("span",{className:"benefit-icon",children:""}),u.jsx("span",{children:"Build reputation in the community"})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("span",{className:"benefit-icon",children:""}),u.jsx("span",{children:"Collaborate with other builders"})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>H(!1),children:"Cancel"}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:ne,children:"Publish Strategy"})]})]})}),u.jsxs("div",{className:"builder-content animate-slide-up",children:[u.jsxs("div",{className:"sidebar animate-slide-up",children:[u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Data Sources"]}),u.jsx("div",{className:"node-palette",children:u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","input")},title:"Drag to add data source node",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Token Data"})]})})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/StrategyLogicIcon.png",alt:"Strategy Logic",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Logic"]}),u.jsxs("div",{className:"node-palette",children:[u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add logic node",children:[u.jsx("img",{src:"/TimeProfitIcon.png",alt:"Time & Profit",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Time & Profit Logic"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add price-based logic",children:[u.jsx("img",{src:"/PriceLogic.png",alt:"Price Logic",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Price-Based Logic"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add volatility-based logic",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Volatility Logic"})]}),u.jsxs("div",{className:"palette-item ai-palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add AI-optimized logic",children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",className:"palette-icon",style:{width:"20px",height:"20px",margin:"0 -4px"}}),u.jsx("span",{children:"AI-Optimized Logic"}),u.jsx("span",{className:"ai-badge",children:"+75%"})]})]})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",style:{width:"16px",height:"16px",marginRight:"8px"}})," Actions"]}),u.jsxs("div",{className:"node-palette",children:[u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","action")},title:"Drag to add action node",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Entry & Exit"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:J=>{J.dataTransfer.setData("application/reactflow","action")},title:"Drag to add hedge action",children:[u.jsx("img",{src:"/HedgeIcon.png",alt:"Hedge",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Hedge Action"})]})]})]})]}),u.jsxs("div",{className:"canvas-container animate-slide-up",onDrop:T,onDragOver:v,children:[t.length===0&&u.jsx("div",{className:"empty-canvas",children:u.jsxs("div",{className:"empty-canvas-content",children:[u.jsx("h2",{children:"Build Your DeFi Strategy"}),u.jsx("p",{children:"Drag and drop components from the sidebar to create your strategy"}),u.jsxs("div",{className:"canvas-instructions",children:[u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Start with Token Data"})]}),u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/TimeProfitIcon.png",alt:"Time & Profit",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Add Time & Profit Logic"})]}),u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Configure Entry & Exit"})]})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-ai",onClick:()=>R(!0),children:"Or use AI Builder"})]})}),u.jsxs(UI,{nodes:t,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:I,onNodeClick:C,nodeTypes:CG,fitView:!0,className:"strategy-canvas",children:[u.jsx(XH,{}),u.jsx(sV,{}),u.jsx(VH,{})]})]}),u.jsxs("div",{className:"results-panel animate-slide-up",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Results"]}),d?u.jsxs("div",{className:"simulation-loading",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"Running simulation..."})]}):p?u.jsxs("div",{className:"simulation-results",children:[u.jsxs("div",{className:"result-metrics",children:[u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Total Return"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.totalReturn,"%"]})]}),p.aiImprovement>0&&u.jsxs("div",{className:"metric ai-improvement",children:[u.jsx("span",{className:"metric-label",children:"AI Improvement"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.aiImprovement,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Time to Exit"}),u.jsx("span",{className:"metric-value",children:p.timeToExit})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Expected Profit"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.expectedProfit," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Initial Investment"}),u.jsxs("span",{className:"metric-value",children:[p.initialInvestment," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Final Value"}),u.jsxs("span",{className:"metric-value",children:[p.finalValue," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Success Rate"}),u.jsxs("span",{className:"metric-value",children:[p.successRate,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Max Drawdown"}),u.jsxs("span",{className:"metric-value",children:[p.maxDrawdown,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Sharpe Ratio"}),u.jsx("span",{className:"metric-value",children:p.sharpeRatio})]})]}),u.jsx("div",{className:"result-chart",children:u.jsx(NG,{data:p.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1a1a1a",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#333",borderWidth:1}},scales:{x:{grid:{color:"#333"},ticks:{color:"#888"}},y:{grid:{color:"#333"},ticks:{color:"#888"}}}}})})]}):u.jsx("div",{className:"no-results",children:u.jsx("p",{children:'Click "Simulate Strategy" to see results'})})]})]}),o&&u.jsxs("div",{className:"node-properties",children:[u.jsx("h3",{children:" Node Properties"}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Node Type:"}),u.jsx("span",{children:o.type})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Node ID:"}),u.jsx("span",{children:o.id})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-danger",onClick:()=>{e(J=>J.filter(se=>se.id!==o.id)),a(null)},children:" Delete Node"})]})]})},RG=()=>{const{id:t}=$5(),[e,n]=z.useState("overview"),[r,s]=z.useState("100"),[i,o]=z.useState("buy"),a={name:"PEPE",symbol:"PEPE",address:"0x6982508145454ce325ddbe47a25d4ec3d2311933",price:"$0.00001234",change24h:"+23.4%",marketCap:"$1.2B",volume24h:"$45.2M",liquidity:"$23.1M",holders:"125,432",totalSupply:"420,690,000,000,000",circulatingSupply:"420,690,000,000,000",buyTax:"2%",sellTax:"3%",description:"PEPE is a meme token inspired by the popular internet frog character. It has gained significant traction in the crypto community and continues to show strong momentum.",socialLinks:{website:"https://pepe.vip",telegram:"https://t.me/pepecoin",twitter:"https://twitter.com/pepecoineth",discord:"https://discord.gg/pepe"}},l=["1m","5m","15m","1h","4h","1d","1w"],c=[{time:"12:34:56",price:"0.00001234",amount:"1,234,567",side:"buy"},{time:"12:34:52",price:"0.00001233",amount:"2,345,678",side:"sell"},{time:"12:34:48",price:"0.00001235",amount:"3,456,789",side:"buy"},{time:"12:34:44",price:"0.00001232",amount:"4,567,890",side:"sell"},{time:"12:34:40",price:"0.00001236",amount:"5,678,901",side:"buy"}],d=[{range:"0-1K",count:"45,234",percentage:"36.1%"},{range:"1K-10K",count:"32,156",percentage:"25.7%"},{range:"10K-100K",count:"28,945",percentage:"23.1%"},{range:"100K-1M",count:"15,678",percentage:"12.5%"},{range:"1M+",count:"3,419",percentage:"2.7%"}];return console.log("Token ID:",t),u.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[u.jsx(ua,{token:{name:a.name,symbol:a.symbol},size:"lg"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-cyphr-white mb-2 font-nulshock",children:a.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-cyphr-gray font-sf-pro",children:[a.symbol," "]}),u.jsx(g3,{address:a.address,className:"text-sm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.15) 0%, rgba(189,73,111,0.15) 100%)",border:"2px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.12)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Price"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-white mb-1",children:a.price}),u.jsx("div",{className:"text-cyphr-blue font-semibold",children:a.change24h})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Market Cap"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.marketCap})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Volume 24h"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.volume24h})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Holders"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.holders})]})]})]}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","trading","holders"].map(h=>u.jsx("button",{onClick:()=>n(h),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${e===h?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})}),e==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Token Information"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:""})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Total Supply"}),u.jsx("span",{className:"text-cyphr-white font-mono",children:a.totalSupply})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Circulating Supply"}),u.jsx("span",{className:"text-cyphr-white font-mono",children:a.circulatingSupply})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Buy Tax"}),u.jsx("span",{className:"text-cyphr-blue font-semibold",children:a.buyTax})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Sell Tax"}),u.jsx("span",{className:"text-cyphr-pink font-semibold",children:a.sellTax})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Liquidity"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:a.liquidity})]})]})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["About ",a.name]}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:""})]}),u.jsx("p",{className:"text-cyphr-gray leading-relaxed mb-6",children:a.description}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-cyphr-white font-semibold mb-3",children:"Social Links"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a.socialLinks).map(([h,p])=>u.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"elite-button flex items-center gap-2 p-3 rounded-lg transition-all duration-300 hover:scale-105 text-cyphr-gray",children:[u.jsx("span",{className:"text-cyphr-blue",children:h==="website"?"":h==="telegram"?"":h==="twitter"?"":""}),u.jsx("span",{className:"text-cyphr-white capitalize",children:h})]},h))})]})]})]}),e==="chart"&&u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:[a.name," Price Chart"]}),u.jsx("div",{className:"flex gap-2",children:l.map(h=>u.jsx("button",{className:"elite-button px-3 py-1 rounded-lg text-xs font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:h},h))})]}),u.jsx("div",{className:"h-96 bg-gradient-to-br from-cyphr-blue/10 to-cyphr-pink/10 rounded-xl flex items-center justify-center border border-cyphr-gray/30",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-cyphr-gray text-6xl mb-4",children:""}),u.jsx("div",{className:"text-cyphr-gray font-sf-pro text-xl",children:"Price Chart"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Interactive trading chart"})]})})]}),e==="trading"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["Trade ",a.name]}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:""})]}),u.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:["buy","sell"].map(h=>u.jsx("button",{onClick:()=>o(h),className:`px-4 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${i===h?h==="buy"?"cyphr-button-primary":"cyphr-button-secondary":"elite-button text-cyphr-gray"}`,children:h.toUpperCase()},h))}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-cyphr-gray text-sm font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:r,onChange:h=>s(h.target.value),className:"w-full elite-input px-4 py-3 rounded-xl border border-cyphr-gray/30 focus:border-cyphr-blue text-cyphr-white bg-cyphr-black/50",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:["100","500","1000"].map(h=>u.jsxs("button",{onClick:()=>s(h),className:"elite-button px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:["$",h]},h))}),u.jsxs("button",{className:`w-full py-4 rounded-xl font-bold text-xl transition-all duration-300 hover:scale-105 ${i==="buy"?"cyphr-button-primary":"cyphr-button-secondary"}`,children:[i.toUpperCase()," ",a.name]})]}),u.jsxs("div",{className:"lg:col-span-2 cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Recent Trades"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:""})]}),u.jsx("div",{className:"space-y-2",children:c.map((h,p)=>u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${h.side==="buy"?"bg-cyphr-blue":"bg-cyphr-pink"}`}),u.jsx("span",{className:`font-mono font-semibold ${h.side==="buy"?"text-cyphr-blue":"text-cyphr-pink"}`,children:h.price})]}),u.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:h.amount}),u.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:h.time})]},p))})]})]}),e==="holders"&&u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Holder Distribution"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:""})]}),u.jsx("div",{className:"space-y-4",children:d.map((h,p)=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${p*60}, 70%, 60%)`}}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:h.range})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white",children:h.count}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:h.percentage})]})]},p))})]})]})},LG=()=>{const[t,e]=z.useState(null),[n,r]=z.useState("overview"),[s,i]=z.useState("1D"),[o,a]=z.useState([]),[l,c]=z.useState(""),[d,h]=z.useState(!1),[p,m]=z.useState([]),[y,w]=z.useState(!1),[b,g]=z.useState(""),[S,_]=z.useState(!0);z.useEffect(()=>{const f="Cyphr Terminal";let x=0;const k=setInterval(()=>{x<f.length?(g(f.slice(0,x+1)),x++):(_(!1),clearInterval(k))},150);return()=>clearInterval(k)},[]);const M=[{symbol:"SOL",name:"Solana",price:177.45,change24h:5.67,volume24h:284e7,marketCap:45e9,holders:125e4,riskLevel:"Medium",liquidityEvents:[{type:"Large Buy",amount:5e5,timestamp:"2h ago",impact:"Positive"},{type:"Whale Movement",amount:12e5,timestamp:"6h ago",impact:"Neutral"},{type:"Liquidity Added",amount:8e5,timestamp:"12h ago",impact:"Positive"},{type:"Institutional Inflow",amount:25e5,timestamp:"1h ago",impact:"Positive"}],aiInsights:[{type:"Bullish",confidence:78,analysis:"Strong momentum with increasing volume and institutional buying pressure. RSI showing bullish divergence.",recommendation:"Consider long position with tight stop loss at $95.20"},{type:"Neutral",confidence:65,analysis:"Technical indicators show consolidation near resistance. MACD histogram flattening.",recommendation:"Wait for breakout confirmation above $100 resistance"},{type:"Bullish",confidence:82,analysis:"On-chain metrics show strong accumulation by smart money. Network activity increasing.",recommendation:"Accumulate on dips, target $110-115 range"}]}],R=async f=>{if(!f.trim())return[];h(!0);try{const k=await(await fetch(`https://api.coingecko.com/api/v3/search?query=${encodeURIComponent(f)}`)).json();if(k.coins&&k.coins.length>0){const I=k.coins.slice(0,5),C=I.map(v=>v.id).join(","),P=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${C}&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true&include_market_cap=true`)).json();return I.map(v=>{const B=P[v.id];return{id:v.id,symbol:v.symbol.toUpperCase(),name:v.name,price:(B==null?void 0:B.usd)||0,change24h:(B==null?void 0:B.usd_24h_change)||0,volume24h:(B==null?void 0:B.usd_24h_vol)||0,marketCap:(B==null?void 0:B.usd_market_cap)||0,image:v.large,contractAddress:v.contract_address||null}})}}catch(x){console.log("API error, using mock data:",x)}return h(!1),[]},W=async f=>{if(c(f),f.trim().length>=2){w(!0);const x=await R(f);m(x)}else m([]),w(!1);h(!1)},D=()=>{c(""),m([]),w(!1)},L=async f=>{h(!0);try{const x={symbol:f.symbol,name:f.name,price:f.price,change24h:f.change24h,volume24h:f.volume24h,marketCap:f.marketCap,holders:Math.floor(Math.random()*1e6)+1e5,riskLevel:f.change24h>10?"High":f.change24h>5?"Medium":"Low",liquidityEvents:[{type:"Recent Trade",amount:f.volume24h*.01,timestamp:"5m ago",impact:"Positive"},{type:"Volume Spike",amount:f.volume24h*.02,timestamp:"15m ago",impact:"Neutral"}],aiInsights:[{type:f.change24h>0?"Bullish":"Bearish",confidence:Math.abs(f.change24h)>10?85:65,analysis:`Price showing ${f.change24h>0?"strong upward":"downward"} momentum with ${f.volume24h>1e6?"high":"moderate"} volume.`,recommendation:f.change24h>0?"Consider long position with stop loss":"Monitor for reversal signals"}]};e(x),a(F(f.symbol,s)),c(f.symbol),m([]),w(!1),setTimeout(()=>{a(F(f.symbol,s))},100)}catch(x){console.log("Error selecting token:",x)}h(!1)},F=(f,x)=>{const k=[];let j=100,P=15*60*1e3;switch(x){case"1H":j=60,P=1*60*1e3;break;case"4H":j=240,P=1*60*1e3;break;case"1D":j=144,P=10*60*1e3;break;case"1W":j=168,P=1*60*60*1e3;break;case"1M":j=30,P=24*60*60*1e3;break}let T=98;const v=Date.now();for(let B=0;B<j;B++){const Q=v-(j-B)*P,Z=(Math.random()-.5)*.05*T,ne=T,J=T+Z,se=Math.max(ne,J)+Math.random()*.05*T*.5,re=Math.min(ne,J)-Math.random()*.05*T*.5,le=Math.random()*1e6+5e5;k.push({timestamp:Q,open:ne,high:se,low:re,close:J,volume:le}),T=J}return k};z.useEffect(()=>{const f=M.find(x=>x.symbol==="SOL");f&&(e(f),a(F("SOL",s)))},[]),z.useEffect(()=>{t&&a(F(t.symbol,s))},[s,t]),z.useEffect(()=>{const f=setTimeout(()=>{l&&l!==(t==null?void 0:t.symbol)&&l.trim().length>=2&&W(l)},500);return()=>clearTimeout(f)},[l]);const $=f=>f>=1e9?(f/1e9).toFixed(2)+"B":f>=1e6?(f/1e6).toFixed(2)+"M":f>=1e3?(f/1e3).toFixed(2)+"K":f.toFixed(2),H=f=>{switch(f){case"Low":return"text-green-400";case"Medium":return"text-yellow-400";case"High":return"text-red-400";default:return"text-gray-400"}},K=f=>{switch(f){case"Bullish":return"text-green-400";case"Bearish":return"text-red-400";case"Neutral":return"text-blue-400";default:return"text-gray-400"}},A=({data:f})=>{const[x,k]=V.useState(1),[I,C]=V.useState(!1),[j,P]=V.useState(!1);if(!f||f.length===0)return u.jsx("div",{className:"chart-placeholder",children:"Loading chart..."});const T=800,v=400,B={top:40,right:40,bottom:60,left:60},Q=T-B.left-B.right,Z=v-B.top-B.bottom,ne=f.map(ie=>[ie.low,ie.high,ie.open,ie.close]).flat(),J=Math.min(...ne)*.995,se=Math.max(...ne)*1.005,re=ie=>B.left+ie/(f.length-1)*Q,le=ie=>B.top+Z-(ie-J)/(se-J)*Z,ge=ie=>{ie.preventDefault();const fe=ie.deltaY>0?.9:1.1;k(ae=>Math.max(.5,Math.min(5,ae*fe)))},be=ie=>ie>=1e9?(ie/1e9).toFixed(2)+"B":ie>=1e6?(ie/1e6).toFixed(2)+"M":ie>=1e3?(ie/1e3).toFixed(2)+"K":ie.toFixed(0),Te=[...f.map(ie=>ie.volume)].sort((ie,fe)=>fe-ie),Ce=Te[Math.floor(Te.length*.2)];return u.jsxs("div",{className:"interactive-chart-container",onWheel:ge,children:[u.jsxs("div",{className:"chart-controls",children:[u.jsxs("div",{className:"chart-control-group",children:[u.jsx("button",{className:`chart-control-btn ${I?"active":""}`,onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),C(!I)},title:"Highlight Large Buys",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),u.jsx("button",{className:"chart-control-btn",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),P(!0)},title:"Zoom Chart",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15 3l6 6-6 6M9 21l-6-6 6-6"})})})]}),u.jsx("div",{className:"chart-control-divider"}),u.jsxs("div",{className:"chart-control-group",children:[u.jsx("button",{className:"chart-control-btn",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),k(fe=>Math.min(5,fe*1.2))},title:"Zoom In",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 4v16m8-8H4"})})}),u.jsx("button",{className:"chart-control-btn",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),k(fe=>Math.max(.5,fe*.8))},title:"Zoom Out",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M4 12h16"})})}),u.jsx("button",{className:"chart-control-btn",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),k(1)},title:"Reset Zoom",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16M8 12h8"})})})]})]}),u.jsxs("svg",{width:T,height:v,className:"candlestick-chart",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[0,1,2,3,4,5].map(ie=>u.jsx("g",{children:u.jsx("line",{x1:B.left,y1:B.top+ie*Z/5,x2:T-B.right,y2:B.top+ie*Z/5,stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})},`grid-h-${ie}`)),[0,1,2,3,4,5,6,7,8].map(ie=>u.jsx("g",{children:u.jsx("line",{x1:B.left+ie*Q/8,y1:B.top,x2:B.left+ie*Q/8,y2:v-B.bottom,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-v-${ie}`)),[0,1,2,3,4,5].map(ie=>{const fe=se-ie*(se-J)/5;return u.jsxs("text",{x:B.left-10,y:B.top+ie*Z/5+4,textAnchor:"end",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:["$",fe.toFixed(2)]},`price-${ie}`)}),[0,1,2,3,4,5,6,7,8].map(ie=>u.jsx("text",{x:B.left+ie*Q/8,y:v-B.bottom+15,textAnchor:"middle",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:ie===0?"9:30":ie===8?"16:00":`${10+ie}:00`},`time-${ie}`)),f.map((ie,fe)=>{const ae=re(fe),dt=le(ie.open),Pe=le(ie.close),Ke=le(ie.high),_t=le(ie.low),Be=ie.close>=ie.open,$e=Math.abs(Pe-dt)||1,qe=I&&ie.volume>=Ce;return u.jsxs("g",{children:[u.jsx("line",{x1:ae,y1:Ke,x2:ae,y2:_t,stroke:Be?"#10b981":"#ef4444",strokeWidth:qe?"3":"2",opacity:qe?1:.9,filter:qe?"url(#glow)":"none"}),u.jsx("rect",{x:ae-2,y:Be?Pe:dt,width:"4",height:$e,fill:Be?"#10b981":"#ef4444",stroke:Be?"#059669":"#dc2626",strokeWidth:qe?"2":"1",opacity:qe?1:.9,filter:qe?"url(#glow)":"none"}),qe&&u.jsxs("g",{children:[u.jsx("circle",{cx:ae,cy:le(ie.close),r:"8",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2"}),u.jsxs("text",{x:ae,y:le(ie.close)-15,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"10",fontWeight:"bold",fontFamily:"Courier New",children:["$",be(ie.volume)]})]})]},fe)})]}),j&&u.jsx("div",{className:"zoom-popup-overlay",onClick:()=>P(!1),children:u.jsxs("div",{className:"zoom-popup-content",onClick:ie=>ie.stopPropagation(),children:[u.jsxs("div",{className:"zoom-popup-header",children:[u.jsx("h3",{children:"Chart Zoom View"}),u.jsx("button",{className:"zoom-popup-close",onClick:()=>P(!1),children:""})]}),u.jsx("div",{className:"zoom-popup-chart",children:u.jsxs("svg",{width:"1200",height:"800",className:"candlestick-chart",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]})}),[0,1,2,3,4,5].map(ie=>u.jsx("g",{children:u.jsx("line",{x1:B.left,y1:B.top+ie*Z/5,x2:1200-B.right,y2:B.top+ie*Z/5,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-${ie}`)),f.map((ie,fe)=>{const ae=B.left+fe/(f.length-1)*(1200-B.left-B.right),dt=B.top+Z-(ie.open-J)/(se-J)*Z,Pe=B.top+Z-(ie.close-J)/(se-J)*Z,Ke=B.top+Z-(ie.high-J)/(se-J)*Z,_t=B.top+Z-(ie.low-J)/(se-J)*Z,Be=ie.close>=ie.open,$e=Math.abs(Pe-dt)||1,qe=I&&ie.volume>=Ce;return u.jsxs("g",{children:[u.jsx("line",{x1:ae,y1:Ke,x2:ae,y2:_t,stroke:Be?"#10b981":"#ef4444",strokeWidth:qe?"4":"3",opacity:qe?1:.9,filter:qe?"url(#glow)":"none"}),u.jsx("rect",{x:ae-4,y:Be?Pe:dt,width:"8",height:$e,fill:Be?"#10b981":"#ef4444",stroke:Be?"#059669":"#dc2626",strokeWidth:qe?"3":"2",opacity:qe?1:.9,filter:qe?"url(#glow)":"none"}),qe&&u.jsxs("g",{children:[u.jsx("circle",{cx:ae,cy:Pe,r:"12",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"3"}),u.jsxs("text",{x:ae,y:Pe-20,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"14",fontWeight:"bold",fontFamily:"Courier New",children:["$",be(ie.volume)]})]})]},fe)})]})})]})})]})};return t?u.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Cyphr Terminal"}),u.jsx("p",{className:"text-cyphr-gray",children:"Professional Trading Intelligence Platform"})]}),u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"status-indicator"}),u.jsx("span",{className:"text-green-400 text-sm font-semibold bg-green-400/10 border border-green-400/30 px-2 py-1 rounded-md",children:"LIVE"})]}),u.jsxs("div",{className:"w-64",children:[u.jsxs("div",{className:"search-container",children:[u.jsx("input",{type:"text",placeholder:"Search tokens...",value:l,onChange:f=>c(f.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),200),className:"pro-search-input"}),l&&u.jsx("button",{onClick:D,className:"clear-search-btn",title:"Clear search",children:""}),d&&u.jsx("div",{className:"search-spinner",children:u.jsx("div",{className:"spinner"})})]}),y&&p.length>0&&u.jsx("div",{className:"search-results",children:p.map(f=>u.jsxs("div",{className:"search-result-item",onClick:()=>L(f),children:[u.jsx("div",{className:"result-symbol",children:f.symbol}),u.jsx("div",{className:"result-name",children:f.name}),u.jsxs("div",{className:`result-change ${f.change24h>=0?"text-green-400":"text-red-400"}`,children:[f.change24h>=0?"+":"",f.change24h.toFixed(2),"%"]})]},f.id))})]})]}),u.jsxs("div",{className:"pro-terminal-content",children:[u.jsxs("div",{className:"token-info-bar",children:[u.jsxs("div",{className:"token-basic-info",children:[u.jsx("h2",{className:"token-symbol",children:t.symbol}),u.jsx("span",{className:"token-name",children:t.name})]}),u.jsxs("div",{className:"token-price-info",children:[u.jsxs("div",{className:"current-price",children:["$",t.price.toLocaleString()]}),u.jsxs("div",{className:`price-change ${t.change24h>=0?"positive":"negative"}`,children:[t.change24h>=0?"+":"",t.change24h.toFixed(2),"%"]})]}),u.jsxs("div",{className:"token-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Volume 24h"}),u.jsxs("span",{className:"stat-value",children:["$",$(t.volume24h)]})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Market Cap"}),u.jsxs("span",{className:"stat-value",children:["$",$(t.marketCap)]})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Holders"}),u.jsx("span",{className:"stat-value",children:$(t.holders)})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Risk Level"}),u.jsx("span",{className:`stat-value ${H(t.riskLevel)}`,children:t.riskLevel})]})]})]}),u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","insights","holders","liquidity"].map(f=>u.jsx("button",{className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===f?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,onClick:()=>r(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))}),u.jsxs("div",{className:"pro-tab-content",children:[n==="overview"&&u.jsxs("div",{className:"overview-grid",children:[u.jsxs("div",{className:"chart-section",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"section-title",children:"Price Chart"}),u.jsx("div",{className:"flex gap-2",children:["1H","4H","1D","1W","1M"].map(f=>u.jsx("button",{className:`timeframe-btn flex-1 lg:flex-none ${s===f?"active":""}`,onClick:()=>i(f),children:f},f))})]}),u.jsx("div",{className:"chart-container",children:u.jsx(A,{data:o})})]}),u.jsxs("div",{className:"insights-section",children:[u.jsx("h3",{className:"section-title",children:"AI Insights"}),u.jsx("div",{className:"insights-list",children:t.aiInsights.map((f,x)=>u.jsxs("div",{className:"insight-card",children:[u.jsxs("div",{className:"insight-header",children:[u.jsx("span",{className:`insight-type ${K(f.type)}`,children:f.type}),u.jsxs("span",{className:"insight-confidence",children:[f.confidence,"% confidence"]})]}),u.jsx("p",{className:"insight-analysis",children:f.analysis}),u.jsx("p",{className:"insight-recommendation",children:f.recommendation})]},x))})]}),u.jsxs("div",{className:"quick-stats",children:[u.jsx("h3",{className:"section-title",children:"AI Asset Overview"}),u.jsxs("div",{className:"ai-overview-grid",children:[u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:""}),u.jsx("div",{className:"ai-card-title",children:"Holder Distribution"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Top 10%"}),u.jsx("span",{className:"ai-stat-value",children:"45% of supply"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Smart Money"}),u.jsx("span",{className:"ai-stat-value",children:"32% increase"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:""}),u.jsx("div",{className:"ai-card-title",children:"Smart Money Flow"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Net Flow"}),u.jsx("span",{className:"ai-stat-value positive",children:"+$2.4M"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Whale Activity"}),u.jsx("span",{className:"ai-stat-value",children:"High"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:""}),u.jsx("div",{className:"ai-card-title",children:"Notorious Wallets"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Tracked"}),u.jsx("span",{className:"ai-stat-value",children:"1,247 wallets"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Risk Level"}),u.jsx("span",{className:"ai-stat-value",children:"Medium"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:""}),u.jsx("div",{className:"ai-card-title",children:"Key Metrics"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"RSI"}),u.jsx("span",{className:"ai-stat-value",children:"68.5"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"MACD"}),u.jsx("span",{className:"ai-stat-value positive",children:"Bullish"})]})]})]})]})]})]}),n==="chart"&&u.jsxs("div",{className:"chart-section",children:[u.jsx("h3",{className:"section-title",children:"Advanced Chart"}),u.jsx("div",{className:"chart-container",children:u.jsx(A,{data:o})})]}),n==="insights"&&u.jsxs("div",{className:"insights-section",children:[u.jsx("h3",{className:"section-title",children:"Detailed AI Insights"}),u.jsx("div",{className:"insights-list",children:t.aiInsights.map((f,x)=>u.jsxs("div",{className:"insight-card",children:[u.jsxs("div",{className:"insight-header",children:[u.jsx("span",{className:`insight-type ${K(f.type)}`,children:f.type}),u.jsxs("span",{className:"insight-confidence",children:[f.confidence,"% confidence"]})]}),u.jsx("p",{className:"insight-analysis",children:f.analysis}),u.jsx("p",{className:"insight-recommendation",children:f.recommendation})]},x))})]}),n==="holders"&&u.jsxs("div",{className:"holders-section",children:[u.jsx("h3",{className:"section-title",children:"Holder Distribution"}),u.jsxs("div",{className:"holders-content",children:[u.jsxs("div",{className:"holder-stat",children:[u.jsx("span",{className:"holder-label",children:"Total Holders"}),u.jsx("span",{className:"holder-value",children:$(t.holders)})]}),u.jsxs("div",{className:"holder-stat",children:[u.jsx("span",{className:"holder-label",children:"Average Holding"}),u.jsxs("span",{className:"holder-value",children:["$",$(t.marketCap/t.holders)]})]})]})]}),n==="liquidity"&&u.jsxs("div",{className:"liquidity-section",children:[u.jsx("h3",{className:"section-title",children:"Liquidity Events"}),u.jsx("div",{className:"liquidity-list",children:t.liquidityEvents.map((f,x)=>u.jsxs("div",{className:"liquidity-card",children:[u.jsxs("div",{className:"liquidity-header",children:[u.jsx("span",{className:"liquidity-type",children:f.type}),u.jsxs("span",{className:"liquidity-amount",children:["$",$(f.amount)]})]}),u.jsxs("div",{className:"liquidity-details",children:[u.jsx("span",{className:"liquidity-time",children:f.timestamp}),u.jsx("span",{className:`liquidity-impact ${f.impact.toLowerCase()}`,children:f.impact})]})]},x))})]})]})]})]}):u.jsx("div",{className:"pro-terminal-container",children:u.jsx("div",{className:"terminal-loading",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("h2",{children:"Loading Terminal..."}),u.jsx("p",{children:"Initializing trading intelligence platform"})]})})})};function PG(){return u.jsx(R7,{children:u.jsx(x6,{children:u.jsx(f6,{children:u.jsxs("div",{className:"App",children:[u.jsx(L7,{}),u.jsx("main",{className:"main-content",children:u.jsxs(o6,{children:[u.jsx(Tr,{path:"/",element:u.jsx(s6,{to:"/strategy-builder",replace:!0})}),u.jsx(Tr,{path:"/dashboard",element:u.jsx(D7,{})}),u.jsx(Tr,{path:"/discover",element:u.jsx(O7,{})}),u.jsx(Tr,{path:"/portfolio",element:u.jsx(z7,{})}),u.jsx(Tr,{path:"/spot",element:u.jsx(W7,{})}),u.jsx(Tr,{path:"/perpetuals",element:u.jsx(U7,{})}),u.jsx(Tr,{path:"/orders",element:u.jsx($7,{})}),u.jsx(Tr,{path:"/tracker",element:u.jsx(H7,{})}),u.jsx(Tr,{path:"/strategy-builder",element:u.jsx(TG,{})}),u.jsx(Tr,{path:"/token/:address",element:u.jsx(RG,{})}),u.jsx(Tr,{path:"/pro-terminal",element:u.jsx(LG,{})})]})}),u.jsx(P7,{})]})})})})}const BG=Xg.createRoot(document.getElementById("root"));BG.render(u.jsx(V.StrictMode,{children:u.jsx(PG,{})}));export{Fm as E,ue as P,js as S,Ze as T,Gl as V,un as a,GO as b,Uo as c};
//# sourceMappingURL=index-B3ilmSi6.js.map
