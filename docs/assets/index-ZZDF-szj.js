var wI=Object.defineProperty;var vI=(t,e,n)=>e in t?wI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ke=(t,e,n)=>vI(t,typeof e!="symbol"?e+"":e,n);function bI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xs(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ak={exports:{}},o0={},lk={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.element"),SI=Symbol.for("react.portal"),_I=Symbol.for("react.fragment"),kI=Symbol.for("react.strict_mode"),EI=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),AI=Symbol.for("react.context"),MI=Symbol.for("react.forward_ref"),CI=Symbol.for("react.suspense"),II=Symbol.for("react.memo"),TI=Symbol.for("react.lazy"),Pv=Symbol.iterator;function jI(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var ck={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uk=Object.assign,dk={};function ac(t,e,n){this.props=t,this.context=e,this.refs=dk,this.updater=n||ck}ac.prototype.isReactComponent={};ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hk(){}hk.prototype=ac.prototype;function lx(t,e,n){this.props=t,this.context=e,this.refs=dk,this.updater=n||ck}var cx=lx.prototype=new hk;cx.constructor=lx;uk(cx,ac.prototype);cx.isPureReactComponent=!0;var Lv=Array.isArray,fk=Object.prototype.hasOwnProperty,ux={current:null},pk={key:!0,ref:!0,__self:!0,__source:!0};function mk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fk.call(e,r)&&!pk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Md,type:t,key:s,ref:o,props:i,_owner:ux.current}}function RI(t,e){return{$$typeof:Md,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Md}function BI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ov=/\/+/g;function fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BI(""+t.key):e.toString(36)}function Gh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Md:case SI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fm(o,0):r,Lv(i)?(n="",t!=null&&(n=t.replace(Ov,"$&/")+"/"),Gh(i,e,n,"",function(c){return c})):i!=null&&(dx(i)&&(i=RI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ov,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fm(s,a);o+=Gh(s,e,n,l,i)}else if(l=jI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fm(s,a++),o+=Gh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qd(t,e,n){if(t==null)return t;var r=[],i=0;return Gh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},Zh={transition:null},LI={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:ux};function gk(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Qd,forEach:function(t,e,n){Qd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qd(t,function(){e++}),e},toArray:function(t){return Qd(t,function(e){return e})||[]},only:function(t){if(!dx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=ac;He.Fragment=_I;He.Profiler=EI;He.PureComponent=lx;He.StrictMode=kI;He.Suspense=CI;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI;He.act=gk;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ux.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fk.call(e,l)&&!pk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Md,type:t.type,key:i,ref:s,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:AI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NI,_context:t},t.Consumer=t};He.createElement=mk;He.createFactory=function(t){var e=mk.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:MI,render:t}};He.isValidElement=dx;He.lazy=function(t){return{$$typeof:TI,_payload:{_status:-1,_result:t},_init:PI}};He.memo=function(t,e){return{$$typeof:II,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};He.unstable_act=gk;He.useCallback=function(t,e){return Xn.current.useCallback(t,e)};He.useContext=function(t){return Xn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};He.useEffect=function(t,e){return Xn.current.useEffect(t,e)};He.useId=function(){return Xn.current.useId()};He.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Xn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};He.useRef=function(t){return Xn.current.useRef(t)};He.useState=function(t){return Xn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return Xn.current.useTransition()};He.version="18.3.1";lk.exports=He;var z=lk.exports;const V=xa(z),OI=bI({__proto__:null,default:V},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI=z,zI=Symbol.for("react.element"),WI=Symbol.for("react.fragment"),FI=Object.prototype.hasOwnProperty,$I=DI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UI={key:!0,ref:!0,__self:!0,__source:!0};function yk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FI.call(e,r)&&!UI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zI,type:t,key:s,ref:o,props:i,_owner:$I.current}}o0.Fragment=WI;o0.jsx=yk;o0.jsxs=yk;ak.exports=o0;var u=ak.exports,Fg={},xk={exports:{}},kr={},wk={exports:{}},vk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var L=T.length;T.push(I);e:for(;0<L;){var j=L-1>>>1,v=T[j];if(0<i(v,I))T[j]=I,T[L]=v,L=j;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],L=T.pop();if(L!==I){T[0]=L;e:for(var j=0,v=T.length,P=v>>>1;j<P;){var X=2*(j+1)-1,Z=T[X],te=X+1,se=T[te];if(0>i(Z,L))te<v&&0>i(se,Z)?(T[j]=se,T[te]=L,j=te):(T[j]=Z,T[X]=L,j=X);else if(te<v&&0>i(se,L))T[j]=se,T[te]=L,j=te;else break e}}return I}function i(T,I){var L=T.sortIndex-I.sortIndex;return L!==0?L:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(T){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=T)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function A(T){if(w=!1,_(T),!y)if(n(l)!==null)y=!0,k(R);else{var I=n(c);I!==null&&C(A,I.startTime-T)}}function R(T,I){y=!1,w&&(w=!1,g(B),B=-1),m=!0;var L=p;try{for(_(I),h=n(l);h!==null&&(!(h.expirationTime>I)||T&&!H());){var j=h.callback;if(typeof j=="function"){h.callback=null,p=h.priorityLevel;var v=j(h.expirationTime<=I);I=t.unstable_now(),typeof v=="function"?h.callback=v:h===n(l)&&r(l),_(I)}else r(l);h=n(l)}if(h!==null)var P=!0;else{var X=n(c);X!==null&&C(A,X.startTime-I),P=!1}return P}finally{h=null,p=L,m=!1}}var W=!1,O=null,B=-1,F=5,U=-1;function H(){return!(t.unstable_now()-U<F)}function K(){if(O!==null){var T=t.unstable_now();U=T;var I=!0;try{I=O(!0,T)}finally{I?M():(W=!1,O=null)}}else W=!1}var M;if(typeof S=="function")M=function(){S(K)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,x=f.port2;f.port1.onmessage=K,M=function(){x.postMessage(null)}}else M=function(){b(K,0)};function k(T){O=T,W||(W=!0,M())}function C(T,I){B=b(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,k(R))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var L=p;p=I;try{return T()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=p;p=T;try{return I()}finally{p=L}},t.unstable_scheduleCallback=function(T,I,L){var j=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?j+L:j):L=j,T){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=L+v,T={id:d++,callback:I,priorityLevel:T,startTime:L,expirationTime:v,sortIndex:-1},L>j?(T.sortIndex=L,e(c,T),n(l)===null&&T===n(c)&&(w?(g(B),B=-1):w=!0,C(A,L-j))):(T.sortIndex=v,e(l,T),y||m||(y=!0,k(R))),T},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(T){var I=p;return function(){var L=p;p=I;try{return T.apply(this,arguments)}finally{p=L}}}})(vk);wk.exports=vk;var HI=wk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI=z,Sr=HI;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,Wu={};function wa(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(Wu[t]=e,t=0;t<e.length;t++)bk.add(e[t])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,KI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dv={},zv={};function qI(t){return $g.call(zv,t)?!0:$g.call(Dv,t)?!1:KI.test(t)?zv[t]=!0:(Dv[t]=!0,!1)}function YI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GI(t,e,n,r){if(e===null||typeof e>"u"||YI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hx=/[\-:]([a-z])/g;function fx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hx,fx);Tn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hx,fx);Tn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hx,fx);Tn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function px(t,e,n,r){var i=Tn.hasOwnProperty(e)?Tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GI(e,n,i,r)&&(n=null),r||i===null?qI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ws=VI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jd=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),_k=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),yx=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),kk=Symbol.for("react.offscreen"),Wv=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,pm;function Jc(t){if(pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function gm(t,e){if(!t||mm)return"";mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jc(t):""}function ZI(t){switch(t.tag){case 5:return Jc(t.type);case 16:return Jc("Lazy");case 13:return Jc("Suspense");case 19:return Jc("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function Kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tl:return"Fragment";case el:return"Portal";case Ug:return"Profiler";case mx:return"StrictMode";case Hg:return"Suspense";case Vg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _k:return(t.displayName||"Context")+".Consumer";case Sk:return(t._context.displayName||"Context")+".Provider";case gx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yx:return e=t.displayName||null,e!==null?e:Kg(t.type)||"Memo";case Rs:e=t._payload,t=t._init;try{return Kg(t(e))}catch{}}return null}function XI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ek(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QI(t){var e=Ek(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eh(t){t._valueTracker||(t._valueTracker=QI(t))}function Nk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ek(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qg(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ak(t,e){e=e.checked,e!=null&&px(t,"checked",e,!1)}function Yg(t,e){Ak(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gg(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $v(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gg(t,e,n){(e!=="number"||Yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eu=Array.isArray;function xl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(eu(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function Mk(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ck(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ck(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var th,Ik=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(th=th||document.createElement("div"),th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JI=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(t){JI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vu[e]=vu[t]})});function Tk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vu.hasOwnProperty(t)&&vu[t]?(""+e).trim():e+"px"}function jk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e5=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qg(t,e){if(e){if(e5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function xx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ty=null,wl=null,vl=null;function Vv(t){if(t=Td(t)){if(typeof ty!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=d0(e),ty(t.stateNode,t.type,e))}}function Rk(t){wl?vl?vl.push(t):vl=[t]:wl=t}function Bk(){if(wl){var t=wl,e=vl;if(vl=wl=null,Vv(t),e)for(t=0;t<e.length;t++)Vv(e[t])}}function Pk(t,e){return t(e)}function Lk(){}var ym=!1;function Ok(t,e,n){if(ym)return t(e,n);ym=!0;try{return Pk(t,e,n)}finally{ym=!1,(wl!==null||vl!==null)&&(Lk(),Bk())}}function $u(t,e){var n=t.stateNode;if(n===null)return null;var r=d0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var ny=!1;if(us)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){ny=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{ny=!1}function t5(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var bu=!1,Gf=null,Zf=!1,ry=null,n5={onError:function(t){bu=!0,Gf=t}};function r5(t,e,n,r,i,s,o,a,l){bu=!1,Gf=null,t5.apply(n5,arguments)}function i5(t,e,n,r,i,s,o,a,l){if(r5.apply(this,arguments),bu){if(bu){var c=Gf;bu=!1,Gf=null}else throw Error(ae(198));Zf||(Zf=!0,ry=c)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Dk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kv(t){if(va(t)!==t)throw Error(ae(188))}function s5(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kv(i),t;if(s===r)return Kv(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function zk(t){return t=s5(t),t!==null?Wk(t):null}function Wk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wk(t);if(e!==null)return e;t=t.sibling}return null}var Fk=Sr.unstable_scheduleCallback,qv=Sr.unstable_cancelCallback,o5=Sr.unstable_shouldYield,a5=Sr.unstable_requestPaint,Jt=Sr.unstable_now,l5=Sr.unstable_getCurrentPriorityLevel,wx=Sr.unstable_ImmediatePriority,$k=Sr.unstable_UserBlockingPriority,Xf=Sr.unstable_NormalPriority,c5=Sr.unstable_LowPriority,Uk=Sr.unstable_IdlePriority,a0=null,Ni=null;function u5(t){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(a0,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:f5,d5=Math.log,h5=Math.LN2;function f5(t){return t>>>=0,t===0?32:31-(d5(t)/h5|0)|0}var nh=64,rh=4194304;function tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=tu(a):(s&=o,s!==0&&(r=tu(s)))}else o=n&~i,o!==0?r=tu(o):s!==0&&(r=tu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ti(e),i=1<<n,r|=t[n],e&=~i;return r}function p5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ti(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=p5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hk(){var t=nh;return nh<<=1,!(nh&4194240)&&(nh=64),t}function xm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=n}function g5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ti(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var lt=0;function Vk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kk,bx,qk,Yk,Gk,sy=!1,ih=[],Js=null,eo=null,to=null,Uu=new Map,Hu=new Map,Ds=[],y5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yv(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Bc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Td(e),e!==null&&bx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x5(t,e,n,r,i){switch(e){case"focusin":return Js=Bc(Js,t,e,n,r,i),!0;case"dragenter":return eo=Bc(eo,t,e,n,r,i),!0;case"mouseover":return to=Bc(to,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uu.set(s,Bc(Uu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hu.set(s,Bc(Hu.get(s)||null,t,e,n,r,i)),!0}return!1}function Zk(t){var e=Wo(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=Dk(n),e!==null){t.blockedOn=e,Gk(t.priority,function(){qk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ey=r,n.target.dispatchEvent(r),ey=null}else return e=Td(n),e!==null&&bx(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){Xh(t)&&n.delete(e)}function w5(){sy=!1,Js!==null&&Xh(Js)&&(Js=null),eo!==null&&Xh(eo)&&(eo=null),to!==null&&Xh(to)&&(to=null),Uu.forEach(Gv),Hu.forEach(Gv)}function Pc(t,e){t.blockedOn===e&&(t.blockedOn=null,sy||(sy=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,w5)))}function Vu(t){function e(i){return Pc(i,t)}if(0<ih.length){Pc(ih[0],t);for(var n=1;n<ih.length;n++){var r=ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Js!==null&&Pc(Js,t),eo!==null&&Pc(eo,t),to!==null&&Pc(to,t),Uu.forEach(e),Hu.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)Zk(n),n.blockedOn===null&&Ds.shift()}var bl=ws.ReactCurrentBatchConfig,Jf=!0;function v5(t,e,n,r){var i=lt,s=bl.transition;bl.transition=null;try{lt=1,Sx(t,e,n,r)}finally{lt=i,bl.transition=s}}function b5(t,e,n,r){var i=lt,s=bl.transition;bl.transition=null;try{lt=4,Sx(t,e,n,r)}finally{lt=i,bl.transition=s}}function Sx(t,e,n,r){if(Jf){var i=oy(t,e,n,r);if(i===null)Mm(t,e,r,ep,n),Yv(t,r);else if(x5(i,t,e,n,r))r.stopPropagation();else if(Yv(t,r),e&4&&-1<y5.indexOf(t)){for(;i!==null;){var s=Td(i);if(s!==null&&Kk(s),s=oy(t,e,n,r),s===null&&Mm(t,e,r,ep,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mm(t,e,r,null,n)}}var ep=null;function oy(t,e,n,r){if(ep=null,t=xx(r),t=Wo(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Dk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ep=t,null}function Xk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l5()){case wx:return 1;case $k:return 4;case Xf:case c5:return 16;case Uk:return 536870912;default:return 16}default:return 16}}var $s=null,_x=null,Qh=null;function Qk(){if(Qh)return Qh;var t,e=_x,n=e.length,r,i="value"in $s?$s.value:$s.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qh=i.slice(t,1<r?1-r:void 0)}function Jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sh(){return!0}function Zv(){return!1}function Er(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sh:Zv,this.isPropagationStopped=Zv,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),e}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kx=Er(lc),Id=jt({},lc,{view:0,detail:0}),S5=Er(Id),wm,vm,Lc,l0=jt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ex,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(wm=t.screenX-Lc.screenX,vm=t.screenY-Lc.screenY):vm=wm=0,Lc=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:vm}}),Xv=Er(l0),_5=jt({},l0,{dataTransfer:0}),k5=Er(_5),E5=jt({},Id,{relatedTarget:0}),bm=Er(E5),N5=jt({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),A5=Er(N5),M5=jt({},lc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C5=Er(M5),I5=jt({},lc,{data:0}),Qv=Er(I5),T5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R5[t])?!!e[t]:!1}function Ex(){return B5}var P5=jt({},Id,{key:function(t){if(t.key){var e=T5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ex,charCode:function(t){return t.type==="keypress"?Jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L5=Er(P5),O5=jt({},l0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jv=Er(O5),D5=jt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ex}),z5=Er(D5),W5=jt({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),F5=Er(W5),$5=jt({},l0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U5=Er($5),H5=[9,13,27,32],Nx=us&&"CompositionEvent"in window,Su=null;us&&"documentMode"in document&&(Su=document.documentMode);var V5=us&&"TextEvent"in window&&!Su,Jk=us&&(!Nx||Su&&8<Su&&11>=Su),eb=" ",tb=!1;function eE(t,e){switch(t){case"keyup":return H5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function K5(t,e){switch(t){case"compositionend":return tE(e);case"keypress":return e.which!==32?null:(tb=!0,eb);case"textInput":return t=e.data,t===eb&&tb?null:t;default:return null}}function q5(t,e){if(nl)return t==="compositionend"||!Nx&&eE(t,e)?(t=Qk(),Qh=_x=$s=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jk&&e.locale!=="ko"?null:e.data;default:return null}}var Y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y5[t.type]:e==="textarea"}function nE(t,e,n,r){Rk(r),e=tp(e,"onChange"),0<e.length&&(n=new kx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _u=null,Ku=null;function G5(t){fE(t,0)}function c0(t){var e=sl(t);if(Nk(e))return t}function Z5(t,e){if(t==="change")return e}var rE=!1;if(us){var Sm;if(us){var _m="oninput"in document;if(!_m){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),_m=typeof rb.oninput=="function"}Sm=_m}else Sm=!1;rE=Sm&&(!document.documentMode||9<document.documentMode)}function ib(){_u&&(_u.detachEvent("onpropertychange",iE),Ku=_u=null)}function iE(t){if(t.propertyName==="value"&&c0(Ku)){var e=[];nE(e,Ku,t,xx(t)),Ok(G5,e)}}function X5(t,e,n){t==="focusin"?(ib(),_u=e,Ku=n,_u.attachEvent("onpropertychange",iE)):t==="focusout"&&ib()}function Q5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return c0(Ku)}function J5(t,e){if(t==="click")return c0(e)}function e6(t,e){if(t==="input"||t==="change")return c0(e)}function t6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ai=typeof Object.is=="function"?Object.is:t6;function qu(t,e){if(ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$g.call(e,i)||!ai(t[i],e[i]))return!1}return!0}function sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ob(t,e){var n=sb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sb(n)}}function sE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oE(){for(var t=window,e=Yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yf(t.document)}return e}function Ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n6(t){var e=oE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sE(n.ownerDocument.documentElement,n)){if(r!==null&&Ax(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ob(n,s);var o=ob(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r6=us&&"documentMode"in document&&11>=document.documentMode,rl=null,ay=null,ku=null,ly=!1;function ab(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ly||rl==null||rl!==Yf(r)||(r=rl,"selectionStart"in r&&Ax(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ku&&qu(ku,r)||(ku=r,r=tp(ay,"onSelect"),0<r.length&&(e=new kx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rl)))}function oh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var il={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},km={},aE={};us&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function u0(t){if(km[t])return km[t];if(!il[t])return t;var e=il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aE)return km[t]=e[n];return t}var lE=u0("animationend"),cE=u0("animationiteration"),uE=u0("animationstart"),dE=u0("transitionend"),hE=new Map,lb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){hE.set(t,e),wa(e,[t])}for(var Em=0;Em<lb.length;Em++){var Nm=lb[Em],i6=Nm.toLowerCase(),s6=Nm[0].toUpperCase()+Nm.slice(1);xo(i6,"on"+s6)}xo(lE,"onAnimationEnd");xo(cE,"onAnimationIteration");xo(uE,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(dE,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o6=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function cb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i5(r,e,void 0,t),t.currentTarget=null}function fE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cb(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cb(i,a,c),s=l}}}if(Zf)throw t=ry,Zf=!1,ry=null,t}function xt(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var r=t+"__bubble";n.has(r)||(pE(e,t,2,!1),n.add(r))}function Am(t,e,n){var r=0;e&&(r|=4),pE(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Yu(t){if(!t[ah]){t[ah]=!0,bk.forEach(function(n){n!=="selectionchange"&&(o6.has(n)||Am(n,!1,t),Am(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,Am("selectionchange",!1,e))}}function pE(t,e,n,r){switch(Xk(e)){case 1:var i=v5;break;case 4:i=b5;break;default:i=Sx}n=i.bind(null,e,n,t),i=void 0,!ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ok(function(){var c=s,d=xx(n),h=[];e:{var p=hE.get(t);if(p!==void 0){var m=kx,y=t;switch(t){case"keypress":if(Jh(n)===0)break e;case"keydown":case"keyup":m=L5;break;case"focusin":y="focus",m=bm;break;case"focusout":y="blur",m=bm;break;case"beforeblur":case"afterblur":m=bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=k5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=z5;break;case lE:case cE:case uE:m=A5;break;case dE:m=F5;break;case"scroll":m=S5;break;case"wheel":m=U5;break;case"copy":case"cut":case"paste":m=C5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jv}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var S=c,_;S!==null;){_=S;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,g!==null&&(A=$u(S,g),A!=null&&w.push(Gu(S,A,_)))),b)break;S=S.return}0<w.length&&(p=new m(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==ey&&(y=n.relatedTarget||n.fromElement)&&(Wo(y)||y[ds]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Wo(y):null,y!==null&&(b=va(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=Xv,A="onMouseLeave",g="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=Jv,A="onPointerLeave",g="onPointerEnter",S="pointer"),b=m==null?p:sl(m),_=y==null?p:sl(y),p=new w(A,S+"leave",m,n,d),p.target=b,p.relatedTarget=_,A=null,Wo(d)===c&&(w=new w(g,S+"enter",y,n,d),w.target=_,w.relatedTarget=b,A=w),b=A,m&&y)t:{for(w=m,g=y,S=0,_=w;_;_=Ta(_))S++;for(_=0,A=g;A;A=Ta(A))_++;for(;0<S-_;)w=Ta(w),S--;for(;0<_-S;)g=Ta(g),_--;for(;S--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ta(w),g=Ta(g)}w=null}else w=null;m!==null&&ub(h,p,m,w,!1),y!==null&&b!==null&&ub(h,b,y,w,!0)}}e:{if(p=c?sl(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=Z5;else if(nb(p))if(rE)R=e6;else{R=Q5;var W=X5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=J5);if(R&&(R=R(t,c))){nE(h,R,n,d);break e}W&&W(t,p,c),t==="focusout"&&(W=p._wrapperState)&&W.controlled&&p.type==="number"&&Gg(p,"number",p.value)}switch(W=c?sl(c):window,t){case"focusin":(nb(W)||W.contentEditable==="true")&&(rl=W,ay=c,ku=null);break;case"focusout":ku=ay=rl=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,ab(h,n,d);break;case"selectionchange":if(r6)break;case"keydown":case"keyup":ab(h,n,d)}var O;if(Nx)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else nl?eE(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Jk&&n.locale!=="ko"&&(nl||B!=="onCompositionStart"?B==="onCompositionEnd"&&nl&&(O=Qk()):($s=d,_x="value"in $s?$s.value:$s.textContent,nl=!0)),W=tp(c,B),0<W.length&&(B=new Qv(B,t,null,n,d),h.push({event:B,listeners:W}),O?B.data=O:(O=tE(n),O!==null&&(B.data=O)))),(O=V5?K5(t,n):q5(t,n))&&(c=tp(c,"onBeforeInput"),0<c.length&&(d=new Qv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=O))}fE(h,e)})}function Gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$u(t,n),s!=null&&r.unshift(Gu(t,s,i)),s=$u(t,e),s!=null&&r.push(Gu(t,s,i))),t=t.return}return r}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ub(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=$u(n,s),l!=null&&o.unshift(Gu(n,l,a))):i||(l=$u(n,s),l!=null&&o.push(Gu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var a6=/\r\n?/g,l6=/\u0000|\uFFFD/g;function db(t){return(typeof t=="string"?t:""+t).replace(a6,`
`).replace(l6,"")}function lh(t,e,n){if(e=db(e),db(t)!==e&&n)throw Error(ae(425))}function np(){}var cy=null,uy=null;function dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,c6=typeof clearTimeout=="function"?clearTimeout:void 0,hb=typeof Promise=="function"?Promise:void 0,u6=typeof queueMicrotask=="function"?queueMicrotask:typeof hb<"u"?function(t){return hb.resolve(null).then(t).catch(d6)}:hy;function d6(t){setTimeout(function(){throw t})}function Cm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vu(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cc=Math.random().toString(36).slice(2),vi="__reactFiber$"+cc,Zu="__reactProps$"+cc,ds="__reactContainer$"+cc,fy="__reactEvents$"+cc,h6="__reactListeners$"+cc,f6="__reactHandles$"+cc;function Wo(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ds]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fb(t);t!==null;){if(n=t[vi])return n;t=fb(t)}return e}t=n,n=t.parentNode}return null}function Td(t){return t=t[vi]||t[ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function d0(t){return t[Zu]||null}var py=[],ol=-1;function wo(t){return{current:t}}function bt(t){0>ol||(t.current=py[ol],py[ol]=null,ol--)}function mt(t,e){ol++,py[ol]=t.current,t.current=e}var po={},Un=wo(po),ur=wo(!1),aa=po;function Ll(t,e){var n=t.type.contextTypes;if(!n)return po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dr(t){return t=t.childContextTypes,t!=null}function rp(){bt(ur),bt(Un)}function pb(t,e,n){if(Un.current!==po)throw Error(ae(168));mt(Un,e),mt(ur,n)}function mE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,XI(t)||"Unknown",i));return jt({},n,r)}function ip(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||po,aa=Un.current,mt(Un,t),mt(ur,ur.current),!0}function mb(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=mE(t,e,aa),r.__reactInternalMemoizedMergedChildContext=t,bt(ur),bt(Un),mt(Un,t)):bt(ur),mt(ur,n)}var qi=null,h0=!1,Im=!1;function gE(t){qi===null?qi=[t]:qi.push(t)}function p6(t){h0=!0,gE(t)}function vo(){if(!Im&&qi!==null){Im=!0;var t=0,e=lt;try{var n=qi;for(lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qi=null,h0=!1}catch(i){throw qi!==null&&(qi=qi.slice(t+1)),Fk(wx,vo),i}finally{lt=e,Im=!1}}return null}var al=[],ll=0,sp=null,op=0,Tr=[],jr=0,la=null,ts=1,ns="";function Mo(t,e){al[ll++]=op,al[ll++]=sp,sp=t,op=e}function yE(t,e,n){Tr[jr++]=ts,Tr[jr++]=ns,Tr[jr++]=la,la=t;var r=ts;t=ns;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var s=32-ti(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ts=1<<32-ti(e)+i|n<<i|r,ns=s+t}else ts=1<<s|n<<i|r,ns=t}function Mx(t){t.return!==null&&(Mo(t,1),yE(t,1,0))}function Cx(t){for(;t===sp;)sp=al[--ll],al[ll]=null,op=al[--ll],al[ll]=null;for(;t===la;)la=Tr[--jr],Tr[jr]=null,ns=Tr[--jr],Tr[jr]=null,ts=Tr[--jr],Tr[jr]=null}var wr=null,xr=null,Et=!1,Zr=null;function xE(t,e){var n=Br(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,xr=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=la!==null?{id:ts,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Br(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,xr=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gy(t){if(Et){var e=xr;if(e){var n=e;if(!gb(t,e)){if(my(t))throw Error(ae(418));e=no(n.nextSibling);var r=wr;e&&gb(t,e)?xE(r,n):(t.flags=t.flags&-4097|2,Et=!1,wr=t)}}else{if(my(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Et=!1,wr=t}}}function yb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function ch(t){if(t!==wr)return!1;if(!Et)return yb(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dy(t.type,t.memoizedProps)),e&&(e=xr)){if(my(t))throw wE(),Error(ae(418));for(;e;)xE(t,e),e=no(e.nextSibling)}if(yb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=wr?no(t.stateNode.nextSibling):null;return!0}function wE(){for(var t=xr;t;)t=no(t.nextSibling)}function Ol(){xr=wr=null,Et=!1}function Ix(t){Zr===null?Zr=[t]:Zr.push(t)}var m6=ws.ReactCurrentBatchConfig;function Oc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function uh(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xb(t){var e=t._init;return e(t._payload)}function vE(t){function e(g,S){if(t){var _=g.deletions;_===null?(g.deletions=[S],g.flags|=16):_.push(S)}}function n(g,S){if(!t)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function r(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function i(g,S){return g=oo(g,S),g.index=0,g.sibling=null,g}function s(g,S,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<S?(g.flags|=2,S):_):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,S,_,A){return S===null||S.tag!==6?(S=Om(_,g.mode,A),S.return=g,S):(S=i(S,_),S.return=g,S)}function l(g,S,_,A){var R=_.type;return R===tl?d(g,S,_.props.children,A,_.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Rs&&xb(R)===S.type)?(A=i(S,_.props),A.ref=Oc(g,S,_),A.return=g,A):(A=af(_.type,_.key,_.props,null,g.mode,A),A.ref=Oc(g,S,_),A.return=g,A)}function c(g,S,_,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Dm(_,g.mode,A),S.return=g,S):(S=i(S,_.children||[]),S.return=g,S)}function d(g,S,_,A,R){return S===null||S.tag!==7?(S=na(_,g.mode,A,R),S.return=g,S):(S=i(S,_),S.return=g,S)}function h(g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Om(""+S,g.mode,_),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jd:return _=af(S.type,S.key,S.props,null,g.mode,_),_.ref=Oc(g,null,S),_.return=g,_;case el:return S=Dm(S,g.mode,_),S.return=g,S;case Rs:var A=S._init;return h(g,A(S._payload),_)}if(eu(S)||jc(S))return S=na(S,g.mode,_,null),S.return=g,S;uh(g,S)}return null}function p(g,S,_,A){var R=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:a(g,S,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jd:return _.key===R?l(g,S,_,A):null;case el:return _.key===R?c(g,S,_,A):null;case Rs:return R=_._init,p(g,S,R(_._payload),A)}if(eu(_)||jc(_))return R!==null?null:d(g,S,_,A,null);uh(g,_)}return null}function m(g,S,_,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(_)||null,a(S,g,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Jd:return g=g.get(A.key===null?_:A.key)||null,l(S,g,A,R);case el:return g=g.get(A.key===null?_:A.key)||null,c(S,g,A,R);case Rs:var W=A._init;return m(g,S,_,W(A._payload),R)}if(eu(A)||jc(A))return g=g.get(_)||null,d(S,g,A,R,null);uh(S,A)}return null}function y(g,S,_,A){for(var R=null,W=null,O=S,B=S=0,F=null;O!==null&&B<_.length;B++){O.index>B?(F=O,O=null):F=O.sibling;var U=p(g,O,_[B],A);if(U===null){O===null&&(O=F);break}t&&O&&U.alternate===null&&e(g,O),S=s(U,S,B),W===null?R=U:W.sibling=U,W=U,O=F}if(B===_.length)return n(g,O),Et&&Mo(g,B),R;if(O===null){for(;B<_.length;B++)O=h(g,_[B],A),O!==null&&(S=s(O,S,B),W===null?R=O:W.sibling=O,W=O);return Et&&Mo(g,B),R}for(O=r(g,O);B<_.length;B++)F=m(O,g,B,_[B],A),F!==null&&(t&&F.alternate!==null&&O.delete(F.key===null?B:F.key),S=s(F,S,B),W===null?R=F:W.sibling=F,W=F);return t&&O.forEach(function(H){return e(g,H)}),Et&&Mo(g,B),R}function w(g,S,_,A){var R=jc(_);if(typeof R!="function")throw Error(ae(150));if(_=R.call(_),_==null)throw Error(ae(151));for(var W=R=null,O=S,B=S=0,F=null,U=_.next();O!==null&&!U.done;B++,U=_.next()){O.index>B?(F=O,O=null):F=O.sibling;var H=p(g,O,U.value,A);if(H===null){O===null&&(O=F);break}t&&O&&H.alternate===null&&e(g,O),S=s(H,S,B),W===null?R=H:W.sibling=H,W=H,O=F}if(U.done)return n(g,O),Et&&Mo(g,B),R;if(O===null){for(;!U.done;B++,U=_.next())U=h(g,U.value,A),U!==null&&(S=s(U,S,B),W===null?R=U:W.sibling=U,W=U);return Et&&Mo(g,B),R}for(O=r(g,O);!U.done;B++,U=_.next())U=m(O,g,B,U.value,A),U!==null&&(t&&U.alternate!==null&&O.delete(U.key===null?B:U.key),S=s(U,S,B),W===null?R=U:W.sibling=U,W=U);return t&&O.forEach(function(K){return e(g,K)}),Et&&Mo(g,B),R}function b(g,S,_,A){if(typeof _=="object"&&_!==null&&_.type===tl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Jd:e:{for(var R=_.key,W=S;W!==null;){if(W.key===R){if(R=_.type,R===tl){if(W.tag===7){n(g,W.sibling),S=i(W,_.props.children),S.return=g,g=S;break e}}else if(W.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Rs&&xb(R)===W.type){n(g,W.sibling),S=i(W,_.props),S.ref=Oc(g,W,_),S.return=g,g=S;break e}n(g,W);break}else e(g,W);W=W.sibling}_.type===tl?(S=na(_.props.children,g.mode,A,_.key),S.return=g,g=S):(A=af(_.type,_.key,_.props,null,g.mode,A),A.ref=Oc(g,S,_),A.return=g,g=A)}return o(g);case el:e:{for(W=_.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(g,S.sibling),S=i(S,_.children||[]),S.return=g,g=S;break e}else{n(g,S);break}else e(g,S);S=S.sibling}S=Dm(_,g.mode,A),S.return=g,g=S}return o(g);case Rs:return W=_._init,b(g,S,W(_._payload),A)}if(eu(_))return y(g,S,_,A);if(jc(_))return w(g,S,_,A);uh(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(g,S.sibling),S=i(S,_),S.return=g,g=S):(n(g,S),S=Om(_,g.mode,A),S.return=g,g=S),o(g)):n(g,S)}return b}var Dl=vE(!0),bE=vE(!1),ap=wo(null),lp=null,cl=null,Tx=null;function jx(){Tx=cl=lp=null}function Rx(t){var e=ap.current;bt(ap),t._currentValue=e}function yy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sl(t,e){lp=t,Tx=cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(Tx!==t)if(t={context:t,memoizedValue:e,next:null},cl===null){if(lp===null)throw Error(ae(308));cl=t,lp.dependencies={lanes:0,firstContext:t}}else cl=cl.next=t;return e}var Fo=null;function Bx(t){Fo===null?Fo=[t]:Fo.push(t)}function SE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bx(e)):(n.next=i.next,i.next=n),e.interleaved=n,hs(t,r)}function hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bs=!1;function Px(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _E(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hs(t,n)}return i=r.interleaved,i===null?(e.next=e,Bx(r)):(e.next=i.next,i.next=e),r.interleaved=e,hs(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vx(t,n)}}function wb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cp(t,e,n,r){var i=t.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=jt({},h,p);break e;case 2:Bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ua|=o,t.lanes=o,t.memoizedState=h}}function vb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var jd={},Ai=wo(jd),Xu=wo(jd),Qu=wo(jd);function $o(t){if(t===jd)throw Error(ae(174));return t}function Lx(t,e){switch(mt(Qu,e),mt(Xu,t),mt(Ai,jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xg(e,t)}bt(Ai),mt(Ai,e)}function zl(){bt(Ai),bt(Xu),bt(Qu)}function kE(t){$o(Qu.current);var e=$o(Ai.current),n=Xg(e,t.type);e!==n&&(mt(Xu,t),mt(Ai,n))}function Ox(t){Xu.current===t&&(bt(Ai),bt(Xu))}var Ct=wo(0);function up(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tm=[];function Dx(){for(var t=0;t<Tm.length;t++)Tm[t]._workInProgressVersionPrimary=null;Tm.length=0}var tf=ws.ReactCurrentDispatcher,jm=ws.ReactCurrentBatchConfig,ca=0,Tt=null,ln=null,gn=null,dp=!1,Eu=!1,Ju=0,g6=0;function Rn(){throw Error(ae(321))}function zx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function Wx(t,e,n,r,i,s){if(ca=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?v6:b6,t=n(r,i),Eu){s=0;do{if(Eu=!1,Ju=0,25<=s)throw Error(ae(301));s+=1,gn=ln=null,e.updateQueue=null,tf.current=S6,t=n(r,i)}while(Eu)}if(tf.current=hp,e=ln!==null&&ln.next!==null,ca=0,gn=ln=Tt=null,dp=!1,e)throw Error(ae(300));return t}function Fx(){var t=Ju!==0;return Ju=0,t}function gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Tt.memoizedState=gn=t:gn=gn.next=t,gn}function Fr(){if(ln===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=gn===null?Tt.memoizedState:gn.next;if(e!==null)gn=e,ln=t;else{if(t===null)throw Error(ae(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},gn===null?Tt.memoizedState=gn=t:gn=gn.next=t}return gn}function ed(t,e){return typeof e=="function"?e(t):e}function Rm(t){var e=Fr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ca&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Tt.lanes|=d,ua|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ai(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,ua|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bm(t){var e=Fr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ai(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function EE(){}function NE(t,e){var n=Tt,r=Fr(),i=e(),s=!ai(r.memoizedState,i);if(s&&(r.memoizedState=i,or=!0),r=r.queue,$x(CE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,td(9,ME.bind(null,n,r,i,e),void 0,null),wn===null)throw Error(ae(349));ca&30||AE(n,e,i)}return i}function AE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ME(t,e,n,r){e.value=n,e.getSnapshot=r,IE(e)&&TE(t)}function CE(t,e,n){return n(function(){IE(e)&&TE(t)})}function IE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch{return!0}}function TE(t){var e=hs(t,1);e!==null&&ni(e,t,1,-1)}function bb(t){var e=gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:t},e.queue=t,t=t.dispatch=w6.bind(null,Tt,t),[e.memoizedState,t]}function td(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jE(){return Fr().memoizedState}function nf(t,e,n,r){var i=gi();Tt.flags|=t,i.memoizedState=td(1|e,n,void 0,r===void 0?null:r)}function f0(t,e,n,r){var i=Fr();r=r===void 0?null:r;var s=void 0;if(ln!==null){var o=ln.memoizedState;if(s=o.destroy,r!==null&&zx(r,o.deps)){i.memoizedState=td(e,n,s,r);return}}Tt.flags|=t,i.memoizedState=td(1|e,n,s,r)}function Sb(t,e){return nf(8390656,8,t,e)}function $x(t,e){return f0(2048,8,t,e)}function RE(t,e){return f0(4,2,t,e)}function BE(t,e){return f0(4,4,t,e)}function PE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LE(t,e,n){return n=n!=null?n.concat([t]):null,f0(4,4,PE.bind(null,e,t),n)}function Ux(){}function OE(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DE(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zE(t,e,n){return ca&21?(ai(n,e)||(n=Hk(),Tt.lanes|=n,ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n)}function y6(t,e){var n=lt;lt=n!==0&&4>n?n:4,t(!0);var r=jm.transition;jm.transition={};try{t(!1),e()}finally{lt=n,jm.transition=r}}function WE(){return Fr().memoizedState}function x6(t,e,n){var r=so(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FE(t))$E(e,n);else if(n=SE(t,e,n,r),n!==null){var i=Gn();ni(n,t,r,i),UE(n,e,r)}}function w6(t,e,n){var r=so(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FE(t))$E(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ai(a,o)){var l=e.interleaved;l===null?(i.next=i,Bx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SE(t,e,i,r),n!==null&&(i=Gn(),ni(n,t,r,i),UE(n,e,r))}}function FE(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function $E(t,e){Eu=dp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vx(t,n)}}var hp={readContext:Wr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},v6={readContext:Wr,useCallback:function(t,e){return gi().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:Sb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,PE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x6.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=gi();return t={current:t},e.memoizedState=t},useState:bb,useDebugValue:Ux,useDeferredValue:function(t){return gi().memoizedState=t},useTransition:function(){var t=bb(!1),e=t[0];return t=y6.bind(null,t[1]),gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,i=gi();if(Et){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),wn===null)throw Error(ae(349));ca&30||AE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sb(CE.bind(null,r,s,t),[t]),r.flags|=2048,td(9,ME.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gi(),e=wn.identifierPrefix;if(Et){var n=ns,r=ts;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},b6={readContext:Wr,useCallback:OE,useContext:Wr,useEffect:$x,useImperativeHandle:LE,useInsertionEffect:RE,useLayoutEffect:BE,useMemo:DE,useReducer:Rm,useRef:jE,useState:function(){return Rm(ed)},useDebugValue:Ux,useDeferredValue:function(t){var e=Fr();return zE(e,ln.memoizedState,t)},useTransition:function(){var t=Rm(ed)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:EE,useSyncExternalStore:NE,useId:WE,unstable_isNewReconciler:!1},S6={readContext:Wr,useCallback:OE,useContext:Wr,useEffect:$x,useImperativeHandle:LE,useInsertionEffect:RE,useLayoutEffect:BE,useMemo:DE,useReducer:Bm,useRef:jE,useState:function(){return Bm(ed)},useDebugValue:Ux,useDeferredValue:function(t){var e=Fr();return ln===null?e.memoizedState=t:zE(e,ln.memoizedState,t)},useTransition:function(){var t=Bm(ed)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:EE,useSyncExternalStore:NE,useId:WE,unstable_isNewReconciler:!1};function Kr(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var p0={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gn(),i=so(t),s=ls(r,i);s.payload=e,n!=null&&(s.callback=n),e=ro(t,s,i),e!==null&&(ni(e,t,i,r),ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gn(),i=so(t),s=ls(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ro(t,s,i),e!==null&&(ni(e,t,i,r),ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gn(),r=so(t),i=ls(n,r);i.tag=2,e!=null&&(i.callback=e),e=ro(t,i,r),e!==null&&(ni(e,t,r,n),ef(e,t,r))}};function _b(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qu(n,r)||!qu(i,s):!0}function HE(t,e,n){var r=!1,i=po,s=e.contextType;return typeof s=="object"&&s!==null?s=Wr(s):(i=dr(e)?aa:Un.current,r=e.contextTypes,s=(r=r!=null)?Ll(t,i):po),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=p0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&p0.enqueueReplaceState(e,e.state,null)}function wy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Px(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wr(s):(s=dr(e)?aa:Un.current,i.context=Ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&p0.enqueueReplaceState(i,i.state,null),cp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e){try{var n="",r=e;do n+=ZI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _6=typeof WeakMap=="function"?WeakMap:Map;function VE(t,e,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pp||(pp=!0,Iy=r),vy(t,e)},n}function KE(t,e,n){n=ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vy(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Eb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=O6.bind(null,t,e,n),e.then(t,t))}function Nb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ab(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ls(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t)}var k6=ws.ReactCurrentOwner,or=!1;function qn(t,e,n,r){e.child=t===null?bE(e,null,n,r):Dl(e,t.child,n,r)}function Mb(t,e,n,r,i){n=n.render;var s=e.ref;return Sl(e,i),r=Wx(t,e,n,r,s,i),n=Fx(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fs(t,e,i)):(Et&&n&&Mx(e),e.flags|=1,qn(t,e,r,i),e.child)}function Cb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qE(t,e,s,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qu,n(o,r)&&t.ref===e.ref)return fs(t,e,i)}return e.flags|=1,t=oo(s,r),t.ref=e.ref,t.return=e,e.child=t}function qE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qu(s,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,fs(t,e,i)}return by(t,e,n,r,i)}function YE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(dl,pr),pr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(dl,pr),pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mt(dl,pr),pr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,mt(dl,pr),pr|=r;return qn(t,e,i,n),e.child}function GE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function by(t,e,n,r,i){var s=dr(n)?aa:Un.current;return s=Ll(e,s),Sl(e,i),n=Wx(t,e,n,r,s,i),r=Fx(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fs(t,e,i)):(Et&&r&&Mx(e),e.flags|=1,qn(t,e,n,i),e.child)}function Ib(t,e,n,r,i){if(dr(n)){var s=!0;ip(e)}else s=!1;if(Sl(e,i),e.stateNode===null)rf(t,e),HE(e,n,r),wy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wr(c):(c=dr(n)?aa:Un.current,c=Ll(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kb(e,o,r,c),Bs=!1;var p=e.memoizedState;o.state=p,cp(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ur.current||Bs?(typeof d=="function"&&(xy(e,n,d,r),l=e.memoizedState),(a=Bs||_b(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_E(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=dr(n)?aa:Un.current,l=Ll(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&kb(e,o,r,l),Bs=!1,p=e.memoizedState,o.state=p,cp(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||ur.current||Bs?(typeof m=="function"&&(xy(e,n,m,r),y=e.memoizedState),(c=Bs||_b(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Sy(t,e,n,r,s,i)}function Sy(t,e,n,r,i,s){GE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mb(e,n,!1),fs(t,e,s);r=e.stateNode,k6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dl(e,t.child,null,s),e.child=Dl(e,null,a,s)):qn(t,e,a,s),e.memoizedState=r.state,i&&mb(e,n,!0),e.child}function ZE(t){var e=t.stateNode;e.pendingContext?pb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pb(t,e.context,!1),Lx(t,e.containerInfo)}function Tb(t,e,n,r,i){return Ol(),Ix(i),e.flags|=256,qn(t,e,n,r),e.child}var _y={dehydrated:null,treeContext:null,retryLane:0};function ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function XE(t,e,n){var r=e.pendingProps,i=Ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mt(Ct,i&1),t===null)return gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=y0(o,r,0,null),t=na(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ky(n),e.memoizedState=_y,t):Hx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return E6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oo(a,s):(s=na(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ky(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_y,r}return s=t.child,t=s.sibling,r=oo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hx(t,e){return e=y0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dh(t,e,n,r){return r!==null&&Ix(r),Dl(e,t.child,null,n),t=Hx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function E6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pm(Error(ae(422))),dh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=y0({mode:"visible",children:r.children},i,0,null),s=na(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Dl(e,t.child,null,o),e.child.memoizedState=ky(o),e.memoizedState=_y,s);if(!(e.mode&1))return dh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Pm(s,r,void 0),dh(t,e,o,r)}if(a=(o&t.childLanes)!==0,or||a){if(r=wn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hs(t,i),ni(r,t,i,-1))}return Zx(),r=Pm(Error(ae(421))),dh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xr=no(i.nextSibling),wr=e,Et=!0,Zr=null,t!==null&&(Tr[jr++]=ts,Tr[jr++]=ns,Tr[jr++]=la,ts=t.id,ns=t.overflow,la=e),e=Hx(e,r.children),e.flags|=4096,e)}function jb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yy(t.return,e,n)}function Lm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function QE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qn(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jb(t,n,e);else if(t.tag===19)jb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&up(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&up(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lm(e,!0,n,null,s);break;case"together":Lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function N6(t,e,n){switch(e.tag){case 3:ZE(e),Ol();break;case 5:kE(e);break;case 1:dr(e.type)&&ip(e);break;case 4:Lx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;mt(ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?XE(t,e,n):(mt(Ct,Ct.current&1),t=fs(t,e,n),t!==null?t.sibling:null);mt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,n)}return fs(t,e,n)}var JE,Ey,eN,tN;JE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ey=function(){};eN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$o(Ai.current);var s=null;switch(n){case"input":i=qg(t,i),r=qg(t,r),s=[];break;case"select":i=jt({},i,{value:void 0}),r=jt({},r,{value:void 0}),s=[];break;case"textarea":i=Zg(t,i),r=Zg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=np)}Qg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};tN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function A6(t,e,n){var r=e.pendingProps;switch(Cx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return dr(e.type)&&rp(),Bn(e),null;case 3:return r=e.stateNode,zl(),bt(ur),bt(Un),Dx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(Ry(Zr),Zr=null))),Ey(t,e),Bn(e),null;case 5:Ox(e);var i=$o(Qu.current);if(n=e.type,t!==null&&e.stateNode!=null)eN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Bn(e),null}if(t=$o(Ai.current),ch(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vi]=e,r[Zu]=s,t=(e.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(i=0;i<nu.length;i++)xt(nu[i],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":Fv(r,s),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xt("invalid",r);break;case"textarea":Uv(r,s),xt("invalid",r)}Qg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lh(r.textContent,a,t),i=["children",""+a]):Wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xt("scroll",r)}switch(n){case"input":eh(r),$v(r,s,!0);break;case"textarea":eh(r),Hv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=np)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ck(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vi]=e,t[Zu]=r,JE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jg(n,r),n){case"dialog":xt("cancel",t),xt("close",t),i=r;break;case"iframe":case"object":case"embed":xt("load",t),i=r;break;case"video":case"audio":for(i=0;i<nu.length;i++)xt(nu[i],t);i=r;break;case"source":xt("error",t),i=r;break;case"img":case"image":case"link":xt("error",t),xt("load",t),i=r;break;case"details":xt("toggle",t),i=r;break;case"input":Fv(t,r),i=qg(t,r),xt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jt({},r,{value:void 0}),xt("invalid",t);break;case"textarea":Uv(t,r),i=Zg(t,r),xt("invalid",t);break;default:i=r}Qg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ik(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fu(t,l):typeof l=="number"&&Fu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xt("scroll",t):l!=null&&px(t,s,l,o))}switch(n){case"input":eh(t),$v(t,r,!1);break;case"textarea":eh(t),Hv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xl(t,!!r.multiple,s,!1):r.defaultValue!=null&&xl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=np)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)tN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=$o(Qu.current),$o(Ai.current),ch(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(s=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:lh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return Bn(e),null;case 13:if(bt(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&xr!==null&&e.mode&1&&!(e.flags&128))wE(),Ol(),e.flags|=98560,s=!1;else if(s=ch(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[vi]=e}else Ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),s=!1}else Zr!==null&&(Ry(Zr),Zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?un===0&&(un=3):Zx())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return zl(),Ey(t,e),t===null&&Yu(e.stateNode.containerInfo),Bn(e),null;case 10:return Rx(e.type._context),Bn(e),null;case 17:return dr(e.type)&&rp(),Bn(e),null;case 19:if(bt(Ct),s=e.memoizedState,s===null)return Bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Dc(s,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=up(t),o!==null){for(e.flags|=128,Dc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mt(Ct,Ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jt()>Fl&&(e.flags|=128,r=!0,Dc(s,!1),e.lanes=4194304)}else{if(!r)if(t=up(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Et)return Bn(e),null}else 2*Jt()-s.renderingStartTime>Fl&&n!==1073741824&&(e.flags|=128,r=!0,Dc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=Ct.current,mt(Ct,r?n&1|2:n&1),e):(Bn(e),null);case 22:case 23:return Gx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pr&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function M6(t,e){switch(Cx(e),e.tag){case 1:return dr(e.type)&&rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),bt(ur),bt(Un),Dx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ox(e),null;case 13:if(bt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(Ct),null;case 4:return zl(),null;case 10:return Rx(e.type._context),null;case 22:case 23:return Gx(),null;case 24:return null;default:return null}}var hh=!1,Fn=!1,C6=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ul(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function Ny(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var Rb=!1;function I6(t,e){if(cy=Jf,t=oE(),Ax(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uy={focusedElem:t,selectionRange:n},Jf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Kr(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(A){Gt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return y=Rb,Rb=!1,y}function Nu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ny(e,n,s)}i=i.next}while(i!==r)}}function m0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ay(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nN(t){var e=t.alternate;e!==null&&(t.alternate=null,nN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[Zu],delete e[fy],delete e[h6],delete e[f6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rN(t){return t.tag===5||t.tag===3||t.tag===4}function Bb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function My(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=np));else if(r!==4&&(t=t.child,t!==null))for(My(t,e,n),t=t.sibling;t!==null;)My(t,e,n),t=t.sibling}function Cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cy(t,e,n),t=t.sibling;t!==null;)Cy(t,e,n),t=t.sibling}var kn=null,Yr=!1;function Ss(t,e,n){for(n=n.child;n!==null;)iN(t,e,n),n=n.sibling}function iN(t,e,n){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(a0,n)}catch{}switch(n.tag){case 5:Fn||ul(n,e);case 6:var r=kn,i=Yr;kn=null,Ss(t,e,n),kn=r,Yr=i,kn!==null&&(Yr?(t=kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(Yr?(t=kn,n=n.stateNode,t.nodeType===8?Cm(t.parentNode,n):t.nodeType===1&&Cm(t,n),Vu(t)):Cm(kn,n.stateNode));break;case 4:r=kn,i=Yr,kn=n.stateNode.containerInfo,Yr=!0,Ss(t,e,n),kn=r,Yr=i;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ny(n,e,o),i=i.next}while(i!==r)}Ss(t,e,n);break;case 1:if(!Fn&&(ul(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gt(n,e,a)}Ss(t,e,n);break;case 21:Ss(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,Ss(t,e,n),Fn=r):Ss(t,e,n);break;default:Ss(t,e,n)}}function Pb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C6),e.forEach(function(r){var i=z6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kn=a.stateNode,Yr=!1;break e;case 3:kn=a.stateNode.containerInfo,Yr=!0;break e;case 4:kn=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(kn===null)throw Error(ae(160));iN(s,o,i),kn=null,Yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sN(e,t),e=e.sibling}function sN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ur(e,t),hi(t),r&4){try{Nu(3,t,t.return),m0(3,t)}catch(w){Gt(t,t.return,w)}try{Nu(5,t,t.return)}catch(w){Gt(t,t.return,w)}}break;case 1:Ur(e,t),hi(t),r&512&&n!==null&&ul(n,n.return);break;case 5:if(Ur(e,t),hi(t),r&512&&n!==null&&ul(n,n.return),t.flags&32){var i=t.stateNode;try{Fu(i,"")}catch(w){Gt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ak(i,s),Jg(a,o);var c=Jg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?jk(i,h):d==="dangerouslySetInnerHTML"?Ik(i,h):d==="children"?Fu(i,h):px(i,d,h,c)}switch(a){case"input":Yg(i,s);break;case"textarea":Mk(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?xl(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?xl(i,!!s.multiple,s.defaultValue,!0):xl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zu]=s}catch(w){Gt(t,t.return,w)}}break;case 6:if(Ur(e,t),hi(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Gt(t,t.return,w)}}break;case 3:if(Ur(e,t),hi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vu(e.containerInfo)}catch(w){Gt(t,t.return,w)}break;case 4:Ur(e,t),hi(t);break;case 13:Ur(e,t),hi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qx=Jt())),r&4&&Pb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(c=Fn)||d,Ur(e,t),Fn=c):Ur(e,t),hi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(h=xe=d;xe!==null;){switch(p=xe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Nu(4,p,p.return);break;case 1:ul(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Gt(r,n,w)}}break;case 5:ul(p,p.return);break;case 22:if(p.memoizedState!==null){Ob(h);continue}}m!==null?(m.return=p,xe=m):Ob(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tk("display",o))}catch(w){Gt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Gt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ur(e,t),hi(t),r&4&&Pb(t);break;case 21:break;default:Ur(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rN(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fu(i,""),r.flags&=-33);var s=Bb(t);Cy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bb(t);My(t,a,o);break;default:throw Error(ae(161))}}catch(l){Gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T6(t,e,n){xe=t,oN(t)}function oN(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fn;a=hh;var c=Fn;if(hh=o,(Fn=l)&&!c)for(xe=i;xe!==null;)o=xe,l=o.child,o.tag===22&&o.memoizedState!==null?Db(i):l!==null?(l.return=o,xe=l):Db(i);for(;s!==null;)xe=s,oN(s),s=s.sibling;xe=i,hh=a,Fn=c}Lb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):Lb(t)}}function Lb(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||m0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Fn||e.flags&512&&Ay(e)}catch(p){Gt(e,e.return,p)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Ob(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Db(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{m0(4,e)}catch(l){Gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Gt(e,i,l)}}var s=e.return;try{Ay(e)}catch(l){Gt(e,s,l)}break;case 5:var o=e.return;try{Ay(e)}catch(l){Gt(e,o,l)}}}catch(l){Gt(e,e.return,l)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var j6=Math.ceil,fp=ws.ReactCurrentDispatcher,Vx=ws.ReactCurrentOwner,Dr=ws.ReactCurrentBatchConfig,Je=0,wn=null,sn=null,Cn=0,pr=0,dl=wo(0),un=0,nd=null,ua=0,g0=0,Kx=0,Au=null,rr=null,qx=0,Fl=1/0,Ki=null,pp=!1,Iy=null,io=null,fh=!1,Us=null,mp=0,Mu=0,Ty=null,sf=-1,of=0;function Gn(){return Je&6?Jt():sf!==-1?sf:sf=Jt()}function so(t){return t.mode&1?Je&2&&Cn!==0?Cn&-Cn:m6.transition!==null?(of===0&&(of=Hk()),of):(t=lt,t!==0||(t=window.event,t=t===void 0?16:Xk(t.type)),t):1}function ni(t,e,n,r){if(50<Mu)throw Mu=0,Ty=null,Error(ae(185));Cd(t,n,r),(!(Je&2)||t!==wn)&&(t===wn&&(!(Je&2)&&(g0|=n),un===4&&zs(t,Cn)),hr(t,r),n===1&&Je===0&&!(e.mode&1)&&(Fl=Jt()+500,h0&&vo()))}function hr(t,e){var n=t.callbackNode;m5(t,e);var r=Qf(t,t===wn?Cn:0);if(r===0)n!==null&&qv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qv(n),e===1)t.tag===0?p6(zb.bind(null,t)):gE(zb.bind(null,t)),u6(function(){!(Je&6)&&vo()}),n=null;else{switch(Vk(r)){case 1:n=wx;break;case 4:n=$k;break;case 16:n=Xf;break;case 536870912:n=Uk;break;default:n=Xf}n=pN(n,aN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aN(t,e){if(sf=-1,of=0,Je&6)throw Error(ae(327));var n=t.callbackNode;if(_l()&&t.callbackNode!==n)return null;var r=Qf(t,t===wn?Cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gp(t,r);else{e=r;var i=Je;Je|=2;var s=cN();(wn!==t||Cn!==e)&&(Ki=null,Fl=Jt()+500,ta(t,e));do try{P6();break}catch(a){lN(t,a)}while(!0);jx(),fp.current=s,Je=i,sn!==null?e=0:(wn=null,Cn=0,e=un)}if(e!==0){if(e===2&&(i=iy(t),i!==0&&(r=i,e=jy(t,i))),e===1)throw n=nd,ta(t,0),zs(t,r),hr(t,Jt()),n;if(e===6)zs(t,r);else{if(i=t.current.alternate,!(r&30)&&!R6(i)&&(e=gp(t,r),e===2&&(s=iy(t),s!==0&&(r=s,e=jy(t,s))),e===1))throw n=nd,ta(t,0),zs(t,r),hr(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:Co(t,rr,Ki);break;case 3:if(zs(t,r),(r&130023424)===r&&(e=qx+500-Jt(),10<e)){if(Qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hy(Co.bind(null,t,rr,Ki),e);break}Co(t,rr,Ki);break;case 4:if(zs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ti(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j6(r/1960))-r,10<r){t.timeoutHandle=hy(Co.bind(null,t,rr,Ki),r);break}Co(t,rr,Ki);break;case 5:Co(t,rr,Ki);break;default:throw Error(ae(329))}}}return hr(t,Jt()),t.callbackNode===n?aN.bind(null,t):null}function jy(t,e){var n=Au;return t.current.memoizedState.isDehydrated&&(ta(t,e).flags|=256),t=gp(t,e),t!==2&&(e=rr,rr=n,e!==null&&Ry(e)),t}function Ry(t){rr===null?rr=t:rr.push.apply(rr,t)}function R6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ai(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zs(t,e){for(e&=~Kx,e&=~g0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ti(e),r=1<<n;t[n]=-1,e&=~r}}function zb(t){if(Je&6)throw Error(ae(327));_l();var e=Qf(t,0);if(!(e&1))return hr(t,Jt()),null;var n=gp(t,e);if(t.tag!==0&&n===2){var r=iy(t);r!==0&&(e=r,n=jy(t,r))}if(n===1)throw n=nd,ta(t,0),zs(t,e),hr(t,Jt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,rr,Ki),hr(t,Jt()),null}function Yx(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&(Fl=Jt()+500,h0&&vo())}}function da(t){Us!==null&&Us.tag===0&&!(Je&6)&&_l();var e=Je;Je|=1;var n=Dr.transition,r=lt;try{if(Dr.transition=null,lt=1,t)return t()}finally{lt=r,Dr.transition=n,Je=e,!(Je&6)&&vo()}}function Gx(){pr=dl.current,bt(dl)}function ta(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c6(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(Cx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rp();break;case 3:zl(),bt(ur),bt(Un),Dx();break;case 5:Ox(r);break;case 4:zl();break;case 13:bt(Ct);break;case 19:bt(Ct);break;case 10:Rx(r.type._context);break;case 22:case 23:Gx()}n=n.return}if(wn=t,sn=t=oo(t.current,null),Cn=pr=e,un=0,nd=null,Kx=g0=ua=0,rr=Au=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fo=null}return t}function lN(t,e){do{var n=sn;try{if(jx(),tf.current=hp,dp){for(var r=Tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dp=!1}if(ca=0,gn=ln=Tt=null,Eu=!1,Ju=0,Vx.current=null,n===null||n.return===null){un=1,nd=e,sn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Cn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Nb(o);if(m!==null){m.flags&=-257,Ab(m,o,a,s,e),m.mode&1&&Eb(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Eb(s,c,e),Zx();break e}l=Error(ae(426))}}else if(Et&&a.mode&1){var b=Nb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ab(b,o,a,s,e),Ix(Wl(l,a));break e}}s=l=Wl(l,a),un!==4&&(un=2),Au===null?Au=[s]:Au.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=VE(s,l,e);wb(s,g);break e;case 1:a=l;var S=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(io===null||!io.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=KE(s,a,e);wb(s,A);break e}}s=s.return}while(s!==null)}dN(n)}catch(R){e=R,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function cN(){var t=fp.current;return fp.current=hp,t===null?hp:t}function Zx(){(un===0||un===3||un===2)&&(un=4),wn===null||!(ua&268435455)&&!(g0&268435455)||zs(wn,Cn)}function gp(t,e){var n=Je;Je|=2;var r=cN();(wn!==t||Cn!==e)&&(Ki=null,ta(t,e));do try{B6();break}catch(i){lN(t,i)}while(!0);if(jx(),Je=n,fp.current=r,sn!==null)throw Error(ae(261));return wn=null,Cn=0,un}function B6(){for(;sn!==null;)uN(sn)}function P6(){for(;sn!==null&&!o5();)uN(sn)}function uN(t){var e=fN(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?dN(t):sn=e,Vx.current=null}function dN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M6(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,sn=null;return}}else if(n=A6(n,e,pr),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);un===0&&(un=5)}function Co(t,e,n){var r=lt,i=Dr.transition;try{Dr.transition=null,lt=1,L6(t,e,n,r)}finally{Dr.transition=i,lt=r}return null}function L6(t,e,n,r){do _l();while(Us!==null);if(Je&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(g5(t,s),t===wn&&(sn=wn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fh||(fh=!0,pN(Xf,function(){return _l(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dr.transition,Dr.transition=null;var o=lt;lt=1;var a=Je;Je|=4,Vx.current=null,I6(t,n),sN(n,t),n6(uy),Jf=!!cy,uy=cy=null,t.current=n,T6(n),a5(),Je=a,lt=o,Dr.transition=s}else t.current=n;if(fh&&(fh=!1,Us=t,mp=i),s=t.pendingLanes,s===0&&(io=null),u5(n.stateNode),hr(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pp)throw pp=!1,t=Iy,Iy=null,t;return mp&1&&t.tag!==0&&_l(),s=t.pendingLanes,s&1?t===Ty?Mu++:(Mu=0,Ty=t):Mu=0,vo(),null}function _l(){if(Us!==null){var t=Vk(mp),e=Dr.transition,n=lt;try{if(Dr.transition=null,lt=16>t?16:t,Us===null)var r=!1;else{if(t=Us,Us=null,mp=0,Je&6)throw Error(ae(331));var i=Je;for(Je|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xe=c;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:Nu(8,d,s)}var h=d.child;if(h!==null)h.return=d,xe=h;else for(;xe!==null;){d=xe;var p=d.sibling,m=d.return;if(nN(d),d===c){xe=null;break}if(p!==null){p.return=m,xe=p;break}xe=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nu(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,xe=g;break e}xe=s.return}}var S=t.current;for(xe=S;xe!==null;){o=xe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xe=_;else e:for(o=S;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:m0(9,a)}}catch(R){Gt(a,a.return,R)}if(a===o){xe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,xe=A;break e}xe=a.return}}if(Je=i,vo(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(a0,t)}catch{}r=!0}return r}finally{lt=n,Dr.transition=e}}return!1}function Wb(t,e,n){e=Wl(n,e),e=VE(t,e,1),t=ro(t,e,1),e=Gn(),t!==null&&(Cd(t,1,e),hr(t,e))}function Gt(t,e,n){if(t.tag===3)Wb(t,t,n);else for(;e!==null;){if(e.tag===3){Wb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=Wl(n,t),t=KE(e,t,1),e=ro(e,t,1),t=Gn(),e!==null&&(Cd(e,1,t),hr(e,t));break}}e=e.return}}function O6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&n,wn===t&&(Cn&n)===n&&(un===4||un===3&&(Cn&130023424)===Cn&&500>Jt()-qx?ta(t,0):Kx|=n),hr(t,e)}function hN(t,e){e===0&&(t.mode&1?(e=rh,rh<<=1,!(rh&130023424)&&(rh=4194304)):e=1);var n=Gn();t=hs(t,e),t!==null&&(Cd(t,e,n),hr(t,n))}function D6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hN(t,n)}function z6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),hN(t,n)}var fN;fN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return or=!1,N6(t,e,n);or=!!(t.flags&131072)}else or=!1,Et&&e.flags&1048576&&yE(e,op,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var i=Ll(e,Un.current);Sl(e,n),i=Wx(null,e,r,t,i,n);var s=Fx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(s=!0,ip(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Px(e),i.updater=p0,e.stateNode=i,i._reactInternals=e,wy(e,r,t,n),e=Sy(null,e,r,!0,s,n)):(e.tag=0,Et&&s&&Mx(e),qn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=F6(r),t=Kr(r,t),i){case 0:e=by(null,e,r,t,n);break e;case 1:e=Ib(null,e,r,t,n);break e;case 11:e=Mb(null,e,r,t,n);break e;case 14:e=Cb(null,e,r,Kr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kr(r,i),by(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kr(r,i),Ib(t,e,r,i,n);case 3:e:{if(ZE(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_E(t,e),cp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wl(Error(ae(423)),e),e=Tb(t,e,r,n,i);break e}else if(r!==i){i=Wl(Error(ae(424)),e),e=Tb(t,e,r,n,i);break e}else for(xr=no(e.stateNode.containerInfo.firstChild),wr=e,Et=!0,Zr=null,n=bE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ol(),r===i){e=fs(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 5:return kE(e),t===null&&gy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dy(r,i)?o=null:s!==null&&dy(r,s)&&(e.flags|=32),GE(t,e),qn(t,e,o,n),e.child;case 6:return t===null&&gy(e),null;case 13:return XE(t,e,n);case 4:return Lx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dl(e,null,r,n):qn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kr(r,i),Mb(t,e,r,i,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,mt(ap,r._currentValue),r._currentValue=o,s!==null)if(ai(s.value,o)){if(s.children===i.children&&!ur.current){e=fs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ls(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sl(e,n),i=Wr(i),r=r(i),e.flags|=1,qn(t,e,r,n),e.child;case 14:return r=e.type,i=Kr(r,e.pendingProps),i=Kr(r.type,i),Cb(t,e,r,i,n);case 15:return qE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kr(r,i),rf(t,e),e.tag=1,dr(r)?(t=!0,ip(e)):t=!1,Sl(e,n),HE(e,r,i),wy(e,r,i,n),Sy(null,e,r,!0,t,n);case 19:return QE(t,e,n);case 22:return YE(t,e,n)}throw Error(ae(156,e.tag))};function pN(t,e){return Fk(t,e)}function W6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,e,n,r){return new W6(t,e,n,r)}function Xx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F6(t){if(typeof t=="function")return Xx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gx)return 11;if(t===yx)return 14}return 2}function oo(t,e){var n=t.alternate;return n===null?(n=Br(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tl:return na(n.children,i,s,e);case mx:o=8,i|=8;break;case Ug:return t=Br(12,n,e,i|2),t.elementType=Ug,t.lanes=s,t;case Hg:return t=Br(13,n,e,i),t.elementType=Hg,t.lanes=s,t;case Vg:return t=Br(19,n,e,i),t.elementType=Vg,t.lanes=s,t;case kk:return y0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sk:o=10;break e;case _k:o=9;break e;case gx:o=11;break e;case yx:o=14;break e;case Rs:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Br(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function na(t,e,n,r){return t=Br(7,t,r,e),t.lanes=n,t}function y0(t,e,n,r){return t=Br(22,t,r,e),t.elementType=kk,t.lanes=n,t.stateNode={isHidden:!1},t}function Om(t,e,n){return t=Br(6,t,null,e),t.lanes=n,t}function Dm(t,e,n){return e=Br(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xm(0),this.expirationTimes=xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qx(t,e,n,r,i,s,o,a,l){return t=new $6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Br(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Px(s),t}function U6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mN(t){if(!t)return po;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(dr(n))return mE(t,n,e)}return e}function gN(t,e,n,r,i,s,o,a,l){return t=Qx(n,r,!0,t,i,s,o,a,l),t.context=mN(null),n=t.current,r=Gn(),i=so(n),s=ls(r,i),s.callback=e??null,ro(n,s,i),t.current.lanes=i,Cd(t,i,r),hr(t,r),t}function x0(t,e,n,r){var i=e.current,s=Gn(),o=so(i);return n=mN(n),e.context===null?e.context=n:e.pendingContext=n,e=ls(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(i,e,o),t!==null&&(ni(t,i,o,s),ef(t,i,o)),o}function yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jx(t,e){Fb(t,e),(t=t.alternate)&&Fb(t,e)}function H6(){return null}var yN=typeof reportError=="function"?reportError:function(t){console.error(t)};function ew(t){this._internalRoot=t}w0.prototype.render=ew.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));x0(t,e,null,null)};w0.prototype.unmount=ew.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;da(function(){x0(null,t,null,null)}),e[ds]=null}};function w0(t){this._internalRoot=t}w0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&Zk(t)}};function tw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $b(){}function V6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=yp(o);s.call(c)}}var o=gN(e,r,t,0,null,!1,!1,"",$b);return t._reactRootContainer=o,t[ds]=o.current,Yu(t.nodeType===8?t.parentNode:t),da(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yp(l);a.call(c)}}var l=Qx(t,0,!1,null,null,!1,!1,"",$b);return t._reactRootContainer=l,t[ds]=l.current,Yu(t.nodeType===8?t.parentNode:t),da(function(){x0(e,l,n,r)}),l}function b0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yp(o);a.call(l)}}x0(e,o,t,i)}else o=V6(n,e,t,i,r);return yp(o)}Kk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tu(e.pendingLanes);n!==0&&(vx(e,n|1),hr(e,Jt()),!(Je&6)&&(Fl=Jt()+500,vo()))}break;case 13:da(function(){var r=hs(t,1);if(r!==null){var i=Gn();ni(r,t,1,i)}}),Jx(t,1)}};bx=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var n=Gn();ni(e,t,134217728,n)}Jx(t,134217728)}};qk=function(t){if(t.tag===13){var e=so(t),n=hs(t,e);if(n!==null){var r=Gn();ni(n,t,e,r)}Jx(t,e)}};Yk=function(){return lt};Gk=function(t,e){var n=lt;try{return lt=t,e()}finally{lt=n}};ty=function(t,e,n){switch(e){case"input":if(Yg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=d0(r);if(!i)throw Error(ae(90));Nk(r),Yg(r,i)}}}break;case"textarea":Mk(t,n);break;case"select":e=n.value,e!=null&&xl(t,!!n.multiple,e,!1)}};Pk=Yx;Lk=da;var K6={usingClientEntryPoint:!1,Events:[Td,sl,d0,Rk,Bk,Yx]},zc={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q6={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zk(t),t===null?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||H6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{a0=ph.inject(q6),Ni=ph}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K6;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tw(e))throw Error(ae(200));return U6(t,e,null,n)};kr.createRoot=function(t,e){if(!tw(t))throw Error(ae(299));var n=!1,r="",i=yN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qx(t,1,!1,null,null,n,!1,r,i),t[ds]=e.current,Yu(t.nodeType===8?t.parentNode:t),new ew(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=zk(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return da(t)};kr.hydrate=function(t,e,n){if(!v0(e))throw Error(ae(200));return b0(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!tw(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gN(e,null,t,1,n??null,i,!1,s,o),t[ds]=e.current,Yu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new w0(e)};kr.render=function(t,e,n){if(!v0(e))throw Error(ae(200));return b0(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!v0(t))throw Error(ae(40));return t._reactRootContainer?(da(function(){b0(null,null,t,!1,function(){t._reactRootContainer=null,t[ds]=null})}),!0):!1};kr.unstable_batchedUpdates=Yx;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!v0(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return b0(t,e,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function xN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xN)}catch(t){console.error(t)}}xN(),xk.exports=kr;var wN=xk.exports,Ub=wN;Fg.createRoot=Ub.createRoot,Fg.hydrateRoot=Ub.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}var Hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hs||(Hs={}));const Hb="popstate";function Y6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return By("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xp(i)}return Z6(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G6(){return Math.random().toString(36).substr(2,8)}function Vb(t,e){return{usr:t.state,key:t.key,idx:e}}function By(t,e,n,r){return n===void 0&&(n=null),rd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||G6()})}function xp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Hs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(rd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Hs.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:g})}function p(b,g){a=Hs.Push;let S=By(w.location,b,g);c=d()+1;let _=Vb(S,c),A=w.createHref(S);try{o.pushState(_,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(A)}s&&l&&l({action:a,location:w.location,delta:1})}function m(b,g){a=Hs.Replace;let S=By(w.location,b,g);c=d();let _=Vb(S,c),A=w.createHref(S);o.replaceState(_,"",A),s&&l&&l({action:a,location:w.location,delta:0})}function y(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof b=="string"?b:xp(b);return S=S.replace(/ $/,"%20"),tn(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let w={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Hb,h),l=b,()=>{i.removeEventListener(Hb,h),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(b){return o.go(b)}};return w}var Kb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kb||(Kb={}));function X6(t,e,n){return n===void 0&&(n="/"),Q6(t,e,n)}function Q6(t,e,n,r){let i=typeof e=="string"?uc(e):e,s=nw(i.pathname||"/",n);if(s==null)return null;let o=bN(t);J6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=dT(s);a=lT(o[l],c)}return a}function bN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ao([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(tn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bN(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:oT(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of SN(s.path))i(s,o,l)}),e}function SN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function J6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eT=/^:[\w-]+$/,tT=3,nT=2,rT=1,iT=10,sT=-2,qb=t=>t==="*";function oT(t,e){let n=t.split("/"),r=n.length;return n.some(qb)&&(r+=sT),e&&(r+=nT),n.filter(i=>!qb(i)).reduce((i,s)=>i+(eT.test(s)?tT:s===""?rT:iT),r)}function aT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lT(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=cT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ao([s,h.pathname]),pathnameBase:mT(ao([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ao([s,h.pathnameBase]))}return o}function cT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function uT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uc(t):t;return{pathname:n?n.startsWith("/")?n:fT(n,e):e,search:gT(r),hash:yT(i)}}function fT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rw(t,e){let n=pT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uc(t):(i=rd({},t),tn(!i.pathname||!i.pathname.includes("?"),zm("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),zm("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),zm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=hT(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ao=t=>t.join("/").replace(/\/\/+/g,"/"),mT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _N=["post","put","patch","delete"];new Set(_N);const wT=["get",..._N];new Set(wT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}const sw=z.createContext(null),vT=z.createContext(null),bo=z.createContext(null),S0=z.createContext(null),vs=z.createContext({outlet:null,matches:[],isDataRoute:!1}),kN=z.createContext(null);function bT(t,e){let{relative:n}=e===void 0?{}:e;dc()||tn(!1);let{basename:r,navigator:i}=z.useContext(bo),{hash:s,pathname:o,search:a}=AN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ao([r,o])),i.createHref({pathname:l,search:a,hash:s})}function dc(){return z.useContext(S0)!=null}function ba(){return dc()||tn(!1),z.useContext(S0).location}function EN(t){z.useContext(bo).static||z.useLayoutEffect(t)}function NN(){let{isDataRoute:t}=z.useContext(vs);return t?PT():ST()}function ST(){dc()||tn(!1);let t=z.useContext(sw),{basename:e,future:n,navigator:r}=z.useContext(bo),{matches:i}=z.useContext(vs),{pathname:s}=ba(),o=JSON.stringify(rw(i,n.v7_relativeSplatPath)),a=z.useRef(!1);return EN(()=>{a.current=!0}),z.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=iw(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ao([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function _T(){let{matches:t}=z.useContext(vs),e=t[t.length-1];return e?e.params:{}}function AN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(bo),{matches:i}=z.useContext(vs),{pathname:s}=ba(),o=JSON.stringify(rw(i,r.v7_relativeSplatPath));return z.useMemo(()=>iw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function kT(t,e){return ET(t,e)}function ET(t,e,n,r){dc()||tn(!1);let{navigator:i}=z.useContext(bo),{matches:s}=z.useContext(vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ba(),d;if(e){var h;let b=typeof e=="string"?uc(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||tn(!1),d=b}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=X6(t,{pathname:m}),w=IT(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ao([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ao([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&w?z.createElement(S0.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hs.Pop}},w):w}function NT(){let t=BT(),e=xT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const AT=z.createElement(NT,null);class MT extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(vs.Provider,{value:this.props.routeContext},z.createElement(kN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CT(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(sw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(vs.Provider,{value:e},r)}function IT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||tn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,y=!1,w=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||AT,l&&(c<0&&p===0?(LT("route-fallback"),y=!0,b=null):c===p&&(y=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),S=()=>{let _;return m?_=w:y?_=b:h.route.Component?_=z.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,z.createElement(CT,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?z.createElement(MT,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}var MN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MN||{}),CN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(CN||{});function TT(t){let e=z.useContext(sw);return e||tn(!1),e}function jT(t){let e=z.useContext(vT);return e||tn(!1),e}function RT(t){let e=z.useContext(vs);return e||tn(!1),e}function IN(t){let e=RT(),n=e.matches[e.matches.length-1];return n.route.id||tn(!1),n.route.id}function BT(){var t;let e=z.useContext(kN),n=jT(),r=IN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function PT(){let{router:t}=TT(MN.UseNavigateStable),e=IN(CN.UseNavigateStable),n=z.useRef(!1);return EN(()=>{n.current=!0}),z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,id({fromRouteId:e},s)))},[t,e])}const Yb={};function LT(t,e,n){Yb[t]||(Yb[t]=!0)}function OT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function DT(t){let{to:e,replace:n,state:r,relative:i}=t;dc()||tn(!1);let{future:s,static:o}=z.useContext(bo),{matches:a}=z.useContext(vs),{pathname:l}=ba(),c=NN(),d=iw(e,rw(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return z.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Hr(t){tn(!1)}function zT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hs.Pop,navigator:s,static:o=!1,future:a}=t;dc()&&tn(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:o,future:id({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=uc(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,w=z.useMemo(()=>{let b=nw(d,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:y},navigationType:i}},[l,d,h,p,m,y,i]);return w==null?null:z.createElement(bo.Provider,{value:c},z.createElement(S0.Provider,{children:n,value:w}))}function WT(t){let{children:e,location:n}=t;return kT(Py(e),n)}new Promise(()=>{});function Py(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){n.push.apply(n,Py(r.props.children,s));return}r.type!==Hr&&tn(!1),!r.props.index||!r.props.children||tn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Py(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function FT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $T(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UT(t,e){return t.button===0&&(!e||e==="_self")&&!$T(t)}const HT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VT="6";try{window.__reactRouterVersion=VT}catch{}const KT="startTransition",Gb=OI[KT];function qT(t){let{basename:e,children:n,future:r,window:i}=t,s=z.useRef();s.current==null&&(s.current=Y6({window:i,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=z.useCallback(h=>{c&&Gb?Gb(()=>l(h)):l(h)},[l,c]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.useEffect(()=>OT(r),[r]),z.createElement(zT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lf=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=FT(e,HT),{basename:m}=z.useContext(bo),y,w=!1;if(typeof c=="string"&&GT.test(c)&&(y=c,YT))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),R=nw(A.pathname,m);A.origin===_.origin&&R!=null?c=R+A.search+A.hash:w=!0}catch{}let b=bT(c,{relative:i}),g=ZT(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function S(_){r&&r(_),_.defaultPrevented||g(_)}return z.createElement("a",Ly({},p,{href:y||b,onClick:w||s?r:S,ref:n,target:l}))});var Zb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zb||(Zb={}));var Xb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xb||(Xb={}));function ZT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=NN(),c=ba(),d=AN(t,{relative:o});return z.useCallback(h=>{if(UT(h,n)){h.preventDefault();let p=r!==void 0?r:xp(c)===xp(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const TN=z.createContext(void 0),XT=()=>{const t=z.useContext(TN);if(t===void 0)throw new Error("useAccentColor must be used within a ColorProvider");return t},QT=({children:t})=>{const[e,n]=z.useState("#6D8FC7");return z.useEffect(()=>{document.documentElement.style.setProperty("--cyphr-teal",e);const r="#29589F",i=document.createElement("style");i.textContent=`
      :root {
        --cyphr-teal: ${e} !important;
        --cyphr-teal-gradient: ${r} !important;
      }
      
      .text-cyphr-teal {
        color: ${e} !important;
      }
      
      .bg-cyphr-teal {
        background-color: ${e} !important;
      }
      
      .bg-cyphr-teal-gradient {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .border-cyphr-teal {
        border-color: ${e} !important;
      }
      
      .hover\\:text-cyphr-teal:hover {
        color: ${e} !important;
      }
      
      .hover\\:border-cyphr-teal:hover {
        border-color: ${e} !important;
      }
      
      .focus\\:border-cyphr-teal:focus {
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .ios-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .ios-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .elite-button-primary {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.3) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.2) 100%) !important;
        border-color: ${e} !important;
      }
      
      .elite-button-primary:hover {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.4) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.3) 100%) !important;
        border-color: ${e} !important;
      }
    `;const s=document.getElementById("dynamic-accent-color");s&&s.remove(),i.id="dynamic-accent-color",document.head.appendChild(i)},[e]),u.jsx(TN.Provider,{value:{accentColor:e,setAccentColor:n},children:t})};var Te={},_0={};_0.byteLength=tj;_0.toByteArray=rj;_0.fromByteArray=oj;var bi=[],Cr=[],JT=typeof Uint8Array<"u"?Uint8Array:Array,Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ja=0,ej=Wm.length;ja<ej;++ja)bi[ja]=Wm[ja],Cr[Wm.charCodeAt(ja)]=ja;Cr[45]=62;Cr[95]=63;function jN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function tj(t){var e=jN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function nj(t,e,n){return(e+n)*3/4-n}function rj(t){var e,n=jN(t),r=n[0],i=n[1],s=new JT(nj(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Cr[t.charCodeAt(l)]<<18|Cr[t.charCodeAt(l+1)]<<12|Cr[t.charCodeAt(l+2)]<<6|Cr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Cr[t.charCodeAt(l)]<<2|Cr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Cr[t.charCodeAt(l)]<<10|Cr[t.charCodeAt(l+1)]<<4|Cr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function ij(t){return bi[t>>18&63]+bi[t>>12&63]+bi[t>>6&63]+bi[t&63]}function sj(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(ij(r));return i.join("")}function oj(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(sj(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(bi[e>>2]+bi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(bi[e>>10]+bi[e>>4&63]+bi[e<<2&63]+"=")),i.join("")}var ow={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ow.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,h=n?i-1:0,p=n?-1:1,m=t[e+h];for(h+=p,s=m&(1<<-d)-1,m>>=-d,d+=a;d>0;s=s*256+t[e+h],h+=p,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+t[e+h],h+=p,d-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(m?-1:1)*o*Math.pow(2,s-r)};ow.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,d=(1<<c)-1,h=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,y=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=y,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+m]=o&255,m+=y,o/=256,c-=8);t[n+m-y]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=_0,n=ow,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const D=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(D,E),D.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');const E=new Uint8Array(D);return Object.setPrototypeOf(E,a.prototype),E}function a(D,E,N){if(typeof D=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return l(D,E,N)}a.poolSize=8192;function l(D,E,N){if(typeof D=="string")return p(D,E);if(ArrayBuffer.isView(D))return y(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(ht(D,ArrayBuffer)||D&&ht(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ht(D,SharedArrayBuffer)||D&&ht(D.buffer,SharedArrayBuffer)))return w(D,E,N);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=D.valueOf&&D.valueOf();if($!=null&&$!==D)return a.from($,E,N);const q=b(D);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),E,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a.from=function(D,E,N){return l(D,E,N)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function d(D,E,N){return c(D),D<=0?o(D):E!==void 0?typeof N=="string"?o(D).fill(E,N):o(D).fill(E):o(D)}a.alloc=function(D,E,N){return d(D,E,N)};function h(D){return c(D),o(D<0?0:g(D)|0)}a.allocUnsafe=function(D){return h(D)},a.allocUnsafeSlow=function(D){return h(D)};function p(D,E){if((typeof E!="string"||E==="")&&(E="utf8"),!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const N=_(D,E)|0;let $=o(N);const q=$.write(D,E);return q!==N&&($=$.slice(0,q)),$}function m(D){const E=D.length<0?0:g(D.length)|0,N=o(E);for(let $=0;$<E;$+=1)N[$]=D[$]&255;return N}function y(D){if(ht(D,Uint8Array)){const E=new Uint8Array(D);return w(E.buffer,E.byteOffset,E.byteLength)}return m(D)}function w(D,E,N){if(E<0||D.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<E+(N||0))throw new RangeError('"length" is outside of buffer bounds');let $;return E===void 0&&N===void 0?$=new Uint8Array(D):N===void 0?$=new Uint8Array(D,E):$=new Uint8Array(D,E,N),Object.setPrototypeOf($,a.prototype),$}function b(D){if(a.isBuffer(D)){const E=g(D.length)|0,N=o(E);return N.length===0||D.copy(N,0,0,E),N}if(D.length!==void 0)return typeof D.length!="number"||De(D.length)?o(0):m(D);if(D.type==="Buffer"&&Array.isArray(D.data))return m(D.data)}function g(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function S(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==a.prototype},a.compare=function(E,N){if(ht(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),ht(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(E)||!a.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;let $=E.length,q=N.length;for(let G=0,ee=Math.min($,q);G<ee;++G)if(E[G]!==N[G]){$=E[G],q=N[G];break}return $<q?-1:q<$?1:0},a.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return a.alloc(0);let $;if(N===void 0)for(N=0,$=0;$<E.length;++$)N+=E[$].length;const q=a.allocUnsafe(N);let G=0;for($=0;$<E.length;++$){let ee=E[$];if(ht(ee,Uint8Array))G+ee.length>q.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(q,G)):Uint8Array.prototype.set.call(q,ee,G);else if(a.isBuffer(ee))ee.copy(q,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=ee.length}return q};function _(D,E){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||ht(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const N=D.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&N===0)return 0;let q=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return ge(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return Be(D).length;default:if(q)return $?-1:ge(D).length;E=(""+E).toLowerCase(),q=!0}}a.byteLength=_;function A(D,E,N){let $=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,E>>>=0,N<=E))return"";for(D||(D="utf8");;)switch(D){case"hex":return I(this,E,N);case"utf8":case"utf-8":return f(this,E,N);case"ascii":return C(this,E,N);case"latin1":case"binary":return T(this,E,N);case"base64":return M(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,E,N);default:if($)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),$=!0}}a.prototype._isBuffer=!0;function R(D,E,N){const $=D[E];D[E]=D[N],D[N]=$}a.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<E;N+=2)R(this,N,N+1);return this},a.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<E;N+=4)R(this,N,N+3),R(this,N+1,N+2);return this},a.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<E;N+=8)R(this,N,N+7),R(this,N+1,N+6),R(this,N+2,N+5),R(this,N+3,N+4);return this},a.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?f(this,0,E):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(E){if(!a.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:a.compare(this,E)===0},a.prototype.inspect=function(){let E="";const N=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(E,N,$,q,G){if(ht(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(N===void 0&&(N=0),$===void 0&&($=E?E.length:0),q===void 0&&(q=0),G===void 0&&(G=this.length),N<0||$>E.length||q<0||G>this.length)throw new RangeError("out of range index");if(q>=G&&N>=$)return 0;if(q>=G)return-1;if(N>=$)return 1;if(N>>>=0,$>>>=0,q>>>=0,G>>>=0,this===E)return 0;let ee=G-q,Pe=$-N;const Re=Math.min(ee,Pe),Me=this.slice(q,G),Ke=E.slice(N,$);for(let Ce=0;Ce<Re;++Ce)if(Me[Ce]!==Ke[Ce]){ee=Me[Ce],Pe=Ke[Ce];break}return ee<Pe?-1:Pe<ee?1:0};function W(D,E,N,$,q){if(D.length===0)return-1;if(typeof N=="string"?($=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,De(N)&&(N=q?0:D.length-1),N<0&&(N=D.length+N),N>=D.length){if(q)return-1;N=D.length-1}else if(N<0)if(q)N=0;else return-1;if(typeof E=="string"&&(E=a.from(E,$)),a.isBuffer(E))return E.length===0?-1:O(D,E,N,$,q);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(D,E,N):Uint8Array.prototype.lastIndexOf.call(D,E,N):O(D,[E],N,$,q);throw new TypeError("val must be string, number or Buffer")}function O(D,E,N,$,q){let G=1,ee=D.length,Pe=E.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(D.length<2||E.length<2)return-1;G=2,ee/=2,Pe/=2,N/=2}function Re(Ke,Ce){return G===1?Ke[Ce]:Ke.readUInt16BE(Ce*G)}let Me;if(q){let Ke=-1;for(Me=N;Me<ee;Me++)if(Re(D,Me)===Re(E,Ke===-1?0:Me-Ke)){if(Ke===-1&&(Ke=Me),Me-Ke+1===Pe)return Ke*G}else Ke!==-1&&(Me-=Me-Ke),Ke=-1}else for(N+Pe>ee&&(N=ee-Pe),Me=N;Me>=0;Me--){let Ke=!0;for(let Ce=0;Ce<Pe;Ce++)if(Re(D,Me+Ce)!==Re(E,Ce)){Ke=!1;break}if(Ke)return Me}return-1}a.prototype.includes=function(E,N,$){return this.indexOf(E,N,$)!==-1},a.prototype.indexOf=function(E,N,$){return W(this,E,N,$,!0)},a.prototype.lastIndexOf=function(E,N,$){return W(this,E,N,$,!1)};function B(D,E,N,$){N=Number(N)||0;const q=D.length-N;$?($=Number($),$>q&&($=q)):$=q;const G=E.length;$>G/2&&($=G/2);let ee;for(ee=0;ee<$;++ee){const Pe=parseInt(E.substr(ee*2,2),16);if(De(Pe))return ee;D[N+ee]=Pe}return ee}function F(D,E,N,$){return Oe(ge(E,D.length-N),D,N,$)}function U(D,E,N,$){return Oe(oe(E),D,N,$)}function H(D,E,N,$){return Oe(Be(E),D,N,$)}function K(D,E,N,$){return Oe(st(E,D.length-N),D,N,$)}a.prototype.write=function(E,N,$,q){if(N===void 0)q="utf8",$=this.length,N=0;else if($===void 0&&typeof N=="string")q=N,$=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite($)?($=$>>>0,q===void 0&&(q="utf8")):(q=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-N;if(($===void 0||$>G)&&($=G),E.length>0&&($<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let ee=!1;for(;;)switch(q){case"hex":return B(this,E,N,$);case"utf8":case"utf-8":return F(this,E,N,$);case"ascii":case"latin1":case"binary":return U(this,E,N,$);case"base64":return H(this,E,N,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,E,N,$);default:if(ee)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(D,E,N){return E===0&&N===D.length?e.fromByteArray(D):e.fromByteArray(D.slice(E,N))}function f(D,E,N){N=Math.min(D.length,N);const $=[];let q=E;for(;q<N;){const G=D[q];let ee=null,Pe=G>239?4:G>223?3:G>191?2:1;if(q+Pe<=N){let Re,Me,Ke,Ce;switch(Pe){case 1:G<128&&(ee=G);break;case 2:Re=D[q+1],(Re&192)===128&&(Ce=(G&31)<<6|Re&63,Ce>127&&(ee=Ce));break;case 3:Re=D[q+1],Me=D[q+2],(Re&192)===128&&(Me&192)===128&&(Ce=(G&15)<<12|(Re&63)<<6|Me&63,Ce>2047&&(Ce<55296||Ce>57343)&&(ee=Ce));break;case 4:Re=D[q+1],Me=D[q+2],Ke=D[q+3],(Re&192)===128&&(Me&192)===128&&(Ke&192)===128&&(Ce=(G&15)<<18|(Re&63)<<12|(Me&63)<<6|Ke&63,Ce>65535&&Ce<1114112&&(ee=Ce))}}ee===null?(ee=65533,Pe=1):ee>65535&&(ee-=65536,$.push(ee>>>10&1023|55296),ee=56320|ee&1023),$.push(ee),q+=Pe}return k($)}const x=4096;function k(D){const E=D.length;if(E<=x)return String.fromCharCode.apply(String,D);let N="",$=0;for(;$<E;)N+=String.fromCharCode.apply(String,D.slice($,$+=x));return N}function C(D,E,N){let $="";N=Math.min(D.length,N);for(let q=E;q<N;++q)$+=String.fromCharCode(D[q]&127);return $}function T(D,E,N){let $="";N=Math.min(D.length,N);for(let q=E;q<N;++q)$+=String.fromCharCode(D[q]);return $}function I(D,E,N){const $=D.length;(!E||E<0)&&(E=0),(!N||N<0||N>$)&&(N=$);let q="";for(let G=E;G<N;++G)q+=Ve[D[G]];return q}function L(D,E,N){const $=D.slice(E,N);let q="";for(let G=0;G<$.length-1;G+=2)q+=String.fromCharCode($[G]+$[G+1]*256);return q}a.prototype.slice=function(E,N){const $=this.length;E=~~E,N=N===void 0?$:~~N,E<0?(E+=$,E<0&&(E=0)):E>$&&(E=$),N<0?(N+=$,N<0&&(N=0)):N>$&&(N=$),N<E&&(N=E);const q=this.subarray(E,N);return Object.setPrototypeOf(q,a.prototype),q};function j(D,E,N){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+E>N)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(E,N,$){E=E>>>0,N=N>>>0,$||j(E,N,this.length);let q=this[E],G=1,ee=0;for(;++ee<N&&(G*=256);)q+=this[E+ee]*G;return q},a.prototype.readUintBE=a.prototype.readUIntBE=function(E,N,$){E=E>>>0,N=N>>>0,$||j(E,N,this.length);let q=this[E+--N],G=1;for(;N>0&&(G*=256);)q+=this[E+--N]*G;return q},a.prototype.readUint8=a.prototype.readUInt8=function(E,N){return E=E>>>0,N||j(E,1,this.length),this[E]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(E,N){return E=E>>>0,N||j(E,2,this.length),this[E]|this[E+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(E,N){return E=E>>>0,N||j(E,2,this.length),this[E]<<8|this[E+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(E,N){return E=E>>>0,N||j(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(E,N){return E=E>>>0,N||j(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},a.prototype.readBigUInt64LE=Ye(function(E){E=E>>>0,Se(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&we(E,this.length-8);const q=N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,G=this[++E]+this[++E]*2**8+this[++E]*2**16+$*2**24;return BigInt(q)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(E){E=E>>>0,Se(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&we(E,this.length-8);const q=N*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],G=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+$;return(BigInt(q)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(E,N,$){E=E>>>0,N=N>>>0,$||j(E,N,this.length);let q=this[E],G=1,ee=0;for(;++ee<N&&(G*=256);)q+=this[E+ee]*G;return G*=128,q>=G&&(q-=Math.pow(2,8*N)),q},a.prototype.readIntBE=function(E,N,$){E=E>>>0,N=N>>>0,$||j(E,N,this.length);let q=N,G=1,ee=this[E+--q];for(;q>0&&(G*=256);)ee+=this[E+--q]*G;return G*=128,ee>=G&&(ee-=Math.pow(2,8*N)),ee},a.prototype.readInt8=function(E,N){return E=E>>>0,N||j(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},a.prototype.readInt16LE=function(E,N){E=E>>>0,N||j(E,2,this.length);const $=this[E]|this[E+1]<<8;return $&32768?$|4294901760:$},a.prototype.readInt16BE=function(E,N){E=E>>>0,N||j(E,2,this.length);const $=this[E+1]|this[E]<<8;return $&32768?$|4294901760:$},a.prototype.readInt32LE=function(E,N){return E=E>>>0,N||j(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},a.prototype.readInt32BE=function(E,N){return E=E>>>0,N||j(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},a.prototype.readBigInt64LE=Ye(function(E){E=E>>>0,Se(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&we(E,this.length-8);const q=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+($<<24);return(BigInt(q)<<BigInt(32))+BigInt(N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),a.prototype.readBigInt64BE=Ye(function(E){E=E>>>0,Se(E,"offset");const N=this[E],$=this[E+7];(N===void 0||$===void 0)&&we(E,this.length-8);const q=(N<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(q)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+$)}),a.prototype.readFloatLE=function(E,N){return E=E>>>0,N||j(E,4,this.length),n.read(this,E,!0,23,4)},a.prototype.readFloatBE=function(E,N){return E=E>>>0,N||j(E,4,this.length),n.read(this,E,!1,23,4)},a.prototype.readDoubleLE=function(E,N){return E=E>>>0,N||j(E,8,this.length),n.read(this,E,!0,52,8)},a.prototype.readDoubleBE=function(E,N){return E=E>>>0,N||j(E,8,this.length),n.read(this,E,!1,52,8)};function v(D,E,N,$,q,G){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>q||E<G)throw new RangeError('"value" argument is out of bounds');if(N+$>D.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(E,N,$,q){if(E=+E,N=N>>>0,$=$>>>0,!q){const Pe=Math.pow(2,8*$)-1;v(this,E,N,$,Pe,0)}let G=1,ee=0;for(this[N]=E&255;++ee<$&&(G*=256);)this[N+ee]=E/G&255;return N+$},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(E,N,$,q){if(E=+E,N=N>>>0,$=$>>>0,!q){const Pe=Math.pow(2,8*$)-1;v(this,E,N,$,Pe,0)}let G=$-1,ee=1;for(this[N+G]=E&255;--G>=0&&(ee*=256);)this[N+G]=E/ee&255;return N+$},a.prototype.writeUint8=a.prototype.writeUInt8=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,1,255,0),this[N]=E&255,N+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,65535,0),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=E&255,N+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4};function P(D,E,N,$,q){he(E,$,q,D,N,7);let G=Number(E&BigInt(4294967295));D[N++]=G,G=G>>8,D[N++]=G,G=G>>8,D[N++]=G,G=G>>8,D[N++]=G;let ee=Number(E>>BigInt(32)&BigInt(4294967295));return D[N++]=ee,ee=ee>>8,D[N++]=ee,ee=ee>>8,D[N++]=ee,ee=ee>>8,D[N++]=ee,N}function X(D,E,N,$,q){he(E,$,q,D,N,7);let G=Number(E&BigInt(4294967295));D[N+7]=G,G=G>>8,D[N+6]=G,G=G>>8,D[N+5]=G,G=G>>8,D[N+4]=G;let ee=Number(E>>BigInt(32)&BigInt(4294967295));return D[N+3]=ee,ee=ee>>8,D[N+2]=ee,ee=ee>>8,D[N+1]=ee,ee=ee>>8,D[N]=ee,N+8}a.prototype.writeBigUInt64LE=Ye(function(E,N=0){return P(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(E,N=0){return X(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(E,N,$,q){if(E=+E,N=N>>>0,!q){const Re=Math.pow(2,8*$-1);v(this,E,N,$,Re-1,-Re)}let G=0,ee=1,Pe=0;for(this[N]=E&255;++G<$&&(ee*=256);)E<0&&Pe===0&&this[N+G-1]!==0&&(Pe=1),this[N+G]=(E/ee>>0)-Pe&255;return N+$},a.prototype.writeIntBE=function(E,N,$,q){if(E=+E,N=N>>>0,!q){const Re=Math.pow(2,8*$-1);v(this,E,N,$,Re-1,-Re)}let G=$-1,ee=1,Pe=0;for(this[N+G]=E&255;--G>=0&&(ee*=256);)E<0&&Pe===0&&this[N+G+1]!==0&&(Pe=1),this[N+G]=(E/ee>>0)-Pe&255;return N+$},a.prototype.writeInt8=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=E&255,N+1},a.prototype.writeInt16LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,32767,-32768),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeInt16BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeInt32LE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,2147483647,-2147483648),this[N]=E&255,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},a.prototype.writeInt32BE=function(E,N,$){return E=+E,N=N>>>0,$||v(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4},a.prototype.writeBigInt64LE=Ye(function(E,N=0){return P(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(E,N=0){return X(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(D,E,N,$,q,G){if(N+$>D.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function te(D,E,N,$,q){return E=+E,N=N>>>0,q||Z(D,E,N,4),n.write(D,E,N,$,23,4),N+4}a.prototype.writeFloatLE=function(E,N,$){return te(this,E,N,!0,$)},a.prototype.writeFloatBE=function(E,N,$){return te(this,E,N,!1,$)};function se(D,E,N,$,q){return E=+E,N=N>>>0,q||Z(D,E,N,8),n.write(D,E,N,$,52,8),N+8}a.prototype.writeDoubleLE=function(E,N,$){return se(this,E,N,!0,$)},a.prototype.writeDoubleBE=function(E,N,$){return se(this,E,N,!1,$)},a.prototype.copy=function(E,N,$,q){if(!a.isBuffer(E))throw new TypeError("argument should be a Buffer");if($||($=0),!q&&q!==0&&(q=this.length),N>=E.length&&(N=E.length),N||(N=0),q>0&&q<$&&(q=$),q===$||E.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),E.length-N<q-$&&(q=E.length-N+$);const G=q-$;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,$,q):Uint8Array.prototype.set.call(E,this.subarray($,q),N),G},a.prototype.fill=function(E,N,$,q){if(typeof E=="string"){if(typeof N=="string"?(q=N,N=0,$=this.length):typeof $=="string"&&(q=$,$=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(E.length===1){const ee=E.charCodeAt(0);(q==="utf8"&&ee<128||q==="latin1")&&(E=ee)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(N<0||this.length<N||this.length<$)throw new RangeError("Out of range index");if($<=N)return this;N=N>>>0,$=$===void 0?this.length:$>>>0,E||(E=0);let G;if(typeof E=="number")for(G=N;G<$;++G)this[G]=E;else{const ee=a.isBuffer(E)?E:a.from(E,q),Pe=ee.length;if(Pe===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(G=0;G<$-N;++G)this[G+N]=ee[G%Pe]}return this};const le={};function ce(D,E,N){le[D]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(D,E){return`The "${D}" argument must be of type number. Received type ${typeof E}`},TypeError),ce("ERR_OUT_OF_RANGE",function(D,E,N){let $=`The value of "${D}" is out of range.`,q=N;return Number.isInteger(N)&&Math.abs(N)>2**32?q=ne(String(N)):typeof N=="bigint"&&(q=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(q=ne(q)),q+="n"),$+=` It must be ${E}. Received ${q}`,$},RangeError);function ne(D){let E="",N=D.length;const $=D[0]==="-"?1:0;for(;N>=$+4;N-=3)E=`_${D.slice(N-3,N)}${E}`;return`${D.slice(0,N)}${E}`}function ye(D,E,N){Se(E,"offset"),(D[E]===void 0||D[E+N]===void 0)&&we(E,D.length-(N+1))}function he(D,E,N,$,q,G){if(D>N||D<E){const ee=typeof E=="bigint"?"n":"";let Pe;throw E===0||E===BigInt(0)?Pe=`>= 0${ee} and < 2${ee} ** ${(G+1)*8}${ee}`:Pe=`>= -(2${ee} ** ${(G+1)*8-1}${ee}) and < 2 ** ${(G+1)*8-1}${ee}`,new le.ERR_OUT_OF_RANGE("value",Pe,D)}ye($,q,G)}function Se(D,E){if(typeof D!="number")throw new le.ERR_INVALID_ARG_TYPE(E,"number",D)}function we(D,E,N){throw Math.floor(D)!==D?(Se(D,N),new le.ERR_OUT_OF_RANGE("offset","an integer",D)):E<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,D)}const Ae=/[^+/0-9A-Za-z-_]/g;function re(D){if(D=D.split("=")[0],D=D.trim().replace(Ae,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function ge(D,E){E=E||1/0;let N;const $=D.length;let q=null;const G=[];for(let ee=0;ee<$;++ee){if(N=D.charCodeAt(ee),N>55295&&N<57344){if(!q){if(N>56319){(E-=3)>-1&&G.push(239,191,189);continue}else if(ee+1===$){(E-=3)>-1&&G.push(239,191,189);continue}q=N;continue}if(N<56320){(E-=3)>-1&&G.push(239,191,189),q=N;continue}N=(q-55296<<10|N-56320)+65536}else q&&(E-=3)>-1&&G.push(239,191,189);if(q=null,N<128){if((E-=1)<0)break;G.push(N)}else if(N<2048){if((E-=2)<0)break;G.push(N>>6|192,N&63|128)}else if(N<65536){if((E-=3)<0)break;G.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((E-=4)<0)break;G.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return G}function oe(D){const E=[];for(let N=0;N<D.length;++N)E.push(D.charCodeAt(N)&255);return E}function st(D,E){let N,$,q;const G=[];for(let ee=0;ee<D.length&&!((E-=2)<0);++ee)N=D.charCodeAt(ee),$=N>>8,q=N%256,G.push(q),G.push($);return G}function Be(D){return e.toByteArray(re(D))}function Oe(D,E,N,$){let q;for(q=0;q<$&&!(q+N>=E.length||q>=D.length);++q)E[q+N]=D[q];return q}function ht(D,E){return D instanceof E||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===E.name}function De(D){return D!==D}const Ve=function(){const D="0123456789abcdef",E=new Array(256);for(let N=0;N<16;++N){const $=N*16;for(let q=0;q<16;++q)E[$+q]=D[N]+D[q]}return E}();function Ye(D){return typeof BigInt>"u"?rt:D}function rt(){throw new Error("BigInt not supported")}})(Te);const Ra=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ps(t,...e){if(!Rd(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function RN(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sd(t.outputLen),sd(t.blockLen)}function $l(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BN(t,e){ps(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function aj(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function mo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Fm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function fi(t,e){return t<<32-e|t>>>e}const lj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function cj(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function uj(t){for(let e=0;e<t.length;e++)t[e]=cj(t[e]);return t}const Qb=lj?t=>t:uj,PN=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",dj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ra(t){if(ps(t),PN)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=dj[t[n]];return e}const Di={_0:48,_9:57,A:65,F:70,a:97,f:102};function Jb(t){if(t>=Di._0&&t<=Di._9)return t-Di._0;if(t>=Di.A&&t<=Di.F)return t-(Di.A-10);if(t>=Di.a&&t<=Di.f)return t-(Di.a-10)}function wp(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(PN)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Jb(t.charCodeAt(s)),a=Jb(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function hj(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function k0(t){return typeof t=="string"&&(t=hj(t)),ps(t),t}function Si(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ps(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class aw{}function lw(t){const e=r=>t().update(k0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function cw(t=32){if(Ra&&typeof Ra.getRandomValues=="function")return Ra.getRandomValues(new Uint8Array(t));if(Ra&&typeof Ra.randomBytes=="function")return Uint8Array.from(Ra.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function fj(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function pj(t,e,n){return t&e^~t&n}function mj(t,e,n){return t&e^t&n^e&n}class LN extends aw{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Fm(this.buffer)}update(e){$l(this),e=k0(e),ps(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Fm(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$l(this),BN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,mo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;fj(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Fm(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const _s=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),mh=BigInt(2**32-1),e2=BigInt(32);function gj(t,e=!1){return e?{h:Number(t&mh),l:Number(t>>e2&mh)}:{h:Number(t>>e2&mh)|0,l:Number(t&mh)|0}}function ON(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=gj(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const t2=(t,e,n)=>t>>>n,n2=(t,e,n)=>t<<32-n|e>>>n,Ba=(t,e,n)=>t>>>n|e<<32-n,Pa=(t,e,n)=>t<<32-n|e>>>n,gh=(t,e,n)=>t<<64-n|e>>>n-32,yh=(t,e,n)=>t>>>n-32|e<<64-n,yj=(t,e,n)=>t<<n|e>>>32-n,xj=(t,e,n)=>e<<n|t>>>32-n,wj=(t,e,n)=>e<<n-32|t>>>64-n,vj=(t,e,n)=>t<<n-32|e>>>64-n;function zi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const bj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Sj=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,_j=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),kj=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ej=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Nj=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Aj=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ks=new Uint32Array(64);class Mj extends LN{constructor(e=32){super(64,e,8,!1),this.A=_s[0]|0,this.B=_s[1]|0,this.C=_s[2]|0,this.D=_s[3]|0,this.E=_s[4]|0,this.F=_s[5]|0,this.G=_s[6]|0,this.H=_s[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)ks[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=ks[h-15],m=ks[h-2],y=fi(p,7)^fi(p,18)^p>>>3,w=fi(m,17)^fi(m,19)^m>>>10;ks[h]=w+ks[h-7]+y+ks[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:d}=this;for(let h=0;h<64;h++){const p=fi(a,6)^fi(a,11)^fi(a,25),m=d+p+pj(a,l,c)+Aj[h]+ks[h]|0,w=(fi(r,2)^fi(r,13)^fi(r,22))+mj(r,i,s)|0;d=c,c=l,l=a,a=o+m|0,o=s,s=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,l,c,d)}roundClean(){mo(ks)}destroy(){this.set(0,0,0,0,0,0,0,0),mo(this.buffer)}}const DN=ON(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Cj=DN[0],Ij=DN[1],Es=new Uint32Array(80),Ns=new Uint32Array(80);class Tj extends LN{constructor(e=64){super(128,e,16,!1),this.Ah=Pn[0]|0,this.Al=Pn[1]|0,this.Bh=Pn[2]|0,this.Bl=Pn[3]|0,this.Ch=Pn[4]|0,this.Cl=Pn[5]|0,this.Dh=Pn[6]|0,this.Dl=Pn[7]|0,this.Eh=Pn[8]|0,this.El=Pn[9]|0,this.Fh=Pn[10]|0,this.Fl=Pn[11]|0,this.Gh=Pn[12]|0,this.Gl=Pn[13]|0,this.Hh=Pn[14]|0,this.Hl=Pn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:h,Fl:p,Gh:m,Gl:y,Hh:w,Hl:b}=this;return[e,n,r,i,s,o,a,l,c,d,h,p,m,y,w,b]}set(e,n,r,i,s,o,a,l,c,d,h,p,m,y,w,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=h|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=w|0,this.Hl=b|0}process(e,n){for(let _=0;_<16;_++,n+=4)Es[_]=e.getUint32(n),Ns[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const A=Es[_-15]|0,R=Ns[_-15]|0,W=Ba(A,R,1)^Ba(A,R,8)^t2(A,R,7),O=Pa(A,R,1)^Pa(A,R,8)^n2(A,R,7),B=Es[_-2]|0,F=Ns[_-2]|0,U=Ba(B,F,19)^gh(B,F,61)^t2(B,F,6),H=Pa(B,F,19)^yh(B,F,61)^n2(B,F,6),K=_j(O,H,Ns[_-7],Ns[_-16]),M=kj(K,W,U,Es[_-7],Es[_-16]);Es[_]=M|0,Ns[_]=K|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:h,El:p,Fh:m,Fl:y,Gh:w,Gl:b,Hh:g,Hl:S}=this;for(let _=0;_<80;_++){const A=Ba(h,p,14)^Ba(h,p,18)^gh(h,p,41),R=Pa(h,p,14)^Pa(h,p,18)^yh(h,p,41),W=h&m^~h&w,O=p&y^~p&b,B=Ej(S,R,O,Ij[_],Ns[_]),F=Nj(B,g,A,W,Cj[_],Es[_]),U=B|0,H=Ba(r,i,28)^gh(r,i,34)^gh(r,i,39),K=Pa(r,i,28)^yh(r,i,34)^yh(r,i,39),M=r&s^r&a^s&a,f=i&o^i&l^o&l;g=w|0,S=b|0,w=m|0,b=y|0,m=h|0,y=p|0,{h,l:p}=zi(c|0,d|0,F|0,U|0),c=a|0,d=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const x=bj(U,K,f);r=Sj(x,F,H,M),i=x|0}({h:r,l:i}=zi(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=zi(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=zi(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=zi(this.Dh|0,this.Dl|0,c|0,d|0),{h,l:p}=zi(this.Eh|0,this.El|0,h|0,p|0),{h:m,l:y}=zi(this.Fh|0,this.Fl|0,m|0,y|0),{h:w,l:b}=zi(this.Gh|0,this.Gl|0,w|0,b|0),{h:g,l:S}=zi(this.Hh|0,this.Hl|0,g|0,S|0),this.set(r,i,s,o,a,l,c,d,h,p,m,y,w,b,g,S)}roundClean(){mo(Es,Ns)}destroy(){mo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zN=lw(()=>new Mj),jj=lw(()=>new Tj);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uw=BigInt(0),Oy=BigInt(1);function ha(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Jr(t,e,n=""){const r=Rd(t),i=t==null?void 0:t.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function xh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function WN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?uw:BigInt("0x"+t)}function E0(t){return WN(ra(t))}function od(t){return ps(t),WN(ra(Uint8Array.from(t).reverse()))}function dw(t,e){return wp(t.toString(16).padStart(e*2,"0"))}function FN(t,e){return dw(t,e).reverse()}function Yt(t,e,n){let r;if(typeof e=="string")try{r=wp(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Rd(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function r2(t){return Uint8Array.from(t)}const $m=t=>typeof t=="bigint"&&uw<=t;function Rj(t,e,n){return $m(t)&&$m(e)&&$m(n)&&e<=t&&t<n}function Dy(t,e,n,r){if(!Rj(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $N(t){let e;for(e=0;t>uw;t>>=Oy,e+=1);return e}const Bd=t=>(Oy<<BigInt(t))-Oy;function Bj(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...m)=>n(o,s,...m),d=(m=r(0))=>{o=c(i(0),m),s=c(),m.length!==0&&(o=c(i(1),m),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){s=c();const w=s.slice();y.push(w),m+=s.length}return Si(...y)};return(m,y)=>{l(),d(m);let w;for(;!(w=y(h()));)d();return l(),w}}function Pd(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function vp(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ar=BigInt(0),In=BigInt(1),Uo=BigInt(2),UN=BigInt(3),HN=BigInt(4),VN=BigInt(5),Pj=BigInt(7),KN=BigInt(8),Lj=BigInt(9),qN=BigInt(16);function rn(t,e){const n=t%e;return n>=ar?n:e+n}function qt(t,e,n){let r=t;for(;e-- >ar;)r*=r,r%=n;return r}function i2(t,e){if(t===ar)throw new Error("invert: expected non-zero number");if(e<=ar)throw new Error("invert: expected positive modulus, got "+e);let n=rn(t,e),r=e,i=ar,s=In;for(;n!==ar;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==In)throw new Error("invert: does not exist");return rn(i,e)}function hw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function YN(t,e){const n=(t.ORDER+In)/HN,r=t.pow(e,n);return hw(t,r,e),r}function Oj(t,e){const n=(t.ORDER-VN)/KN,r=t.mul(e,Uo),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Uo),i),a=t.mul(s,t.sub(o,t.ONE));return hw(t,a,e),a}function Dj(t){const e=Sa(t),n=GN(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+Pj)/qN;return(a,l)=>{let c=a.pow(l,o),d=a.mul(c,r);const h=a.mul(c,i),p=a.mul(c,s),m=a.eql(a.sqr(d),l),y=a.eql(a.sqr(h),l);c=a.cmov(c,d,m),d=a.cmov(p,h,y);const w=a.eql(a.sqr(d),l),b=a.cmov(c,d,w);return hw(a,b,l),b}}function GN(t){if(t<UN)throw new Error("sqrt is not defined for small field");let e=t-In,n=0;for(;e%Uo===ar;)e/=Uo,n++;let r=Uo;const i=Sa(t);for(;s2(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return YN;let s=i.pow(r,e);const o=(e+In)/Uo;return function(l,c){if(l.is0(c))return c;if(s2(l,c)!==1)throw new Error("Cannot find square root");let d=n,h=l.mul(l.ONE,s),p=l.pow(c,e),m=l.pow(c,o);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let y=1,w=l.sqr(p);for(;!l.eql(w,l.ONE);)if(y++,w=l.sqr(w),y===d)throw new Error("Cannot find square root");const b=In<<BigInt(d-y-1),g=l.pow(h,b);d=y,h=l.sqr(g),p=l.mul(p,h),m=l.mul(m,g)}return m}}function zj(t){return t%HN===UN?YN:t%KN===VN?Oj:t%qN===Lj?Dj(t):GN(t)}const Wj=(t,e)=>(rn(t,e)&In)===In,Fj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $j(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Fj.reduce((r,i)=>(r[i]="function",r),e);return Pd(t,n),t}function Uj(t,e,n){if(n<ar)throw new Error("invalid exponent, negatives unsupported");if(n===ar)return t.ONE;if(n===In)return e;let r=t.ONE,i=e;for(;n>ar;)n&In&&(r=t.mul(r,i)),i=t.sqr(i),n>>=In;return r}function ZN(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function s2(t,e){const n=(t.ORDER-In)/Uo,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function XN(t,e){e!==void 0&&sd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Sa(t,e,n=!1,r={}){if(t<=ar)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(s=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(o=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:l,nByteLength:c}=XN(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const h=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Bd(l),ZERO:ar,ONE:In,allowedLengths:a,create:p=>rn(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return ar<=p&&p<t},is0:p=>p===ar,isValidNot0:p=>!h.is0(p)&&h.isValid(p),isOdd:p=>(p&In)===In,neg:p=>rn(-p,t),eql:(p,m)=>p===m,sqr:p=>rn(p*p,t),add:(p,m)=>rn(p+m,t),sub:(p,m)=>rn(p-m,t),mul:(p,m)=>rn(p*m,t),pow:(p,m)=>Uj(h,p,m),div:(p,m)=>rn(p*i2(m,t),t),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>i2(p,t),sqrt:s||(p=>(d||(d=zj(t)),d(h,p))),toBytes:p=>n?FN(p,c):dw(p,c),fromBytes:(p,m=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const w=new Uint8Array(c);w.set(p,n?0:w.length-p.length),p=w}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let y=n?od(p):E0(p);if(o&&(y=rn(y,t)),!m&&!h.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},invertBatch:p=>ZN(h,p),cmov:(p,m,y)=>y?m:p});return Object.freeze(h)}function QN(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function JN(t){const e=QN(t);return e+Math.ceil(e/2)}function Hj(t,e,n=!1){const r=t.length,i=QN(e),s=JN(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?od(t):E0(t),a=rn(o,e-In)+In;return n?FN(a,i):dw(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ul=BigInt(0),Ho=BigInt(1);function bp(t,e){const n=e.negate();return t?n:e}function Vo(t,e){const n=ZN(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function e3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Um(t,e){e3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Bd(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function o2(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=Ho);const c=e*r,d=c+Math.abs(a)-1,h=a===0,p=a<0,m=e%2!==0;return{nextN:l,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:c}}function Vj(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Kj(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Hm=new WeakMap,t3=new WeakMap;function Vm(t){return t3.get(t)||1}function a2(t){if(t!==Ul)throw new Error("invalid wNAF")}class n3{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Ul;)n&Ho&&(r=r.add(i)),i=i.double(),n>>=Ho;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=Um(n,this.bits),s=[];let o=e,a=o;for(let l=0;l<r;l++){a=o,s.push(a);for(let c=1;c<i;c++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=Um(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:h,isNegF:p,offsetF:m}=o2(r,a,o);r=l,d?s=s.add(bp(p,n[m])):i=i.add(bp(h,n[c]))}return a2(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=Um(e,this.bits);for(let o=0;o<s.windows&&r!==Ul;o++){const{nextN:a,offset:l,isZero:c,isNeg:d}=o2(r,o,s);if(r=a,!c){const h=n[l];i=i.add(d?h.negate():h)}}return a2(r),i}getPrecomputes(e,n,r){let i=Hm.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Hm.set(n,i))),i}cached(e,n,r){const i=Vm(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=Vm(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){e3(n,this.bits),t3.set(e,n),Hm.delete(e)}hasCache(e){return Vm(e)!==1}}function qj(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>Ul||r>Ul;)n&Ho&&(s=s.add(i)),r&Ho&&(o=o.add(i)),i=i.double(),n>>=Ho,r>>=Ho;return{p1:s,p2:o}}function r3(t,e,n,r){Vj(n,t),Kj(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=$N(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Bd(l),d=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let p=o;for(let m=h;m>=0;m-=l){d.fill(o);for(let w=0;w<s;w++){const b=r[w],g=Number(b>>BigInt(m)&c);d[g]=d[g].add(n[w])}let y=o;for(let w=d.length-1,b=o;w>0;w--)b=b.add(d[w]),y=y.add(b);if(p=p.add(y),m!==0)for(let w=0;w<l;w++)p=p.double()}return p}function l2(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $j(e),e}else return Sa(t,{isLE:n})}function i3(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Ul))throw new Error(`CURVE.${l} must be positive bigint`)}const i=l2(e.p,n.Fp,r),s=l2(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const As=BigInt(0),fn=BigInt(1),Km=BigInt(2),Yj=BigInt(8);function Gj(t,e,n,r){const i=t.sqr(n),s=t.sqr(r),o=t.add(t.mul(e.a,i),s),a=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(o,a)}function Zj(t,e={}){const n=i3("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;Pd(e,{},{uvRatio:"function"});const a=Km<<BigInt(i.BYTES*8)-fn,l=b=>r.create(b),c=e.uvRatio||((b,g)=>{try{return{isValid:!0,value:r.sqrt(r.div(b,g))}}catch{return{isValid:!1,value:As}}});if(!Gj(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function d(b,g,S=!1){const _=S?fn:As;return Dy("coordinate "+b,g,_,a),g}function h(b){if(!(b instanceof y))throw new Error("ExtendedPoint expected")}const p=vp((b,g)=>{const{X:S,Y:_,Z:A}=b,R=b.is0();g==null&&(g=R?Yj:r.inv(A));const W=l(S*g),O=l(_*g),B=r.mul(A,g);if(R)return{x:As,y:fn};if(B!==fn)throw new Error("invZ was invalid");return{x:W,y:O}}),m=vp(b=>{const{a:g,d:S}=s;if(b.is0())throw new Error("bad point: ZERO");const{X:_,Y:A,Z:R,T:W}=b,O=l(_*_),B=l(A*A),F=l(R*R),U=l(F*F),H=l(O*g),K=l(F*l(H+B)),M=l(U+l(S*l(O*B)));if(K!==M)throw new Error("bad point: equation left != right (1)");const f=l(_*A),x=l(R*W);if(f!==x)throw new Error("bad point: equation left != right (2)");return!0});class y{constructor(g,S,_,A){this.X=d("x",g),this.Y=d("y",S),this.Z=d("z",_,!0),this.T=d("t",A),Object.freeze(this)}static CURVE(){return s}static fromAffine(g){if(g instanceof y)throw new Error("extended point not allowed");const{x:S,y:_}=g||{};return d("x",S),d("y",_),new y(S,_,fn,l(S*_))}static fromBytes(g,S=!1){const _=r.BYTES,{a:A,d:R}=s;g=r2(Jr(g,_,"point")),ha(S,"zip215");const W=r2(g),O=g[_-1];W[_-1]=O&-129;const B=od(W),F=S?a:r.ORDER;Dy("point.y",B,As,F);const U=l(B*B),H=l(U-fn),K=l(R*U-A);let{isValid:M,value:f}=c(H,K);if(!M)throw new Error("bad point: invalid y coordinate");const x=(f&fn)===fn,k=(O&128)!==0;if(!S&&f===As&&k)throw new Error("bad point: x=0 and x_0=1");return k!==x&&(f=l(-f)),y.fromAffine({x:f,y:B})}static fromHex(g,S=!1){return y.fromBytes(Yt("point",g),S)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(g=8,S=!0){return w.createCache(this,g),S||this.multiply(Km),this}assertValidity(){m(this)}equals(g){h(g);const{X:S,Y:_,Z:A}=this,{X:R,Y:W,Z:O}=g,B=l(S*O),F=l(R*A),U=l(_*O),H=l(W*A);return B===F&&U===H}is0(){return this.equals(y.ZERO)}negate(){return new y(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:g}=s,{X:S,Y:_,Z:A}=this,R=l(S*S),W=l(_*_),O=l(Km*l(A*A)),B=l(g*R),F=S+_,U=l(l(F*F)-R-W),H=B+W,K=H-O,M=B-W,f=l(U*K),x=l(H*M),k=l(U*M),C=l(K*H);return new y(f,x,C,k)}add(g){h(g);const{a:S,d:_}=s,{X:A,Y:R,Z:W,T:O}=this,{X:B,Y:F,Z:U,T:H}=g,K=l(A*B),M=l(R*F),f=l(O*_*H),x=l(W*U),k=l((A+R)*(B+F)-K-M),C=x-f,T=x+f,I=l(M-S*K),L=l(k*C),j=l(T*I),v=l(k*I),P=l(C*T);return new y(L,j,P,v)}subtract(g){return this.add(g.negate())}multiply(g){if(!i.isValidNot0(g))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:S,f:_}=w.cached(this,g,A=>Vo(y,A));return Vo(y,[S,_])[0]}multiplyUnsafe(g,S=y.ZERO){if(!i.isValid(g))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return g===As?y.ZERO:this.is0()||g===fn?this:w.unsafe(this,g,_=>Vo(y,_),S)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return w.unsafe(this,s.n).is0()}toAffine(g){return p(this,g)}clearCofactor(){return o===fn?this:this.multiplyUnsafe(o)}toBytes(){const{x:g,y:S}=this.toAffine(),_=r.toBytes(S);return _[_.length-1]|=g&fn?128:0,_}toHex(){return ra(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(g){return Vo(y,g)}static msm(g,S){return r3(y,i,g,S)}_setWindowSize(g){this.precompute(g)}toRawBytes(){return this.toBytes()}}y.BASE=new y(s.Gx,s.Gy,fn,l(s.Gx*s.Gy)),y.ZERO=new y(As,fn,fn,As),y.Fp=r,y.Fn=i;const w=new n3(y,i.BITS);return y.BASE.precompute(8),y}function Xj(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Pd(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=t,a=n.randomBytes||cw,l=n.adjustScalarBytes||(F=>F),c=n.domain||((F,U,H)=>{if(ha(H,"phflag"),U.length||H)throw new Error("Contexts/pre-hash are not supported");return F});function d(F){return o.create(od(F))}function h(F){const U=_.secretKey;F=Yt("private key",F,U);const H=Yt("hashed private key",e(F),2*U),K=l(H.slice(0,U)),M=H.slice(U,2*U),f=d(K);return{head:K,prefix:M,scalar:f}}function p(F){const{head:U,prefix:H,scalar:K}=h(F),M=i.multiply(K),f=M.toBytes();return{head:U,prefix:H,scalar:K,point:M,pointBytes:f}}function m(F){return p(F).pointBytes}function y(F=Uint8Array.of(),...U){const H=Si(...U);return d(e(c(H,Yt("context",F),!!r)))}function w(F,U,H={}){F=Yt("message",F),r&&(F=r(F));const{prefix:K,scalar:M,pointBytes:f}=p(U),x=y(H.context,K,F),k=i.multiply(x).toBytes(),C=y(H.context,k,f,F),T=o.create(x+C*M);if(!o.isValid(T))throw new Error("sign failed: invalid s");const I=Si(k,o.toBytes(T));return Jr(I,_.signature,"result")}const b={zip215:!0};function g(F,U,H,K=b){const{context:M,zip215:f}=K,x=_.signature;F=Yt("signature",F,x),U=Yt("message",U),H=Yt("publicKey",H,_.publicKey),f!==void 0&&ha(f,"zip215"),r&&(U=r(U));const k=x/2,C=F.subarray(0,k),T=od(F.subarray(k,x));let I,L,j;try{I=t.fromBytes(H,f),L=t.fromBytes(C,f),j=i.multiplyUnsafe(T)}catch{return!1}if(!f&&I.isSmallOrder())return!1;const v=y(M,L.toBytes(),I.toBytes(),U);return L.add(I.multiplyUnsafe(v)).subtract(j).clearCofactor().is0()}const S=s.BYTES,_={secretKey:S,publicKey:S,signature:2*S,seed:S};function A(F=a(_.seed)){return Jr(F,_.seed,"seed")}function R(F){const U=B.randomSecretKey(F);return{secretKey:U,publicKey:m(U)}}function W(F){return Rd(F)&&F.length===o.BYTES}function O(F,U){try{return!!t.fromBytes(F,U)}catch{return!1}}const B={getExtendedPublicKey:p,randomSecretKey:A,isValidSecretKey:W,isValidPublicKey:O,toMontgomery(F){const{y:U}=t.fromBytes(F),H=_.publicKey,K=H===32;if(!K&&H!==57)throw new Error("only defined for 25519 and 448");const M=K?s.div(fn+U,fn-U):s.div(U-fn,U+fn);return s.toBytes(M)},toMontgomeryPriv(F){const U=_.secretKey;Jr(F,U);const H=e(F.subarray(0,U));return l(H).subarray(0,U)},randomPrivateKey:A,precompute(F=8,U=t.BASE){return U.precompute(F,!1)}};return Object.freeze({keygen:R,getPublicKey:m,sign:w,verify:g,utils:B,Point:t,lengths:_})}function Qj(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Sa(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:s}}function Jj(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function e8(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=Qj(t),s=Zj(e,n),o=Xj(s,r,i);return Jj(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t8=BigInt(1),c2=BigInt(2);BigInt(3);const n8=BigInt(5),r8=BigInt(8),fw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),s3={p:fw,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:r8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function i8(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=fw,a=t*t%s*t%s,l=qt(a,c2,s)*a%s,c=qt(l,t8,s)*t%s,d=qt(c,n8,s)*c%s,h=qt(d,e,s)*d%s,p=qt(h,n,s)*h%s,m=qt(p,r,s)*p%s,y=qt(m,i,s)*m%s,w=qt(y,i,s)*m%s,b=qt(w,e,s)*d%s;return{pow_p_5_8:qt(b,c2,s)*t%s,b2:a}}function s8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const u2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function o8(t,e){const n=fw,r=rn(e*e*e,n),i=rn(r*r*e,n),s=i8(t*i).pow_p_5_8;let o=rn(t*r*s,n);const a=rn(e*o*o,n),l=o,c=rn(o*u2,n),d=a===t,h=a===rn(-t,n),p=a===rn(-t*u2,n);return d&&(o=l),(h||p)&&(o=c),Wj(o,n)&&(o=rn(-o,n)),{isValid:d||h,value:o}}const a8=Sa(s3.p,{isLE:!0}),l8={...s3,Fp:a8,hash:jj,adjustScalarBytes:s8,uvRatio:o8},_a=e8(l8);var pw={exports:{}};const c8={},u8=Object.freeze(Object.defineProperty({__proto__:null,default:c8},Symbol.toStringTag,{value:"Module"})),d8=xs(u8);pw.exports;(function(t){(function(e,n){function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function i(M,f){M.super_=f;var x=function(){};x.prototype=f.prototype,M.prototype=new x,M.prototype.constructor=M}function s(M,f,x){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(x=f,f=10),this._init(M||0,f||10,x||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=d8.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,x){return f.cmp(x)>0?f:x},s.min=function(f,x){return f.cmp(x)<0?f:x},s.prototype._init=function(f,x,k){if(typeof f=="number")return this._initNumber(f,x,k);if(typeof f=="object")return this._initArray(f,x,k);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),f=f.toString().replace(/\s+/g,"");var C=0;f[0]==="-"&&(C++,this.negative=1),C<f.length&&(x===16?this._parseHex(f,C,k):(this._parseBase(f,x,C),k==="le"&&this._initArray(this.toArray(),x,k)))},s.prototype._initNumber=function(f,x,k){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),x,k)},s.prototype._initArray=function(f,x,k){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var T,I,L=0;if(k==="be")for(C=f.length-1,T=0;C>=0;C-=3)I=f[C]|f[C-1]<<8|f[C-2]<<16,this.words[T]|=I<<L&67108863,this.words[T+1]=I>>>26-L&67108863,L+=24,L>=26&&(L-=26,T++);else if(k==="le")for(C=0,T=0;C<f.length;C+=3)I=f[C]|f[C+1]<<8|f[C+2]<<16,this.words[T]|=I<<L&67108863,this.words[T+1]=I>>>26-L&67108863,L+=24,L>=26&&(L-=26,T++);return this._strip()};function a(M,f){var x=M.charCodeAt(f);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+M)}function l(M,f,x){var k=a(M,x);return x-1>=f&&(k|=a(M,x-1)<<4),k}s.prototype._parseHex=function(f,x,k){this.length=Math.ceil((f.length-x)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var T=0,I=0,L;if(k==="be")for(C=f.length-1;C>=x;C-=2)L=l(f,x,C)<<T,this.words[I]|=L&67108863,T>=18?(T-=18,I+=1,this.words[I]|=L>>>26):T+=8;else{var j=f.length-x;for(C=j%2===0?x+1:x;C<f.length;C+=2)L=l(f,x,C)<<T,this.words[I]|=L&67108863,T>=18?(T-=18,I+=1,this.words[I]|=L>>>26):T+=8}this._strip()};function c(M,f,x,k){for(var C=0,T=0,I=Math.min(M.length,x),L=f;L<I;L++){var j=M.charCodeAt(L)-48;C*=k,j>=49?T=j-49+10:j>=17?T=j-17+10:T=j,r(j>=0&&T<k,"Invalid character"),C+=T}return C}s.prototype._parseBase=function(f,x,k){this.words=[0],this.length=1;for(var C=0,T=1;T<=67108863;T*=x)C++;C--,T=T/x|0;for(var I=f.length-k,L=I%C,j=Math.min(I,I-L)+k,v=0,P=k;P<j;P+=C)v=c(f,P,P+C,x),this.imuln(T),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(L!==0){var X=1;for(v=c(f,P,f.length,x),P=0;P<L;P++)X*=x;this.imuln(X),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var x=0;x<this.length;x++)f.words[x]=this.words[x];f.length=this.length,f.negative=this.negative,f.red=this.red};function d(M,f){M.words=f.words,M.length=f.length,M.negative=f.negative,M.red=f.red}if(s.prototype._move=function(f){d(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,x){f=f||10,x=x|0||1;var k;if(f===16||f==="hex"){k="";for(var C=0,T=0,I=0;I<this.length;I++){var L=this.words[I],j=((L<<C|T)&16777215).toString(16);T=L>>>24-C&16777215,C+=2,C>=26&&(C-=26,I--),T!==0||I!==this.length-1?k=p[6-j.length]+j+k:k=j+k}for(T!==0&&(k=T.toString(16)+k);k.length%x!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(f===(f|0)&&f>=2&&f<=36){var v=m[f],P=y[f];k="";var X=this.clone();for(X.negative=0;!X.isZero();){var Z=X.modrn(P).toString(f);X=X.idivn(P),X.isZero()?k=Z+k:k=p[v-Z.length]+Z+k}for(this.isZero()&&(k="0"+k);k.length%x!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,x){return this.toArrayLike(o,f,x)}),s.prototype.toArray=function(f,x){return this.toArrayLike(Array,f,x)};var w=function(f,x){return f.allocUnsafe?f.allocUnsafe(x):new f(x)};s.prototype.toArrayLike=function(f,x,k){this._strip();var C=this.byteLength(),T=k||Math.max(1,C);r(C<=T,"byte array longer than desired length"),r(T>0,"Requested array length <= 0");var I=w(f,T),L=x==="le"?"LE":"BE";return this["_toArrayLike"+L](I,C),I},s.prototype._toArrayLikeLE=function(f,x){for(var k=0,C=0,T=0,I=0;T<this.length;T++){var L=this.words[T]<<I|C;f[k++]=L&255,k<f.length&&(f[k++]=L>>8&255),k<f.length&&(f[k++]=L>>16&255),I===6?(k<f.length&&(f[k++]=L>>24&255),C=0,I=0):(C=L>>>24,I+=2)}if(k<f.length)for(f[k++]=C;k<f.length;)f[k++]=0},s.prototype._toArrayLikeBE=function(f,x){for(var k=f.length-1,C=0,T=0,I=0;T<this.length;T++){var L=this.words[T]<<I|C;f[k--]=L&255,k>=0&&(f[k--]=L>>8&255),k>=0&&(f[k--]=L>>16&255),I===6?(k>=0&&(f[k--]=L>>24&255),C=0,I=0):(C=L>>>24,I+=2)}if(k>=0)for(f[k--]=C;k>=0;)f[k--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var x=f,k=0;return x>=4096&&(k+=13,x>>>=13),x>=64&&(k+=7,x>>>=7),x>=8&&(k+=4,x>>>=4),x>=2&&(k+=2,x>>>=2),k+x},s.prototype._zeroBits=function(f){if(f===0)return 26;var x=f,k=0;return x&8191||(k+=13,x>>>=13),x&127||(k+=7,x>>>=7),x&15||(k+=4,x>>>=4),x&3||(k+=2,x>>>=2),x&1||k++,k},s.prototype.bitLength=function(){var f=this.words[this.length-1],x=this._countBits(f);return(this.length-1)*26+x};function b(M){for(var f=new Array(M.bitLength()),x=0;x<f.length;x++){var k=x/26|0,C=x%26;f[x]=M.words[k]>>>C&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,x=0;x<this.length;x++){var k=this._zeroBits(this.words[x]);if(f+=k,k!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var x=0;x<f.length;x++)this.words[x]=this.words[x]|f.words[x];return this._strip()},s.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var x;this.length>f.length?x=f:x=this;for(var k=0;k<x.length;k++)this.words[k]=this.words[k]&f.words[k];return this.length=x.length,this._strip()},s.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var x,k;this.length>f.length?(x=this,k=f):(x=f,k=this);for(var C=0;C<k.length;C++)this.words[C]=x.words[C]^k.words[C];if(this!==x)for(;C<x.length;C++)this.words[C]=x.words[C];return this.length=x.length,this._strip()},s.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var x=Math.ceil(f/26)|0,k=f%26;this._expand(x),k>0&&x--;for(var C=0;C<x;C++)this.words[C]=~this.words[C]&67108863;return k>0&&(this.words[C]=~this.words[C]&67108863>>26-k),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,x){r(typeof f=="number"&&f>=0);var k=f/26|0,C=f%26;return this._expand(k+1),x?this.words[k]=this.words[k]|1<<C:this.words[k]=this.words[k]&~(1<<C),this._strip()},s.prototype.iadd=function(f){var x;if(this.negative!==0&&f.negative===0)return this.negative=0,x=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,x=this.isub(f),f.negative=1,x._normSign();var k,C;this.length>f.length?(k=this,C=f):(k=f,C=this);for(var T=0,I=0;I<C.length;I++)x=(k.words[I]|0)+(C.words[I]|0)+T,this.words[I]=x&67108863,T=x>>>26;for(;T!==0&&I<k.length;I++)x=(k.words[I]|0)+T,this.words[I]=x&67108863,T=x>>>26;if(this.length=k.length,T!==0)this.words[this.length]=T,this.length++;else if(k!==this)for(;I<k.length;I++)this.words[I]=k.words[I];return this},s.prototype.add=function(f){var x;return f.negative!==0&&this.negative===0?(f.negative=0,x=this.sub(f),f.negative^=1,x):f.negative===0&&this.negative!==0?(this.negative=0,x=f.sub(this),this.negative=1,x):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var x=this.iadd(f);return f.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var k=this.cmp(f);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,T;k>0?(C=this,T=f):(C=f,T=this);for(var I=0,L=0;L<T.length;L++)x=(C.words[L]|0)-(T.words[L]|0)+I,I=x>>26,this.words[L]=x&67108863;for(;I!==0&&L<C.length;L++)x=(C.words[L]|0)+I,I=x>>26,this.words[L]=x&67108863;if(I===0&&L<C.length&&C!==this)for(;L<C.length;L++)this.words[L]=C.words[L];return this.length=Math.max(this.length,L),C!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function g(M,f,x){x.negative=f.negative^M.negative;var k=M.length+f.length|0;x.length=k,k=k-1|0;var C=M.words[0]|0,T=f.words[0]|0,I=C*T,L=I&67108863,j=I/67108864|0;x.words[0]=L;for(var v=1;v<k;v++){for(var P=j>>>26,X=j&67108863,Z=Math.min(v,f.length-1),te=Math.max(0,v-M.length+1);te<=Z;te++){var se=v-te|0;C=M.words[se]|0,T=f.words[te]|0,I=C*T+X,P+=I/67108864|0,X=I&67108863}x.words[v]=X|0,j=P|0}return j!==0?x.words[v]=j|0:x.length--,x._strip()}var S=function(f,x,k){var C=f.words,T=x.words,I=k.words,L=0,j,v,P,X=C[0]|0,Z=X&8191,te=X>>>13,se=C[1]|0,le=se&8191,ce=se>>>13,ne=C[2]|0,ye=ne&8191,he=ne>>>13,Se=C[3]|0,we=Se&8191,Ae=Se>>>13,re=C[4]|0,ge=re&8191,oe=re>>>13,st=C[5]|0,Be=st&8191,Oe=st>>>13,ht=C[6]|0,De=ht&8191,Ve=ht>>>13,Ye=C[7]|0,rt=Ye&8191,D=Ye>>>13,E=C[8]|0,N=E&8191,$=E>>>13,q=C[9]|0,G=q&8191,ee=q>>>13,Pe=T[0]|0,Re=Pe&8191,Me=Pe>>>13,Ke=T[1]|0,Ce=Ke&8191,St=Ke>>>13,bs=T[2]|0,_t=bs&8191,Nt=bs>>>13,di=T[3]|0,Bt=di&8191,Pt=di>>>13,Kd=T[4]|0,Lt=Kd&8191,Ot=Kd>>>13,qd=T[5]|0,Dt=qd&8191,zt=qd>>>13,Yd=T[6]|0,Wt=Yd&8191,Ft=Yd>>>13,Gd=T[7]|0,$t=Gd&8191,Ut=Gd>>>13,Zd=T[8]|0,Ht=Zd&8191,At=Zd>>>13,Xd=T[9]|0,Vt=Xd&8191,Kt=Xd>>>13;k.negative=f.negative^x.negative,k.length=19,j=Math.imul(Z,Re),v=Math.imul(Z,Me),v=v+Math.imul(te,Re)|0,P=Math.imul(te,Me);var xc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(xc>>>26)|0,xc&=67108863,j=Math.imul(le,Re),v=Math.imul(le,Me),v=v+Math.imul(ce,Re)|0,P=Math.imul(ce,Me),j=j+Math.imul(Z,Ce)|0,v=v+Math.imul(Z,St)|0,v=v+Math.imul(te,Ce)|0,P=P+Math.imul(te,St)|0;var wc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(wc>>>26)|0,wc&=67108863,j=Math.imul(ye,Re),v=Math.imul(ye,Me),v=v+Math.imul(he,Re)|0,P=Math.imul(he,Me),j=j+Math.imul(le,Ce)|0,v=v+Math.imul(le,St)|0,v=v+Math.imul(ce,Ce)|0,P=P+Math.imul(ce,St)|0,j=j+Math.imul(Z,_t)|0,v=v+Math.imul(Z,Nt)|0,v=v+Math.imul(te,_t)|0,P=P+Math.imul(te,Nt)|0;var vc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(vc>>>26)|0,vc&=67108863,j=Math.imul(we,Re),v=Math.imul(we,Me),v=v+Math.imul(Ae,Re)|0,P=Math.imul(Ae,Me),j=j+Math.imul(ye,Ce)|0,v=v+Math.imul(ye,St)|0,v=v+Math.imul(he,Ce)|0,P=P+Math.imul(he,St)|0,j=j+Math.imul(le,_t)|0,v=v+Math.imul(le,Nt)|0,v=v+Math.imul(ce,_t)|0,P=P+Math.imul(ce,Nt)|0,j=j+Math.imul(Z,Bt)|0,v=v+Math.imul(Z,Pt)|0,v=v+Math.imul(te,Bt)|0,P=P+Math.imul(te,Pt)|0;var bc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(bc>>>26)|0,bc&=67108863,j=Math.imul(ge,Re),v=Math.imul(ge,Me),v=v+Math.imul(oe,Re)|0,P=Math.imul(oe,Me),j=j+Math.imul(we,Ce)|0,v=v+Math.imul(we,St)|0,v=v+Math.imul(Ae,Ce)|0,P=P+Math.imul(Ae,St)|0,j=j+Math.imul(ye,_t)|0,v=v+Math.imul(ye,Nt)|0,v=v+Math.imul(he,_t)|0,P=P+Math.imul(he,Nt)|0,j=j+Math.imul(le,Bt)|0,v=v+Math.imul(le,Pt)|0,v=v+Math.imul(ce,Bt)|0,P=P+Math.imul(ce,Pt)|0,j=j+Math.imul(Z,Lt)|0,v=v+Math.imul(Z,Ot)|0,v=v+Math.imul(te,Lt)|0,P=P+Math.imul(te,Ot)|0;var Sc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,j=Math.imul(Be,Re),v=Math.imul(Be,Me),v=v+Math.imul(Oe,Re)|0,P=Math.imul(Oe,Me),j=j+Math.imul(ge,Ce)|0,v=v+Math.imul(ge,St)|0,v=v+Math.imul(oe,Ce)|0,P=P+Math.imul(oe,St)|0,j=j+Math.imul(we,_t)|0,v=v+Math.imul(we,Nt)|0,v=v+Math.imul(Ae,_t)|0,P=P+Math.imul(Ae,Nt)|0,j=j+Math.imul(ye,Bt)|0,v=v+Math.imul(ye,Pt)|0,v=v+Math.imul(he,Bt)|0,P=P+Math.imul(he,Pt)|0,j=j+Math.imul(le,Lt)|0,v=v+Math.imul(le,Ot)|0,v=v+Math.imul(ce,Lt)|0,P=P+Math.imul(ce,Ot)|0,j=j+Math.imul(Z,Dt)|0,v=v+Math.imul(Z,zt)|0,v=v+Math.imul(te,Dt)|0,P=P+Math.imul(te,zt)|0;var Ca=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,j=Math.imul(De,Re),v=Math.imul(De,Me),v=v+Math.imul(Ve,Re)|0,P=Math.imul(Ve,Me),j=j+Math.imul(Be,Ce)|0,v=v+Math.imul(Be,St)|0,v=v+Math.imul(Oe,Ce)|0,P=P+Math.imul(Oe,St)|0,j=j+Math.imul(ge,_t)|0,v=v+Math.imul(ge,Nt)|0,v=v+Math.imul(oe,_t)|0,P=P+Math.imul(oe,Nt)|0,j=j+Math.imul(we,Bt)|0,v=v+Math.imul(we,Pt)|0,v=v+Math.imul(Ae,Bt)|0,P=P+Math.imul(Ae,Pt)|0,j=j+Math.imul(ye,Lt)|0,v=v+Math.imul(ye,Ot)|0,v=v+Math.imul(he,Lt)|0,P=P+Math.imul(he,Ot)|0,j=j+Math.imul(le,Dt)|0,v=v+Math.imul(le,zt)|0,v=v+Math.imul(ce,Dt)|0,P=P+Math.imul(ce,zt)|0,j=j+Math.imul(Z,Wt)|0,v=v+Math.imul(Z,Ft)|0,v=v+Math.imul(te,Wt)|0,P=P+Math.imul(te,Ft)|0;var _c=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(_c>>>26)|0,_c&=67108863,j=Math.imul(rt,Re),v=Math.imul(rt,Me),v=v+Math.imul(D,Re)|0,P=Math.imul(D,Me),j=j+Math.imul(De,Ce)|0,v=v+Math.imul(De,St)|0,v=v+Math.imul(Ve,Ce)|0,P=P+Math.imul(Ve,St)|0,j=j+Math.imul(Be,_t)|0,v=v+Math.imul(Be,Nt)|0,v=v+Math.imul(Oe,_t)|0,P=P+Math.imul(Oe,Nt)|0,j=j+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Pt)|0,v=v+Math.imul(oe,Bt)|0,P=P+Math.imul(oe,Pt)|0,j=j+Math.imul(we,Lt)|0,v=v+Math.imul(we,Ot)|0,v=v+Math.imul(Ae,Lt)|0,P=P+Math.imul(Ae,Ot)|0,j=j+Math.imul(ye,Dt)|0,v=v+Math.imul(ye,zt)|0,v=v+Math.imul(he,Dt)|0,P=P+Math.imul(he,zt)|0,j=j+Math.imul(le,Wt)|0,v=v+Math.imul(le,Ft)|0,v=v+Math.imul(ce,Wt)|0,P=P+Math.imul(ce,Ft)|0,j=j+Math.imul(Z,$t)|0,v=v+Math.imul(Z,Ut)|0,v=v+Math.imul(te,$t)|0,P=P+Math.imul(te,Ut)|0;var kc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(kc>>>26)|0,kc&=67108863,j=Math.imul(N,Re),v=Math.imul(N,Me),v=v+Math.imul($,Re)|0,P=Math.imul($,Me),j=j+Math.imul(rt,Ce)|0,v=v+Math.imul(rt,St)|0,v=v+Math.imul(D,Ce)|0,P=P+Math.imul(D,St)|0,j=j+Math.imul(De,_t)|0,v=v+Math.imul(De,Nt)|0,v=v+Math.imul(Ve,_t)|0,P=P+Math.imul(Ve,Nt)|0,j=j+Math.imul(Be,Bt)|0,v=v+Math.imul(Be,Pt)|0,v=v+Math.imul(Oe,Bt)|0,P=P+Math.imul(Oe,Pt)|0,j=j+Math.imul(ge,Lt)|0,v=v+Math.imul(ge,Ot)|0,v=v+Math.imul(oe,Lt)|0,P=P+Math.imul(oe,Ot)|0,j=j+Math.imul(we,Dt)|0,v=v+Math.imul(we,zt)|0,v=v+Math.imul(Ae,Dt)|0,P=P+Math.imul(Ae,zt)|0,j=j+Math.imul(ye,Wt)|0,v=v+Math.imul(ye,Ft)|0,v=v+Math.imul(he,Wt)|0,P=P+Math.imul(he,Ft)|0,j=j+Math.imul(le,$t)|0,v=v+Math.imul(le,Ut)|0,v=v+Math.imul(ce,$t)|0,P=P+Math.imul(ce,Ut)|0,j=j+Math.imul(Z,Ht)|0,v=v+Math.imul(Z,At)|0,v=v+Math.imul(te,Ht)|0,P=P+Math.imul(te,At)|0;var Ec=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,j=Math.imul(G,Re),v=Math.imul(G,Me),v=v+Math.imul(ee,Re)|0,P=Math.imul(ee,Me),j=j+Math.imul(N,Ce)|0,v=v+Math.imul(N,St)|0,v=v+Math.imul($,Ce)|0,P=P+Math.imul($,St)|0,j=j+Math.imul(rt,_t)|0,v=v+Math.imul(rt,Nt)|0,v=v+Math.imul(D,_t)|0,P=P+Math.imul(D,Nt)|0,j=j+Math.imul(De,Bt)|0,v=v+Math.imul(De,Pt)|0,v=v+Math.imul(Ve,Bt)|0,P=P+Math.imul(Ve,Pt)|0,j=j+Math.imul(Be,Lt)|0,v=v+Math.imul(Be,Ot)|0,v=v+Math.imul(Oe,Lt)|0,P=P+Math.imul(Oe,Ot)|0,j=j+Math.imul(ge,Dt)|0,v=v+Math.imul(ge,zt)|0,v=v+Math.imul(oe,Dt)|0,P=P+Math.imul(oe,zt)|0,j=j+Math.imul(we,Wt)|0,v=v+Math.imul(we,Ft)|0,v=v+Math.imul(Ae,Wt)|0,P=P+Math.imul(Ae,Ft)|0,j=j+Math.imul(ye,$t)|0,v=v+Math.imul(ye,Ut)|0,v=v+Math.imul(he,$t)|0,P=P+Math.imul(he,Ut)|0,j=j+Math.imul(le,Ht)|0,v=v+Math.imul(le,At)|0,v=v+Math.imul(ce,Ht)|0,P=P+Math.imul(ce,At)|0,j=j+Math.imul(Z,Vt)|0,v=v+Math.imul(Z,Kt)|0,v=v+Math.imul(te,Vt)|0,P=P+Math.imul(te,Kt)|0;var Nc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,j=Math.imul(G,Ce),v=Math.imul(G,St),v=v+Math.imul(ee,Ce)|0,P=Math.imul(ee,St),j=j+Math.imul(N,_t)|0,v=v+Math.imul(N,Nt)|0,v=v+Math.imul($,_t)|0,P=P+Math.imul($,Nt)|0,j=j+Math.imul(rt,Bt)|0,v=v+Math.imul(rt,Pt)|0,v=v+Math.imul(D,Bt)|0,P=P+Math.imul(D,Pt)|0,j=j+Math.imul(De,Lt)|0,v=v+Math.imul(De,Ot)|0,v=v+Math.imul(Ve,Lt)|0,P=P+Math.imul(Ve,Ot)|0,j=j+Math.imul(Be,Dt)|0,v=v+Math.imul(Be,zt)|0,v=v+Math.imul(Oe,Dt)|0,P=P+Math.imul(Oe,zt)|0,j=j+Math.imul(ge,Wt)|0,v=v+Math.imul(ge,Ft)|0,v=v+Math.imul(oe,Wt)|0,P=P+Math.imul(oe,Ft)|0,j=j+Math.imul(we,$t)|0,v=v+Math.imul(we,Ut)|0,v=v+Math.imul(Ae,$t)|0,P=P+Math.imul(Ae,Ut)|0,j=j+Math.imul(ye,Ht)|0,v=v+Math.imul(ye,At)|0,v=v+Math.imul(he,Ht)|0,P=P+Math.imul(he,At)|0,j=j+Math.imul(le,Vt)|0,v=v+Math.imul(le,Kt)|0,v=v+Math.imul(ce,Vt)|0,P=P+Math.imul(ce,Kt)|0;var Ac=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,j=Math.imul(G,_t),v=Math.imul(G,Nt),v=v+Math.imul(ee,_t)|0,P=Math.imul(ee,Nt),j=j+Math.imul(N,Bt)|0,v=v+Math.imul(N,Pt)|0,v=v+Math.imul($,Bt)|0,P=P+Math.imul($,Pt)|0,j=j+Math.imul(rt,Lt)|0,v=v+Math.imul(rt,Ot)|0,v=v+Math.imul(D,Lt)|0,P=P+Math.imul(D,Ot)|0,j=j+Math.imul(De,Dt)|0,v=v+Math.imul(De,zt)|0,v=v+Math.imul(Ve,Dt)|0,P=P+Math.imul(Ve,zt)|0,j=j+Math.imul(Be,Wt)|0,v=v+Math.imul(Be,Ft)|0,v=v+Math.imul(Oe,Wt)|0,P=P+Math.imul(Oe,Ft)|0,j=j+Math.imul(ge,$t)|0,v=v+Math.imul(ge,Ut)|0,v=v+Math.imul(oe,$t)|0,P=P+Math.imul(oe,Ut)|0,j=j+Math.imul(we,Ht)|0,v=v+Math.imul(we,At)|0,v=v+Math.imul(Ae,Ht)|0,P=P+Math.imul(Ae,At)|0,j=j+Math.imul(ye,Vt)|0,v=v+Math.imul(ye,Kt)|0,v=v+Math.imul(he,Vt)|0,P=P+Math.imul(he,Kt)|0;var Mc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,j=Math.imul(G,Bt),v=Math.imul(G,Pt),v=v+Math.imul(ee,Bt)|0,P=Math.imul(ee,Pt),j=j+Math.imul(N,Lt)|0,v=v+Math.imul(N,Ot)|0,v=v+Math.imul($,Lt)|0,P=P+Math.imul($,Ot)|0,j=j+Math.imul(rt,Dt)|0,v=v+Math.imul(rt,zt)|0,v=v+Math.imul(D,Dt)|0,P=P+Math.imul(D,zt)|0,j=j+Math.imul(De,Wt)|0,v=v+Math.imul(De,Ft)|0,v=v+Math.imul(Ve,Wt)|0,P=P+Math.imul(Ve,Ft)|0,j=j+Math.imul(Be,$t)|0,v=v+Math.imul(Be,Ut)|0,v=v+Math.imul(Oe,$t)|0,P=P+Math.imul(Oe,Ut)|0,j=j+Math.imul(ge,Ht)|0,v=v+Math.imul(ge,At)|0,v=v+Math.imul(oe,Ht)|0,P=P+Math.imul(oe,At)|0,j=j+Math.imul(we,Vt)|0,v=v+Math.imul(we,Kt)|0,v=v+Math.imul(Ae,Vt)|0,P=P+Math.imul(Ae,Kt)|0;var Ia=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,j=Math.imul(G,Lt),v=Math.imul(G,Ot),v=v+Math.imul(ee,Lt)|0,P=Math.imul(ee,Ot),j=j+Math.imul(N,Dt)|0,v=v+Math.imul(N,zt)|0,v=v+Math.imul($,Dt)|0,P=P+Math.imul($,zt)|0,j=j+Math.imul(rt,Wt)|0,v=v+Math.imul(rt,Ft)|0,v=v+Math.imul(D,Wt)|0,P=P+Math.imul(D,Ft)|0,j=j+Math.imul(De,$t)|0,v=v+Math.imul(De,Ut)|0,v=v+Math.imul(Ve,$t)|0,P=P+Math.imul(Ve,Ut)|0,j=j+Math.imul(Be,Ht)|0,v=v+Math.imul(Be,At)|0,v=v+Math.imul(Oe,Ht)|0,P=P+Math.imul(Oe,At)|0,j=j+Math.imul(ge,Vt)|0,v=v+Math.imul(ge,Kt)|0,v=v+Math.imul(oe,Vt)|0,P=P+Math.imul(oe,Kt)|0;var Cc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,j=Math.imul(G,Dt),v=Math.imul(G,zt),v=v+Math.imul(ee,Dt)|0,P=Math.imul(ee,zt),j=j+Math.imul(N,Wt)|0,v=v+Math.imul(N,Ft)|0,v=v+Math.imul($,Wt)|0,P=P+Math.imul($,Ft)|0,j=j+Math.imul(rt,$t)|0,v=v+Math.imul(rt,Ut)|0,v=v+Math.imul(D,$t)|0,P=P+Math.imul(D,Ut)|0,j=j+Math.imul(De,Ht)|0,v=v+Math.imul(De,At)|0,v=v+Math.imul(Ve,Ht)|0,P=P+Math.imul(Ve,At)|0,j=j+Math.imul(Be,Vt)|0,v=v+Math.imul(Be,Kt)|0,v=v+Math.imul(Oe,Vt)|0,P=P+Math.imul(Oe,Kt)|0;var Ic=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Ic>>>26)|0,Ic&=67108863,j=Math.imul(G,Wt),v=Math.imul(G,Ft),v=v+Math.imul(ee,Wt)|0,P=Math.imul(ee,Ft),j=j+Math.imul(N,$t)|0,v=v+Math.imul(N,Ut)|0,v=v+Math.imul($,$t)|0,P=P+Math.imul($,Ut)|0,j=j+Math.imul(rt,Ht)|0,v=v+Math.imul(rt,At)|0,v=v+Math.imul(D,Ht)|0,P=P+Math.imul(D,At)|0,j=j+Math.imul(De,Vt)|0,v=v+Math.imul(De,Kt)|0,v=v+Math.imul(Ve,Vt)|0,P=P+Math.imul(Ve,Kt)|0;var Tc=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(Tc>>>26)|0,Tc&=67108863,j=Math.imul(G,$t),v=Math.imul(G,Ut),v=v+Math.imul(ee,$t)|0,P=Math.imul(ee,Ut),j=j+Math.imul(N,Ht)|0,v=v+Math.imul(N,At)|0,v=v+Math.imul($,Ht)|0,P=P+Math.imul($,At)|0,j=j+Math.imul(rt,Vt)|0,v=v+Math.imul(rt,Kt)|0,v=v+Math.imul(D,Vt)|0,P=P+Math.imul(D,Kt)|0;var ko=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(ko>>>26)|0,ko&=67108863,j=Math.imul(G,Ht),v=Math.imul(G,At),v=v+Math.imul(ee,Ht)|0,P=Math.imul(ee,At),j=j+Math.imul(N,Vt)|0,v=v+Math.imul(N,Kt)|0,v=v+Math.imul($,Vt)|0,P=P+Math.imul($,Kt)|0;var dm=(L+j|0)+((v&8191)<<13)|0;L=(P+(v>>>13)|0)+(dm>>>26)|0,dm&=67108863,j=Math.imul(G,Vt),v=Math.imul(G,Kt),v=v+Math.imul(ee,Vt)|0,P=Math.imul(ee,Kt);var hm=(L+j|0)+((v&8191)<<13)|0;return L=(P+(v>>>13)|0)+(hm>>>26)|0,hm&=67108863,I[0]=xc,I[1]=wc,I[2]=vc,I[3]=bc,I[4]=Sc,I[5]=Ca,I[6]=_c,I[7]=kc,I[8]=Ec,I[9]=Nc,I[10]=Ac,I[11]=Mc,I[12]=Ia,I[13]=Cc,I[14]=Ic,I[15]=Tc,I[16]=ko,I[17]=dm,I[18]=hm,L!==0&&(I[19]=L,k.length++),k};Math.imul||(S=g);function _(M,f,x){x.negative=f.negative^M.negative,x.length=M.length+f.length;for(var k=0,C=0,T=0;T<x.length-1;T++){var I=C;C=0;for(var L=k&67108863,j=Math.min(T,f.length-1),v=Math.max(0,T-M.length+1);v<=j;v++){var P=T-v,X=M.words[P]|0,Z=f.words[v]|0,te=X*Z,se=te&67108863;I=I+(te/67108864|0)|0,se=se+L|0,L=se&67108863,I=I+(se>>>26)|0,C+=I>>>26,I&=67108863}x.words[T]=L,k=I,I=C}return k!==0?x.words[T]=k:x.length--,x._strip()}function A(M,f,x){return _(M,f,x)}s.prototype.mulTo=function(f,x){var k,C=this.length+f.length;return this.length===10&&f.length===10?k=S(this,f,x):C<63?k=g(this,f,x):C<1024?k=_(this,f,x):k=A(this,f,x),k},s.prototype.mul=function(f){var x=new s(null);return x.words=new Array(this.length+f.length),this.mulTo(f,x)},s.prototype.mulf=function(f){var x=new s(null);return x.words=new Array(this.length+f.length),A(this,f,x)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var x=f<0;x&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var k=0,C=0;C<this.length;C++){var T=(this.words[C]|0)*f,I=(T&67108863)+(k&67108863);k>>=26,k+=T/67108864|0,k+=I>>>26,this.words[C]=I&67108863}return k!==0&&(this.words[C]=k,this.length++),this.length=f===0?1:this.length,x?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var x=b(f);if(x.length===0)return new s(1);for(var k=this,C=0;C<x.length&&x[C]===0;C++,k=k.sqr());if(++C<x.length)for(var T=k.sqr();C<x.length;C++,T=T.sqr())x[C]!==0&&(k=k.mul(T));return k},s.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26,C=67108863>>>26-x<<26-x,T;if(x!==0){var I=0;for(T=0;T<this.length;T++){var L=this.words[T]&C,j=(this.words[T]|0)-L<<x;this.words[T]=j|I,I=L>>>26-x}I&&(this.words[T]=I,this.length++)}if(k!==0){for(T=this.length-1;T>=0;T--)this.words[T+k]=this.words[T];for(T=0;T<k;T++)this.words[T]=0;this.length+=k}return this._strip()},s.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,x,k){r(typeof f=="number"&&f>=0);var C;x?C=(x-x%26)/26:C=0;var T=f%26,I=Math.min((f-T)/26,this.length),L=67108863^67108863>>>T<<T,j=k;if(C-=I,C=Math.max(0,C),j){for(var v=0;v<I;v++)j.words[v]=this.words[v];j.length=I}if(I!==0)if(this.length>I)for(this.length-=I,v=0;v<this.length;v++)this.words[v]=this.words[v+I];else this.words[0]=0,this.length=1;var P=0;for(v=this.length-1;v>=0&&(P!==0||v>=C);v--){var X=this.words[v]|0;this.words[v]=P<<26-T|X>>>T,P=X&L}return j&&P!==0&&(j.words[j.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,x,k){return r(this.negative===0),this.iushrn(f,x,k)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26,C=1<<x;if(this.length<=k)return!1;var T=this.words[k];return!!(T&C)},s.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var x=f%26,k=(f-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(x!==0&&k++,this.length=Math.min(k,this.length),x!==0){var C=67108863^67108863>>>x<<x;this.words[this.length-1]&=C}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,x,k){var C=f.length+k,T;this._expand(C);var I,L=0;for(T=0;T<f.length;T++){I=(this.words[T+k]|0)+L;var j=(f.words[T]|0)*x;I-=j&67108863,L=(I>>26)-(j/67108864|0),this.words[T+k]=I&67108863}for(;T<this.length-k;T++)I=(this.words[T+k]|0)+L,L=I>>26,this.words[T+k]=I&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,T=0;T<this.length;T++)I=-(this.words[T]|0)+L,L=I>>26,this.words[T]=I&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,x){var k=this.length-f.length,C=this.clone(),T=f,I=T.words[T.length-1]|0,L=this._countBits(I);k=26-L,k!==0&&(T=T.ushln(k),C.iushln(k),I=T.words[T.length-1]|0);var j=C.length-T.length,v;if(x!=="mod"){v=new s(null),v.length=j+1,v.words=new Array(v.length);for(var P=0;P<v.length;P++)v.words[P]=0}var X=C.clone()._ishlnsubmul(T,1,j);X.negative===0&&(C=X,v&&(v.words[j]=1));for(var Z=j-1;Z>=0;Z--){var te=(C.words[T.length+Z]|0)*67108864+(C.words[T.length+Z-1]|0);for(te=Math.min(te/I|0,67108863),C._ishlnsubmul(T,te,Z);C.negative!==0;)te--,C.negative=0,C._ishlnsubmul(T,1,Z),C.isZero()||(C.negative^=1);v&&(v.words[Z]=te)}return v&&v._strip(),C._strip(),x!=="div"&&k!==0&&C.iushrn(k),{div:v||null,mod:C}},s.prototype.divmod=function(f,x,k){if(r(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,T,I;return this.negative!==0&&f.negative===0?(I=this.neg().divmod(f,x),x!=="mod"&&(C=I.div.neg()),x!=="div"&&(T=I.mod.neg(),k&&T.negative!==0&&T.iadd(f)),{div:C,mod:T}):this.negative===0&&f.negative!==0?(I=this.divmod(f.neg(),x),x!=="mod"&&(C=I.div.neg()),{div:C,mod:I.mod}):this.negative&f.negative?(I=this.neg().divmod(f.neg(),x),x!=="div"&&(T=I.mod.neg(),k&&T.negative!==0&&T.isub(f)),{div:I.div,mod:T}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?x==="div"?{div:this.divn(f.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,x)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var x=this.divmod(f);if(x.mod.isZero())return x.div;var k=x.div.negative!==0?x.mod.isub(f):x.mod,C=f.ushrn(1),T=f.andln(1),I=k.cmp(C);return I<0||T===1&&I===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(f){var x=f<0;x&&(f=-f),r(f<=67108863);for(var k=(1<<26)%f,C=0,T=this.length-1;T>=0;T--)C=(k*C+(this.words[T]|0))%f;return x?-C:C},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var x=f<0;x&&(f=-f),r(f<=67108863);for(var k=0,C=this.length-1;C>=0;C--){var T=(this.words[C]|0)+k*67108864;this.words[C]=T/f|0,k=T%f}return this._strip(),x?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var x=this,k=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var C=new s(1),T=new s(0),I=new s(0),L=new s(1),j=0;x.isEven()&&k.isEven();)x.iushrn(1),k.iushrn(1),++j;for(var v=k.clone(),P=x.clone();!x.isZero();){for(var X=0,Z=1;!(x.words[0]&Z)&&X<26;++X,Z<<=1);if(X>0)for(x.iushrn(X);X-- >0;)(C.isOdd()||T.isOdd())&&(C.iadd(v),T.isub(P)),C.iushrn(1),T.iushrn(1);for(var te=0,se=1;!(k.words[0]&se)&&te<26;++te,se<<=1);if(te>0)for(k.iushrn(te);te-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(v),L.isub(P)),I.iushrn(1),L.iushrn(1);x.cmp(k)>=0?(x.isub(k),C.isub(I),T.isub(L)):(k.isub(x),I.isub(C),L.isub(T))}return{a:I,b:L,gcd:k.iushln(j)}},s.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var x=this,k=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var C=new s(1),T=new s(0),I=k.clone();x.cmpn(1)>0&&k.cmpn(1)>0;){for(var L=0,j=1;!(x.words[0]&j)&&L<26;++L,j<<=1);if(L>0)for(x.iushrn(L);L-- >0;)C.isOdd()&&C.iadd(I),C.iushrn(1);for(var v=0,P=1;!(k.words[0]&P)&&v<26;++v,P<<=1);if(v>0)for(k.iushrn(v);v-- >0;)T.isOdd()&&T.iadd(I),T.iushrn(1);x.cmp(k)>=0?(x.isub(k),C.isub(T)):(k.isub(x),T.isub(C))}var X;return x.cmpn(1)===0?X=C:X=T,X.cmpn(0)<0&&X.iadd(f),X},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var x=this.clone(),k=f.clone();x.negative=0,k.negative=0;for(var C=0;x.isEven()&&k.isEven();C++)x.iushrn(1),k.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;k.isEven();)k.iushrn(1);var T=x.cmp(k);if(T<0){var I=x;x=k,k=I}else if(T===0||k.cmpn(1)===0)break;x.isub(k)}while(!0);return k.iushln(C)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){r(typeof f=="number");var x=f%26,k=(f-x)/26,C=1<<x;if(this.length<=k)return this._expand(k+1),this.words[k]|=C,this;for(var T=C,I=k;T!==0&&I<this.length;I++){var L=this.words[I]|0;L+=T,T=L>>>26,L&=67108863,this.words[I]=L}return T!==0&&(this.words[I]=T,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var x=f<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var k;if(this.length>1)k=1;else{x&&(f=-f),r(f<=67108863,"Number is too big");var C=this.words[0]|0;k=C===f?0:C<f?-1:1}return this.negative!==0?-k|0:k},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var x=this.ucmp(f);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var x=0,k=this.length-1;k>=0;k--){var C=this.words[k]|0,T=f.words[k]|0;if(C!==T){C<T?x=-1:C>T&&(x=1);break}}return x},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new H(f)},s.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var R={k256:null,p224:null,p192:null,p25519:null};function W(M,f){this.name=M,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},W.prototype.ireduce=function(f){var x=f,k;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),k=x.bitLength();while(k>this.n);var C=k<this.n?-1:x.ucmp(this.p);return C===0?(x.words[0]=0,x.length=1):C>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},W.prototype.split=function(f,x){f.iushrn(this.n,0,x)},W.prototype.imulK=function(f){return f.imul(this.k)};function O(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,W),O.prototype.split=function(f,x){for(var k=4194303,C=Math.min(f.length,9),T=0;T<C;T++)x.words[T]=f.words[T];if(x.length=C,f.length<=9){f.words[0]=0,f.length=1;return}var I=f.words[9];for(x.words[x.length++]=I&k,T=10;T<f.length;T++){var L=f.words[T]|0;f.words[T-10]=(L&k)<<4|I>>>22,I=L}I>>>=22,f.words[T-10]=I,I===0&&f.length>10?f.length-=10:f.length-=9},O.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var x=0,k=0;k<f.length;k++){var C=f.words[k]|0;x+=C*977,f.words[k]=x&67108863,x=C*64+(x/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function B(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(B,W);function F(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,W);function U(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,W),U.prototype.imulK=function(f){for(var x=0,k=0;k<f.length;k++){var C=(f.words[k]|0)*19+x,T=C&67108863;C>>>=26,f.words[k]=T,x=C}return x!==0&&(f.words[f.length++]=x),f},s._prime=function(f){if(R[f])return R[f];var x;if(f==="k256")x=new O;else if(f==="p224")x=new B;else if(f==="p192")x=new F;else if(f==="p25519")x=new U;else throw new Error("Unknown prime "+f);return R[f]=x,x};function H(M){if(typeof M=="string"){var f=s._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}H.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},H.prototype._verify2=function(f,x){r((f.negative|x.negative)===0,"red works only with positives"),r(f.red&&f.red===x.red,"red works only with red numbers")},H.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(d(f,f.umod(this.m)._forceRed(this)),f)},H.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},H.prototype.add=function(f,x){this._verify2(f,x);var k=f.add(x);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},H.prototype.iadd=function(f,x){this._verify2(f,x);var k=f.iadd(x);return k.cmp(this.m)>=0&&k.isub(this.m),k},H.prototype.sub=function(f,x){this._verify2(f,x);var k=f.sub(x);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},H.prototype.isub=function(f,x){this._verify2(f,x);var k=f.isub(x);return k.cmpn(0)<0&&k.iadd(this.m),k},H.prototype.shl=function(f,x){return this._verify1(f),this.imod(f.ushln(x))},H.prototype.imul=function(f,x){return this._verify2(f,x),this.imod(f.imul(x))},H.prototype.mul=function(f,x){return this._verify2(f,x),this.imod(f.mul(x))},H.prototype.isqr=function(f){return this.imul(f,f.clone())},H.prototype.sqr=function(f){return this.mul(f,f)},H.prototype.sqrt=function(f){if(f.isZero())return f.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var k=this.m.add(new s(1)).iushrn(2);return this.pow(f,k)}for(var C=this.m.subn(1),T=0;!C.isZero()&&C.andln(1)===0;)T++,C.iushrn(1);r(!C.isZero());var I=new s(1).toRed(this),L=I.redNeg(),j=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new s(2*v*v).toRed(this);this.pow(v,j).cmp(L)!==0;)v.redIAdd(L);for(var P=this.pow(v,C),X=this.pow(f,C.addn(1).iushrn(1)),Z=this.pow(f,C),te=T;Z.cmp(I)!==0;){for(var se=Z,le=0;se.cmp(I)!==0;le++)se=se.redSqr();r(le<te);var ce=this.pow(P,new s(1).iushln(te-le-1));X=X.redMul(ce),P=ce.redSqr(),Z=Z.redMul(P),te=le}return X},H.prototype.invm=function(f){var x=f._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},H.prototype.pow=function(f,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return f.clone();var k=4,C=new Array(1<<k);C[0]=new s(1).toRed(this),C[1]=f;for(var T=2;T<C.length;T++)C[T]=this.mul(C[T-1],f);var I=C[0],L=0,j=0,v=x.bitLength()%26;for(v===0&&(v=26),T=x.length-1;T>=0;T--){for(var P=x.words[T],X=v-1;X>=0;X--){var Z=P>>X&1;if(I!==C[0]&&(I=this.sqr(I)),Z===0&&L===0){j=0;continue}L<<=1,L|=Z,j++,!(j!==k&&(T!==0||X!==0))&&(I=this.mul(I,C[L]),j=0,L=0)}v=26}return I},H.prototype.convertTo=function(f){var x=f.umod(this.m);return x===f?x.clone():x},H.prototype.convertFrom=function(f){var x=f.clone();return x.red=null,x},s.mont=function(f){return new K(f)};function K(M){H.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,H),K.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},K.prototype.convertFrom=function(f){var x=this.imod(f.mul(this.rinv));return x.red=null,x},K.prototype.imul=function(f,x){if(f.isZero()||x.isZero())return f.words[0]=0,f.length=1,f;var k=f.imul(x),C=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=k.isub(C).iushrn(this.shift),I=T;return T.cmp(this.m)>=0?I=T.isub(this.m):T.cmpn(0)<0&&(I=T.iadd(this.m)),I._forceRed(this)},K.prototype.mul=function(f,x){if(f.isZero()||x.isZero())return new s(0)._forceRed(this);var k=f.mul(x),C=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=k.isub(C).iushrn(this.shift),I=T;return T.cmp(this.m)>=0?I=T.isub(this.m):T.cmpn(0)<0&&(I=T.iadd(this.m)),I._forceRed(this)},K.prototype.invm=function(f){var x=this.imod(f._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,oi)})(pw);var o3=pw.exports;const d2=xa(o3);var zy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Te,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(zy,zy.exports);var a3=zy.exports,wh=a3.Buffer;function h8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=wh.from(m)),!wh.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var A=m[b],R=0,W=S-1;(A!==0||R<w)&&W!==-1;W--,R++)A+=256*_[W]>>>0,_[W]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");w=R,b++}for(var O=S-w;O!==S&&_[O]===0;)O++;for(var B=a.repeat(y);O<S;++O)B+=t.charAt(_[O]);return B}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return wh.alloc(0);for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);y<m.length;){var _=m.charCodeAt(y);if(_>255)return;var A=e[_];if(A===255)return;for(var R=0,W=g-1;(A!==0||R<b)&&W!==-1;W--,R++)A+=o*S[W]>>>0,S[W]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=R,y++}for(var O=g-b;O!==g&&S[O]===0;)O++;var B=wh.allocUnsafe(w+(g-O));B.fill(0,0,w);for(var F=w;O!==g;)B[F++]=S[O++];return B}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var f8=h8,p8=f8,m8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",g8=p8(m8);const An=xa(g8),h2=zN;var Nn={},vh=a3.Buffer;function y8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=vh.from(m)),!vh.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var A=m[b],R=0,W=S-1;(A!==0||R<w)&&W!==-1;W--,R++)A+=256*_[W]>>>0,_[W]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");w=R,b++}for(var O=S-w;O!==S&&_[O]===0;)O++;for(var B=a.repeat(y);O<S;++O)B+=t.charAt(_[O]);return B}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return vh.alloc(0);for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);y<m.length;){var _=m.charCodeAt(y);if(_>255)return;var A=e[_];if(A===255)return;for(var R=0,W=g-1;(A!==0||R<b)&&W!==-1;W--,R++)A+=o*S[W]>>>0,S[W]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=R,y++}for(var O=g-b;O!==g&&S[O]===0;)O++;var B=vh.allocUnsafe(w+(g-O));B.fill(0,0,w);for(var F=w;O!==g;)B[F++]=S[O++];return B}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var x8=y8,w8=x8,v8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",b8=w8(v8);function Xi(t,e,n){return e<=t&&t<=n}function N0(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function S8(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function _8(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Sp=-1;function mw(t){this.tokens=[].slice.call(t)}mw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Sp},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Hl=-1;function qm(t,e){if(t)throw TypeError("Decoder error");return e||65533}var _p="utf-8";function kp(t,e){if(!(this instanceof kp))return new kp(t,e);if(t=t!==void 0?String(t).toLowerCase():_p,t!==_p)throw new Error("Encoding not supported. Only utf-8 is supported");e=N0(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}kp.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=N0(n),this._streaming||(this._decoder=new k8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new mw(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Hl);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Hl)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),_8(s)}};function Ep(t,e){if(!(this instanceof Ep))return new Ep(t,e);if(t=t!==void 0?String(t).toLowerCase():_p,t!==_p)throw new Error("Encoding not supported. Only utf-8 is supported");e=N0(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ep.prototype={encode:function(e,n){e=e?String(e):"",n=N0(n),this._streaming||(this._encoder=new E8(this._options)),this._streaming=!!n.stream;for(var r=[],i=new mw(S8(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Hl);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Hl;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function k8(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Sp&&i!==0)return i=0,qm(e);if(l===Sp)return Hl;if(i===0){if(Xi(l,0,127))return l;if(Xi(l,194,223))i=1,n=l-192;else if(Xi(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Xi(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return qm(e);return n=n<<6*i,null}if(!Xi(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),qm(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function E8(t){t.fatal,this.handler=function(e,n){if(n===Sp)return Hl;if(Xi(n,0,127))return n;var r,i;Xi(n,128,2047)?(r=1,i=192):Xi(n,2048,65535)?(r=2,i=224):Xi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const N8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:kp,TextEncoder:Ep},Symbol.toStringTag,{value:"Module"})),A8=xs(N8);var M8=oi&&oi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),C8=oi&&oi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ti=oi&&oi.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},I8=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&M8(e,t,n);return C8(e,t),e},l3=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});var c3=Nn.deserializeUnchecked=m3=Nn.deserialize=p3=Nn.serialize=Nn.BinaryReader=Nn.BinaryWriter=Nn.BorshError=Nn.baseDecode=Nn.baseEncode=void 0;const Vs=l3(o3),u3=l3(b8),T8=I8(A8),j8=typeof TextDecoder!="function"?T8.TextDecoder:TextDecoder,R8=new j8("utf-8",{fatal:!0});function B8(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),u3.default.encode(Buffer.from(t))}Nn.baseEncode=B8;function P8(t){return Buffer.from(u3.default.decode(t))}Nn.baseDecode=P8;const Ym=1024;class Yn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Nn.BorshError=Yn;class d3{constructor(){this.buf=Buffer.alloc(Ym),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ym)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vs.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vs.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vs.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vs.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Ym)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Nn.BinaryWriter=d3;function ji(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Yn("Reached the end of buffer when deserializing")}throw s}}}class Nr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Vs.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Vs.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Vs.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Vs.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Yn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return R8.decode(n)}catch(r){throw new Yn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Ti([ji],Nr.prototype,"readU8",null);Ti([ji],Nr.prototype,"readU16",null);Ti([ji],Nr.prototype,"readU32",null);Ti([ji],Nr.prototype,"readU64",null);Ti([ji],Nr.prototype,"readU128",null);Ti([ji],Nr.prototype,"readU256",null);Ti([ji],Nr.prototype,"readU512",null);Ti([ji],Nr.prototype,"readString",null);Ti([ji],Nr.prototype,"readFixedArray",null);Ti([ji],Nr.prototype,"readArray",null);Nn.BinaryReader=Nr;function h3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Lo(t,e,n,r,i){try{if(typeof r=="string")i[`write${h3(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Yn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Yn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Lo(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Lo(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Lo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Lo(t,e,o,r.key,i),Lo(t,e,s,r.value,i)});break}default:throw new Yn(`FieldType ${r} unrecognized`)}else f3(t,n,i)}catch(s){throw s instanceof Yn&&s.addToFieldPath(e),s}}function f3(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Yn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Lo(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Lo(t,o,e[o],a,n);break}}}else throw new Yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function L8(t,e,n=d3){const r=new n;return f3(t,e,r),r.toArray()}var p3=Nn.serialize=L8;function Oo(t,e,n,r){try{if(typeof n=="string")return r[`read${h3(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Oo(t,null,n[0],r));return i}else return r.readArray(()=>Oo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Oo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Oo(t,e,n.key,r),l=Oo(t,e,n.value,r);i.set(a,l)}return i}return gw(t,n,r)}catch(i){throw i instanceof Yn&&i.addToFieldPath(e),i}}function gw(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Yn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Oo(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Yn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Oo(t,s,o,n);return new e({[s]:a})}throw new Yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function O8(t,e,n,r=Nr){const i=new r(n),s=gw(t,e,i);if(i.offset<n.length)throw new Yn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var m3=Nn.deserialize=O8;function D8(t,e,n,r=Nr){const i=new r(n);return gw(t,e,i)}c3=Nn.deserializeUnchecked=D8;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.s16=J.s8=J.nu64be=J.u48be=J.u40be=J.u32be=J.u24be=J.u16be=_n=J.nu64=J.u48=J.u40=ve=J.u32=J.u24=Ir=J.u16=Qe=J.u8=lo=J.offset=J.greedy=J.Constant=J.UTF8=J.CString=J.Blob=J.Boolean=J.BitField=J.BitStructure=J.VariantLayout=J.Union=J.UnionLayoutDiscriminator=J.UnionDiscriminator=J.Structure=J.Sequence=J.DoubleBE=J.Double=J.FloatBE=J.Float=J.NearInt64BE=J.NearInt64=J.NearUInt64BE=J.NearUInt64=J.IntBE=J.Int=J.UIntBE=J.UInt=J.OffsetLayout=J.GreedyCount=J.ExternalLayout=J.bindConstructorLayout=J.nameWithProperty=J.Layout=J.uint8ArrayToBuffer=J.checkUint8Array=void 0;J.constant=J.utf8=J.cstr=vt=J.blob=J.unionLayoutDiscriminator=J.union=Mn=J.seq=J.bits=be=J.struct=J.f64be=J.f64=J.f32be=J.f32=J.ns64be=J.s48be=J.s40be=J.s32be=J.s24be=J.s16be=gr=J.ns64=J.s48=J.s40=J.s32=J.s24=void 0;const yw=Te;function hc(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}J.checkUint8Array=hc;function nt(t){return hc(t),yw.Buffer.from(t.buffer,t.byteOffset,t.length)}J.uint8ArrayToBuffer=nt;class ct{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}J.Layout=ct;function xw(t,e){return e.property?t+"["+e.property+"]":t}J.nameWithProperty=xw;function z8(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ct))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}J.bindConstructorLayout=z8;class ir extends ct{isCount(){throw new Error("ExternalLayout is abstract")}}J.ExternalLayout=ir;class g3 extends ir{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){hc(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}J.GreedyCount=g3;class ww extends ir{constructor(e,n=0,r){if(!(e instanceof ct))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof zr||this.layout instanceof ri}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}J.OffsetLayout=ww;class zr extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return nt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return nt(n).writeUIntLE(e,r,this.span),this.span}}J.UInt=zr;class ri extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return nt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return nt(n).writeUIntBE(e,r,this.span),this.span}}J.UIntBE=ri;class ka extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return nt(e).readIntLE(n,this.span)}encode(e,n,r=0){return nt(n).writeIntLE(e,r,this.span),this.span}}J.Int=ka;class fc extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return nt(e).readIntBE(n,this.span)}encode(e,n,r=0){return nt(n).writeIntBE(e,r,this.span),this.span}}J.IntBE=fc;const Wy=Math.pow(2,32);function A0(t){const e=Math.floor(t/Wy),n=t-e*Wy;return{hi32:e,lo32:n}}function M0(t,e){return t*Wy+e}class y3 extends ct{constructor(e){super(8,e)}decode(e,n=0){const r=nt(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return M0(s,i)}encode(e,n,r=0){const i=A0(e),s=nt(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}J.NearUInt64=y3;class x3 extends ct{constructor(e){super(8,e)}decode(e,n=0){const r=nt(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return M0(i,s)}encode(e,n,r=0){const i=A0(e),s=nt(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}J.NearUInt64BE=x3;class w3 extends ct{constructor(e){super(8,e)}decode(e,n=0){const r=nt(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return M0(s,i)}encode(e,n,r=0){const i=A0(e),s=nt(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}J.NearInt64=w3;class v3 extends ct{constructor(e){super(8,e)}decode(e,n=0){const r=nt(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return M0(i,s)}encode(e,n,r=0){const i=A0(e),s=nt(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}J.NearInt64BE=v3;class b3 extends ct{constructor(e){super(4,e)}decode(e,n=0){return nt(e).readFloatLE(n)}encode(e,n,r=0){return nt(n).writeFloatLE(e,r),4}}J.Float=b3;class S3 extends ct{constructor(e){super(4,e)}decode(e,n=0){return nt(e).readFloatBE(n)}encode(e,n,r=0){return nt(n).writeFloatBE(e,r),4}}J.FloatBE=S3;class _3 extends ct{constructor(e){super(8,e)}decode(e,n=0){return nt(e).readDoubleLE(n)}encode(e,n,r=0){return nt(n).writeDoubleLE(e,r),8}}J.Double=_3;class k3 extends ct{constructor(e){super(8,e)}decode(e,n=0){return nt(e).readDoubleBE(n)}encode(e,n,r=0){return nt(n).writeDoubleBE(e,r),8}}J.DoubleBE=k3;class E3 extends ct{constructor(e,n,r){if(!(e instanceof ct))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ir&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof ir)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof ir&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof ir&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof ir&&this.count.encode(e.length,n,r),s}}J.Sequence=E3;class N3 extends ct{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof ct,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){hc(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}J.Structure=N3;class vw{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}J.UnionDiscriminator=vw;class Np extends vw{constructor(e,n){if(!(e instanceof ir&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}J.UnionLayoutDiscriminator=Np;class bw extends ct{constructor(e,n,r){let i;if(e instanceof zr||e instanceof ri)i=new Np(new ww(e));else if(e instanceof ir&&e.isCount())i=new Np(e);else if(e instanceof vw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ct))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof zr||e instanceof ri)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof zr||e instanceof ri,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new A3(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}J.Union=bw;class A3 extends ct{constructor(e,n,r,i){if(!(e instanceof bw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ct))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}J.VariantLayout=A3;function $a(t){return 0>t&&(t+=4294967296),t}class Sw extends ct{constructor(e,n,r){if(!(e instanceof zr||e instanceof ri))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=$a(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new _w(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new M3(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}J.BitStructure=Sw;class _w{constructor(e,n,r){if(!(e instanceof Sw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=$a(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return $a(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==$a(e&this.valueMask))throw new TypeError(xw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=$a(e<<this.start);this.container._packedSetValue($a(n&~this.wordMask)|r)}}J.BitField=_w;let M3=class extends _w{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};J.Boolean=M3;class C3 extends ct{constructor(e,n){if(!(e instanceof ir&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ir||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),nt(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ir&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(xw("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=nt(e);return nt(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof ir&&this.length.encode(i,n,r),i}}J.Blob=C3;class I3 extends ct{constructor(e){super(-1,e)}getSpan(e,n=0){hc(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return nt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=yw.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=nt(n);return i.copy(o,r),o[r+s]=0,s+1}}J.CString=I3;class T3 extends ct{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return hc(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return nt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=yw.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(nt(n),r),s}}J.UTF8=T3;class j3 extends ct{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}J.Constant=j3;J.greedy=(t,e)=>new g3(t,e);var lo=J.offset=(t,e,n)=>new ww(t,e,n),Qe=J.u8=t=>new zr(1,t),Ir=J.u16=t=>new zr(2,t);J.u24=t=>new zr(3,t);var ve=J.u32=t=>new zr(4,t);J.u40=t=>new zr(5,t);J.u48=t=>new zr(6,t);var _n=J.nu64=t=>new y3(t);J.u16be=t=>new ri(2,t);J.u24be=t=>new ri(3,t);J.u32be=t=>new ri(4,t);J.u40be=t=>new ri(5,t);J.u48be=t=>new ri(6,t);J.nu64be=t=>new x3(t);J.s8=t=>new ka(1,t);J.s16=t=>new ka(2,t);J.s24=t=>new ka(3,t);J.s32=t=>new ka(4,t);J.s40=t=>new ka(5,t);J.s48=t=>new ka(6,t);var gr=J.ns64=t=>new w3(t);J.s16be=t=>new fc(2,t);J.s24be=t=>new fc(3,t);J.s32be=t=>new fc(4,t);J.s40be=t=>new fc(5,t);J.s48be=t=>new fc(6,t);J.ns64be=t=>new v3(t);J.f32=t=>new b3(t);J.f32be=t=>new S3(t);J.f64=t=>new _3(t);J.f64be=t=>new k3(t);var be=J.struct=(t,e,n)=>new N3(t,e,n);J.bits=(t,e,n)=>new Sw(t,e,n);var Mn=J.seq=(t,e,n)=>new E3(t,e,n);J.union=(t,e,n)=>new bw(t,e,n);J.unionLayoutDiscriminator=(t,e)=>new Np(t,e);var vt=J.blob=(t,e)=>new C3(t,e);J.cstr=t=>new I3(t);J.utf8=(t,e)=>new T3(t,e);J.constant=(t,e)=>new j3(t,e);var W8=8078e3,F8=8078001,$8=8078004,U8=8078005,H8=8078006,V8=8078011;function R3(t){return Array.isArray(t)?"%5B"+t.map(R3).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function K8([t,e]){return`${t}=${R3(e)}`}function q8(t){const e=Object.entries(t).map(K8).join("&");return btoa(e)}function Y8(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${q8(e)}'`),`${n}\``}}var kl=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=Y8(e,r);super(s,i);ke(this,"cause",this.cause);ke(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function G8(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Z8(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(G8(e,t));return t.write(e,n,0),n}})}function X8(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function La(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Q8(t,e){if(La(t)!==La(e))throw new kl($8);if(La(t)&&La(e)&&t.fixedSize!==e.fixedSize)throw new kl(U8,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!La(t)&&!La(e)&&t.maxSize!==e.maxSize)throw new kl(H8,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function J8(t,e,n=0){if(e.length-n<=0)throw new kl(W8,{codecDescription:t})}function eR(t,e,n,r=0){const i=n.length-r;if(i<e)throw new kl(F8,{bytesLength:i,codecDescription:t,expected:e})}function tR(t,e,n,r){if(r<e||r>n)throw new kl(V8,{codecDescription:t,max:n,min:e,value:r})}function B3(t){return(t==null?void 0:t.endian)!==1}function nR(t){return Z8({fixedSize:t.size,write(e,n,r){t.range&&tR(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,B3(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function rR(t){return X8({fixedSize:t.size,read(e,n=0){J8(t.name,e,n),eR(t.name,t.size,e,n);const r=new DataView(iR(e,n,t.size));return[t.get(r,B3(t.config)),n+t.size]}})}function iR(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var P3=(t={})=>nR({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),sR=(t={})=>rR({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),oR=(t={})=>Q8(P3(t),sR(t));class aR extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function lR(t){return Ld(t)&&typeof t[Symbol.iterator]=="function"}function Ld(t){return typeof t=="object"&&t!=null}function Ap(t){return Ld(t)&&!Array.isArray(t)}function li(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function cR(t){const{done:e,value:n}=t.next();return e?void 0:n}function uR(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${li(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*f2(t,e,n,r){lR(t)||(t=[t]);for(const i of t){const s=uR(i,e,n,r);s&&(yield s)}}function*kw(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,h]of e.entries(t,a)){const p=kw(d,h,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:s,mask:o,message:n.message});for(const m of p)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):s&&(d=m[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):Ld(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Ri=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const d=i(l,c);return f2(d,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const d=s(l,c);return f2(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return L3(e,this,n)}create(e,n){return fe(e,this,n)}is(e){return O3(e,this)}mask(e,n){return dR(e,this,n)}validate(e,n={}){return Od(e,this,n)}};function L3(t,e,n){const r=Od(t,e,{message:n});if(r[0])throw r[0]}function fe(t,e,n){const r=Od(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function dR(t,e,n){const r=Od(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function O3(t,e){return!Od(t,e)[0]}function Od(t,e,n={}){const r=kw(t,e,n),i=cR(r);return i[0]?[new aR(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ea(t,e){return new Ri({type:t,schema:null,validator:e})}function hR(){return Ea("any",()=>!0)}function pe(t){return new Ri({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${li(e)}`}})}function Ii(){return Ea("boolean",t=>typeof t=="boolean")}function Ew(t){return Ea("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${li(e)}`)}function It(t){const e=li(t),n=typeof t;return new Ri({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${li(r)}`}})}function fR(){return Ea("never",()=>!1)}function me(t){return new Ri({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Q(){return Ea("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${li(t)}`)}function Ie(t){return new Ri({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function D3(t,e){return new Ri({type:"record",schema:null,*entries(n){if(Ld(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Ap(n)||`Expected an object, but received: ${li(n)}`},coercer(n){return Ap(n)?{...n}:n}})}function ue(){return Ea("string",t=>typeof t=="string"||`Expected a string, but received: ${li(t)}`)}function Nw(t){const e=fR();return new Ri({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${li(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function ie(t){const e=Object.keys(t);return new Ri({type:"type",schema:t,*entries(n){if(Ld(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ap(n)||`Expected an object, but received: ${li(n)}`},coercer(n){return Ap(n)?{...n}:n}})}function Zn(t){const e=t.map(n=>n.type).join(" | ");return new Ri({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=kw(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${li(n)}`,...i]}})}function pc(){return Ea("unknown",()=>!0)}function Dd(t,e,n){return new Ri({...t,coercer:(r,i)=>O3(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var bh,pR=new Uint8Array(16);function z3(){if(!bh&&(bh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bh(pR)}const mR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function C0(t){return typeof t=="string"&&mR.test(t)}var Sn=[];for(var Gm=0;Gm<256;++Gm)Sn.push((Gm+256).toString(16).substr(1));function I0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Sn[t[e+0]]+Sn[t[e+1]]+Sn[t[e+2]]+Sn[t[e+3]]+"-"+Sn[t[e+4]]+Sn[t[e+5]]+"-"+Sn[t[e+6]]+Sn[t[e+7]]+"-"+Sn[t[e+8]]+Sn[t[e+9]]+"-"+Sn[t[e+10]]+Sn[t[e+11]]+Sn[t[e+12]]+Sn[t[e+13]]+Sn[t[e+14]]+Sn[t[e+15]]).toLowerCase();if(!C0(n))throw TypeError("Stringified UUID is invalid");return n}var p2,Zm,Xm=0,Qm=0;function gR(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||p2,o=t.clockseq!==void 0?t.clockseq:Zm;if(s==null||o==null){var a=t.random||(t.rng||z3)();s==null&&(s=p2=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Zm=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Qm+1,d=l-Xm+(c-Qm)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||l>Xm)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xm=l,Qm=c,Zm=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=h&255;var p=l/4294967296*1e4&268435455;i[r++]=p>>>8&255,i[r++]=p&255,i[r++]=p>>>24&15|16,i[r++]=p>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var m=0;m<6;++m)i[r+m]=s[m];return e||I0(i)}function W3(t){if(!C0(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function yR(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var xR="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wR="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function F3(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=yR(i)),typeof s=="string"&&(s=W3(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return I0(l)}try{r.name=t}catch{}return r.DNS=xR,r.URL=wR,r}function vR(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return bR(SR(_R(t),t.length*8))}function bR(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function $3(t){return(t+64>>>9<<4)+14+1}function SR(t,e){t[e>>5]|=128<<e%32,t[$3(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,d=s;n=Ln(n,r,i,s,t[o],7,-680876936),s=Ln(s,n,r,i,t[o+1],12,-389564586),i=Ln(i,s,n,r,t[o+2],17,606105819),r=Ln(r,i,s,n,t[o+3],22,-1044525330),n=Ln(n,r,i,s,t[o+4],7,-176418897),s=Ln(s,n,r,i,t[o+5],12,1200080426),i=Ln(i,s,n,r,t[o+6],17,-1473231341),r=Ln(r,i,s,n,t[o+7],22,-45705983),n=Ln(n,r,i,s,t[o+8],7,1770035416),s=Ln(s,n,r,i,t[o+9],12,-1958414417),i=Ln(i,s,n,r,t[o+10],17,-42063),r=Ln(r,i,s,n,t[o+11],22,-1990404162),n=Ln(n,r,i,s,t[o+12],7,1804603682),s=Ln(s,n,r,i,t[o+13],12,-40341101),i=Ln(i,s,n,r,t[o+14],17,-1502002290),r=Ln(r,i,s,n,t[o+15],22,1236535329),n=On(n,r,i,s,t[o+1],5,-165796510),s=On(s,n,r,i,t[o+6],9,-1069501632),i=On(i,s,n,r,t[o+11],14,643717713),r=On(r,i,s,n,t[o],20,-373897302),n=On(n,r,i,s,t[o+5],5,-701558691),s=On(s,n,r,i,t[o+10],9,38016083),i=On(i,s,n,r,t[o+15],14,-660478335),r=On(r,i,s,n,t[o+4],20,-405537848),n=On(n,r,i,s,t[o+9],5,568446438),s=On(s,n,r,i,t[o+14],9,-1019803690),i=On(i,s,n,r,t[o+3],14,-187363961),r=On(r,i,s,n,t[o+8],20,1163531501),n=On(n,r,i,s,t[o+13],5,-1444681467),s=On(s,n,r,i,t[o+2],9,-51403784),i=On(i,s,n,r,t[o+7],14,1735328473),r=On(r,i,s,n,t[o+12],20,-1926607734),n=Dn(n,r,i,s,t[o+5],4,-378558),s=Dn(s,n,r,i,t[o+8],11,-2022574463),i=Dn(i,s,n,r,t[o+11],16,1839030562),r=Dn(r,i,s,n,t[o+14],23,-35309556),n=Dn(n,r,i,s,t[o+1],4,-1530992060),s=Dn(s,n,r,i,t[o+4],11,1272893353),i=Dn(i,s,n,r,t[o+7],16,-155497632),r=Dn(r,i,s,n,t[o+10],23,-1094730640),n=Dn(n,r,i,s,t[o+13],4,681279174),s=Dn(s,n,r,i,t[o],11,-358537222),i=Dn(i,s,n,r,t[o+3],16,-722521979),r=Dn(r,i,s,n,t[o+6],23,76029189),n=Dn(n,r,i,s,t[o+9],4,-640364487),s=Dn(s,n,r,i,t[o+12],11,-421815835),i=Dn(i,s,n,r,t[o+15],16,530742520),r=Dn(r,i,s,n,t[o+2],23,-995338651),n=zn(n,r,i,s,t[o],6,-198630844),s=zn(s,n,r,i,t[o+7],10,1126891415),i=zn(i,s,n,r,t[o+14],15,-1416354905),r=zn(r,i,s,n,t[o+5],21,-57434055),n=zn(n,r,i,s,t[o+12],6,1700485571),s=zn(s,n,r,i,t[o+3],10,-1894986606),i=zn(i,s,n,r,t[o+10],15,-1051523),r=zn(r,i,s,n,t[o+1],21,-2054922799),n=zn(n,r,i,s,t[o+8],6,1873313359),s=zn(s,n,r,i,t[o+15],10,-30611744),i=zn(i,s,n,r,t[o+6],15,-1560198380),r=zn(r,i,s,n,t[o+13],21,1309151649),n=zn(n,r,i,s,t[o+4],6,-145523070),s=zn(s,n,r,i,t[o+11],10,-1120210379),i=zn(i,s,n,r,t[o+2],15,718787259),r=zn(r,i,s,n,t[o+9],21,-343485551),n=Ks(n,a),r=Ks(r,l),i=Ks(i,c),s=Ks(s,d)}return[n,r,i,s]}function _R(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array($3(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ks(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function kR(t,e){return t<<e|t>>>32-e}function T0(t,e,n,r,i,s){return Ks(kR(Ks(Ks(e,t),Ks(r,s)),i),n)}function Ln(t,e,n,r,i,s,o){return T0(e&n|~e&r,t,e,i,s,o)}function On(t,e,n,r,i,s,o){return T0(e&r|n&~r,t,e,i,s,o)}function Dn(t,e,n,r,i,s,o){return T0(e^n^r,t,e,i,s,o)}function zn(t,e,n,r,i,s,o){return T0(n^(e|~r),t,e,i,s,o)}var ER=F3("v3",48,vR);function NR(t,e,n){t=t||{};var r=t.random||(t.rng||z3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return I0(r)}function AR(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Jm(t,e){return t<<e|t>>>32-e}function MR(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[h][m];for(var y=16;y<80;++y)p[y]=Jm(p[y-3]^p[y-8]^p[y-14]^p[y-16],1);for(var w=n[0],b=n[1],g=n[2],S=n[3],_=n[4],A=0;A<80;++A){var R=Math.floor(A/20),W=Jm(w,5)+AR(R,b,g,S)+_+e[R]+p[A]>>>0;_=S,S=g,g=Jm(b,30)>>>0,b=w,w=W}n[0]=n[0]+w>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+S>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var CR=F3("v5",80,MR);const IR="00000000-0000-0000-0000-000000000000";function TR(t){if(!C0(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const jR=Object.freeze(Object.defineProperty({__proto__:null,NIL:IR,parse:W3,stringify:I0,v1:gR,v3:ER,v4:NR,v5:CR,validate:C0,version:TR},Symbol.toStringTag,{value:"Module"})),U3=xs(jR),RR=U3.v4,BR=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return RR()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var PR=BR;const LR=U3.v4,OR=PR,ad=function(t,e){if(!(this instanceof ad))return new ad(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return LR()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var DR=ad;ad.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=OR(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,d){i._parseResponse(c,d,r)}),s};ad.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const zR=xa(DR);var H3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,p),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,d,h,p,m,y){var w=n?n+c:c;if(!this._events[w])return!1;var b=this._events[w],g=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,p),!0;case 5:return b.fn.call(b.context,d,h,p,m),!0;case 6:return b.fn.call(b.context,d,h,p,m,y),!0}for(_=1,S=new Array(g-1);_<g;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var A=b.length,R;for(_=0;_<A;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),g){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,h);break;case 4:b[_].fn.call(b[_].context,d,h,p);break;default:if(!S)for(R=1,S=new Array(g-1);R<g;R++)S[R-1]=arguments[R];b[_].fn.apply(b[_].context,S)}}return!0},a.prototype.on=function(c,d,h){return s(this,c,d,h,!1)},a.prototype.once=function(c,d,h){return s(this,c,d,h,!0)},a.prototype.removeListener=function(c,d,h,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var w=0,b=[],g=y.length;w<g;w++)(y[w].fn!==d||p&&!y[w].once||h&&y[w].context!==h)&&b.push(y[w]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(H3);var WR=H3.exports;const j0=xa(WR);var FR=class extends j0{constructor(e,n,r){super();ke(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function $R(t,e){return new FR(t,e)}var UR=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},HR=class extends j0{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},l,c){super();ke(this,"address");ke(this,"rpc_id");ke(this,"queue");ke(this,"options");ke(this,"autoconnect");ke(this,"ready");ke(this,"reconnect");ke(this,"reconnect_timer_id");ke(this,"reconnect_interval");ke(this,"max_reconnects");ke(this,"rest_options");ke(this,"current_reconnects");ke(this,"generate_request_id");ke(this,"socket");ke(this,"webSocketFactory");ke(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new UR,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return o(c);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Te.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const VR=BigInt(0),Wc=BigInt(1),KR=BigInt(2),qR=BigInt(7),YR=BigInt(256),GR=BigInt(113),V3=[],K3=[],q3=[];for(let t=0,e=Wc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],V3.push(2*(5*r+n)),K3.push((t+1)*(t+2)/2%64);let i=VR;for(let s=0;s<7;s++)e=(e<<Wc^(e>>qR)*GR)%YR,e&KR&&(i^=Wc<<(Wc<<BigInt(s))-Wc);q3.push(i)}const Y3=ON(q3,!0),ZR=Y3[0],XR=Y3[1],m2=(t,e,n)=>n>32?wj(t,e,n):yj(t,e,n),g2=(t,e,n)=>n>32?vj(t,e,n):xj(t,e,n);function QR(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],d=n[l+1],h=m2(c,d,1)^n[a],p=g2(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=K3[o],l=m2(i,s,a),c=g2(i,s,a),d=V3[o];i=t[d],s=t[d+1],t[d]=l,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=ZR[r],t[1]^=XR[r]}mo(n)}class Aw extends aw{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,sd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=aj(this.state)}clone(){return this._cloneInto()}keccak(){Qb(this.state32),QR(this.state32,this.rounds),Qb(this.state32),this.posOut=0,this.pos=0}update(e){$l(this),e=k0(e),ps(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){$l(this,!1),ps(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(BN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mo(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Aw(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const JR=(t,e,n)=>lw(()=>new Aw(e,t,n)),y2=JR(1,136,256/8);class G3 extends aw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,RN(e);const r=k0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),mo(s)}update(e){return $l(this),this.iHash.update(e),this}digestInto(e){$l(this),ps(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Z3=(t,e,n)=>new G3(t,e).update(n).digest();Z3.create=(t,e)=>new G3(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x2=(t,e)=>(t+(t>=0?e:-e)/X3)/e;function eB(t,e,n){const[[r,i],[s,o]]=e,a=x2(o*t,n),l=x2(-i*t,n);let c=t-a*r-l*s,d=-a*i-l*o;const h=c<rs,p=d<rs;h&&(c=-c),p&&(d=-d);const m=Bd(Math.ceil($N(n)/2))+El;if(c<rs||c>=m||d<rs||d>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:h,k1:c,k2neg:p,k2:d}}function Fy(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function eg(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ha(n.lowS,"lowS"),ha(n.prehash,"prehash"),n.format!==void 0&&Fy(n.format),n}class tB extends Error{constructor(e=""){super(e)}}const Yi={Err:tB,_tlv:{encode:(t,e)=>{const{Err:n}=Yi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=xh(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?xh(i.length/2|128):"";return xh(t)+s+i+e},decode(t,e){const{Err:n}=Yi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)o=o<<8|d;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Yi;if(t<rs)throw new e("integer: negative integers are not allowed");let n=xh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Yi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return E0(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Yi,i=Yt("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Yi,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},rs=BigInt(0),El=BigInt(1),X3=BigInt(2),Sh=BigInt(3),nB=BigInt(4);function hl(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Yt("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function rB(t,e={}){const n=i3("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;Pd(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(s.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=J3(r,i);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h(K,M,f){const{x,y:k}=M.toAffine(),C=r.toBytes(x);if(ha(f,"isCompressed"),f){d();const T=!r.isOdd(k);return Si(Q3(T),C)}else return Si(Uint8Array.of(4),C,r.toBytes(k))}function p(K){Jr(K,void 0,"Point");const{publicKey:M,publicKeyUncompressed:f}=c,x=K.length,k=K[0],C=K.subarray(1);if(x===M&&(k===2||k===3)){const T=r.fromBytes(C);if(!r.isValid(T))throw new Error("bad point: is not on curve, wrong x");const I=w(T);let L;try{L=r.sqrt(I)}catch(P){const X=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}d();const j=r.isOdd(L);return(k&1)===1!==j&&(L=r.neg(L)),{x:T,y:L}}else if(x===f&&k===4){const T=r.BYTES,I=r.fromBytes(C.subarray(0,T)),L=r.fromBytes(C.subarray(T,T*2));if(!b(I,L))throw new Error("bad point: is not on curve");return{x:I,y:L}}else throw new Error(`bad point: got length ${x}, expected compressed=${M} or uncompressed=${f}`)}const m=e.toBytes||h,y=e.fromBytes||p;function w(K){const M=r.sqr(K),f=r.mul(M,K);return r.add(r.add(f,r.mul(K,s.a)),s.b)}function b(K,M){const f=r.sqr(M),x=w(K);return r.eql(f,x)}if(!b(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(s.a,Sh),nB),S=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(g,S)))throw new Error("bad curve params: a or b");function _(K,M,f=!1){if(!r.isValid(M)||f&&r.is0(M))throw new Error(`bad point coordinate ${K}`);return M}function A(K){if(!(K instanceof F))throw new Error("ProjectivePoint expected")}function R(K){if(!l||!l.basises)throw new Error("no endo");return eB(K,l.basises,i.ORDER)}const W=vp((K,M)=>{const{X:f,Y:x,Z:k}=K;if(r.eql(k,r.ONE))return{x:f,y:x};const C=K.is0();M==null&&(M=C?r.ONE:r.inv(k));const T=r.mul(f,M),I=r.mul(x,M),L=r.mul(k,M);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:T,y:I}}),O=vp(K=>{if(K.is0()){if(e.allowInfinityPoint&&!r.is0(K.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:f}=K.toAffine();if(!r.isValid(M)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!b(M,f))throw new Error("bad point: equation left != right");if(!K.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function B(K,M,f,x,k){return f=new F(r.mul(f.X,K),f.Y,f.Z),M=bp(x,M),f=bp(k,f),M.add(f)}class F{constructor(M,f,x){this.X=_("x",M),this.Y=_("y",f,!0),this.Z=_("z",x),Object.freeze(this)}static CURVE(){return s}static fromAffine(M){const{x:f,y:x}=M||{};if(!M||!r.isValid(f)||!r.isValid(x))throw new Error("invalid affine point");if(M instanceof F)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(x)?F.ZERO:new F(f,x,r.ONE)}static fromBytes(M){const f=F.fromAffine(y(Jr(M,void 0,"point")));return f.assertValidity(),f}static fromHex(M){return F.fromBytes(Yt("pointHex",M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,f=!0){return H.createCache(this,M),f||this.multiply(Sh),this}assertValidity(){O(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){A(M);const{X:f,Y:x,Z:k}=this,{X:C,Y:T,Z:I}=M,L=r.eql(r.mul(f,I),r.mul(C,k)),j=r.eql(r.mul(x,I),r.mul(T,k));return L&&j}negate(){return new F(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:f}=s,x=r.mul(f,Sh),{X:k,Y:C,Z:T}=this;let I=r.ZERO,L=r.ZERO,j=r.ZERO,v=r.mul(k,k),P=r.mul(C,C),X=r.mul(T,T),Z=r.mul(k,C);return Z=r.add(Z,Z),j=r.mul(k,T),j=r.add(j,j),I=r.mul(M,j),L=r.mul(x,X),L=r.add(I,L),I=r.sub(P,L),L=r.add(P,L),L=r.mul(I,L),I=r.mul(Z,I),j=r.mul(x,j),X=r.mul(M,X),Z=r.sub(v,X),Z=r.mul(M,Z),Z=r.add(Z,j),j=r.add(v,v),v=r.add(j,v),v=r.add(v,X),v=r.mul(v,Z),L=r.add(L,v),X=r.mul(C,T),X=r.add(X,X),v=r.mul(X,Z),I=r.sub(I,v),j=r.mul(X,P),j=r.add(j,j),j=r.add(j,j),new F(I,L,j)}add(M){A(M);const{X:f,Y:x,Z:k}=this,{X:C,Y:T,Z:I}=M;let L=r.ZERO,j=r.ZERO,v=r.ZERO;const P=s.a,X=r.mul(s.b,Sh);let Z=r.mul(f,C),te=r.mul(x,T),se=r.mul(k,I),le=r.add(f,x),ce=r.add(C,T);le=r.mul(le,ce),ce=r.add(Z,te),le=r.sub(le,ce),ce=r.add(f,k);let ne=r.add(C,I);return ce=r.mul(ce,ne),ne=r.add(Z,se),ce=r.sub(ce,ne),ne=r.add(x,k),L=r.add(T,I),ne=r.mul(ne,L),L=r.add(te,se),ne=r.sub(ne,L),v=r.mul(P,ce),L=r.mul(X,se),v=r.add(L,v),L=r.sub(te,v),v=r.add(te,v),j=r.mul(L,v),te=r.add(Z,Z),te=r.add(te,Z),se=r.mul(P,se),ce=r.mul(X,ce),te=r.add(te,se),se=r.sub(Z,se),se=r.mul(P,se),ce=r.add(ce,se),Z=r.mul(te,ce),j=r.add(j,Z),Z=r.mul(ne,ce),L=r.mul(le,L),L=r.sub(L,Z),Z=r.mul(le,te),v=r.mul(ne,v),v=r.add(v,Z),new F(L,j,v)}subtract(M){return this.add(M.negate())}is0(){return this.equals(F.ZERO)}multiply(M){const{endo:f}=e;if(!i.isValidNot0(M))throw new Error("invalid scalar: out of range");let x,k;const C=T=>H.cached(this,T,I=>Vo(F,I));if(f){const{k1neg:T,k1:I,k2neg:L,k2:j}=R(M),{p:v,f:P}=C(I),{p:X,f:Z}=C(j);k=P.add(Z),x=B(f.beta,v,X,T,L)}else{const{p:T,f:I}=C(M);x=T,k=I}return Vo(F,[x,k])[0]}multiplyUnsafe(M){const{endo:f}=e,x=this;if(!i.isValid(M))throw new Error("invalid scalar: out of range");if(M===rs||x.is0())return F.ZERO;if(M===El)return x;if(H.hasCache(this))return this.multiply(M);if(f){const{k1neg:k,k1:C,k2neg:T,k2:I}=R(M),{p1:L,p2:j}=qj(F,x,C,I);return B(f.beta,L,j,k,T)}else return H.unsafe(x,M)}multiplyAndAddUnsafe(M,f,x){const k=this.multiplyUnsafe(f).add(M.multiplyUnsafe(x));return k.is0()?void 0:k}toAffine(M){return W(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return o===El?!0:M?M(F,this):H.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=e;return o===El?this:M?M(F,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(M=!0){return ha(M,"isCompressed"),this.assertValidity(),m(F,this,M)}toHex(M=!0){return ra(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(M=!0){return this.toBytes(M)}_setWindowSize(M){this.precompute(M)}static normalizeZ(M){return Vo(F,M)}static msm(M,f){return r3(F,i,M,f)}static fromPrivateKey(M){return F.BASE.multiply(hl(i,M))}}F.BASE=new F(s.Gx,s.Gy,r.ONE),F.ZERO=new F(r.ZERO,r.ONE,r.ZERO),F.Fp=r,F.Fn=i;const U=i.BITS,H=new n3(F,e.endo?Math.ceil(U/2):U);return F.BASE.precompute(8),F}function Q3(t){return Uint8Array.of(t?2:3)}function J3(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function iB(t,e={}){const{Fn:n}=t,r=e.randomBytes||cw,i=Object.assign(J3(t.Fp,n),{seed:JN(n.ORDER)});function s(m){try{return!!hl(n,m)}catch{return!1}}function o(m,y){const{publicKey:w,publicKeyUncompressed:b}=i;try{const g=m.length;return y===!0&&g!==w||y===!1&&g!==b?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return Hj(Jr(m,i.seed,"seed"),n.ORDER)}function l(m,y=!0){return t.BASE.multiply(hl(n,m)).toBytes(y)}function c(m){const y=a(m);return{secretKey:y,publicKey:l(y)}}function d(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:y,publicKey:w,publicKeyUncompressed:b}=i;if(n.allowedLengths||y===w)return;const g=Yt("key",m).length;return g===w||g===b}function h(m,y,w=!0){if(d(m)===!0)throw new Error("first arg must be private key");if(d(y)===!1)throw new Error("second arg must be public key");const b=hl(n,m);return t.fromHex(y).multiply(b).toBytes(w)}return Object.freeze({getPublicKey:l,getSharedSecret:h,keygen:c,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:m=>hl(n,m),precompute(m=8,y=t.BASE){return y.precompute(m,!1)}},lengths:i})}function sB(t,e,n={}){RN(e),Pd(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||cw,i=n.hmac||((f,...x)=>Z3(e,f,Si(...x))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:d,getSharedSecret:h,utils:p,lengths:m}=iB(t,n),y={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},w="compact";function b(f){const x=a>>El;return f>x}function g(f,x){if(!o.isValidNot0(x))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return x}function S(f,x){Fy(x);const k=m.signature,C=x==="compact"?k:x==="recovered"?k+1:void 0;return Jr(f,C,`${x} signature`)}class _{constructor(x,k,C){this.r=g("r",x),this.s=g("s",k),C!=null&&(this.recovery=C),Object.freeze(this)}static fromBytes(x,k=w){S(x,k);let C;if(k==="der"){const{r:j,s:v}=Yi.toSig(Jr(x));return new _(j,v)}k==="recovered"&&(C=x[0],k="compact",x=x.subarray(1));const T=o.BYTES,I=x.subarray(0,T),L=x.subarray(T,T*2);return new _(o.fromBytes(I),o.fromBytes(L),C)}static fromHex(x,k){return this.fromBytes(wp(x),k)}addRecoveryBit(x){return new _(this.r,this.s,x)}recoverPublicKey(x){const k=s.ORDER,{r:C,s:T,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*X3<k&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=I===2||I===3?C+a:C;if(!s.isValid(j))throw new Error("recovery id 2 or 3 invalid");const v=s.toBytes(j),P=t.fromBytes(Si(Q3((I&1)===0),v)),X=o.inv(j),Z=R(Yt("msgHash",x)),te=o.create(-Z*X),se=o.create(T*X),le=t.BASE.multiplyUnsafe(te).add(P.multiplyUnsafe(se));if(le.is0())throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return b(this.s)}toBytes(x=w){if(Fy(x),x==="der")return wp(Yi.hexFromSig(this));const k=o.toBytes(this.r),C=o.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Si(Uint8Array.of(this.recovery),k,C)}return Si(k,C)}toHex(x){return ra(this.toBytes(x))}assertValidity(){}static fromCompact(x){return _.fromBytes(Yt("sig",x),"compact")}static fromDER(x){return _.fromBytes(Yt("sig",x),"der")}normalizeS(){return this.hasHighS()?new _(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ra(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ra(this.toBytes("compact"))}}const A=n.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const k=E0(x),C=x.length*8-l;return C>0?k>>BigInt(C):k},R=n.bits2int_modN||function(x){return o.create(A(x))},W=Bd(l);function O(f){return Dy("num < 2^"+l,f,rs,W),o.toBytes(f)}function B(f,x){return Jr(f,void 0,"message"),x?Jr(e(f),void 0,"prehashed message"):f}function F(f,x,k){if(["recovered","canonical"].some(te=>te in k))throw new Error("sign() legacy options not supported");const{lowS:C,prehash:T,extraEntropy:I}=eg(k,y);f=B(f,T);const L=R(f),j=hl(o,x),v=[O(j),O(L)];if(I!=null&&I!==!1){const te=I===!0?r(m.secretKey):I;v.push(Yt("extraEntropy",te))}const P=Si(...v),X=L;function Z(te){const se=A(te);if(!o.isValidNot0(se))return;const le=o.inv(se),ce=t.BASE.multiply(se).toAffine(),ne=o.create(ce.x);if(ne===rs)return;const ye=o.create(le*o.create(X+ne*j));if(ye===rs)return;let he=(ce.x===ne?0:2)|Number(ce.y&El),Se=ye;return C&&b(ye)&&(Se=o.neg(ye),he^=1),new _(ne,Se,he)}return{seed:P,k2sig:Z}}function U(f,x,k={}){f=Yt("message",f);const{seed:C,k2sig:T}=F(f,x,k);return Bj(e.outputLen,o.BYTES,i)(C,T)}function H(f){let x;const k=typeof f=="string"||Rd(f),C=!k&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!k&&!C)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(C)x=new _(f.r,f.s);else if(k){try{x=_.fromBytes(Yt("sig",f),"der")}catch(T){if(!(T instanceof Yi.Err))throw T}if(!x)try{x=_.fromBytes(Yt("sig",f),"compact")}catch{return!1}}return x||!1}function K(f,x,k,C={}){const{lowS:T,prehash:I,format:L}=eg(C,y);if(k=Yt("publicKey",k),x=B(Yt("message",x),I),"strict"in C)throw new Error("options.strict was renamed to lowS");const j=L===void 0?H(f):_.fromBytes(Yt("sig",f),L);if(j===!1)return!1;try{const v=t.fromBytes(k);if(T&&j.hasHighS())return!1;const{r:P,s:X}=j,Z=R(x),te=o.inv(X),se=o.create(Z*te),le=o.create(P*te),ce=t.BASE.multiplyUnsafe(se).add(v.multiplyUnsafe(le));return ce.is0()?!1:o.create(ce.x)===P}catch{return!1}}function M(f,x,k={}){const{prehash:C}=eg(k,y);return x=B(x,C),_.fromBytes(f,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:c,getPublicKey:d,getSharedSecret:h,utils:p,lengths:m,Point:t,sign:U,verify:K,recoverPublicKey:M,Signature:_,hash:e})}function oB(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Sa(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function aB(t){const{CURVE:e,curveOpts:n}=oB(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function lB(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,XN(n.Fn.ORDER,n.Fn.BITS))})}function cB(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=aB(t),s=rB(e,n),o=sB(s,r,i);return lB(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uB(t,e){const n=r=>cB({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},dB={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},w2=BigInt(2);function hB(t){const e=Mw.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,h=qt(d,n,e)*d%e,p=qt(h,n,e)*d%e,m=qt(p,w2,e)*c%e,y=qt(m,i,e)*m%e,w=qt(y,s,e)*y%e,b=qt(w,a,e)*w%e,g=qt(b,l,e)*b%e,S=qt(g,a,e)*w%e,_=qt(S,n,e)*d%e,A=qt(_,o,e)*y%e,R=qt(A,r,e)*c%e,W=qt(R,w2,e);if(!$y.eql($y.sqr(W),t))throw new Error("Cannot find square root");return W}const $y=Sa(Mw.p,{sqrt:hB}),Cw=uB({...Mw,Fp:$y,lowS:!0,endo:dB},zN),fB=_a.utils.randomPrivateKey,v2=()=>{const t=_a.utils.randomPrivateKey(),e=Mp(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Mp=_a.getPublicKey;function b2(t){try{return _a.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Iw=(t,e)=>_a.sign(t,e.slice(0,32)),pB=_a.verify,We=t=>Te.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Te.Buffer.from(t);class Tw{constructor(e){Object.assign(this,e)}encode(){return Te.Buffer.from(p3(Cu,this))}static decode(e){return m3(Cu,this,e)}static decodeUnchecked(e){return c3(Cu,this,e)}}class mB extends Tw{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Cu=new Map;var e4;const t4=32,Mi=32;function gB(t){return t._bn!==void 0}let S2=1;class de extends Tw{constructor(e){if(super({}),this._bn=void 0,gB(e))this._bn=e._bn;else{if(typeof e=="string"){const n=An.decode(e);if(n.length!=Mi)throw new Error("Invalid public key input");this._bn=new d2(n)}else this._bn=new d2(e);if(this._bn.byteLength()>Mi)throw new Error("Invalid public key input")}}static unique(){const e=new de(S2);return S2+=1,new de(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return An.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Te.Buffer);if(e.length===Mi)return e;const n=Te.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Te.Buffer.concat([e.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),s=h2(i);return new de(s)}static createProgramAddressSync(e,n){let r=Te.Buffer.alloc(0);e.forEach(function(s){if(s.length>t4)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,We(s)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=h2(r);if(b2(i))throw new Error("Invalid seeds, address must fall off the curve");return new de(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new de(e);return b2(n.toBytes())}}e4=de;de.default=new e4("11111111111111111111111111111111");Cu.set(de,{kind:"struct",fields:[["_bn","u256"]]});class yB{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=We(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=We(fB()),this._publicKey=We(Mp(this._secretKey))}get publicKey(){return new de(this._publicKey)}get secretKey(){return Te.Buffer.concat([this._secretKey,this._publicKey],64)}}const xB=new de("BPFLoader1111111111111111111111111111111111"),co=1232,R0=127,Vl=64;class jw extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(jw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Rw extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Rw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class fl extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(fl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ld{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Ue=(t="publicKey")=>vt(32,t),wB=(t="signature")=>vt(64,t),Ko=(t="string")=>{const e=be([ve("length"),ve("lengthPadding"),vt(lo(ve(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:Te.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ve().span+ve().span+Te.Buffer.from(s,"utf8").length,i},vB=(t="authorized")=>be([Ue("staker"),Ue("withdrawer")],t),bB=(t="lockup")=>be([gr("unixTimestamp"),gr("epoch"),Ue("custodian")],t),SB=(t="voteInit")=>be([Ue("nodePubkey"),Ue("authorizedVoter"),Ue("authorizedWithdrawer"),Qe("commission")],t),_B=(t="voteAuthorizeWithSeedArgs")=>be([ve("voteAuthorizationType"),Ue("currentAuthorityDerivedKeyOwnerPubkey"),Ko("currentAuthorityDerivedKeySeed"),Ue("newAuthorized")],t);function n4(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return n4({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function tr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function yr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function tt(t,e){if(!t)throw new Error(e||"Assertion failed")}class B0{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new B0(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];tt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{tt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];tt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new de(l)),...r.map(([l])=>new de(l)),...i.map(([l])=>new de(l)),...s.map(([l])=>new de(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new de(s),l=e.findIndex(c=>c.equals(a));l>=0&&(tt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const r4="Reached end of buffer unexpectedly";function _i(t){if(t.length===0)throw new Error(r4);return t.shift()}function nr(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(r4);return t.splice(...e)}class ci{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new de(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:An.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ld(this.staticAccountKeys)}static compile(e){const n=B0.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new ld(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:An.encode(a.data)}));return new ci({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];yr(n,e);const r=this.instructions.map(h=>{const{accounts:p,programIdIndex:m}=h,y=Array.from(An.decode(h.data));let w=[];yr(w,p.length);let b=[];return yr(b,y.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(w),keyIndices:p,dataLength:Te.Buffer.from(b),data:y}});let i=[];yr(i,r.length);let s=Te.Buffer.alloc(co);Te.Buffer.from(i).copy(s);let o=i.length;r.forEach(h=>{const m=be([Qe("programIdIndex"),vt(h.keyIndicesCount.length,"keyIndicesCount"),Mn(Qe("keyIndex"),h.keyIndices.length,"keyIndices"),vt(h.dataLength.length,"dataLength"),Mn(Qe("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=m}),s=s.slice(0,o);const a=be([vt(1,"numRequiredSignatures"),vt(1,"numReadonlySignedAccounts"),vt(1,"numReadonlyUnsignedAccounts"),vt(n.length,"keyCount"),Mn(Ue("key"),e,"keys"),Ue("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(h=>We(h.toBytes())),recentBlockhash:An.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return s.copy(c,d),c.slice(0,d+s.length)}static from(e){let n=[...e];const r=_i(n);if(r!==(r&R0))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=_i(n),s=_i(n),o=tr(n);let a=[];for(let p=0;p<o;p++){const m=nr(n,0,Mi);a.push(new de(Te.Buffer.from(m)))}const l=nr(n,0,Mi),c=tr(n);let d=[];for(let p=0;p<c;p++){const m=_i(n),y=tr(n),w=nr(n,0,y),b=tr(n),g=nr(n,0,b),S=An.encode(Te.Buffer.from(g));d.push({programIdIndex:m,accounts:w,data:S})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:An.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new ci(h)}}class fa{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ld(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=B0.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const h=n.extractTableLookup(d);if(h!==void 0){const[p,{writable:m,readonly:y}]=h;r.push(p),i.writable.push(...m),i.readonly.push(...y)}}const[o,a]=n.getMessageComponents(),c=new ld(a,i).compileInstructions(e.instructions);return new fa({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();yr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();yr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();yr(s,this.addressTableLookups.length);const o=be([Qe("prefix"),be([Qe("numRequiredSignatures"),Qe("numReadonlySignedAccounts"),Qe("numReadonlyUnsignedAccounts")],"header"),vt(e.length,"staticAccountKeysLength"),Mn(Ue(),this.staticAccountKeys.length,"staticAccountKeys"),Ue("recentBlockhash"),vt(r.length,"instructionsLength"),vt(n.length,"serializedInstructions"),vt(s.length,"addressTableLookupsLength"),vt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(co),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:An.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(co);for(const r of this.compiledInstructions){const i=Array();yr(i,r.accountKeyIndexes.length);const s=Array();yr(s,r.data.length);const o=be([Qe("programIdIndex"),vt(i.length,"encodedAccountKeyIndexesLength"),Mn(Qe(),r.accountKeyIndexes.length,"accountKeyIndexes"),vt(s.length,"encodedDataLength"),vt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(co);for(const r of this.addressTableLookups){const i=Array();yr(i,r.writableIndexes.length);const s=Array();yr(s,r.readonlyIndexes.length);const o=be([Ue("accountKey"),vt(i.length,"encodedWritableIndexesLength"),Mn(Qe(),r.writableIndexes.length,"writableIndexes"),vt(s.length,"encodedReadonlyIndexesLength"),Mn(Qe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=_i(n),i=r&R0;tt(r!==i,"Expected versioned message but received legacy message");const s=i;tt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:_i(n),numReadonlySignedAccounts:_i(n),numReadonlyUnsignedAccounts:_i(n)},a=[],l=tr(n);for(let y=0;y<l;y++)a.push(new de(nr(n,0,Mi)));const c=An.encode(nr(n,0,Mi)),d=tr(n),h=[];for(let y=0;y<d;y++){const w=_i(n),b=tr(n),g=nr(n,0,b),S=tr(n),_=new Uint8Array(nr(n,0,S));h.push({programIdIndex:w,accountKeyIndexes:g,data:_})}const p=tr(n),m=[];for(let y=0;y<p;y++){const w=new de(nr(n,0,Mi)),b=tr(n),g=nr(n,0,b),S=tr(n),_=nr(n,0,S);m.push({accountKey:w,writableIndexes:g,readonlyIndexes:_})}return new fa({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:m})}}const P0={deserializeMessageVersion(t){const e=t[0],n=e&R0;return n===e?"legacy":n},deserialize:t=>{const e=P0.deserializeMessageVersion(t);if(e==="legacy")return ci.from(t);if(e===0)return fa.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let $i=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const kB=Te.Buffer.alloc(Vl).fill(0);class dt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ze{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new dt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let w=0;w<n.length;w++)if(n[w].programId===void 0)throw new Error(`Transaction instruction index ${w} has undefined program id`);const i=[],s=[];n.forEach(w=>{w.keys.forEach(g=>{s.push({...g})});const b=w.programId.toString();i.includes(b)||i.push(b)}),i.forEach(w=>{s.push({pubkey:new de(w),isSigner:!1,isWritable:!1})});const o=[];s.forEach(w=>{const b=w.pubkey.toString(),g=o.findIndex(S=>S.pubkey.toString()===b);g>-1?(o[g].isWritable=o[g].isWritable||w.isWritable,o[g].isSigner=o[g].isSigner||w.isSigner):o.push(w)}),o.sort(function(w,b){if(w.isSigner!==b.isSigner)return w.isSigner?-1:1;if(w.isWritable!==b.isWritable)return w.isWritable?-1:1;const g={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return w.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",g)});const a=o.findIndex(w=>w.pubkey.equals(r));if(a>-1){const[w]=o.splice(a,1);w.isSigner=!0,w.isWritable=!0,o.unshift(w)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const w of this.signatures){const b=o.findIndex(g=>g.pubkey.equals(w.publicKey));if(b>-1)o[b].isSigner||(o[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${w.publicKey.toString()}`)}let l=0,c=0,d=0;const h=[],p=[];o.forEach(({pubkey:w,isSigner:b,isWritable:g})=>{b?(h.push(w.toString()),l+=1,g||(c+=1)):(p.push(w.toString()),g||(d+=1))});const m=h.concat(p),y=n.map(w=>{const{data:b,programId:g}=w;return{programIdIndex:m.indexOf(g.toString()),accounts:w.keys.map(S=>m.indexOf(S.pubkey.toString())),data:An.encode(b)}});return y.forEach(w=>{tt(w.programIdIndex>=0),w.accounts.forEach(b=>tt(b>=0))}),new ci({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:e,instructions:y})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=Iw(r,i.secretKey);this._addSignature(i.publicKey,We(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){tt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):pB(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];yr(r,n.length);const i=r.length+n.length*64+e.length,s=Te.Buffer.alloc(i);return tt(n.length<256),Te.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(tt(o.length===64,"signature has invalid length"),Te.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),tt(s.length<=co,`Transaction too large: ${s.length} > ${co}`),s}get keys(){return tt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return tt(this.instructions.length===1),this.instructions[0].programId}get data(){return tt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=tr(n);let i=[];for(let s=0;s<r;s++){const o=nr(n,0,Vl);i.push(An.encode(Te.Buffer.from(o)))}return Ze.populate(ci.from(n),i)}static populate(e,n=[]){const r=new Ze;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==An.encode(kB)?null:An.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new dt({keys:s,programId:e.accountKeys[i.programIdIndex],data:An.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Bw{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=o-a;tt(c>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-l;tt(d>=0,"Message header is invalid");const h=e.getAccountKeys(n),p=h.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const y of i){const w=[];for(const g of y.accountKeyIndexes){const S=h.get(g);if(S===void 0)throw new Error(`Failed to find key for account key index ${g}`);const _=g<o;let A;_?A=g<c:g<h.staticAccountKeys.length?A=g-o<d:A=g-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,w.push({pubkey:S,isSigner:g<r.numRequiredSignatures,isWritable:A})}const b=h.get(y.programIdIndex);if(b===void 0)throw new Error(`Failed to find program id for program id index ${y.programIdIndex}`);m.push(new dt({programId:b,data:We(y.data),keys:w}))}return new Bw({payerKey:p,instructions:m,recentBlockhash:s})}compileToLegacyMessage(){return ci.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return fa.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Kl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)tt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Vl));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();yr(n,this.signatures.length);const r=be([vt(n.length,"encodedSignaturesLength"),Mn(wB(),this.signatures.length,"signatures"),vt(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=tr(n);for(let o=0;o<i;o++)r.push(new Uint8Array(nr(n,0,Vl)));const s=P0.deserialize(new Uint8Array(n));return new Kl(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));tt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Iw(n,i.secretKey)}}addSignature(e,n){tt(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));tt(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const EB=160,NB=64,AB=EB/NB,i4=1e3/AB,wi=new de("SysvarC1ock11111111111111111111111111111111"),MB=new de("SysvarEpochSchedu1e111111111111111111111111"),CB=new de("Sysvar1nstructions1111111111111111111111111"),cf=new de("SysvarRecentB1ockHashes11111111111111111111"),ql=new de("SysvarRent111111111111111111111111111111111"),IB=new de("SysvarRewards111111111111111111111111111111"),TB=new de("SysvarS1otHashes111111111111111111111111111"),jB=new de("SysvarS1otHistory11111111111111111111111111"),uf=new de("SysvarStakeHistory1111111111111111111111111");class cd extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const RB={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ee extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Uy(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await t.sendTransaction(e,n,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new cd({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Do(t){return new Promise(e=>setTimeout(e,t))}function Ge(t,e){const n=t.layout.span>=0?t.layout.span:n4(t,e),r=Te.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function it(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const s4=_n("lamportsPerSignature"),o4=be([ve("version"),ve("state"),Ue("authorizedPubkey"),Ue("nonce"),be([s4],"feeCalculator")]),Hy=o4.span;class L0{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=o4.decode(We(e),0);return new L0({authorizedPubkey:new de(n.authorizedPubkey),nonce:new de(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Yl(t){const e=vt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=oR();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}class BB{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(pt))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=it(pt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new de(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=it(pt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=it(pt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new de(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=it(pt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:s}=it(pt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new de(n),seed:r,space:i,programId:new de(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=it(pt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new de(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=it(pt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new de(n),seed:r,programId:new de(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:s,programId:o}=it(pt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new de(n),seed:r,lamports:i,space:s,programId:new de(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=it(pt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new de(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(pt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=it(pt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=it(pt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new de(n)}}static checkProgramId(e){if(!e.equals(xn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pt=Object.freeze({Create:{index:0,layout:be([ve("instruction"),gr("lamports"),gr("space"),Ue("programId")])},Assign:{index:1,layout:be([ve("instruction"),Ue("programId")])},Transfer:{index:2,layout:be([ve("instruction"),Yl("lamports")])},CreateWithSeed:{index:3,layout:be([ve("instruction"),Ue("base"),Ko("seed"),gr("lamports"),gr("space"),Ue("programId")])},AdvanceNonceAccount:{index:4,layout:be([ve("instruction")])},WithdrawNonceAccount:{index:5,layout:be([ve("instruction"),gr("lamports")])},InitializeNonceAccount:{index:6,layout:be([ve("instruction"),Ue("authorized")])},AuthorizeNonceAccount:{index:7,layout:be([ve("instruction"),Ue("authorized")])},Allocate:{index:8,layout:be([ve("instruction"),gr("space")])},AllocateWithSeed:{index:9,layout:be([ve("instruction"),Ue("base"),Ko("seed"),gr("space"),Ue("programId")])},AssignWithSeed:{index:10,layout:be([ve("instruction"),Ue("base"),Ko("seed"),Ue("programId")])},TransferWithSeed:{index:11,layout:be([ve("instruction"),Yl("lamports"),Ko("seed"),Ue("programId")])},UpgradeNonceAccount:{index:12,layout:be([ve("instruction")])}});class xn{constructor(){}static createAccount(e){const n=pt.Create,r=Ge(n,{lamports:e.lamports,space:e.space,programId:We(e.programId.toBuffer())});return new dt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=pt.TransferWithSeed;n=Ge(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:We(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=pt.Transfer;n=Ge(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new dt({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=pt.AssignWithSeed;n=Ge(i,{base:We(e.basePubkey.toBuffer()),seed:e.seed,programId:We(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pt.Assign;n=Ge(i,{programId:We(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new dt({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=pt.CreateWithSeed,r=Ge(n,{base:We(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:We(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new dt({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Ze;"basePubkey"in e&&"seed"in e?n.add(xn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Hy,programId:this.programId})):n.add(xn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Hy,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=pt.InitializeNonceAccount,r=Ge(n,{authorized:We(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new dt(i)}static nonceAdvance(e){const n=pt.AdvanceNonceAccount,r=Ge(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new dt(i)}static nonceWithdraw(e){const n=pt.WithdrawNonceAccount,r=Ge(n,{lamports:e.lamports});return new dt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=pt.AuthorizeNonceAccount,r=Ge(n,{authorized:We(e.newAuthorizedPubkey.toBuffer())});return new dt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=pt.AllocateWithSeed;n=Ge(i,{base:We(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:We(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pt.Allocate;n=Ge(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new dt({keys:r,programId:this.programId,data:n})}}xn.programId=new de("11111111111111111111111111111111");const PB=co-300;class pa{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/pa.chunkSize)+1+1)}static async load(e,n,r,i,s){{const h=await e.getMinimumBalanceForRentExemption(s.length),p=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==s.length&&(m=m||new Ze,m.add(xn.allocate({accountPubkey:r.publicKey,space:s.length}))),p.owner.equals(i)||(m=m||new Ze,m.add(xn.assign({accountPubkey:r.publicKey,programId:i}))),p.lamports<h&&(m=m||new Ze,m.add(xn.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:h-p.lamports})))}else m=new Ze().add(xn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:h>0?h:1,space:s.length,programId:i}));m!==null&&await Uy(e,m,[n,r],{commitment:"confirmed"})}const o=be([ve("instruction"),ve("offset"),ve("bytesLength"),ve("bytesLengthPadding"),Mn(Qe("byte"),lo(ve(),-8),"bytes")]),a=pa.chunkSize;let l=0,c=s,d=[];for(;c.length>0;){const h=c.slice(0,a),p=Te.Buffer.alloc(a+16);o.encode({instruction:0,offset:l,bytes:h,bytesLength:0,bytesLengthPadding:0},p);const m=new Ze().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});d.push(Uy(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Do(1e3/4),l+=a,c=c.slice(a)}await Promise.all(d);{const h=be([ve("instruction")]),p=Te.Buffer.alloc(h.span);h.encode({instruction:1},p);const m=new Ze().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ql,isSigner:!1,isWritable:!1}],programId:i,data:p}),y="processed",w=await e.sendTransaction(m,[n,r],{preflightCommitment:y}),{context:b,value:g}=await e.confirmTransaction({signature:w,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},y);if(g.err)throw new Error(`Transaction ${w} failed (${JSON.stringify(g)})`);for(;;){try{if(await e.getSlot({commitment:y})>b.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(i4/2)))}}return!0}}pa.chunkSize=PB;const LB=new de("BPFLoader2111111111111111111111111111111111");class OB{static getMinNumSignatures(e){return pa.getMinNumSignatures(e)}static load(e,n,r,i,s){return pa.load(e,n,r,s,i)}}function DB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg,_2;function zB(){if(_2)return tg;_2=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,l,c,d,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(h=t.call(r),h==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(h==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",s=0;s<o;)c=l[s],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return tg=function(r){var i=n(r,!1);if(i!==void 0)return""+i},tg}var WB=zB(),k2=DB(WB);const Fc=32;function ng(t){let e=0;for(;t>1;)t/=2,e++;return e}function FB(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class a4{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=ng(FB(e+Fc+1))-ng(Fc)-1,r=this.getSlotsInEpoch(n),i=e-(r-Fc);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Fc:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ng(Fc)):this.slotsPerEpoch}}var $B=globalThis.fetch;class UB extends HR{constructor(e,n,r){const i=s=>{const o=$R(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function HB(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const E2=56;class Vy{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=HB(VB,e),r=e.length-E2;tt(r>=0,"lookup table is invalid"),tt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=be([Mn(Ue(),i,"addresses")]).decode(e.slice(E2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new de(n.authority[0]):void 0,addresses:s.map(o=>new de(o))}}}const VB={index:1,layout:be([ve("typeIndex"),Yl("deactivationSlot"),_n("lastExtendedSlot"),Qe("lastExtendedStartIndex"),Qe(),Mn(Ue(),lo(Qe(),-1),"authority")])},KB=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function qB(t){const e=t.match(KB);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const Rt=Dd(Ew(de),ue(),t=>new de(t)),l4=Nw([ue(),It("base64")]),Pw=Dd(Ew(Te.Buffer),l4,t=>Te.Buffer.from(t[0],"base64")),c4=30*1e3;function YB(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ft(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function N2(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function u4(t){return Zn([ie({jsonrpc:It("2.0"),id:ue(),result:t}),ie({jsonrpc:It("2.0"),id:ue(),error:ie({code:pc(),message:ue(),data:Ie(hR())})})])}const GB=u4(pc());function ze(t){return Dd(u4(t),GB,e=>"error"in e?e:{...e,result:fe(e.result,t)})}function Qt(t){return ze(ie({context:ie({slot:Q()}),value:t}))}function O0(t){return ie({context:ie({slot:Q()}),value:t})}function rg(t,e){return t===0?new fa({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new de(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:An.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ci(e)}const ZB=ie({foundation:Q(),foundationTerm:Q(),initial:Q(),taper:Q(),terminal:Q()}),XB=ze(pe(me(ie({epoch:Q(),effectiveSlot:Q(),amount:Q(),postBalance:Q(),commission:Ie(me(Q()))})))),QB=pe(ie({slot:Q(),prioritizationFee:Q()})),JB=ie({total:Q(),validator:Q(),foundation:Q(),epoch:Q()}),eP=ie({epoch:Q(),slotIndex:Q(),slotsInEpoch:Q(),absoluteSlot:Q(),blockHeight:Ie(Q()),transactionCount:Ie(Q())}),tP=ie({slotsPerEpoch:Q(),leaderScheduleSlotOffset:Q(),warmup:Ii(),firstNormalEpoch:Q(),firstNormalSlot:Q()}),nP=D3(ue(),pe(Q())),Na=me(Zn([ie({}),ue()])),rP=ie({err:Na}),iP=It("receivedSignature"),sP=ie({"solana-core":ue(),"feature-set":Ie(Q())}),oP=ie({program:ue(),programId:Rt,parsed:pc()}),aP=ie({programId:Rt,accounts:pe(Rt),data:ue()}),A2=Qt(ie({err:me(Zn([ie({}),ue()])),logs:me(pe(ue())),accounts:Ie(me(pe(me(ie({executable:Ii(),owner:ue(),lamports:Q(),data:pe(ue()),rentEpoch:Ie(Q())}))))),unitsConsumed:Ie(Q()),returnData:Ie(me(ie({programId:ue(),data:Nw([ue(),It("base64")])}))),innerInstructions:Ie(me(pe(ie({index:Q(),instructions:pe(Zn([oP,aP]))}))))})),lP=Qt(ie({byIdentity:D3(ue(),pe(Q())),range:ie({firstSlot:Q(),lastSlot:Q()})}));function cP(t,e,n,r,i,s){const o=n||$B;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,h)=>{const p=await new Promise((m,y)=>{try{r(d,h,(w,b)=>m([w,b]))}catch(w){y(w)}});return await o(...p)}),new zR(async(d,h)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},cL)};try{let m=5,y,w=500;for(;l?y=await l(t,p):y=await o(t,p),!(y.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${y.status} ${y.statusText}.  Retrying after ${w}ms delay...`),await Do(w),w*=2;const b=await y.text();y.ok?h(null,b):h(new Error(`${y.status} ${y.statusText}: ${b}`))}catch(m){m instanceof Error&&h(m)}},{})}function uP(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function dP(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const hP=ze(ZB),fP=ze(JB),pP=ze(QB),mP=ze(eP),gP=ze(tP),yP=ze(nP),xP=ze(Q()),wP=Qt(ie({total:Q(),circulating:Q(),nonCirculating:Q(),nonCirculatingAccounts:pe(Rt)})),Ky=ie({amount:ue(),uiAmount:me(Q()),decimals:Q(),uiAmountString:Ie(ue())}),vP=Qt(pe(ie({address:Rt,amount:ue(),uiAmount:me(Q()),decimals:Q(),uiAmountString:Ie(ue())}))),bP=Qt(pe(ie({pubkey:Rt,account:ie({executable:Ii(),owner:Rt,lamports:Q(),data:Pw,rentEpoch:Q()})}))),qy=ie({program:ue(),parsed:pc(),space:Q()}),SP=Qt(pe(ie({pubkey:Rt,account:ie({executable:Ii(),owner:Rt,lamports:Q(),data:qy,rentEpoch:Q()})}))),_P=Qt(pe(ie({lamports:Q(),address:Rt}))),ud=ie({executable:Ii(),owner:Rt,lamports:Q(),data:Pw,rentEpoch:Q()}),kP=ie({pubkey:Rt,account:ud}),EP=Dd(Zn([Ew(Te.Buffer),qy]),Zn([l4,qy]),t=>Array.isArray(t)?fe(t,Pw):t),Yy=ie({executable:Ii(),owner:Rt,lamports:Q(),data:EP,rentEpoch:Q()}),NP=ie({pubkey:Rt,account:Yy}),AP=ie({state:Zn([It("active"),It("inactive"),It("activating"),It("deactivating")]),active:Q(),inactive:Q()}),MP=ze(pe(ie({signature:ue(),slot:Q(),err:Na,memo:me(ue()),blockTime:Ie(me(Q()))}))),CP=ze(pe(ie({signature:ue(),slot:Q(),err:Na,memo:me(ue()),blockTime:Ie(me(Q()))}))),IP=ie({subscription:Q(),result:O0(ud)}),TP=ie({pubkey:Rt,account:ud}),jP=ie({subscription:Q(),result:O0(TP)}),RP=ie({parent:Q(),slot:Q(),root:Q()}),BP=ie({subscription:Q(),result:RP}),PP=Zn([ie({type:Zn([It("firstShredReceived"),It("completed"),It("optimisticConfirmation"),It("root")]),slot:Q(),timestamp:Q()}),ie({type:It("createdBank"),parent:Q(),slot:Q(),timestamp:Q()}),ie({type:It("frozen"),slot:Q(),timestamp:Q(),stats:ie({numTransactionEntries:Q(),numSuccessfulTransactions:Q(),numFailedTransactions:Q(),maxTransactionsPerEntry:Q()})}),ie({type:It("dead"),slot:Q(),timestamp:Q(),err:ue()})]),LP=ie({subscription:Q(),result:PP}),OP=ie({subscription:Q(),result:O0(Zn([rP,iP]))}),DP=ie({subscription:Q(),result:Q()}),zP=ie({pubkey:ue(),gossip:me(ue()),tpu:me(ue()),rpc:me(ue()),version:me(ue())}),M2=ie({votePubkey:ue(),nodePubkey:ue(),activatedStake:Q(),epochVoteAccount:Ii(),epochCredits:pe(Nw([Q(),Q(),Q()])),commission:Q(),lastVote:Q(),rootSlot:me(Q())}),WP=ze(ie({current:pe(M2),delinquent:pe(M2)})),FP=Zn([It("processed"),It("confirmed"),It("finalized")]),$P=ie({slot:Q(),confirmations:me(Q()),err:Na,confirmationStatus:Ie(FP)}),UP=Qt(pe(me($P))),HP=ze(Q()),d4=ie({accountKey:Rt,writableIndexes:pe(Q()),readonlyIndexes:pe(Q())}),Lw=ie({signatures:pe(ue()),message:ie({accountKeys:pe(ue()),header:ie({numRequiredSignatures:Q(),numReadonlySignedAccounts:Q(),numReadonlyUnsignedAccounts:Q()}),instructions:pe(ie({accounts:pe(Q()),data:ue(),programIdIndex:Q()})),recentBlockhash:ue(),addressTableLookups:Ie(pe(d4))})}),h4=ie({pubkey:Rt,signer:Ii(),writable:Ii(),source:Ie(Zn([It("transaction"),It("lookupTable")]))}),f4=ie({accountKeys:pe(h4),signatures:pe(ue())}),p4=ie({parsed:pc(),program:ue(),programId:Rt}),m4=ie({accounts:pe(Rt),data:ue(),programId:Rt}),VP=Zn([m4,p4]),KP=Zn([ie({parsed:pc(),program:ue(),programId:ue()}),ie({accounts:pe(ue()),data:ue(),programId:ue()})]),g4=Dd(VP,KP,t=>"accounts"in t?fe(t,m4):fe(t,p4)),y4=ie({signatures:pe(ue()),message:ie({accountKeys:pe(h4),instructions:pe(g4),recentBlockhash:ue(),addressTableLookups:Ie(me(pe(d4)))})}),Cp=ie({accountIndex:Q(),mint:ue(),owner:Ie(ue()),programId:Ie(ue()),uiTokenAmount:Ky}),x4=ie({writable:pe(Rt),readonly:pe(Rt)}),D0=ie({err:Na,fee:Q(),innerInstructions:Ie(me(pe(ie({index:Q(),instructions:pe(ie({accounts:pe(Q()),data:ue(),programIdIndex:Q()}))})))),preBalances:pe(Q()),postBalances:pe(Q()),logMessages:Ie(me(pe(ue()))),preTokenBalances:Ie(me(pe(Cp))),postTokenBalances:Ie(me(pe(Cp))),loadedAddresses:Ie(x4),computeUnitsConsumed:Ie(Q()),costUnits:Ie(Q())}),Ow=ie({err:Na,fee:Q(),innerInstructions:Ie(me(pe(ie({index:Q(),instructions:pe(g4)})))),preBalances:pe(Q()),postBalances:pe(Q()),logMessages:Ie(me(pe(ue()))),preTokenBalances:Ie(me(pe(Cp))),postTokenBalances:Ie(me(pe(Cp))),loadedAddresses:Ie(x4),computeUnitsConsumed:Ie(Q()),costUnits:Ie(Q())}),mc=Zn([It(0),It("legacy")]),Aa=ie({pubkey:ue(),lamports:Q(),postBalance:me(Q()),rewardType:me(ue()),commission:Ie(me(Q()))}),qP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),transactions:pe(ie({transaction:Lw,meta:me(D0),version:Ie(mc)})),rewards:Ie(pe(Aa)),blockTime:me(Q()),blockHeight:me(Q())}))),YP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),rewards:Ie(pe(Aa)),blockTime:me(Q()),blockHeight:me(Q())}))),GP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),transactions:pe(ie({transaction:f4,meta:me(D0),version:Ie(mc)})),rewards:Ie(pe(Aa)),blockTime:me(Q()),blockHeight:me(Q())}))),ZP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),transactions:pe(ie({transaction:y4,meta:me(Ow),version:Ie(mc)})),rewards:Ie(pe(Aa)),blockTime:me(Q()),blockHeight:me(Q())}))),XP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),transactions:pe(ie({transaction:f4,meta:me(Ow),version:Ie(mc)})),rewards:Ie(pe(Aa)),blockTime:me(Q()),blockHeight:me(Q())}))),QP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),rewards:Ie(pe(Aa)),blockTime:me(Q()),blockHeight:me(Q())}))),JP=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),transactions:pe(ie({transaction:Lw,meta:me(D0)})),rewards:Ie(pe(Aa)),blockTime:me(Q())}))),C2=ze(me(ie({blockhash:ue(),previousBlockhash:ue(),parentSlot:Q(),signatures:pe(ue()),blockTime:me(Q())}))),ig=ze(me(ie({slot:Q(),meta:me(D0),blockTime:Ie(me(Q())),transaction:Lw,version:Ie(mc)}))),_h=ze(me(ie({slot:Q(),transaction:y4,meta:me(Ow),blockTime:Ie(me(Q())),version:Ie(mc)}))),eL=Qt(ie({blockhash:ue(),lastValidBlockHeight:Q()})),tL=Qt(Ii()),nL=ie({slot:Q(),numTransactions:Q(),numSlots:Q(),samplePeriodSecs:Q()}),rL=ze(pe(nL)),iL=Qt(me(ie({feeCalculator:ie({lamportsPerSignature:Q()})}))),sL=ze(ue()),oL=ze(ue()),aL=ie({err:Na,logs:pe(ue()),signature:ue()}),lL=ie({result:O0(aL),subscription:Q()}),cL={"solana-client":"js/1.0.0-maintenance"};class w4{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:h,config:p}=ft(d),m=this._buildArgs([],h,void 0,p),y=k2(m);return c[y]=c[y]??(async()=>{try{const w=await this._rpcRequest("getBlockHeight",m),b=fe(w,ze(Q()));if("error"in b)throw new Ee(b.error,"failed to get block height information");return b.result}finally{delete c[y]}})(),await c[y]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=YB(e),this._rpcWsEndpoint=r||qB(e),this._rpcClient=cP(e,i,s,o,a,l),this._rpcRequest=uP(this._rpcClient),this._rpcBatchRequest=dP(this._rpcClient),this._rpcWebSocket=new UB(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=fe(o,Qt(Q()));if("error"in a)throw new Ee(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=fe(n,ze(me(Q())));if("error"in r)throw new Ee(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=fe(e,ze(Q()));if("error"in n)throw new Ee(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=fe(e,xP);if("error"in n)throw new Ee(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=fe(r,wP);if("error"in i)throw new Ee(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=fe(i,Qt(Ky));if("error"in s)throw new Ee(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=fe(i,Qt(Ky));if("error"in s)throw new Ee(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=ft(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=fe(l,bP);if("error"in c)throw new Ee(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=fe(o,SP);if("error"in a)throw new Ee(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=fe(i,_P);if("error"in s)throw new Ee(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=fe(i,vP);if("error"in s)throw new Ee(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=fe(o,Qt(me(ud)));if("error"in a)throw new Ee(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=fe(o,Qt(me(Yy)));if("error"in a)throw new Ee(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=ft(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=fe(a,Qt(pe(me(Yy))));if("error"in l)throw new Ee(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=ft(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=fe(a,Qt(pe(me(ud))));if("error"in l)throw new Ee(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=ft(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=fe(a,ze(AP));if("error"in l)throw new Ee(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=ft(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:N2(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(kP),d=o.withContext===!0?fe(l,Qt(c)):fe(l,ze(c));if("error"in d)throw new Ee(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=fe(o,ze(pe(NP)));if("error"in a)throw new Ee(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=An.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return tt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(h,p)=>{r=void 0;const m={context:p,value:h};l({__type:$i.PROCESSED,response:m})},e);const d=new Promise(h=>{r==null?h():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&h()})});(async()=>{if(await d,s)return;const h=await this.getSignatureStatus(n);if(s||h==null)return;const{context:p,value:m}=h;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:$i.PROCESSED,response:{context:p,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(h=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!s){for(;m<=r;)if(await Do(1e3),s||(m=await p(),s))return;h({__type:$i.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let d;try{const h=await Promise.race([c,l,o]);if(h.__type===$i.PROCESSED)d=h.response;else throw new jw(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(m=>{let y=s,w=null;const b=async()=>{try{const{context:g,value:S}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return w=g.slot,S==null?void 0:S.nonce}catch{return y}};(async()=>{if(y=await b(),!a)for(;;){if(s!==y){m({__type:$i.NONCE_INVALID,slotInWhichNonceDidAdvance:w});return}if(await Do(2e3),a||(y=await b(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(n);let p;try{const m=await Promise.race([h,d,l]);if(m.__type===$i.PROCESSED)p=m.response;else{let y;for(;;){const w=await this.getSignatureStatus(o);if(w==null)break;if(w.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Do(400);continue}y=w;break}if(y!=null&&y.value){const w=e||"finalized",{confirmationStatus:b}=y.value;switch(w){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new fl(o);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new fl(o);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new fl(o);break;default:}p={context:y.context,value:{err:y.value.err}}}else throw new fl(o)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:$i.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===$i.PROCESSED)a=l.response;else throw new Rw(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=fe(e,ze(pe(zP)));if("error"in n)throw new Ee(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=fe(r,WP);if("error"in i)throw new Ee(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=fe(s,ze(Q()));if("error"in o)throw new Ee(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=fe(s,ze(ue()));if("error"in o)throw new Ee(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=fe(i,ze(pe(Rt)));if("error"in s)throw new Ee(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);tt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=fe(i,UP);if("error"in s)throw new Ee(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=fe(s,ze(Q()));if("error"in o)throw new Ee(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=fe(r,hP);if("error"in i)throw new Ee(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=ft(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=fe(a,XB);if("error"in l)throw new Ee(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=fe(e,fP);if("error"in n)throw new Ee(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=fe(s,mP);if("error"in o)throw new Ee(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=fe(e,gP);if("error"in n)throw new Ee(n.error,"failed to get epoch schedule");const r=n.result;return new a4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=fe(e,yP);if("error"in n)throw new Ee(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=fe(i,HP);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=fe(n,rL);if("error"in r)throw new Ee(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=fe(i,iL);if("error"in s)throw new Ee(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=We(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=fe(s,Qt(me(Q())));if("error"in o)throw new Ee(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=fe(i,pP);if("error"in s)throw new Ee(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=fe(s,eL);if("error"in o)throw new Ee(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=fe(o,tL);if("error"in a)throw new Ee(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=fe(e,ze(sP));if("error"in n)throw new Ee(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=fe(e,ze(ue()));if("error"in n)throw new Ee(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=fe(o,GP);if("error"in a)throw a.error;return a.result}case"none":{const a=fe(o,YP);if("error"in a)throw a.error;return a.result}default:{const a=fe(o,qP);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:h})=>({meta:d,transaction:{...c,message:rg(h,c.message)},version:h}))}:null}}}catch(a){throw new Ee(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=fe(o,XP);if("error"in a)throw a.error;return a.result}case"none":{const a=fe(o,QP);if("error"in a)throw a.error;return a.result}default:{const a=fe(o,ZP);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ee(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=fe(s,lP);if("error"in o)throw new Ee(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=fe(o,ig);if("error"in a)throw new Ee(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:rg(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=fe(o,_h);if("error"in a)throw new Ee(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=ft(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=fe(l,_h);if("error"in c)throw new Ee(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=ft(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=fe(l,ig);if("error"in c)throw new Ee(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:rg(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=fe(i,JP);if("error"in s)throw new Ee(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const d=new ci(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Ze.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=fe(s,ze(pe(Q())));if("error"in o)throw new Ee(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=fe(i,C2);if("error"in s)throw new Ee(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=fe(i,C2);if("error"in s)throw new Ee(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=fe(i,ig);if("error"in s)throw new Ee(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ci(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:Ze.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=fe(i,_h);if("error"in s)throw new Ee(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=fe(o,_h);if("error"in a)throw new Ee(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=fe(s,MP);if("error"in o)throw new Ee(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=fe(s,CP);if("error"in o)throw new Ee(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new Vy({key:e,state:Vy.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=L0.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=fe(r,sL);if("error"in i)throw new Ee(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Do(100);const r=Date.now()-this._blockhashInfo.lastFetch>=c4;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Do(i4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=fe(s,Qt(Q()));if("error"in o)throw new Ee(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const w=e.serialize(),b=Te.Buffer.from(w).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const g=n||{};g.encoding="base64","commitment"in g||(g.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(g.innerInstructions=n.innerInstructions);const S=[b,g],_=await this._rpcRequest("simulateTransaction",S),A=fe(_,A2);if("error"in A)throw new Error("failed to simulate transaction: "+A.error.message);return A.result}let i;if(e instanceof Ze){let y=e;i=new Ze,i.feePayer=y.feePayer,i.instructions=e.instructions,i.nonceInfo=y.nonceInfo,i.signatures=y.signatures}else i=Ze.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let y=this._disableBlockhashCaching;for(;;){const w=await this._blockhashWithExpiryBlockHeight(y);if(i.lastValidBlockHeight=w.lastValidBlockHeight,i.recentBlockhash=w.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const b=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else y=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const y=(Array.isArray(r)?r:o.nonProgramIds()).map(w=>w.toBase58());d.accounts={encoding:"base64",addresses:y}}s&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const h=[c,d],p=await this._rpcRequest("simulateTransaction",h),m=fe(p,A2);if("error"in m){let y;if("data"in m.error&&(y=m.error.data.logs,y&&Array.isArray(y))){const w=`
    `,b=w+y.join(w);console.error(m.error.message,b)}throw new cd({action:"simulate",signature:"",transactionMessage:m.error.message,logs:y})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=We(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=fe(a,oL);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new cd({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=fe(e,IP);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=k2([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];tt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=ft(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=fe(e,jP);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=ft(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:N2(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=fe(e,lL);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=fe(e,BP);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=fe(e,LP);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=fe(e,OP);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=fe(e,DP);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Nl{constructor(e){this._keypair=void 0,this._keypair=e??v2()}static generate(){return new Nl(v2())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),s=Mp(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Nl({publicKey:r,secretKey:e})}static fromSeed(e){const n=Mp(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Nl({publicKey:n,secretKey:r})}get publicKey(){return new de(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Qi=Object.freeze({CreateLookupTable:{index:0,layout:be([ve("instruction"),Yl("recentSlot"),Qe("bumpSeed")])},FreezeLookupTable:{index:1,layout:be([ve("instruction")])},ExtendLookupTable:{index:2,layout:be([ve("instruction"),Yl(),Mn(Ue(),lo(ve(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:be([ve("instruction")])},CloseLookupTable:{index:4,layout:be([ve("instruction")])}});class uL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Qi))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=it(Qi.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=it(Qi.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new de(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Dw.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class Dw{constructor(){}static createLookupTable(e){const[n,r]=de.findProgramAddressSync([e.authority.toBuffer(),P3().encode(e.recentSlot)],this.programId),i=Qi.CreateLookupTable,s=Ge(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:xn.programId,isSigner:!1,isWritable:!1}];return[new dt({programId:this.programId,keys:o,data:s}),n]}static freezeLookupTable(e){const n=Qi.FreezeLookupTable,r=Ge(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new dt({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=Qi.ExtendLookupTable,r=Ge(n,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:xn.programId,isSigner:!1,isWritable:!1}),new dt({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=Qi.DeactivateLookupTable,r=Ge(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new dt({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=Qi.CloseLookupTable,r=Ge(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new dt({programId:this.programId,keys:i,data:r})}}Dw.programId=new de("AddressLookupTab1e1111111111111111111111111");class dL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Qe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(ki))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=it(ki.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=it(ki.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=it(ki.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=it(ki.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(zw.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ki=Object.freeze({RequestUnits:{index:0,layout:be([Qe("instruction"),ve("units"),ve("additionalFee")])},RequestHeapFrame:{index:1,layout:be([Qe("instruction"),ve("bytes")])},SetComputeUnitLimit:{index:2,layout:be([Qe("instruction"),ve("units")])},SetComputeUnitPrice:{index:3,layout:be([Qe("instruction"),Yl("microLamports")])}});class zw{constructor(){}static requestUnits(e){const n=ki.RequestUnits,r=Ge(n,e);return new dt({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=ki.RequestHeapFrame,r=Ge(n,e);return new dt({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=ki.SetComputeUnitLimit,r=Ge(n,e);return new dt({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=ki.SetComputeUnitPrice,r=Ge(n,{microLamports:BigInt(e.microLamports)});return new dt({keys:[],programId:this.programId,data:r})}}zw.programId=new de("ComputeBudget111111111111111111111111111111");const I2=64,T2=32,j2=64,R2=be([Qe("numSignatures"),Qe("padding"),Ir("signatureOffset"),Ir("signatureInstructionIndex"),Ir("publicKeyOffset"),Ir("publicKeyInstructionIndex"),Ir("messageDataOffset"),Ir("messageDataSize"),Ir("messageInstructionIndex")]);class z0{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:s}=e;tt(n.length===T2,`Public Key must be ${T2} bytes but received ${n.length} bytes`),tt(i.length===j2,`Signature must be ${j2} bytes but received ${i.length} bytes`);const o=R2.span,a=o+n.length,l=a+i.length,c=1,d=Te.Buffer.alloc(l+r.length),h=s??65535;return R2.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:h,publicKeyOffset:o,publicKeyInstructionIndex:h,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:h},d),d.fill(n,o),d.fill(i,a),d.fill(r,l),new dt({keys:[],programId:z0.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;tt(n.length===I2,`Private key must be ${I2} bytes but received ${n.length} bytes`);try{const s=Nl.fromSecretKey(n),o=s.publicKey.toBytes(),a=Iw(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}z0.programId=new de("Ed25519SigVerify111111111111111111111111111");const hL=(t,e)=>{const n=Cw.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};Cw.utils.isValidPrivateKey;const fL=Cw.getPublicKey,B2=32,sg=20,P2=64,pL=11,og=be([Qe("numSignatures"),Ir("signatureOffset"),Qe("signatureInstructionIndex"),Ir("ethAddressOffset"),Qe("ethAddressInstructionIndex"),Ir("messageDataOffset"),Ir("messageDataSize"),Qe("messageInstructionIndex"),vt(20,"ethAddress"),vt(64,"signature"),Qe("recoveryId")]);class Al{constructor(){}static publicKeyToEthAddress(e){tt(e.length===P2,`Public key must be ${P2} bytes but received ${e.length} bytes`);try{return Te.Buffer.from(y2(We(e))).slice(-sg)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return Al.createInstructionWithEthAddress({ethAddress:Al.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=Te.Buffer.from(n.substr(2),"hex"):a=Te.Buffer.from(n,"hex"):a=n,tt(a.length===sg,`Address must be ${sg} bytes but received ${a.length} bytes`);const l=1+pL,c=l,d=l+a.length,h=d+i.length+1,p=1,m=Te.Buffer.alloc(og.span+r.length);return og.encode({numSignatures:p,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:c,ethAddressInstructionIndex:o,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:o,signature:We(i),ethAddress:We(a),recoveryId:s},m),m.fill(We(r),og.span),new dt({keys:[],programId:Al.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;tt(n.length===B2,`Private key must be ${B2} bytes but received ${n.length} bytes`);try{const s=We(n),o=fL(s,!1).slice(1),a=Te.Buffer.from(y2(We(r))),[l,c]=hL(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Al.programId=new de("KeccakSecp256k11111111111111111111111111111");var v4;const b4=new de("StakeConfig11111111111111111111111111111111");class S4{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class zd{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}v4=zd;zd.default=new v4(0,0,de.default);class mL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(pn))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=it(pn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new S4(new de(n.staker),new de(n.withdrawer)),lockup:new zd(r.unixTimestamp,r.epoch,new de(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),it(pn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=it(pn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new de(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=it(pn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new de(s),newAuthorizedPubkey:new de(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=it(pn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(pn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=it(pn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(pn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(W0.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pn=Object.freeze({Initialize:{index:0,layout:be([ve("instruction"),vB(),bB()])},Authorize:{index:1,layout:be([ve("instruction"),Ue("newAuthorized"),ve("stakeAuthorizationType")])},Delegate:{index:2,layout:be([ve("instruction")])},Split:{index:3,layout:be([ve("instruction"),gr("lamports")])},Withdraw:{index:4,layout:be([ve("instruction"),gr("lamports")])},Deactivate:{index:5,layout:be([ve("instruction")])},Merge:{index:7,layout:be([ve("instruction")])},AuthorizeWithSeed:{index:8,layout:be([ve("instruction"),Ue("newAuthorized"),ve("stakeAuthorizationType"),Ko("authoritySeed"),Ue("authorityOwner")])}}),gL=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class W0{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,s=i||zd.default,o=pn.Initialize,a=Ge(o,{authorized:{staker:We(r.staker.toBuffer()),withdrawer:We(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:We(s.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ql,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new dt(l)}static createAccountWithSeed(e){const n=new Ze;n.add(xn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const n=new Ze;n.add(xn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,s=pn.Delegate,o=Ge(s);return new Ze().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:b4,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=pn.Authorize,l=Ge(a,{newAuthorized:We(i.toBuffer()),stakeAuthorizationType:s.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:wi,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Ze().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:l}=e,c=pn.AuthorizeWithSeed,d=Ge(c,{newAuthorized:We(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:We(s.toBuffer())}),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:wi,isSigner:!1,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!0,isWritable:!1}),new Ze().add({keys:h,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=pn.Split,a=Ge(o,{lamports:s});return new dt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Ze;return r.add(xn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:l}=e,c=new Ze;return c.add(xn.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(xn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,s=pn.Merge,o=Ge(s);return new Ze().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=pn.Withdraw,l=Ge(a,{lamports:s}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Ze().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=pn.Deactivate,s=Ge(i);return new Ze().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}W0.programId=new de("Stake11111111111111111111111111111111111111");W0.space=200;class _4{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class yL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ve("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ei))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=it(Ei.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new _4(new de(n.nodePubkey),new de(n.authorizedVoter),new de(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=it(Ei.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new de(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=it(Ei.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new de(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new de(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=it(Ei.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Ei=Object.freeze({InitializeAccount:{index:0,layout:be([ve("instruction"),SB()])},Authorize:{index:1,layout:be([ve("instruction"),Ue("newAuthorized"),ve("voteAuthorizationType")])},Withdraw:{index:3,layout:be([ve("instruction"),gr("lamports")])},UpdateValidatorIdentity:{index:4,layout:be([ve("instruction")])},AuthorizeWithSeed:{index:10,layout:be([ve("instruction"),_B()])}}),xL=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class gc{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,s=Ei.InitializeAccount,o=Ge(s,{voteInit:{nodePubkey:We(i.nodePubkey.toBuffer()),authorizedVoter:We(i.authorizedVoter.toBuffer()),authorizedWithdrawer:We(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new dt(a)}static createAccount(e){const n=new Ze;return n.add(xn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Ei.Authorize,a=Ge(o,{newAuthorized:We(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ze().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,l=Ei.AuthorizeWithSeed,c=Ge(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:We(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:We(s.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ze().add({keys:d,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Ei.Withdraw,a=Ge(o,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ze().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return gc.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Ei.UpdateValidatorIdentity,o=Ge(s),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ze().add({keys:a,programId:this.programId,data:o})}}gc.programId=new de("Vote111111111111111111111111111111111111111");gc.space=3762;const k4=new de("Va1idator1nfo111111111111111111111111111111"),wL=ie({name:ue(),website:Ie(ue()),details:Ie(ue()),iconUrl:Ie(ue()),keybaseUsername:Ie(ue())});class Ww{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(tr(n)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new de(nr(n,0,Mi)),a=_i(n)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(k4)&&i[1].isSigner){const s=Ko().decode(Te.Buffer.from(n)),o=JSON.parse(s);return L3(o,wL),new Ww(i[1].publicKey,o)}return null}}const vL=new de("Vote111111111111111111111111111111111111111"),bL=be([Ue("nodePubkey"),Ue("authorizedWithdrawer"),Qe("commission"),_n(),Mn(be([_n("slot"),ve("confirmationCount")]),lo(ve(),-8),"votes"),Qe("rootSlotValid"),_n("rootSlot"),_n(),Mn(be([_n("epoch"),Ue("authorizedVoter")]),lo(ve(),-8),"authorizedVoters"),be([Mn(be([Ue("authorizedPubkey"),_n("epochOfLastAuthorizedSwitch"),_n("targetEpoch")]),32,"buf"),_n("idx"),Qe("isEmpty")],"priorVoters"),_n(),Mn(be([_n("epoch"),_n("credits"),_n("prevCredits")]),lo(ve(),-8),"epochCredits"),be([_n("slot"),_n("timestamp")],"lastTimestamp")]);class Fw{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=bL.decode(We(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new Fw({nodePubkey:new de(r.nodePubkey),authorizedWithdrawer:new de(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(SL),priorVoters:_L(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function SL({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new de(t)}}function L2({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new de(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function _L({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(L2),...t.slice(0,e).map(L2)]}const O2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function E4(t,e){const n=e===!1?"http":"https";if(!t)return O2[n].devnet;const r=O2[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function kL(t,e,n,r){let i,s;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,s=r):s=n;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),l=s&&s.commitment,d=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(d.err)throw a!=null?new cd({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const N4=1e9,EL=Object.freeze(Object.defineProperty({__proto__:null,Account:yB,AddressLookupTableAccount:Vy,AddressLookupTableInstruction:uL,AddressLookupTableProgram:Dw,Authorized:S4,BLOCKHASH_CACHE_TIMEOUT_MS:c4,BPF_LOADER_DEPRECATED_PROGRAM_ID:xB,BPF_LOADER_PROGRAM_ID:LB,BpfLoader:OB,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ki,ComputeBudgetInstruction:dL,ComputeBudgetProgram:zw,Connection:w4,Ed25519Program:z0,Enum:mB,EpochSchedule:a4,FeeCalculatorLayout:s4,Keypair:Nl,LAMPORTS_PER_SOL:N4,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Qi,Loader:pa,Lockup:zd,MAX_SEED_LENGTH:t4,Message:ci,MessageAccountKeys:ld,MessageV0:fa,NONCE_ACCOUNT_LENGTH:Hy,NonceAccount:L0,PACKET_DATA_SIZE:co,PUBLIC_KEY_LENGTH:Mi,PublicKey:de,SIGNATURE_LENGTH_IN_BYTES:Vl,SOLANA_SCHEMA:Cu,STAKE_CONFIG_ID:b4,STAKE_INSTRUCTION_LAYOUTS:pn,SYSTEM_INSTRUCTION_LAYOUTS:pt,SYSVAR_CLOCK_PUBKEY:wi,SYSVAR_EPOCH_SCHEDULE_PUBKEY:MB,SYSVAR_INSTRUCTIONS_PUBKEY:CB,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:cf,SYSVAR_RENT_PUBKEY:ql,SYSVAR_REWARDS_PUBKEY:IB,SYSVAR_SLOT_HASHES_PUBKEY:TB,SYSVAR_SLOT_HISTORY_PUBKEY:jB,SYSVAR_STAKE_HISTORY_PUBKEY:uf,Secp256k1Program:Al,SendTransactionError:cd,SolanaJSONRPCError:Ee,SolanaJSONRPCErrorCode:RB,StakeAuthorizationLayout:gL,StakeInstruction:mL,StakeProgram:W0,Struct:Tw,SystemInstruction:BB,SystemProgram:xn,Transaction:Ze,TransactionExpiredBlockheightExceededError:jw,TransactionExpiredNonceInvalidError:fl,TransactionExpiredTimeoutError:Rw,TransactionInstruction:dt,TransactionMessage:Bw,TransactionStatus:$i,VALIDATOR_INFO_KEY:k4,VERSION_PREFIX_MASK:R0,VOTE_PROGRAM_ID:vL,ValidatorInfo:Ww,VersionedMessage:P0,VersionedTransaction:Kl,VoteAccount:Fw,VoteAuthorizationLayout:xL,VoteInit:_4,VoteInstruction:yL,VoteProgram:gc,clusterApiUrl:E4,sendAndConfirmRawTransaction:kL,sendAndConfirmTransaction:Uy},Symbol.toStringTag,{value:"Module"})),A4=z.createContext({});function M4(){return z.useContext(A4)}const NL=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=z.useMemo(()=>new w4(e,n),[e,n]);return V.createElement(A4.Provider,{value:{connection:r}},t)};class Xt extends Error{constructor(e,n){super(e),this.error=n}}class dd extends Xt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class AL extends Xt{constructor(){super(...arguments),this.name="WalletLoadError"}}class pl extends Xt{constructor(){super(...arguments),this.name="WalletConfigError"}}class $w extends Xt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Uw extends Xt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Hw extends Xt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class qs extends Xt{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ip extends Xt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class ML extends Xt{constructor(){super(...arguments),this.name="WalletKeypairError"}}class lr extends Xt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Ys extends Xt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class is extends Xt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Vw extends Xt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Gy extends Xt{constructor(){super(...arguments),this.name="WalletSignInError"}}class CL extends Xt{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class IL extends Xt{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class TL extends Xt{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var kt;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(kt||(kt={}));class Kw extends j0{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new lr;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function C4(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const s of e)s()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function I4(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function ss(t){return"version"in t}class T4 extends Kw{async sendTransaction(e,n,r={}){let i=!0;try{if(ss(e)){if(!this.supportedTransactionVersions)throw new Ys("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Ys(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof is?(i=!1,s):new Ys(s==null?void 0:s.message,s)}}else try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof is?(i=!1,s):new Ys(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(ss(r)){if(!this.supportedTransactionVersions)throw new is("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new is(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class qw extends T4{}class jL extends qw{}const Ji="solana:signAndSendTransaction",df="solana:signIn",Ua="solana:signMessage",mn="solana:signTransaction",RL="solana:signAndSendAllTransactions",BL=Object.freeze(Object.defineProperty({__proto__:null,SignAndSendAllTransactions:RL,SolanaSignAndSendTransaction:Ji,SolanaSignIn:df,SolanaSignMessage:Ua,SolanaSignTransaction:mn},Symbol.toStringTag,{value:"Module"})),F0="standard:connect",PL=F0,Tp="standard:disconnect",LL=Tp,$0="standard:events",OL=$0,DL=Object.freeze(Object.defineProperty({__proto__:null,Connect:PL,Disconnect:LL,Events:OL,StandardConnect:F0,StandardDisconnect:Tp,StandardEvents:$0},Symbol.toStringTag,{value:"Module"}));function j4(t){return F0 in t.features&&$0 in t.features&&(Ji in t.features||mn in t.features)}var jp;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(jp||(jp={}));const zL=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:qw,BaseSignInMessageSignerWalletAdapter:jL,BaseSignerWalletAdapter:T4,BaseWalletAdapter:Kw,EventEmitter:j0,WalletAccountError:qs,get WalletAdapterNetwork(){return jp},WalletConfigError:pl,WalletConnectionError:$w,WalletDisconnectedError:Uw,WalletDisconnectionError:Hw,WalletError:Xt,WalletKeypairError:ML,WalletLoadError:AL,WalletNotConnectedError:lr,WalletNotReadyError:dd,WalletPublicKeyError:Ip,get WalletReadyState(){return kt},WalletSendTransactionError:Ys,WalletSignInError:Gy,WalletSignMessageError:Vw,WalletSignTransactionError:is,WalletTimeoutError:CL,WalletWindowBlockedError:IL,WalletWindowClosedError:TL,isIosAndRedirectable:I4,isVersionedTransaction:ss,isWalletAdapterCompatibleStandardWallet:j4,scopePollingDetectionStrategy:C4},Symbol.toStringTag,{value:"Module"}));class D2 extends Xt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const WL=[],U0={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){qr("call","select")},connect(){return Promise.reject(qr("call","connect"))},disconnect(){return Promise.reject(qr("call","disconnect"))},sendTransaction(){return Promise.reject(qr("call","sendTransaction"))},signTransaction(){return Promise.reject(qr("call","signTransaction"))},signAllTransactions(){return Promise.reject(qr("call","signAllTransactions"))},signMessage(){return Promise.reject(qr("call","signMessage"))},signIn(){return Promise.reject(qr("call","signIn"))}};Object.defineProperty(U0,"wallets",{get(){return qr("read","wallets"),WL}});Object.defineProperty(U0,"wallet",{get(){return qr("read","wallet"),null}});Object.defineProperty(U0,"publicKey",{get(){return qr("read","publicKey"),null}});function qr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const R4=z.createContext(U0);function Yw(){return z.useContext(R4)}function FL(t,e){const n=z.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=n[0],i=z.useRef(!0);return z.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,t]),n}var So={};const $L=xs(zL),B4=xs(EL),P4=xs(BL);var Bi={},Wd={},UL=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},L4={},Ar={};let Gw;const HL=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ar.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ar.getSymbolTotalCodewords=function(e){return HL[e]};Ar.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ar.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Gw=e};Ar.isKanjiModeEnabled=function(){return typeof Gw<"u"};Ar.toSJIS=function(e){return Gw(e)};var H0={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(H0);function O4(){this.buffer=[],this.length=0}O4.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var VL=O4;function Fd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Fd.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Fd.prototype.get=function(t,e){return this.data[t*this.size+e]};Fd.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Fd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var KL=Fd,D4={};(function(t){const e=Ar.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(D4);var z4={};const qL=Ar.getSymbolSize,z2=7;z4.getPositions=function(e){const n=qL(e);return[[0,0],[n-z2,0],[0,n-z2]]};var W4={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,d=null;for(let h=0;h<s;h++){a=l=0,c=d=null;for(let p=0;p<s;p++){let m=i.get(h,p);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=i.get(p,h),m===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(W4);var V0={};const Gs=H0,kh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Eh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];V0.getBlocksCount=function(e,n){switch(n){case Gs.L:return kh[(e-1)*4+0];case Gs.M:return kh[(e-1)*4+1];case Gs.Q:return kh[(e-1)*4+2];case Gs.H:return kh[(e-1)*4+3];default:return}};V0.getTotalCodewordsCount=function(e,n){switch(n){case Gs.L:return Eh[(e-1)*4+0];case Gs.M:return Eh[(e-1)*4+1];case Gs.Q:return Eh[(e-1)*4+2];case Gs.H:return Eh[(e-1)*4+3];default:return}};var F4={},K0={};const Iu=new Uint8Array(512),Rp=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Iu[n]=e,Rp[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Iu[n]=Iu[n-255]})();K0.log=function(e){if(e<1)throw new Error("log("+e+")");return Rp[e]};K0.exp=function(e){return Iu[e]};K0.mul=function(e,n){return e===0||n===0?0:Iu[Rp[e]+Rp[n]]};(function(t){const e=K0;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(F4);const $4=F4;function Zw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Zw.prototype.initialize=function(e){this.degree=e,this.genPoly=$4.generateECPolynomial(this.degree)};Zw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=$4.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var YL=Zw,U4={},_o={},Xw={};Xw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Pi={};const H4="[0-9]+",GL="[A-Z $%*+\\-./:]+";let hd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";hd=hd.replace(/u/g,"\\u");const ZL="(?:(?![A-Z0-9 $%*+\\-./:]|"+hd+`)(?:.|[\r
]))+`;Pi.KANJI=new RegExp(hd,"g");Pi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Pi.BYTE=new RegExp(ZL,"g");Pi.NUMERIC=new RegExp(H4,"g");Pi.ALPHANUMERIC=new RegExp(GL,"g");const XL=new RegExp("^"+hd+"$"),QL=new RegExp("^"+H4+"$"),JL=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pi.testKanji=function(e){return XL.test(e)};Pi.testNumeric=function(e){return QL.test(e)};Pi.testAlphanumeric=function(e){return JL.test(e)};(function(t){const e=Xw,n=Pi;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(_o);(function(t){const e=Ar,n=V0,r=H0,i=_o,s=Xw,o=7973,a=e.getBCHDigit(o);function l(p,m,y){for(let w=1;w<=40;w++)if(m<=t.getCapacity(w,y,p))return w}function c(p,m){return i.getCharCountIndicator(p,m)+4}function d(p,m){let y=0;return p.forEach(function(w){const b=c(w.mode,m);y+=b+w.getBitsLength()}),y}function h(p,m){for(let y=1;y<=40;y++)if(d(p,y)<=t.getCapacity(y,m,i.MIXED))return y}t.from=function(m,y){return s.isValid(m)?parseInt(m,10):y},t.getCapacity=function(m,y,w){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const b=e.getSymbolTotalCodewords(m),g=n.getTotalCodewordsCount(m,y),S=(b-g)*8;if(w===i.MIXED)return S;const _=S-c(w,m);switch(w){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(m,y){let w;const b=r.from(y,r.M);if(Array.isArray(m)){if(m.length>1)return h(m,b);if(m.length===0)return 1;w=m[0]}else w=m;return l(w.mode,w.getLength(),b)},t.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;e.getBCHDigit(y)-a>=0;)y^=o<<e.getBCHDigit(y)-a;return m<<12|y}})(U4);var V4={};const Zy=Ar,K4=1335,eO=21522,W2=Zy.getBCHDigit(K4);V4.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Zy.getBCHDigit(i)-W2>=0;)i^=K4<<Zy.getBCHDigit(i)-W2;return(r<<10|i)^eO};var q4={};const tO=_o;function Gl(t){this.mode=tO.NUMERIC,this.data=t.toString()}Gl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Gl.prototype.getLength=function(){return this.data.length};Gl.prototype.getBitsLength=function(){return Gl.getBitsLength(this.data.length)};Gl.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var nO=Gl;const rO=_o,ag=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Zl(t){this.mode=rO.ALPHANUMERIC,this.data=t}Zl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Zl.prototype.getLength=function(){return this.data.length};Zl.prototype.getBitsLength=function(){return Zl.getBitsLength(this.data.length)};Zl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=ag.indexOf(this.data[n])*45;r+=ag.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(ag.indexOf(this.data[n]),6)};var iO=Zl;const sO=_o;function Xl(t){this.mode=sO.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Xl.getBitsLength=function(e){return e*8};Xl.prototype.getLength=function(){return this.data.length};Xl.prototype.getBitsLength=function(){return Xl.getBitsLength(this.data.length)};Xl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var oO=Xl;const aO=_o,lO=Ar;function Ql(t){this.mode=aO.KANJI,this.data=t}Ql.getBitsLength=function(e){return e*13};Ql.prototype.getLength=function(){return this.data.length};Ql.prototype.getBitsLength=function(){return Ql.getBitsLength(this.data.length)};Ql.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=lO.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var cO=Ql,Y4={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,h,p,m,y,w,b;!a.empty();){l=a.pop(),c=l.value,h=l.cost,p=n[c]||{};for(d in p)p.hasOwnProperty(d)&&(m=p[d],y=h+m,w=o[d],b=typeof o[d]>"u",(b||w>y)&&(o[d]=y,a.push(d,y),s[d]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(g)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Y4);var uO=Y4.exports;(function(t){const e=_o,n=nO,r=iO,i=oO,s=cO,o=Pi,a=Ar,l=uO;function c(g){return unescape(encodeURIComponent(g)).length}function d(g,S,_){const A=[];let R;for(;(R=g.exec(_))!==null;)A.push({data:R[0],index:R.index,mode:S,length:R[0].length});return A}function h(g){const S=d(o.NUMERIC,e.NUMERIC,g),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,g);let A,R;return a.isKanjiModeEnabled()?(A=d(o.BYTE,e.BYTE,g),R=d(o.KANJI,e.KANJI,g)):(A=d(o.BYTE_KANJI,e.BYTE,g),R=[]),S.concat(_,A,R).sort(function(O,B){return O.index-B.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function p(g,S){switch(S){case e.NUMERIC:return n.getBitsLength(g);case e.ALPHANUMERIC:return r.getBitsLength(g);case e.KANJI:return s.getBitsLength(g);case e.BYTE:return i.getBitsLength(g)}}function m(g){return g.reduce(function(S,_){const A=S.length-1>=0?S[S.length-1]:null;return A&&A.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function y(g){const S=[];for(let _=0;_<g.length;_++){const A=g[_];switch(A.mode){case e.NUMERIC:S.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:S.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:S.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:S.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return S}function w(g,S){const _={},A={start:{}};let R=["start"];for(let W=0;W<g.length;W++){const O=g[W],B=[];for(let F=0;F<O.length;F++){const U=O[F],H=""+W+F;B.push(H),_[H]={node:U,lastCount:0},A[H]={};for(let K=0;K<R.length;K++){const M=R[K];_[M]&&_[M].node.mode===U.mode?(A[M][H]=p(_[M].lastCount+U.length,U.mode)-p(_[M].lastCount,U.mode),_[M].lastCount+=U.length):(_[M]&&(_[M].lastCount=U.length),A[M][H]=p(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,S))}}R=B}for(let W=0;W<R.length;W++)A[R[W]].end=0;return{map:A,table:_}}function b(g,S){let _;const A=e.getBestModeForData(g);if(_=e.from(S,A),_!==e.BYTE&&_.bit<A.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(A));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(g);case e.ALPHANUMERIC:return new r(g);case e.KANJI:return new s(g);case e.BYTE:return new i(g)}}t.fromArray=function(S){return S.reduce(function(_,A){return typeof A=="string"?_.push(b(A,null)):A.data&&_.push(b(A.data,A.mode)),_},[])},t.fromString=function(S,_){const A=h(S,a.isKanjiModeEnabled()),R=y(A),W=w(R,_),O=l.find_path(W.map,"start","end"),B=[];for(let F=1;F<O.length-1;F++)B.push(W.table[O[F]].node);return t.fromArray(m(B))},t.rawSplit=function(S){return t.fromArray(h(S,a.isKanjiModeEnabled()))}})(q4);const q0=Ar,lg=H0,dO=VL,hO=KL,fO=D4,pO=z4,Xy=W4,Qy=V0,mO=YL,Bp=U4,gO=V4,yO=_o,cg=q4;function xO(t,e){const n=t.size,r=pO.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function wO(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function vO(t,e){const n=fO.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function bO(t,e){const n=t.size,r=Bp.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function ug(t,e,n){const r=t.size,i=gO.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function SO(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function _O(t,e,n){const r=new dO;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),yO.getCharCountIndicator(l.mode,t)),l.write(r)});const i=q0.getSymbolTotalCodewords(t),s=Qy.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return kO(r,t,e)}function kO(t,e,n){const r=q0.getSymbolTotalCodewords(e),i=Qy.getTotalCodewordsCount(e,n),s=r-i,o=Qy.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(s/o),h=d+1,p=c-d,m=new mO(p);let y=0;const w=new Array(o),b=new Array(o);let g=0;const S=new Uint8Array(t.buffer);for(let O=0;O<o;O++){const B=O<l?d:h;w[O]=S.slice(y,y+B),b[O]=m.encode(w[O]),y+=B,g=Math.max(g,B)}const _=new Uint8Array(r);let A=0,R,W;for(R=0;R<g;R++)for(W=0;W<o;W++)R<w[W].length&&(_[A++]=w[W][R]);for(R=0;R<p;R++)for(W=0;W<o;W++)_[A++]=b[W][R];return _}function EO(t,e,n,r){let i;if(Array.isArray(t))i=cg.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=cg.rawSplit(t);c=Bp.getBestVersionForData(d,n)}i=cg.fromString(t,c||40)}else throw new Error("Invalid data");const s=Bp.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=_O(e,n,i),a=q0.getSymbolSize(e),l=new hO(a);return xO(l,e),wO(l),vO(l,e),ug(l,n,0),e>=7&&bO(l,e),SO(l,o),isNaN(r)&&(r=Xy.getBestMask(l,ug.bind(null,l,n))),Xy.applyMask(r,l),ug(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}L4.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=lg.M,i,s;return typeof n<"u"&&(r=lg.from(n.errorCorrectionLevel,lg.M),i=Bp.from(n.version),s=Xy.from(n.maskPattern),n.toSJISFunc&&q0.setToSJISFunction(n.toSJISFunc)),EO(e,i,r,s)};var G4={},Qw={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),d=s.margin*l,h=[s.color.light,s.color.dark];for(let p=0;p<c;p++)for(let m=0;m<c;m++){let y=(p*c+m)*4,w=s.color.light;if(p>=d&&m>=d&&p<c-d&&m<c-d){const b=Math.floor((p-d)/l),g=Math.floor((m-d)/l);w=h[a[b*o+g]?1:0]}r[y++]=w.r,r[y++]=w.g,r[y++]=w.b,r[y]=w.a}}})(Qw);(function(t){const e=Qw;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),p=h.createImageData(d,d);return e.qrToImageData(p.data,s,l),n(h,c,d),h.putImageData(p,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),d=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(d,h.quality)}})(G4);var Z4={};const NO=Qw;function F2(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function dg(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function AO(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?dg("M",l+n,.5+c+n):dg("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=dg("h",o),o=0)):i++}return r}Z4.render=function(e,n,r){const i=NO.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+F2(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+F2(i.color.dark,"stroke")+' d="'+AO(o,s,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const MO=UL,Jy=L4,X4=G4,CO=Z4;function Jw(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!MO())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=Jy.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=Jy.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Wd.create=Jy.create;Wd.toCanvas=Jw.bind(null,X4.render);Wd.toDataURL=Jw.bind(null,X4.renderToDataURL);Wd.toString=Jw.bind(null,function(t,e,n){return CO.render(t,n)});const IO=xs(DL);var Xr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(Xr);var Li={};function hf(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Pp="https://api.mainnet-beta.solana.com",Q4="https://api.devnet.solana.com",J4="https://api.testnet.solana.com",eA="http://localhost:8899";function tA(t){return t.includes(Pp)?Xr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?Xr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?Xr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Xr.SOLANA_LOCALNET_CHAIN:Xr.SOLANA_MAINNET_CHAIN}function TO(t,e){return e||(t===Xr.SOLANA_MAINNET_CHAIN?Pp:t===Xr.SOLANA_DEVNET_CHAIN?Q4:t===Xr.SOLANA_TESTNET_CHAIN?J4:t===Xr.SOLANA_LOCALNET_CHAIN?eA:Pp)}function nA(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function jO(t,e){return nA(t,e)}function ev({message:t,signedMessage:e,signature:n,publicKey:r}){return jO(t,e)&&_a.verify(n,e,r)}function RO(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:i,signature:s}=e;return ev({message:n,signedMessage:i,signature:s,publicKey:r})}function BO(t,e){const{signedMessage:n,signature:r,account:{publicKey:i}}=e,s=rA(t,e);return!!s&&ev({message:s,signedMessage:n,signature:r,publicKey:i})}function rA(t,e){const n=iA(t,e);return n?new TextEncoder().encode(n):null}function iA(t,e){const n=sA(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!nA(t.resources,n.resources))return null}else if(n.resources)return null;return tv(n)}function sA(t){const e=new TextDecoder().decode(t);return oA(e)}const PO="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",LO="(?<address>[^\\n]+)(?:\\n|$)",OO="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",DO="(?:\\nURI: (?<uri>[^\\n]+))?",zO="(?:\\nVersion: (?<version>[^\\n]+))?",WO="(?:\\nChain ID: (?<chainId>[^\\n]+))?",FO="(?:\\nNonce: (?<nonce>[^\\n]+))?",$O="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",UO="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",HO="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",VO="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",KO="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",qO=`${DO}${zO}${WO}${FO}${$O}${UO}${HO}${VO}${KO}`,YO=new RegExp(`^${PO}${LO}${OO}${qO}\\n*$`);function oA(t){var r;const e=YO.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function GO(t){const e=tv(t);return new TextEncoder().encode(e)}function tv(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const ZO=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:Q4,LOCALNET_ENDPOINT:eA,MAINNET_ENDPOINT:Pp,TESTNET_ENDPOINT:J4,createSignInMessage:GO,createSignInMessageText:tv,deriveSignInMessage:rA,deriveSignInMessageText:iA,getChainForEndpoint:tA,getCommitment:hf,getEndpointForChain:TO,parseSignInMessage:sA,parseSignInMessageText:oA,verifyMessageSignature:ev,verifySignIn:BO,verifySignMessage:RO},Symbol.toStringTag,{value:"Module"})),XO=xs(ZO);Object.defineProperty(Li,"__esModule",{value:!0});var QO=XO;const vr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class br extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const JO={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class Y0 extends Error{constructor(...e){const[n,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function at(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function eD(t){return window.btoa(t)}function e1(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function tD(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function ff(t,e){return at(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function nD(t){return QO.createSignInMessageText(t)}function rD(t){return eD(nD(t))}const aA="solana:signTransactions",t1="solana:cloneAuthorization",iD="solana:signInWithSolana";function lA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return at(this,void 0,void 0,function*(){const{method:s,params:o}=sD(r,i,t),a=yield e(s,o);return s==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield aD(o.sign_in_payload,a,e)),oD(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function sD(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:s}=r;if(n==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=r.cluster}r.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}r.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=r;if(s)switch(n){case"legacy":{i="reauthorize",r={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function oD(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[aA];return r.supports_clone_authorization===!0&&i.push(t1),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(t1)})}}}return e}function aD(t,e,n){var r;return at(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,s=e.accounts[0].address,o=rD(Object.assign(Object.assign({},t),{domain:i,address:s})),a=yield n("sign_messages",{addresses:[s],payloads:[o]});return{address:s,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const os=4;function lD(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(os);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const n1=12,nv=65;function cD(t,e,n){return at(this,void 0,void 0,function*(){const r=lD(e),i=new Uint8Array(n1);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(uA(r,i),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function cA(t,e){return at(this,void 0,void 0,function*(){const n=t.slice(0,os),r=t.slice(os,os+n1),i=t.slice(os+n1),s=yield crypto.subtle.decrypt(uA(n,r),e,i);return uD().decode(s)})}function uA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let hg;function uD(){return hg===void 0&&(hg=new TextDecoder("utf-8")),hg}function dA(){return at(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function pf(){return at(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function hA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function dD(){return fA(49152+Math.floor(Math.random()*16384))}function fA(t){if(t<49152||t>65535)throw new br(vr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function pA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const hD="solana-wallet";function $2(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function mA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new br(vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${hD}:/`));const r=t.startsWith("/")?t:[...$2(n.pathname),...$2(t)].join("/");return new URL(r,n)}function fD(t,e,n,r=["v1"]){return at(this,void 0,void 0,function*(){const i=fA(e),s=yield crypto.subtle.exportKey("raw",t),o=hA(s),a=mA("v1/associate/local",n);return a.searchParams.set("association",pA(o)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function pD(t,e,n,r,i=["v1"]){return at(this,void 0,void 0,function*(){const s=yield crypto.subtle.exportKey("raw",t),o=hA(s),a=mA("v1/associate/remote",r);return a.searchParams.set("association",pA(o)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${e1(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function gA(t,e){return at(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return cD(n,r,e)})}function yA(t,e){return at(this,void 0,void 0,function*(){const n=yield cA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Y0(r.id,r.error.code,r.error.message);return r})}function xA(t,e,n){return at(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,nv),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function wA(t,e){return at(this,void 0,void 0,function*(){const n=yield cA(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new br(vr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const Lp={Firefox:0,Other:1};function mD(){return navigator.userAgent.indexOf("Firefox/")!==-1?Lp.Firefox:Lp.Other}function gD(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let $c=null;function yD(t){$c==null&&($c=document.createElement("iframe"),$c.style.display="none",document.body.appendChild($c)),$c.contentWindow.location.href=t.toString()}function xD(t){return at(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=mD();switch(e){case Lp.Firefox:yD(t);break;case Lp.Other:{const n=gD();window.location.assign(t),yield n;break}default:}}catch{throw new br(vr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function wD(t,e){return at(this,void 0,void 0,function*(){const n=dD(),r=yield fD(t,n,e);return yield xD(r),n})}const Op={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},vA="com.solana.mobilewalletadapter.v1",U2="com.solana.mobilewalletadapter.v1.base64";function bA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new br(vr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function SA(t){let e;try{e=new URL(t)}catch{throw new br(vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new br(vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Dp(t){return new DataView(t).getUint32(0,!1)}function vD(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,s=0,o;do{if(s>=n||s>r)throw new RangeError("Failed to decode varint");o=e[s++],i|=(o&127)<<7*s}while(o>=128);return{value:i,offset:s}}function bD(t){let{value:e,offset:n}=vD(t);return new Uint8Array(t.slice(n,n+e))}function SD(t,e){return at(this,void 0,void 0,function*(){bA();const n=yield dA(),i=`ws://localhost:${yield wD(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let s;const o=(()=>{const d=[...Op.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((d,h)=>{let p;const m={},y=()=>at(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",y);const{associationKeypair:R}=c,W=yield pf();p.send(yield ff(W.publicKey,R.privateKey)),c={__type:"hello_req_sent",associationPublicKey:R.publicKey,ecdhPrivateKey:W.privateKey}}),w=R=>{R.wasClean?c={__type:"disconnected"}:h(new br(vr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${R.code}: ${R.reason}).`,{closeEvent:R})),S()},b=R=>at(this,void 0,void 0,function*(){S(),Date.now()-s>=Op.timeoutMs?h(new br(vr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(W=>{const O=o();_=window.setTimeout(W,O)}),A())}),g=R=>at(this,void 0,void 0,function*(){const W=yield R.data.arrayBuffer();switch(c.__type){case"connecting":if(W.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const O=yield pf();p.send(yield ff(O.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:O.privateKey};break;case"connected":try{const B=W.slice(0,os),F=Dp(B);if(F!==l+1)throw new Error("Encrypted message has invalid sequence number");l=F;const U=yield yA(W,c.sharedSecret),H=m[U.id];delete m[U.id],H.resolve(U.result)}catch(B){if(B instanceof Y0){const F=m[B.jsonRpcMessageId];delete m[B.jsonRpcMessageId],F.reject(B)}else throw B}break;case"hello_req_sent":{if(W.byteLength===0){const K=yield pf();p.send(yield ff(K.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:K.privateKey};break}const B=yield xA(W,c.associationPublicKey,c.ecdhPrivateKey),F=W.slice(nv),U=F.byteLength!==0?yield at(this,void 0,void 0,function*(){const K=F.slice(0,os),M=Dp(K);if(M!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=M,wA(F,B)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:B,sessionProperties:U};const H=lA(U.protocol_version,(K,M)=>at(this,void 0,void 0,function*(){const f=a++;return p.send(yield gA({id:f,jsonrpc:"2.0",method:K,params:M??{}},B)),new Promise((x,k)=>{m[f]={resolve(C){switch(K){case"authorize":case"reauthorize":{const{wallet_uri_base:T}=C;if(T!=null)try{SA(T)}catch(I){k(I);return}break}}x(C)},reject:k}})}));try{d(yield t(H))}catch(K){h(K)}finally{S(),p.close()}break}}});let S,_;const A=()=>{S&&S(),c={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),p=new WebSocket(i,[vA]),p.addEventListener("open",y),p.addEventListener("close",w),p.addEventListener("error",b),p.addEventListener("message",g),S=()=>{window.clearTimeout(_),p.removeEventListener("open",y),p.removeEventListener("close",w),p.removeEventListener("error",b),p.removeEventListener("message",g)}};A()})})}function _D(t){return at(this,void 0,void 0,function*(){bA();const e=yield dA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const w=[...Op.retryDelayScheduleMs];return()=>w.length>1?w.shift():w[0]})();let s=1,o=0,a,l={__type:"disconnected"},c,d,h=w=>at(this,void 0,void 0,function*(){if(a=="base64"){const b=yield w.data;return tD(b).buffer}else return yield w.data.arrayBuffer()});const p=yield new Promise((w,b)=>{const g=()=>at(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(U2)?a="base64":a="binary",c.removeEventListener("open",g)}),S=O=>{O.wasClean?l={__type:"disconnected"}:b(new br(vr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${O.code}: ${O.reason}).`,{closeEvent:O})),d()},_=O=>at(this,void 0,void 0,function*(){d(),Date.now()-r>=Op.timeoutMs?b(new br(vr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(B=>{const F=i();R=window.setTimeout(B,F)}),W())}),A=O=>at(this,void 0,void 0,function*(){const B=yield h(O);if(l.__type==="connecting"){if(B.byteLength==0)throw new Error("Encountered unexpected message while connecting");const F=bD(B);l={__type:"reflector_id_received",reflectorId:F};const U=yield pD(e.publicKey,t.remoteHostAuthority,F,t==null?void 0:t.baseUri);c.removeEventListener("message",A),w(U)}});let R;const W=()=>{d&&d(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[vA,U2]),c.addEventListener("open",g),c.addEventListener("close",S),c.addEventListener("error",_),c.addEventListener("message",A),d=()=>{window.clearTimeout(R),c.removeEventListener("open",g),c.removeEventListener("close",S),c.removeEventListener("error",_),c.removeEventListener("message",A)}};W()});let m=!1,y;return{associationUrl:p,close:()=>{c.close(),y()},wallet:new Promise((w,b)=>{const g={},S=_=>at(this,void 0,void 0,function*(){const A=yield h(_);switch(l.__type){case"reflector_id_received":if(A.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const R=yield pf(),W=yield ff(R.publicKey,e.privateKey);a=="base64"?c.send(e1(W)):c.send(W),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:R.privateKey};break;case"connected":try{const O=A.slice(0,os),B=Dp(O);if(B!==o+1)throw new Error("Encrypted message has invalid sequence number");o=B;const F=yield yA(A,l.sharedSecret),U=g[F.id];delete g[F.id],U.resolve(F.result)}catch(O){if(O instanceof Y0){const B=g[O.jsonRpcMessageId];delete g[O.jsonRpcMessageId],B.reject(O)}else throw O}break;case"hello_req_sent":{const O=yield xA(A,l.associationPublicKey,l.ecdhPrivateKey),B=A.slice(nv),F=B.byteLength!==0?yield at(this,void 0,void 0,function*(){const H=B.slice(0,os),K=Dp(H);if(K!==o+1)throw new Error("Encrypted message has invalid sequence number");return o=K,wA(B,O)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:O,sessionProperties:F};const U=lA(F.protocol_version,(H,K)=>at(this,void 0,void 0,function*(){const M=s++,f=yield gA({id:M,jsonrpc:"2.0",method:H,params:K??{}},O);return a=="base64"?c.send(e1(f)):c.send(f),new Promise((x,k)=>{g[M]={resolve(C){switch(H){case"authorize":case"reauthorize":{const{wallet_uri_base:T}=C;if(T!=null)try{SA(T)}catch(I){k(I);return}break}}x(C)},reject:k}})}));m=!0;try{w(U)}catch(H){b(H)}break}}});c.addEventListener("message",S),y=()=>{c.removeEventListener("message",S),d(),m||b(new br(vr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}Li.SolanaCloneAuthorization=t1;Li.SolanaMobileWalletAdapterError=br;Li.SolanaMobileWalletAdapterErrorCode=vr;Li.SolanaMobileWalletAdapterProtocolError=Y0;Li.SolanaMobileWalletAdapterProtocolErrorCode=JO;Li.SolanaSignInWithSolana=iD;Li.SolanaSignTransactions=aA;var kD=Li.startRemoteScenario=_D,ED=Li.transact=SD;function ND(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var y=0,w=0,b=0,g=m.length;b!==g&&m[b]===0;)b++,y++;for(var S=(g-b)*c+1>>>0,_=new Uint8Array(S);b!==g;){for(var A=m[b],R=0,W=S-1;(A!==0||R<w)&&W!==-1;W--,R++)A+=256*_[W]>>>0,_[W]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");w=R,b++}for(var O=S-w;O!==S&&_[O]===0;)O++;for(var B=a.repeat(y);O<S;++O)B+=t.charAt(_[O]);return B}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var y=0,w=0,b=0;m[y]===a;)w++,y++;for(var g=(m.length-y)*l+1>>>0,S=new Uint8Array(g);m[y];){var _=m.charCodeAt(y);if(_>255)return;var A=e[_];if(A===255)return;for(var R=0,W=g-1;(A!==0||R<b)&&W!==-1;W--,R++)A+=o*S[W]>>>0,S[W]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=R,y++}for(var O=g-b;O!==g&&S[O]===0;)O++;for(var B=new Uint8Array(w+(g-O)),F=w;O!==g;)B[F++]=S[O++];return B}function p(m){var y=h(m);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:p}}var AD=ND;const MD=AD,CD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var _A=MD(CD);const ID=xa(_A);function fg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tu(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function kA(t){return window.btoa(String.fromCharCode.call(null,...t))}function pg(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function H2(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return kA(e)}function TD(t){const n=t[0]*Vl+1;return P0.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Ze.from(t):Kl.deserialize(t)}function jD(t,e){return Tu(this,void 0,void 0,function*(){return yield ED(r=>t(EA(r)),e)})}function RD(t){return Tu(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield kD(t);return{wallet:e.then(s=>EA(s)),close:n,associationUrl:r}})}function EA(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:i,commitment:s,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,d=fg(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Tu(this,void 0,void 0,function*(){const h=c.map(H2),p={min_context_slot:i,commitment:s,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),Object.values(p).some(w=>w!=null)?{options:p}:null),{payloads:h}));return m.map(pg).map(ID.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:i}=r,s=fg(r,["payloads"]);return Tu(this,void 0,void 0,function*(){const o=i.map(kA),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},s),{payloads:o}));return a.map(pg)})};break;case"signTransactions":e[n]=function(r){var{transactions:i}=r,s=fg(r,["transactions"]);return Tu(this,void 0,void 0,function*(){const o=i.map(H2),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},s),{payloads:o}));return a.map(pg).map(TD)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const BD=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:RD,transact:jD},Symbol.toStringTag,{value:"Module"})),PD=xs(BD);Object.defineProperty(Bi,"__esModule",{value:!0});var yn=P4,fd=B4,LD=Wd,Ml=IO,V2=Xr,NA=PD,OD=_A;function AA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var DD=AA(LD),zp=AA(OD);function Le(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Y(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Fe(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ru,on,Io,Ha,MA,CA,IA,mf;const zD=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,WD=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,FD=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class TA{constructor(){ru.add(this),on.set(this,null),Io.set(this,{}),Ha.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Y(this,ru,"m",CA).call(this),Y(this,on,"f")&&(Y(this,on,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),Y(this,ru,"m",IA).call(this),Y(this,on,"f")&&(Y(this,on,"f").style.display="none"),(n=Y(this,Io,"f").close)===null||n===void 0||n.forEach(r=>r(e))},mf.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Fe(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Le(this,void 0,void 0,function*(){console.log("Injecting modal"),Y(this,ru,"m",MA).call(this)})}addEventListener(e,n){var r;return!((r=Y(this,Io,"f")[e])===null||r===void 0)&&r.push(n)||(Y(this,Io,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;Y(this,Io,"f")[e]=(r=Y(this,Io,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}on=new WeakMap,Io=new WeakMap,Ha=new WeakMap,mf=new WeakMap,ru=new WeakSet,MA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Y(this,on,"f")||Fe(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Fe(this,on,document.createElement("div")),Y(this,on,"f").id="mobile-wallet-adapter-embedded-root-ui",Y(this,on,"f").innerHTML=zD,Y(this,on,"f").style.display="none";const e=Y(this,on,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=WD+this.contentStyles;const r=document.createElement("div");r.innerHTML=FD,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(Y(this,on,"f")),document.body.appendChild(r)},CA=function(){if(!Y(this,on,"f")||Y(this,Ha,"f"))return;[...Y(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Y(this,mf,"f")),Fe(this,Ha,!0)},IA=function(){if(!Y(this,Ha,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Y(this,mf,"f")),!Y(this,on,"f")))return;[...Y(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Fe(this,Ha,!1)};class $D extends TA{constructor(){super(...arguments),this.contentStyles=HD,this.contentHtml=UD}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Le(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Le(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield DD.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const UD=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,HD=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,jA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function RA(t){return"version"in t}function BA(t){return window.btoa(String.fromCharCode.call(null,...t))}function Zs(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Va,qo,r1,i1,s1,o1,iu,Vn,Ui,Is,Ka,qa,gf,su,yf,a1,xf,PA,l1,wf,Ya,c1,ou,vf,Ga,au,bf,u1,d1,Sf,h1,f1,p1,_f,Za,Yo,m1,g1,y1,x1,lu,Kn,Ts,js,Xa,Qa,kf,cu,Ef,Nf,Vr,w1,Af,LA,v1,Mf,uu,b1,du,Cf,Ja,hu,If,S1,_1,Tf,k1,E1,N1,jf;const rv="Mobile Wallet Adapter",OA=64,DA=[yn.SolanaSignAndSendTransaction,yn.SolanaSignTransaction,yn.SolanaSignMessage,yn.SolanaSignIn];class zA{constructor(e){Va.add(this),qo.set(this,{}),r1.set(this,"1.0.0"),i1.set(this,rv),s1.set(this,"https://solanamobile.com/wallets"),o1.set(this,jA),iu.set(this,void 0),Vn.set(this,void 0),Ui.set(this,void 0),Is.set(this,!1),Ka.set(this,0),qa.set(this,[]),gf.set(this,void 0),su.set(this,void 0),yf.set(this,void 0),a1.set(this,(n,r)=>{var i;return!((i=Y(this,qo,"f")[n])===null||i===void 0)&&i.push(r)||(Y(this,qo,"f")[n]=[r]),()=>Y(this,Va,"m",PA).call(this,n,r)}),l1.set(this,({silent:n}={})=>Le(this,void 0,void 0,function*(){if(Y(this,Is,"f")||this.connected)return{accounts:this.accounts};Fe(this,Is,!0);try{if(n){const r=yield Y(this,Ui,"f").get();if(r)yield Y(this,Ya,"f").call(this,r);else return{accounts:this.accounts}}else yield Y(this,wf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Fe(this,Is,!1)}return{accounts:this.accounts}})),wf.set(this,n=>Le(this,void 0,void 0,function*(){try{const r=yield Y(this,Ui,"f").get();if(r)return Y(this,Ya,"f").call(this,r),r;const i=yield Y(this,gf,"f").select(Y(this,qa,"f"));return yield Y(this,Ga,"f").call(this,s=>Le(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:Y(this,iu,"f"),sign_in_payload:n})]),l=Y(this,bf,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([Y(this,c1,"f").call(this,o),Y(this,Ui,"f").set(c),Y(this,Ya,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ya.set(this,n=>Le(this,void 0,void 0,function*(){var r;const i=Y(this,Vn,"f")==null||((r=Y(this,Vn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||Y(this,Vn,"f").accounts.some((s,o)=>s.address!==n.accounts[o].address);Fe(this,Vn,n),i&&Y(this,Va,"m",xf).call(this,"change",{accounts:this.accounts})})),c1.set(this,n=>Le(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,s=yn.SolanaSignAndSendTransaction in this.features!==i||yn.SolanaSignTransaction in this.features!==r;Fe(this,su,Object.assign(Object.assign({},(i||!i&&!r)&&{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Y(this,Sf,"f")}}),r&&{[yn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Y(this,h1,"f")}})),s&&Y(this,Va,"m",xf).call(this,"change",{features:this.features})})),ou.set(this,(n,r,i)=>Le(this,void 0,void 0,function*(){try{const s=yield n.authorize({auth_token:r,identity:Y(this,iu,"f"),chain:i}),o=Y(this,bf,"f").call(this,s.accounts),a=Object.assign(Object.assign({},s),{accounts:o,chain:i});Promise.all([Y(this,Ui,"f").set(a),Y(this,Ya,"f").call(this,a)])}catch(s){throw Y(this,vf,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),vf.set(this,()=>Le(this,void 0,void 0,function*(){var n;Y(this,Ui,"f").clear(),Fe(this,Is,!1),Fe(this,Ka,(n=Y(this,Ka,"f"),n++,n)),Fe(this,Vn,void 0),Y(this,Va,"m",xf).call(this,"change",{accounts:this.accounts})})),Ga.set(this,n=>Le(this,void 0,void 0,function*(){var r;const i=(r=Y(this,Vn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=i?{baseUri:i}:void 0,o=Y(this,Ka,"f");try{return yield NA.transact(n,s)}catch(a){throw Y(this,Ka,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield Y(this,yf,"f").call(this,this)),a}})),au.set(this,()=>{if(!Y(this,Vn,"f"))throw new Error("Wallet not connected");return{authToken:Y(this,Vn,"f").auth_token,chain:Y(this,Vn,"f").chain}}),bf.set(this,n=>n.map(r=>{var i,s;const o=Zs(r.address);return{address:zp.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:Y(this,qa,"f"),features:(s=r.features)!==null&&s!==void 0?s:DA}})),u1.set(this,n=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:i}=Y(this,au,"f").call(this);try{return yield Y(this,Ga,"f").call(this,s=>Le(this,void 0,void 0,function*(){return yield Y(this,ou,"f").call(this,s,r,i),yield s.signTransactions({transactions:n})}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),d1.set(this,(n,r)=>Le(this,void 0,void 0,function*(){const{authToken:i,chain:s}=Y(this,au,"f").call(this);try{return yield Y(this,Ga,"f").call(this,o=>Le(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),Y(this,ou,"f").call(this,o,i,s)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Sf.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];for(const i of n){const s=fd.VersionedTransaction.deserialize(i.transaction),o=yield Y(this,d1,"f").call(this,s,i.options);r.push({signature:zp.default.decode(o)})}return r})),h1.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=n.map(({transaction:s})=>fd.VersionedTransaction.deserialize(s));return(yield Y(this,u1,"f").call(this,r)).map(s=>({signedTransaction:RA(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),f1.set(this,(...n)=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:i}=Y(this,au,"f").call(this),s=n.map(({account:a})=>BA(a.publicKey)),o=n.map(({message:a})=>a);try{return yield Y(this,Ga,"f").call(this,a=>Le(this,void 0,void 0,function*(){return yield Y(this,ou,"f").call(this,a,r,i),(yield a.signMessages({addresses:s,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-OA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),p1.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield Y(this,_f,"f").call(this,i));else return[yield Y(this,_f,"f").call(this,n[0])];return r})),_f.set(this,n=>Le(this,void 0,void 0,function*(){var r,i;Fe(this,Is,!0);try{const s=yield Y(this,wf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=s.accounts.find(l=>l.address==o))!==null&&i!==void 0?i:{address:o}),{publicKey:Zs(o)}),signedMessage:Zs(s.sign_in_result.signed_message),signature:Zs(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Fe(this,Is,!1)}})),Fe(this,Ui,e.authorizationCache),Fe(this,iu,e.appIdentity),Fe(this,qa,e.chains),Fe(this,gf,e.chainSelector),Fe(this,yf,e.onWalletNotFound),Fe(this,su,{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Y(this,Sf,"f")}})}get version(){return Y(this,r1,"f")}get name(){return Y(this,i1,"f")}get url(){return Y(this,s1,"f")}get icon(){return Y(this,o1,"f")}get chains(){return Y(this,qa,"f")}get features(){return Object.assign({[Ml.StandardConnect]:{version:"1.0.0",connect:Y(this,l1,"f")},[Ml.StandardDisconnect]:{version:"1.0.0",disconnect:Y(this,vf,"f")},[Ml.StandardEvents]:{version:"1.0.0",on:Y(this,a1,"f")},[yn.SolanaSignMessage]:{version:"1.0.0",signMessage:Y(this,f1,"f")},[yn.SolanaSignIn]:{version:"1.0.0",signIn:Y(this,p1,"f")}},Y(this,su,"f"))}get accounts(){var e,n;return(n=(e=Y(this,Vn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!Y(this,Vn,"f")}get isAuthorized(){return!!Y(this,Vn,"f")}get currentAuthorization(){return Y(this,Vn,"f")}get cachedAuthorizationResult(){return Y(this,Ui,"f").get()}}qo=new WeakMap,r1=new WeakMap,i1=new WeakMap,s1=new WeakMap,o1=new WeakMap,iu=new WeakMap,Vn=new WeakMap,Ui=new WeakMap,Is=new WeakMap,Ka=new WeakMap,qa=new WeakMap,gf=new WeakMap,su=new WeakMap,yf=new WeakMap,a1=new WeakMap,l1=new WeakMap,wf=new WeakMap,Ya=new WeakMap,c1=new WeakMap,ou=new WeakMap,vf=new WeakMap,Ga=new WeakMap,au=new WeakMap,bf=new WeakMap,u1=new WeakMap,d1=new WeakMap,Sf=new WeakMap,h1=new WeakMap,f1=new WeakMap,p1=new WeakMap,_f=new WeakMap,Va=new WeakSet,xf=function(e,...n){var r;(r=Y(this,qo,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},PA=function(e,n){var r;Y(this,qo,"f")[e]=(r=Y(this,qo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class WA{constructor(e){Za.add(this),Yo.set(this,{}),m1.set(this,"1.0.0"),g1.set(this,rv),y1.set(this,"https://solanamobile.com/wallets"),x1.set(this,jA),lu.set(this,void 0),Kn.set(this,void 0),Ts.set(this,void 0),js.set(this,!1),Xa.set(this,0),Qa.set(this,[]),kf.set(this,void 0),cu.set(this,void 0),Ef.set(this,void 0),Nf.set(this,void 0),Vr.set(this,void 0),w1.set(this,(n,r)=>{var i;return!((i=Y(this,Yo,"f")[n])===null||i===void 0)&&i.push(r)||(Y(this,Yo,"f")[n]=[r]),()=>Y(this,Za,"m",LA).call(this,n,r)}),v1.set(this,({silent:n}={})=>Le(this,void 0,void 0,function*(){if(Y(this,js,"f")||this.connected)return{accounts:this.accounts};Fe(this,js,!0);try{yield Y(this,Mf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Fe(this,js,!1)}return{accounts:this.accounts}})),Mf.set(this,n=>Le(this,void 0,void 0,function*(){try{const r=yield Y(this,Ts,"f").get();if(r)return Y(this,uu,"f").call(this,r),r;Y(this,Vr,"f")&&Fe(this,Vr,void 0,"f");const i=yield Y(this,kf,"f").select(Y(this,Qa,"f"));return yield Y(this,Ja,"f").call(this,s=>Le(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:Y(this,lu,"f"),sign_in_payload:n})]),l=Y(this,If,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([Y(this,b1,"f").call(this,o),Y(this,Ts,"f").set(c),Y(this,uu,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),uu.set(this,n=>Le(this,void 0,void 0,function*(){var r;const i=Y(this,Kn,"f")==null||((r=Y(this,Kn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||Y(this,Kn,"f").accounts.some((s,o)=>s.address!==n.accounts[o].address);Fe(this,Kn,n),i&&Y(this,Za,"m",Af).call(this,"change",{accounts:this.accounts})})),b1.set(this,n=>Le(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),s=yn.SolanaSignAndSendTransaction in this.features!==i||yn.SolanaSignTransaction in this.features!==r;Fe(this,cu,Object.assign(Object.assign({},i&&{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:Y(this,Tf,"f")}}),r&&{[yn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:Y(this,k1,"f")}})),s&&Y(this,Za,"m",Af).call(this,"change",{features:this.features})})),du.set(this,(n,r,i)=>Le(this,void 0,void 0,function*(){try{const s=yield n.authorize({auth_token:r,identity:Y(this,lu,"f")}),o=Y(this,If,"f").call(this,s.accounts),a=Object.assign(Object.assign({},s),{accounts:o,chain:i});Promise.all([Y(this,Ts,"f").set(a),Y(this,uu,"f").call(this,a)])}catch(s){throw Y(this,Cf,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),Cf.set(this,()=>Le(this,void 0,void 0,function*(){var n,r;(n=Y(this,Vr,"f"))===null||n===void 0||n.close(),Y(this,Ts,"f").clear(),Fe(this,js,!1),Fe(this,Xa,(r=Y(this,Xa,"f"),r++,r)),Fe(this,Kn,void 0),Fe(this,Vr,void 0),Y(this,Za,"m",Af).call(this,"change",{accounts:this.accounts})})),Ja.set(this,n=>Le(this,void 0,void 0,function*(){var r;const i=(r=Y(this,Kn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:Y(this,Nf,"f")}),a=Y(this,Xa,"f"),l=new $D;if(Y(this,Vr,"f"))return n(Y(this,Vr,"f").wallet);try{const{associationUrl:c,close:d,wallet:h}=yield NA.startRemoteScenario(o),p=l.addEventListener("close",m=>{m&&d()});return l.initWithQR(c.toString()),l.open(),Fe(this,Vr,{close:d,wallet:yield h},"f"),p(),l.close(),yield n(Y(this,Vr,"f").wallet)}catch(c){throw l.close(),Y(this,Xa,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield Y(this,Ef,"f").call(this,this)),c}})),hu.set(this,()=>{if(!Y(this,Kn,"f"))throw new Error("Wallet not connected");return{authToken:Y(this,Kn,"f").auth_token,chain:Y(this,Kn,"f").chain}}),If.set(this,n=>n.map(r=>{var i,s;const o=Zs(r.address);return{address:zp.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:Y(this,Qa,"f"),features:(s=r.features)!==null&&s!==void 0?s:DA}})),S1.set(this,n=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:i}=Y(this,hu,"f").call(this);try{return yield Y(this,Ja,"f").call(this,s=>Le(this,void 0,void 0,function*(){return yield Y(this,du,"f").call(this,s,r,i),yield s.signTransactions({transactions:n})}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),_1.set(this,(n,r)=>Le(this,void 0,void 0,function*(){const{authToken:i,chain:s}=Y(this,hu,"f").call(this);try{return yield Y(this,Ja,"f").call(this,o=>Le(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),Y(this,du,"f").call(this,o,i,s)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Tf.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];for(const i of n){const s=fd.VersionedTransaction.deserialize(i.transaction),o=yield Y(this,_1,"f").call(this,s,i.options);r.push({signature:zp.default.decode(o)})}return r})),k1.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=n.map(({transaction:s})=>fd.VersionedTransaction.deserialize(s));return(yield Y(this,S1,"f").call(this,r)).map(s=>({signedTransaction:RA(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),E1.set(this,(...n)=>Le(this,void 0,void 0,function*(){const{authToken:r,chain:i}=Y(this,hu,"f").call(this),s=n.map(({account:a})=>BA(a.publicKey)),o=n.map(({message:a})=>a);try{return yield Y(this,Ja,"f").call(this,a=>Le(this,void 0,void 0,function*(){return yield Y(this,du,"f").call(this,a,r,i),(yield a.signMessages({addresses:s,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-OA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),N1.set(this,(...n)=>Le(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield Y(this,jf,"f").call(this,i));else return[yield Y(this,jf,"f").call(this,n[0])];return r})),jf.set(this,n=>Le(this,void 0,void 0,function*(){var r,i;Fe(this,js,!0);try{const s=yield Y(this,Mf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=s.accounts.find(l=>l.address==o))!==null&&i!==void 0?i:{address:o}),{publicKey:Zs(o)}),signedMessage:Zs(s.sign_in_result.signed_message),signature:Zs(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Fe(this,js,!1)}})),Fe(this,Ts,e.authorizationCache),Fe(this,lu,e.appIdentity),Fe(this,Qa,e.chains),Fe(this,kf,e.chainSelector),Fe(this,Nf,e.remoteHostAuthority),Fe(this,Ef,e.onWalletNotFound),Fe(this,cu,{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Y(this,Tf,"f")}})}get version(){return Y(this,m1,"f")}get name(){return Y(this,g1,"f")}get url(){return Y(this,y1,"f")}get icon(){return Y(this,x1,"f")}get chains(){return Y(this,Qa,"f")}get features(){return Object.assign({[Ml.StandardConnect]:{version:"1.0.0",connect:Y(this,v1,"f")},[Ml.StandardDisconnect]:{version:"1.0.0",disconnect:Y(this,Cf,"f")},[Ml.StandardEvents]:{version:"1.0.0",on:Y(this,w1,"f")},[yn.SolanaSignMessage]:{version:"1.0.0",signMessage:Y(this,E1,"f")},[yn.SolanaSignIn]:{version:"1.0.0",signIn:Y(this,N1,"f")}},Y(this,cu,"f"))}get accounts(){var e,n;return(n=(e=Y(this,Kn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!Y(this,Vr,"f")&&!!Y(this,Kn,"f")}get isAuthorized(){return!!Y(this,Kn,"f")}get currentAuthorization(){return Y(this,Kn,"f")}get cachedAuthorizationResult(){return Y(this,Ts,"f").get()}}Yo=new WeakMap,m1=new WeakMap,g1=new WeakMap,y1=new WeakMap,x1=new WeakMap,lu=new WeakMap,Kn=new WeakMap,Ts=new WeakMap,js=new WeakMap,Xa=new WeakMap,Qa=new WeakMap,kf=new WeakMap,cu=new WeakMap,Ef=new WeakMap,Nf=new WeakMap,Vr=new WeakMap,w1=new WeakMap,v1=new WeakMap,Mf=new WeakMap,uu=new WeakMap,b1=new WeakMap,du=new WeakMap,Cf=new WeakMap,Ja=new WeakMap,hu=new WeakMap,If=new WeakMap,S1=new WeakMap,_1=new WeakMap,Tf=new WeakMap,k1=new WeakMap,E1=new WeakMap,N1=new WeakMap,jf=new WeakMap,Za=new WeakSet,Af=function(e,...n){var r;(r=Y(this,Yo,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},LA=function(e,n){var r;Y(this,Yo,"f")[e]=(r=Y(this,Yo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var VD=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},KD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Rf;function K2(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new qD(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class qD extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Rf.set(this,void 0),VD(this,Rf,e,"f")}get detail(){return KD(this,Rf,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Rf=new WeakMap;function YD(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function GD(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function ZD(t){YD()?K2(new zA(t)):GD()&&t.remoteHostAuthority!==void 0&&K2(new WA(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const XD="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",QD="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class JD extends TA{constructor(){super(...arguments),this.contentStyles=tz,this.contentHtml=ez}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),s=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=XD,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=QD,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const ez=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,tz=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function FA(){return Le(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new JD;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function nz(){return()=>Le(this,void 0,void 0,function*(){FA()})}const mg="SolanaMobileWalletAdapterDefaultAuthorizationCache";function rz(){let t;try{t=window.localStorage}catch{}return{clear(){return Le(this,void 0,void 0,function*(){if(t)try{t.removeItem(mg)}catch{}})},get(){return Le(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(mg));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new fd.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Le(this,void 0,void 0,function*(){if(t)try{t.setItem(mg,JSON.stringify(e))}catch{}})}}}function iz(){return{select(t){return Le(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(V2.SOLANA_MAINNET_CHAIN)?V2.SOLANA_MAINNET_CHAIN:t[0]})}}}Bi.LocalSolanaMobileWalletAdapterWallet=zA;Bi.RemoteSolanaMobileWalletAdapterWallet=WA;Bi.SolanaMobileWalletAdapterWalletName=rv;Bi.createDefaultAuthorizationCache=rz;Bi.createDefaultChainSelector=iz;Bi.createDefaultWalletNotFoundHandler=nz;Bi.defaultErrorModalWalletNotFoundHandler=FA;Bi.registerMwa=ZD;Object.defineProperty(So,"__esModule",{value:!0});var an=$L,Bf=B4,zo=P4,Jl=Bi;function ut(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function je(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function fr(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const A1="standard:connect",sz="standard:disconnect",oz="standard:events";function gg(t){return window.btoa(String.fromCharCode.call(null,...t))}function az(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var hn,Mt,Ws,es,Pf,Gi,To,M1,C1,$A,Wp,Lf,Ps;const lz="Mobile Wallet Adapter",cz=64;function uz(t){return"version"in t}function iv(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class UA extends an.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),hn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Mt.set(this,void 0),Ws.set(this,!1),es.set(this,az()?an.WalletReadyState.Loadable:an.WalletReadyState.Unsupported),Pf.set(this,void 0),Gi.set(this,void 0),To.set(this,void 0),M1.set(this,r=>ut(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){je(this,hn,"m",$A).call(this);const i=yield je(this,Pf,"f").call(this,r.accounts);i!==je(this,Gi,"f")&&(fr(this,Gi,i),fr(this,To,void 0),this.emit("connect",this.publicKey))}})),fr(this,Pf,r=>ut(this,void 0,void 0,function*(){var i;const s=yield n.addressSelector.select(r.map(({publicKey:o})=>gg(o)));return(i=r.find(({publicKey:o})=>gg(o)===s))!==null&&i!==void 0?i:r[0]})),fr(this,Mt,e),je(this,Mt,"f").features[oz].on("change",je(this,M1,"f")),this.name=je(this,Mt,"f").name,this.icon=je(this,Mt,"f").icon,this.url=je(this,Mt,"f").url}get publicKey(){var e;if(!je(this,To,"f")&&je(this,Gi,"f"))try{fr(this,To,new Bf.PublicKey(je(this,Gi,"f").publicKey),"f")}catch(n){throw new an.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=je(this,To,"f"))!==null&&e!==void 0?e:null}get connected(){return je(this,Mt,"f").connected}get connecting(){return je(this,Ws,"f")}get readyState(){return je(this,es,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ut(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ut(this,void 0,void 0,function*(){je(this,hn,"m",C1).call(this,!0)})}connect(){return ut(this,void 0,void 0,function*(){je(this,hn,"m",C1).call(this)})}performAuthorization(e){return ut(this,void 0,void 0,function*(){try{const n=yield je(this,Mt,"f").cachedAuthorizationResult;return n?(yield je(this,Mt,"f").features[A1].connect({silent:!0}),n):(e?yield je(this,Mt,"f").features[zo.SolanaSignIn].signIn(e):yield je(this,Mt,"f").features[A1].connect(),yield yield je(this,Mt,"f").cachedAuthorizationResult)}catch(n){throw new an.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return ut(this,void 0,void 0,function*(){return yield je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){fr(this,Ws,!1),fr(this,To,void 0),fr(this,Gi,void 0),yield je(this,Mt,"f").features[sz].disconnect(),this.emit("disconnect")}))})}signIn(e){return ut(this,void 0,void 0,function*(){return je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){var n;if(je(this,es,"f")!==an.WalletReadyState.Installed&&je(this,es,"f")!==an.WalletReadyState.Loadable)throw new an.WalletNotReadyError;fr(this,Ws,!0);try{const r=yield je(this,Mt,"f").features[zo.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new an.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{fr(this,Ws,!1)}}))})}signMessage(e){return ut(this,void 0,void 0,function*(){return yield je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){const n=je(this,hn,"m",Wp).call(this);try{return(yield je(this,Mt,"f").features[zo.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new an.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return ut(this,void 0,void 0,function*(){return yield je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){const i=je(this,hn,"m",Wp).call(this);try{let o=function(){let a;switch(n.commitment){case"confirmed":case"finalized":case"processed":a=n.commitment;break;default:a="finalized"}let l;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":l=r.preflightCommitment;break;case void 0:l=a;break;default:l="finalized"}return(l==="finalized"?2:l==="confirmed"?1:0)<(a==="finalized"?2:a==="confirmed"?1:0)?l:a};var s=o;if(zo.SolanaSignAndSendTransaction in je(this,Mt,"f").features){const a=iv(je(this,Mt,"f").currentAuthorization.chain),[l]=(yield je(this,Mt,"f").features[zo.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:a,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(c=>gg(c.signature));return l}else{const[a]=yield je(this,hn,"m",Lf).call(this,[e]);if(uz(a))return yield n.sendTransaction(a);{const l=a.serialize();return yield n.sendRawTransaction(l,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new an.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return ut(this,void 0,void 0,function*(){return yield je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){const[n]=yield je(this,hn,"m",Lf).call(this,[e]);return n}))})}signAllTransactions(e){return ut(this,void 0,void 0,function*(){return yield je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){return yield je(this,hn,"m",Lf).call(this,e)}))})}}Mt=new WeakMap,Ws=new WeakMap,es=new WeakMap,Pf=new WeakMap,Gi=new WeakMap,To=new WeakMap,M1=new WeakMap,hn=new WeakSet,C1=function(e=!1){return ut(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield je(this,hn,"m",Ps).call(this,()=>ut(this,void 0,void 0,function*(){if(je(this,es,"f")!==an.WalletReadyState.Installed&&je(this,es,"f")!==an.WalletReadyState.Loadable)throw new an.WalletNotReadyError;fr(this,Ws,!0);try{yield je(this,Mt,"f").features[A1].connect({silent:e})}catch(n){throw new an.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{fr(this,Ws,!1)}}))})},$A=function(){je(this,es,"f")!==an.WalletReadyState.Installed&&this.emit("readyStateChange",fr(this,es,an.WalletReadyState.Installed))},Wp=function(){if(!je(this,Mt,"f").isAuthorized||!je(this,Gi,"f"))throw new an.WalletNotConnectedError;return je(this,Gi,"f")},Lf=function(e){return ut(this,void 0,void 0,function*(){const n=je(this,hn,"m",Wp).call(this);try{if(zo.SolanaSignTransaction in je(this,Mt,"f").features)return je(this,Mt,"f").features[zo.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const s=i.signedTransaction,a=s[0]*cz+1;return Bf.VersionedMessage.deserializeMessageVersion(s.slice(a,s.length))==="legacy"?Bf.Transaction.from(s):Bf.VersionedTransaction.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new an.WalletSignTransactionError(r==null?void 0:r.message,r)}})},Ps=function(e){return ut(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class HA extends UA{constructor(e){var n;const r=iv((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new Jl.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ut(this,void 0,void 0,function*(){const i=yield e.authorizationResultCache.get();return i&&"chain"in i?i:i?Object.assign(Object.assign({},i),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:Jl.createDefaultChainSelector(),onWalletNotFound:()=>ut(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class dz extends UA{constructor(e){const n=iv(e.chain);super(new Jl.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ut(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:Jl.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>ut(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class hz extends HA{}function fz(){return{select(t){return ut(this,void 0,void 0,function*(){return t[0]})}}}function pz(){return Jl.createDefaultAuthorizationCache()}function mz(t){return ut(this,void 0,void 0,function*(){return Jl.defaultErrorModalWalletNotFoundHandler()})}function gz(){return mz}So.LocalSolanaMobileWalletAdapter=HA;So.RemoteSolanaMobileWalletAdapter=dz;var yz=So.SolanaMobileWalletAdapter=hz,Of=So.SolanaMobileWalletAdapterWalletName=lz,xz=So.createDefaultAddressSelector=fz,wz=So.createDefaultAuthorizationResultCache=pz,vz=So.createDefaultWalletNotFoundHandler=gz;function bz(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Sz(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),h=d.charCodeAt(0);if(e[h]!==255)throw new TypeError(d+" is ambiguous");e[h]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,h=0,p=0;const m=c.length;for(;p!==m&&c[p]===0;)p++,d++;const y=(m-p)*s+1>>>0,w=new Uint8Array(y);for(;p!==m;){let S=c[p],_=0;for(let A=y-1;(S!==0||_<h)&&A!==-1;A--,_++)S+=256*w[A]>>>0,w[A]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");h=_,p++}let b=y-h;for(;b!==y&&w[b]===0;)b++;let g=r.repeat(d);for(;b<y;++b)g+=t.charAt(w[b]);return g}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,h=0,p=0;for(;c[d]===r;)h++,d++;const m=(c.length-d)*i+1>>>0,y=new Uint8Array(m);for(;d<c.length;){const S=c.charCodeAt(d);if(S>255)return;let _=e[S];if(_===255)return;let A=0;for(let R=m-1;(_!==0||A<p)&&R!==-1;R--,A++)_+=n*y[R]>>>0,y[R]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");p=A,d++}let w=m-p;for(;w!==m&&y[w]===0;)w++;const b=new Uint8Array(h+(m-w));let g=h;for(;w!==m;)b[g++]=y[w++];return b}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var _z="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const kz=Sz(_z);var _e=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},nn=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},En,er,Go,Zo,jo,fu,Fp,et,$p,I1,Df,T1,ju,j1,q2,Y2,G2,Z2;class Ez extends Kw{get name(){return _e(this,et,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return _e(this,et,"f").icon}get readyState(){return _e(this,$p,"f")}get publicKey(){return _e(this,Go,"f")}get connecting(){return _e(this,Zo,"f")}get supportedTransactionVersions(){return _e(this,Fp,"f")}get wallet(){return _e(this,et,"f")}get standard(){return!0}constructor({wallet:e}){super(),En.add(this),er.set(this,void 0),Go.set(this,void 0),Zo.set(this,void 0),jo.set(this,void 0),fu.set(this,void 0),Fp.set(this,void 0),et.set(this,void 0),$p.set(this,typeof window>"u"||typeof document>"u"?kt.Unsupported:kt.Installed),j1.set(this,n=>{if("accounts"in n){const r=_e(this,et,"f").accounts[0];_e(this,er,"f")&&!_e(this,jo,"f")&&r!==_e(this,er,"f")&&(r?_e(this,En,"m",Df).call(this,r):(this.emit("error",new Uw),_e(this,En,"m",T1).call(this)))}"features"in n&&_e(this,En,"m",ju).call(this)}),nn(this,et,e,"f"),nn(this,er,null,"f"),nn(this,Go,null,"f"),nn(this,Zo,!1,"f"),nn(this,jo,!1,"f"),nn(this,fu,_e(this,et,"f").features[$0].on("change",_e(this,j1,"f")),"f"),_e(this,En,"m",ju).call(this)}destroy(){nn(this,er,null,"f"),nn(this,Go,null,"f"),nn(this,Zo,!1,"f"),nn(this,jo,!1,"f");const e=_e(this,fu,"f");e&&(nn(this,fu,null,"f"),e())}async autoConnect(){return _e(this,En,"m",I1).call(this,{silent:!0})}async connect(){return _e(this,En,"m",I1).call(this)}async disconnect(){if(Tp in _e(this,et,"f").features)try{nn(this,jo,!0,"f"),await _e(this,et,"f").features[Tp].disconnect()}catch(e){this.emit("error",new Hw(e==null?void 0:e.message,e))}finally{nn(this,jo,!1,"f")}_e(this,En,"m",T1).call(this)}async sendTransaction(e,n,r={}){try{const i=_e(this,er,"f");if(!i)throw new lr;let s;if(Ji in _e(this,et,"f").features)if(i.features.includes(Ji))s=Ji;else if(mn in _e(this,et,"f").features&&i.features.includes(mn))s=mn;else throw new qs;else if(mn in _e(this,et,"f").features){if(!i.features.includes(mn))throw new qs;s=mn}else throw new pl;const o=tA(n.rpcEndpoint);if(!i.chains.includes(o))throw new Ys;try{const{signers:a,...l}=r;let c;if(ss(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Ji){const[d]=await _e(this,et,"f").features[Ji].signAndSendTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:hf(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return kz.encode(d.signature)}else{const[d]=await _e(this,et,"f").features[mn].signTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:hf(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...l,preflightCommitment:hf(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Xt?a:new Ys(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}er=new WeakMap,Go=new WeakMap,Zo=new WeakMap,jo=new WeakMap,fu=new WeakMap,Fp=new WeakMap,et=new WeakMap,$p=new WeakMap,j1=new WeakMap,En=new WeakSet,I1=async function(e){try{if(this.connected||this.connecting)return;if(_e(this,$p,"f")!==kt.Installed)throw new dd;if(nn(this,Zo,!0,"f"),!_e(this,et,"f").accounts.length)try{await _e(this,et,"f").features[F0].connect(e)}catch(r){throw new $w(r==null?void 0:r.message,r)}const n=_e(this,et,"f").accounts[0];if(!n)throw new qs;_e(this,En,"m",Df).call(this,n)}catch(n){throw this.emit("error",n),n}finally{nn(this,Zo,!1,"f")}},Df=function(e){let n;try{n=new de(e.address)}catch(r){throw new Ip(r==null?void 0:r.message,r)}nn(this,er,e,"f"),nn(this,Go,n,"f"),_e(this,En,"m",ju).call(this),this.emit("connect",n)},T1=function(){nn(this,er,null,"f"),nn(this,Go,null,"f"),_e(this,En,"m",ju).call(this),this.emit("disconnect")},ju=function(){var n,r;const e=Ji in _e(this,et,"f").features?_e(this,et,"f").features[Ji].supportedTransactionVersions:_e(this,et,"f").features[mn].supportedTransactionVersions;nn(this,Fp,bz(e,["legacy"])?null:new Set(e),"f"),mn in _e(this,et,"f").features&&((n=_e(this,er,"f"))!=null&&n.features.includes(mn))?(this.signTransaction=_e(this,En,"m",q2),this.signAllTransactions=_e(this,En,"m",Y2)):(delete this.signTransaction,delete this.signAllTransactions),Ua in _e(this,et,"f").features&&((r=_e(this,er,"f"))!=null&&r.features.includes(Ua))?this.signMessage=_e(this,En,"m",G2):delete this.signMessage,df in _e(this,et,"f").features?this.signIn=_e(this,En,"m",Z2):delete this.signIn},q2=async function(e){try{const n=_e(this,er,"f");if(!n)throw new lr;if(!(mn in _e(this,et,"f").features))throw new pl;if(!n.features.includes(mn))throw new qs;try{const i=(await _e(this,et,"f").features[mn].signTransaction({account:n,transaction:ss(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ss(e)?Kl.deserialize(i):Ze.from(i)}catch(r){throw r instanceof Xt?r:new is(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Y2=async function(e){try{const n=_e(this,er,"f");if(!n)throw new lr;if(!(mn in _e(this,et,"f").features))throw new pl;if(!n.features.includes(mn))throw new qs;try{const r=await _e(this,et,"f").features[mn].signTransaction(...e.map(i=>({account:n,transaction:ss(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return ss(i)?Kl.deserialize(o):Ze.from(o)})}catch(r){throw new is(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},G2=async function(e){try{const n=_e(this,er,"f");if(!n)throw new lr;if(!(Ua in _e(this,et,"f").features))throw new pl;if(!n.features.includes(Ua))throw new qs;try{return(await _e(this,et,"f").features[Ua].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Vw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Z2=async function(e={}){try{if(!(df in _e(this,et,"f").features))throw new pl;let n;try{[n]=await _e(this,et,"f").features[df].signIn(e)}catch(r){throw new Gy(r==null?void 0:r.message,r)}if(!n)throw new Gy;return _e(this,En,"m",Df).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const Nz=j4;var Az=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Mz=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},zf;let mr;const G0=new Set;function Cz(t){Ru=void 0,G0.add(t)}function Iz(t){Ru=void 0,G0.delete(t)}const ml={};function Tz(){if(mr||(mr=Object.freeze({register:X2,get:jz,on:Rz}),typeof window>"u"))return mr;const t=Object.freeze({register:X2});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Bz(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return mr}function X2(...t){var e;return t=t.filter(n=>!G0.has(n)),t.length?(t.forEach(n=>Cz(n)),(e=ml.register)==null||e.forEach(n=>R1(()=>n(...t))),function(){var r;t.forEach(i=>Iz(i)),(r=ml.unregister)==null||r.forEach(i=>R1(()=>i(...t)))}):()=>{}}let Ru;function jz(){return Ru||(Ru=[...G0]),Ru}function Rz(t,e){var n;return(n=ml[t])!=null&&n.push(e)||(ml[t]=[e]),function(){var i;ml[t]=(i=ml[t])==null?void 0:i.filter(s=>e!==s)}}function R1(t){try{t()}catch(e){console.error(e)}}class Bz extends Event{get detail(){return Az(this,zf,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),zf.set(this,void 0),Mz(this,zf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}zf=new WeakMap;function Pz(){if(mr||(mr=Tz(),typeof window>"u"))return mr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),mr;const{register:e}=mr,n=(...r)=>r.forEach(i=>R1(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),mr}return n(...t),mr}function Lz(t){const e=Q2(()=>new Set),{get:n,on:r}=Q2(()=>Pz()),[i,s]=z.useState(()=>J2(n()));z.useEffect(()=>{const a=[r("register",(...l)=>s(c=>[...c,...J2(l)])),r("unregister",(...l)=>s(c=>c.filter(d=>l.some(h=>h===d.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=Oz(i);return z.useEffect(()=>{if(!o)return;const a=new Set(i);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,i]),z.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),z.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function Q2(t){const e=z.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function Oz(t){const e=z.useRef(void 0);return z.useEffect(()=>{e.current=t}),e.current}function J2(t){return t.filter(Nz).map(e=>new Ez({wallet:e}))}var Cl;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Cl||(Cl={}));function Dz(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function zz({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Of&&n.readyState===kt.Installed)?Cl.DESKTOP_WEB:e&&/android/i.test(e)&&!Dz(e)?Cl.MOBILE_WEB:Cl.DESKTOP_WEB}function Wz(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function Fz({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const l=z.useRef(!1),[c,d]=z.useState(!1),h=z.useRef(!1),[p,m]=z.useState(!1),[y,w]=z.useState(()=>(n==null?void 0:n.publicKey)??null),[b,g]=z.useState(()=>(n==null?void 0:n.connected)??!1),S=z.useRef(o);z.useEffect(()=>(S.current=o,()=>{S.current=void 0}),[o]);const _=z.useRef((x,k)=>(r.current||(S.current?S.current(x,k):(console.error(x,k),x instanceof dd&&typeof window<"u"&&k&&window.open(k.url,"_blank"))),x)),[A,R]=z.useState(()=>e.map(x=>({adapter:x,readyState:x.readyState})).filter(({readyState:x})=>x!==kt.Unsupported));z.useEffect(()=>{R(k=>e.map((C,T)=>{const I=k[T];return I&&I.adapter===C&&I.readyState===C.readyState?I:{adapter:C,readyState:C.readyState}}).filter(({readyState:C})=>C!==kt.Unsupported));function x(k){R(C=>{const T=C.findIndex(({adapter:L})=>L===this);if(T===-1)return C;const{adapter:I}=C[T];return[...C.slice(0,T),{adapter:I,readyState:k},...C.slice(T+1)].filter(({readyState:L})=>L!==kt.Unsupported)})}return e.forEach(k=>k.on("readyStateChange",x,k)),()=>{e.forEach(k=>k.off("readyStateChange",x,k))}},[n,e]);const W=z.useMemo(()=>A.find(x=>x.adapter===n)??null,[n,A]);z.useEffect(()=>{if(!n)return;const x=T=>{w(T),l.current=!1,d(!1),g(!0),h.current=!1,m(!1)},k=()=>{r.current||(w(null),l.current=!1,d(!1),g(!1),h.current=!1,m(!1))},C=T=>{_.current(T,n)};return n.on("connect",x),n.on("disconnect",k),n.on("error",C),()=>{n.off("connect",x),n.off("disconnect",k),n.off("error",C),k()}},[n,r]);const O=z.useRef(!1);z.useEffect(()=>()=>{O.current=!1},[n]),z.useEffect(()=>{O.current||l.current||b||!i||!((W==null?void 0:W.readyState)===kt.Installed||(W==null?void 0:W.readyState)===kt.Loadable)||(l.current=!0,d(!0),O.current=!0,async function(){try{await i()}catch{s()}finally{d(!1),l.current=!1}}())},[b,i,s,W]);const B=z.useCallback(async(x,k,C)=>{if(!n)throw _.current(new D2);if(!b)throw _.current(new lr,n);return await n.sendTransaction(x,k,C)},[n,b]),F=z.useMemo(()=>n&&"signTransaction"in n?async x=>{if(!b)throw _.current(new lr,n);return await n.signTransaction(x)}:void 0,[n,b]),U=z.useMemo(()=>n&&"signAllTransactions"in n?async x=>{if(!b)throw _.current(new lr,n);return await n.signAllTransactions(x)}:void 0,[n,b]),H=z.useMemo(()=>n&&"signMessage"in n?async x=>{if(!b)throw _.current(new lr,n);return await n.signMessage(x)}:void 0,[n,b]),K=z.useMemo(()=>n&&"signIn"in n?async x=>await n.signIn(x):void 0,[n]),M=z.useCallback(async()=>{if(l.current||h.current||W!=null&&W.adapter.connected)return;if(!W)throw _.current(new D2);const{adapter:x,readyState:k}=W;if(!(k===kt.Installed||k===kt.Loadable))throw _.current(new dd,x);l.current=!0,d(!0);try{await x.connect()}catch(C){throw s(),C}finally{d(!1),l.current=!1}},[s,W]),f=z.useCallback(async()=>{if(!h.current&&n){h.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),h.current=!1}}},[n]);return V.createElement(R4.Provider,{value:{autoConnect:!!i,wallets:A,wallet:W,publicKey:y,connected:b,connecting:c,disconnecting:p,select:a,connect:M,disconnect:f,sendTransaction:B,signTransaction:F,signAllTransactions:U,signMessage:H,signIn:K}},t)}let yg;function $z(){var t;return yg===void 0&&(yg=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),yg}function eS(t){const e=$z();return zz({adapters:t,userAgentString:e})===Cl.MOBILE_WEB}function Uz(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Hz({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=M4(),o=Lz(e),a=z.useMemo(()=>{if(!eS(o))return null;const S=o.find(_=>_.name===Of);return S||new yz({addressSelector:xz(),appIdentity:{uri:Uz()},authorizationResultCache:wz(),cluster:Wz(s==null?void 0:s.rpcEndpoint),onWalletNotFound:vz()})},[o,s==null?void 0:s.rpcEndpoint]),l=z.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,d]=FL(r,null),h=z.useMemo(()=>l.find(S=>S.name===c)??null,[l,c]),p=z.useCallback(S=>{c!==S&&(h&&h.name!==Of&&h.disconnect(),d(S))},[h,d,c]);z.useEffect(()=>{if(!h)return;function S(){w.current||d(null)}return h.on("disconnect",S),()=>{h.off("disconnect",S)}},[h,o,d,c]);const m=z.useRef(!1),y=z.useMemo(()=>{if(!(!n||!h))return async()=>{(n===!0||await n(h))&&(m.current?await h.connect():await h.autoConnect())}},[n,h]),w=z.useRef(!1);z.useEffect(()=>{if(c===Of&&eS(o)){w.current=!1;return}function S(){w.current=!0}return window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)}},[o,c]);const b=z.useCallback(()=>{h&&p(null)},[h,p]),g=z.useCallback(S=>{m.current=!0,p(S)},[p]);return V.createElement(Fz,{wallets:l,adapter:h,isUnloadingRef:w,onAutoConnectRequest:y,onConnectError:b,onError:i,onSelectWallet:g},t)}const Vz="Phantom";class Kz extends qw{constructor(e={}){super(),this.name=Vz,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?kt.Unsupported:kt.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Uw),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new de(n.toBytes())}catch(i){this.emit("error",new Ip(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==kt.Unsupported&&(I4()?(this._readyState=kt.Loadable,this.emit("readyStateChange",this._readyState)):C4(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=kt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===kt.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===kt.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==kt.Installed)throw new dd;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new $w(i==null?void 0:i.message,i)}if(!n.publicKey)throw new qs;let r;try{r=new de(n.publicKey.toBytes())}catch(i){throw new Ip(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Hw(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new lr;try{const{signers:s,...o}=r;ss(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof Xt?s:new Ys(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new lr;try{return await n.signTransaction(e)||e}catch(r){throw new is(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new lr;try{return await n.signAllTransactions(e)||e}catch(r){throw new is(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new lr;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Vw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const VA={setVisible(t){console.error(KA("call","setVisible"))},visible:!1};Object.defineProperty(VA,"visible",{get(){return console.error(KA("read","visible")),!1}});function KA(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const qA=z.createContext(VA);function YA(){return z.useContext(qA)}function qz({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:s,publicKey:o,select:a,wallet:l,wallets:c}=Yw();let d;r?d="connecting":n?d="connected":s?d="disconnecting":l?d="has-wallet":d="no-wallet";const h=z.useCallback(()=>{e().catch(()=>{})},[e]),p=z.useCallback(()=>{i().catch(()=>{})},[i]),m=z.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:d,onConnect:d==="has-wallet"?h:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?p:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const GA=t=>V.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&V.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&V.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),ZA=({wallet:t,...e})=>t&&V.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Yz({walletIcon:t,walletName:e,...n}){return V.createElement(GA,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?V.createElement(ZA,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Gz({children:t,labels:e,...n}){const{setVisible:r}=YA(),{buttonState:i,onConnect:s,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=qz({onSelectWallet(){r(!0)}}),[d,h]=z.useState(!1),[p,m]=z.useState(!1),y=z.useRef(null);z.useEffect(()=>{const b=g=>{const S=y.current;!S||S.contains(g.target)||m(!1)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[]);const w=z.useMemo(()=>{if(t)return t;if(a){const b=a.toBase58();return b.slice(0,4)+".."+b.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return V.createElement("div",{className:"wallet-adapter-dropdown"},V.createElement(Yz,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":s&&s();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},w),V.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:y,role:"menu"},a?V.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),h(!0),setTimeout(()=>h(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,V.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?V.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const tS=({id:t,children:e,expanded:n=!1})=>{const r=z.useRef(null),i=z.useRef(!0),s="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return z.useLayoutEffect(()=>{n?o():a()},[n]),z.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function d(h){l&&h.target===l&&h.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",d),()=>l.removeEventListener("transitionend",d)},[n]),V.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},xg=({handleClick:t,tabIndex:e,wallet:n})=>V.createElement("li",null,V.createElement(GA,{onClick:t,startIcon:V.createElement(ZA,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===kt.Installed&&V.createElement("span",null,"Detected"))),Zz=()=>V.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},V.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),V.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),V.createElement("g",{clipPath:"url(#clip0_880_5115)"},V.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),V.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),V.createElement("defs",null,V.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#9945FF"}),V.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),V.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),V.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),V.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),V.createElement("stop",{offset:"1",stopColor:"#00D18C"})),V.createElement("clipPath",{id:"clip0_880_5115"},V.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Xz=({className:t="",container:e="body"})=>{const n=z.useRef(null),{wallets:r,select:i}=Yw(),{setVisible:s}=YA(),[o,a]=z.useState(!1),[l,c]=z.useState(!1),[d,h]=z.useState(null),[p,m]=z.useMemo(()=>{const _=[],A=[];for(const R of r)R.readyState===kt.Installed?_.push(R):A.push(R);return _.length?[_,A]:[A,[]]},[r]),y=z.useCallback(()=>{c(!1),setTimeout(()=>s(!1),150)},[s]),w=z.useCallback(_=>{_.preventDefault(),y()},[y]),b=z.useCallback((_,A)=>{i(A),w(_)},[i,w]),g=z.useCallback(()=>a(!o),[o]),S=z.useCallback(_=>{const A=n.current;if(!A)return;const R=A.querySelectorAll("button"),W=R[0],O=R[R.length-1];_.shiftKey?document.activeElement===W&&(O.focus(),_.preventDefault()):document.activeElement===O&&(W.focus(),_.preventDefault())},[n]);return z.useLayoutEffect(()=>{const _=R=>{R.key==="Escape"?y():R.key==="Tab"&&S(R)},{overflow:A}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=A,window.removeEventListener("keydown",_,!1)}},[y,S]),z.useLayoutEffect(()=>h(document.querySelector(e)),[e]),d&&wN.createPortal(V.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},V.createElement("div",{className:"wallet-adapter-modal-container"},V.createElement("div",{className:"wallet-adapter-modal-wrapper"},V.createElement("button",{onClick:w,className:"wallet-adapter-modal-button-close"},V.createElement("svg",{width:"14",height:"14"},V.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?V.createElement(V.Fragment,null,V.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),V.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(_=>V.createElement(xg,{key:_.adapter.name,handleClick:A=>b(A,_.adapter.name),wallet:_})),m.length?V.createElement(tS,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(_=>V.createElement(xg,{key:_.adapter.name,handleClick:A=>b(A,_.adapter.name),tabIndex:o?0:-1,wallet:_}))):null),m.length?V.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:g,tabIndex:0},V.createElement("span",null,o?"Less ":"More ","options"),V.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},V.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):V.createElement(V.Fragment,null,V.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),V.createElement("div",{className:"wallet-adapter-modal-middle"},V.createElement(Zz,null)),m.length?V.createElement(V.Fragment,null,V.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:g,tabIndex:0},V.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),V.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},V.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),V.createElement(tS,{expanded:o,id:"wallet-adapter-modal-collapse"},V.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(_=>V.createElement(xg,{key:_.adapter.name,handleClick:A=>b(A,_.adapter.name),tabIndex:o?0:-1,wallet:_}))))):null))),V.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:w})),d)},Qz=({children:t,...e})=>{const[n,r]=z.useState(!1);return V.createElement(qA.Provider,{value:{visible:n,setVisible:r}},t,n&&V.createElement(Xz,{...e}))},Jz={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function e7(t){return V.createElement(Gz,{...t,labels:Jz})}require("@solana/wallet-adapter-react-ui/styles.css");const t7=z.createContext({}),n7=({children:t})=>{const e=jp.Devnet,n=z.useMemo(()=>E4(e),[e]),r=z.useMemo(()=>[new Kz],[]);return u.jsx(NL,{endpoint:n,children:u.jsx(Hz,{wallets:r,autoConnect:!0,children:u.jsx(Qz,{children:u.jsx(t7.Provider,{value:{},children:t})})})})},r7=()=>{const t=ba(),{accentColor:e}=XT(),[n,r]=z.useState(!1),i=z.useRef(null);z.useEffect(()=>{const l=c=>{i.current&&!i.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const s=[{name:"DISCOVER",path:"/discover"},{name:"TERMINAL",path:"/pro-terminal"},{name:"STRATEGY",path:"/strategy-builder"},{name:"INSIGHTS",path:"/tracker"},{name:"PERPETUALS",path:"/perpetuals"},{name:"PORTFOLIO",path:"/portfolio"}],o=()=>{r(!n)},a=()=>{r(!1)};return u.jsx("header",{className:"header",children:u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{className:"header-left",children:[u.jsx(lf,{to:"/",className:"logo-link",children:u.jsx("div",{className:"logo-container",children:u.jsx("img",{src:"/White 3d Logo.png",alt:"Cyphr Logo",className:"logo-image",onLoad:()=>console.log("Logo loaded successfully"),onError:l=>console.error("Logo failed to load:",l)})})}),u.jsx("nav",{className:"navigation desktop-nav",children:s.map(l=>u.jsx(lf,{to:l.path,className:`nav-link ${t.pathname===l.path?"active":""}`,children:l.name},l.name))})]}),u.jsxs("div",{className:"header-right",children:[u.jsx("button",{className:"deposit-button",children:"Deposit"}),u.jsxs("button",{className:"action-button star-button",children:[u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),u.jsx("span",{className:"notification-badge",children:"1"})]}),u.jsxs("div",{className:"money-bag",children:[u.jsx("svg",{className:"money-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"})}),u.jsx("span",{className:"money-amount",children:"$0.07"})]}),u.jsxs("div",{className:"profile-dropdown-container",ref:i,children:[u.jsx("button",{className:`action-button profile-button ${n?"active":""}`,onClick:o,children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),u.jsxs("div",{className:`profile-dropdown ${n?"open":""}`,children:[u.jsxs(lf,{to:"/dashboard",className:"dropdown-item",onClick:a,children:[u.jsx("svg",{className:"dropdown-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),"Dashboard"]}),u.jsxs("button",{className:"dropdown-item",children:[u.jsx("svg",{className:"dropdown-icon",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})}),"Settings"]})]})]})]})]})})},i7=()=>u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-content",children:[u.jsx("div",{className:"footer-left",children:u.jsxs("div",{className:"footer-brand",children:[u.jsx("span",{className:"brand-name",children:"Cyphr"}),u.jsx("span",{className:"brand-version",children:"v1.0"})]})}),u.jsxs("div",{className:"footer-center",children:[u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/WalletIcon.png",alt:"Wallet",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Wallet Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PhoneIcon.png",alt:"Phone",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Twitter Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PulseIcon.png",alt:"Pulse",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Pulse Tracker"]}),u.jsxs("button",{className:"footer-button",children:[u.jsx("img",{src:"/PNLIcon.png",alt:"PnL",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"PnL Tracker"]})]}),u.jsxs("div",{className:"footer-right",children:[u.jsx("div",{className:"footer-balance",children:u.jsx("span",{className:"balance-amount",children:"$186.9"})}),u.jsxs("div",{className:"connection-status",children:[u.jsx("div",{className:"status-indicator"}),u.jsx("span",{className:"status-text",children:"Connection is stable"})]}),u.jsxs("div",{className:"server-location",children:[u.jsx("span",{className:"location-text",children:"US-W"}),u.jsx("span",{className:"location-arrow",children:"▼"})]}),u.jsxs("div",{className:"footer-actions",children:[u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}),u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),u.jsx("button",{className:"action-button",children:u.jsxs("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),u.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),u.jsx("button",{className:"action-button",children:u.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})}),Il=({token:t,size:e="md",className:n=""})=>{const r={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"},i=s=>({CO:"https://picsum.photos/40/40?random=1",RIB:"https://picsum.photos/40/40?random=2",PER:"https://picsum.photos/40/40?random=3",PAC:"https://picsum.photos/40/40?random=4",MU:"https://picsum.photos/40/40?random=5",PR:"https://picsum.photos/40/40?random=6",DX:"https://picsum.photos/40/40?random=7",NY:"https://picsum.photos/40/40?random=8",SOL:"https://picsum.photos/40/40?random=9",ETH:"https://picsum.photos/40/40?random=10",BTC:"https://picsum.photos/40/40?random=11",PEPE:"https://picsum.photos/40/40?random=12",DOGE:"https://picsum.photos/40/40?random=13",SHIB:"https://picsum.photos/40/40?random=14",BONK:"https://picsum.photos/40/40?random=15",GNOME:"https://picsum.photos/40/40?random=16",GONK:"https://picsum.photos/40/40?random=17"})[s]||`https://picsum.photos/40/40?random=${s.charCodeAt(0)}`;return u.jsx("div",{className:`${r[e]} ${n}`,children:u.jsxs("div",{className:`${r[e]} rounded-full bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold shadow-lg border-2 border-cyphr-gray/20 overflow-hidden`,children:[t.icon?u.jsx("img",{src:t.icon,alt:t.name,className:"w-full h-full object-cover rounded-full"}):u.jsx("img",{src:i(t.symbol||t.name),alt:t.name,className:"w-full h-full object-cover rounded-full",onError:s=>{var o;s.currentTarget.style.display="none",(o=s.currentTarget.nextElementSibling)==null||o.classList.remove("hidden")}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold text-sm hidden",children:(t.symbol||t.name).charAt(0)})]})})},s7=()=>{const t=[{day:1,value:1e4},{day:2,value:10200},{day:3,value:10150},{day:4,value:10300},{day:5,value:10500},{day:6,value:10700},{day:7,value:11e3},{day:8,value:11200},{day:9,value:11500},{day:10,value:11800},{day:11,value:12e3},{day:12,value:12200},{day:13,value:12500},{day:14,value:12847}],e=400,n=120,r=20,i=e-r*2,s=n-r*2,o=Math.min(...t.map(h=>h.value)),l=Math.max(...t.map(h=>h.value))-o,c=t.map((h,p)=>{const m=r+p/(t.length-1)*i,y=r+s-(h.value-o)/l*s;return`${m},${y}`}).join(" "),d=[...c.split(" ").map(h=>h.replace(","," ")),`${e-r} ${n-r}`,`${r} ${n-r}`].join(" L ");return u.jsx("div",{className:"w-full h-32 relative",children:u.jsxs("svg",{width:e,height:n,className:"w-full h-full",viewBox:`0 0 ${e} ${n}`,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.1"})]}),u.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7"}),u.jsx("stop",{offset:"100%",stopColor:"#BD496F"})]})]}),u.jsx("path",{d:`M ${d}`,fill:"url(#chartGradient)",opacity:"0.3"}),u.jsx("polyline",{points:c,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((h,p)=>{const m=r+p/(t.length-1)*i,y=r+s-(h.value-o)/l*s;return p>=t.length-3?u.jsx("circle",{cx:m,cy:y,r:"3",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"1"},p):null}),u.jsx("text",{x:e-r-5,y:r+15,textAnchor:"end",fill:"#6D8FC7",fontSize:"12",fontWeight:"600",fontFamily:"system-ui",children:"+$2,847"})]})})},o7=()=>{const[t,e]=z.useState("SOL"),[n,r]=z.useState("100"),i={totalValue:"$12,847.32",change24h:"+$1,234.56",changePercent:"+10.6%",tokens:[{name:"SOL",amount:"45.2",value:"$8,456.32",change:"+15.2%",color:"#6D8FC7"},{name:"ETH",amount:"2.1",value:"$3,234.00",change:"+8.7%",color:"#bd496f"},{name:"BTC",amount:"0.12",value:"$1,157.00",change:"+5.4%",color:"#a6a6a6"}]},s=[{token:"PEPE",signal:"BUY",strength:"Strong",price:"$0.00001234",change:"+23.4%",time:"2m ago"},{token:"DOGE",signal:"SELL",strength:"Medium",price:"$0.0789",change:"-5.2%",time:"5m ago"},{token:"SHIB",signal:"HOLD",strength:"Weak",price:"$0.00002345",change:"+1.8%",time:"8m ago"},{token:"BONK",signal:"BUY",strength:"Strong",price:"$0.00004567",change:"+45.6%",time:"12m ago"}],o=[{name:"SOL",price:"$187.23",change:"+2.4%"},{name:"ETH",price:"$1,540.00",change:"+1.8%"},{name:"BTC",price:"$9,641.67",change:"+0.9%"},{name:"PEPE",price:"$0.00001234",change:"+23.4%"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Dashboard"}),u.jsx("p",{className:"text-cyphr-gray",children:"Your trading overview and portfolio"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-cyphr-gray font-sf-pro text-sm font-semibold tracking-wide",children:"TOTAL PORTFOLIO"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{d:"M8 12h4a2 2 0 100-4h-1a2 2 0 110-4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})]})})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-2xl font-bold text-cyphr-white font-nulshock",children:i.totalValue}),u.jsx("div",{className:"text-cyphr-teal font-semibold text-base",children:i.change24h})]}),u.jsxs("div",{className:"text-cyphr-teal font-sf-pro text-sm font-semibold",children:[i.changePercent," today"]})]}),u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-2 shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Portfolio Performance"}),u.jsx("div",{className:"flex gap-2",children:["1D","1W","1M","3M","1Y"].map(a=>u.jsx("button",{className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:a},a))})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(s7,{})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Live Signals"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("polyline",{points:"13 2 13 9 20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("polyline",{points:"11 22 11 15 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("polyline",{points:"20 9 20 20 4 20 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.jsx("div",{className:"space-y-3",children:s.map((a,l)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${a.signal==="BUY"?"bg-cyphr-teal":a.signal==="SELL"?"bg-cyphr-pink":"bg-cyphr-gray"}`}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-sm",children:a.token}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[a.strength," ",a.signal]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.price}),u.jsx("div",{className:`text-xs font-semibold ${a.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.change}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:a.time})]})]},l))})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Quick Trade"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M13 2L13 9L20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M11 22L11 15L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M20 9L20 20L4 20L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Select Token"}),u.jsx("select",{value:t,onChange:a=>e(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:o.map(a=>u.jsxs("option",{value:a.name,children:[a.name," - ",a.price," (",a.change,")"]},a.name))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:n,onChange:a=>r(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(a=>u.jsxs("button",{onClick:()=>r(a),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",a]},a))}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{className:"px-4 py-2 bg-cyphr-teal text-cyphr-black rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Buy"}),u.jsx("button",{className:"px-4 py-2 bg-cyphr-pink text-cyphr-white rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Sell"})]})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Token Holdings"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{d:"M16 3v4M8 3v4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]}),u.jsx("div",{className:"space-y-3",children:i.tokens.map((a,l)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Il,{token:{name:a.name,symbol:a.name},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:a.name}),u.jsxs("div",{className:"text-cyphr-gray text-sm",children:[a.amount," tokens"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.value}),u.jsx("div",{className:"text-cyphr-teal text-xs font-semibold",children:a.change})]})]},l))})]})]})]})},a7=({pair:t,timeframe:e})=>{const[n,r]=z.useState([]),i=(O,B)=>{const F=[],U=Date.now(),H=e==="1m"?6e4:e==="5m"?3e5:e==="15m"?9e5:e==="1h"?36e5:e==="4h"?144e5:864e5;let K=O;for(let M=50;M>=0;M--){const f=U-M*H,x=K,k=(Math.random()-.5)*B*K,C=Math.max(x+k,O*.8),T=Math.abs(C-x)*(1+Math.random()*2),I=Math.max(x,C)+T*Math.random(),L=Math.min(x,C)-T*Math.random(),j=Math.random()*1e6+1e5;F.push({time:f,open:x,high:I,low:L,close:C,volume:j}),K=C}return F};z.useEffect(()=>{const B={"SOL/USD":{basePrice:187.23,volatility:.02},"ETH/USD":{basePrice:1540,volatility:.015},"BTC/USD":{basePrice:9641.67,volatility:.012},"PEPE/USD":{basePrice:1234e-8,volatility:.08}}[t];B&&r(i(B.basePrice,B.volatility))},[t,e]);const s=800,o=500,a=60,l=80;if(n.length===0)return null;const c=s-a*2,d=o-a*2-l,h=n.flatMap(O=>[O.high,O.low]),p=Math.min(...h),m=Math.max(...h),y=m-p,w=Math.max(...n.map(O=>O.volume));Math.min(...n.map(O=>O.volume));const b=c/n.length*.8,g=c/n.length,S=n[n.length-1],_=n[n.length-2],A=S.close-((_==null?void 0:_.close)||S.open),R=A/((_==null?void 0:_.close)||S.open)*100,W=n.slice(-20).reduce((O,B)=>O+B.close,0)/Math.min(20,n.length);return n.slice(-50).reduce((O,B)=>O+B.close,0)/Math.min(50,n.length),u.jsx("div",{className:"w-full",children:u.jsxs("svg",{width:s,height:o,className:"w-full h-full",viewBox:`0 0 ${s} ${o}`,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:`candleGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.3"})]}),u.jsxs("linearGradient",{id:`volumeGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.6"}),u.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.2"})]})]}),[0,1,2,3,4].map(O=>u.jsx("line",{x1:a,y1:a+O*d/4,x2:s-a,y2:a+O*d/4,stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},`grid-${O}`)),[0,1,2,3,4].map(O=>{const B=m-O*y/4;return u.jsxs("text",{x:a-10,y:a+O*d/4+4,textAnchor:"end",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["$",B.toFixed(t==="PEPE/USD"?8:2)]},`price-${O}`)}),n.map((O,B)=>{if(B<19)return null;const F=a+B*g+g/2,U=a+d-(W-p)/y*d;return u.jsx("circle",{cx:F,cy:U,r:"1",fill:"#FFD700",opacity:"0.8"},`sma20-${B}`)}),n.map((O,B)=>{const F=a+B*g+(g-b)/2,U=O.close>=O.open,H=a+d-(Math.max(O.open,O.close)-p)/y*d,M=a+d-(Math.min(O.open,O.close)-p)/y*d-H,f=a+d-(O.high-p)/y*d,x=a+d-(O.low-p)/y*d;return u.jsxs("g",{children:[u.jsx("line",{x1:F+b/2,y1:f,x2:F+b/2,y2:x,stroke:U?"#6D8FC7":"#BD496F",strokeWidth:"1"}),u.jsx("rect",{x:F,y:H,width:b,height:Math.max(M,1),fill:U?"#6D8FC7":"#BD496F",stroke:U?"#6D8FC7":"#BD496F",strokeWidth:"1"})]},B)}),n.map((O,B)=>{const F=a+B*g+(g-b)/2,U=O.volume/w*60,H=o-a-U,K=O.close>=O.open;return u.jsx("rect",{x:F,y:H,width:b,height:U,fill:K?"#6D8FC7":"#BD496F",opacity:"0.3"},`volume-${B}`)}),u.jsx("line",{x1:a,y1:a+d-(S.close-p)/y*d,x2:s-a,y2:a+d-(S.close-p)/y*d,stroke:"rgba(109, 146, 203, 0.5)",strokeWidth:"1",strokeDasharray:"5,5"}),u.jsx("circle",{cx:s-a,cy:a+d-(S.close-p)/y*d,r:"4",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"2"}),u.jsxs("text",{x:s-a+10,y:a+d-(S.close-p)/y*d,textAnchor:"start",fill:"#6D8FC7",fontSize:"14",fontWeight:"600",fontFamily:"system-ui",children:["$",S.close.toFixed(t==="PEPE/USD"?8:2)]}),u.jsxs("text",{x:s-a+10,y:a+d-(S.close-p)/y*d+20,textAnchor:"start",fill:A>=0?"#6D8FC7":"#BD496F",fontSize:"12",fontWeight:"500",fontFamily:"system-ui",children:[A>=0?"+":"",R.toFixed(2),"%"]}),u.jsxs("text",{x:s-a+10,y:o-a-40,textAnchor:"start",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["Vol: ",S.volume.toLocaleString()]}),[0,12,25,37,50].map(O=>{var U;const F=new Date(((U=n[O])==null?void 0:U.time)||Date.now()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return u.jsx("text",{x:a+O*g+g/2,y:o-a+15,textAnchor:"middle",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:F},`time-${O}`)})]})})},l7=()=>{const[t,e]=z.useState("SOL/USD"),[n,r]=z.useState("market"),[i,s]=z.useState("buy"),[o,a]=z.useState("100"),[l,c]=z.useState("10x"),[d,h]=z.useState("1m"),[p,m]=z.useState(!1),y=[{pair:"SOL/USD",price:"$187.23",change:"+2.4%",volume:"$45.2M"},{pair:"ETH/USD",price:"$1,540.00",change:"+1.8%",volume:"$23.1M"},{pair:"BTC/USD",price:"$9,641.67",change:"+0.9%",volume:"$67.8M"},{pair:"PEPE/USD",price:"$0.00001234",change:"+23.4%",volume:"$12.8M"}],w=[{price:"187.25",size:"1,234",total:"1,234",side:"sell"},{price:"187.24",size:"2,156",total:"3,390",side:"sell"},{price:"187.23",size:"3,421",total:"6,811",side:"sell"},{price:"187.22",size:"892",total:"7,703",side:"sell"},{price:"187.21",size:"1,567",total:"9,270",side:"sell"},{price:"187.20",size:"2,345",total:"11,615",side:"buy"},{price:"187.19",size:"1,789",total:"13,404",side:"buy"},{price:"187.18",size:"3,156",total:"16,560",side:"buy"},{price:"187.17",size:"2,234",total:"18,794",side:"buy"},{price:"187.16",size:"1,567",total:"20,361",side:"buy"}],b=[{price:"187.23",size:"45.2",side:"buy",time:"12:34:56"},{price:"187.22",size:"23.1",side:"sell",time:"12:34:52"},{price:"187.24",size:"67.8",side:"buy",time:"12:34:48"},{price:"187.21",size:"12.8",side:"sell",time:"12:34:44"},{price:"187.25",size:"34.5",side:"buy",time:"12:34:40"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Perpetuals"}),u.jsx("p",{className:"text-cyphr-gray",children:"Trade with leverage and advanced order types"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(g=>u.jsx("button",{onClick:()=>e(g.pair),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===g.pair?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold",children:g.pair}),u.jsx("div",{className:"text-xs",children:g.price}),u.jsx("div",{className:`text-xs ${g.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:g.change})]})},g.pair))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Indicators"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Settings"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-3 shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:[t," Chart"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-cyphr-gray",children:[u.jsx("span",{children:"MA20"}),u.jsx("div",{className:"w-3 h-0.5 bg-yellow-400"}),u.jsx("span",{children:"Volume"}),u.jsx("div",{className:"w-3 h-0.5 bg-cyphr-teal opacity-30"})]})]}),u.jsx("div",{className:"flex gap-2",children:["1m","5m","15m","1h","4h","1d"].map(g=>u.jsx("button",{onClick:()=>h(g),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${d===g?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:g},g))})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(a7,{pair:t,timeframe:d})})]}),u.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order Form"}),u.jsx("button",{onClick:()=>m(!p),className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs",children:p?"Simple":"Advanced"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Order Type"}),u.jsx("div",{className:"flex gap-2",children:["market","limit","stop"].map(g=>u.jsx("button",{onClick:()=>r(g),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${n===g?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Side"}),u.jsx("div",{className:"flex gap-2",children:["buy","sell"].map(g=>u.jsx("button",{onClick:()=>s(g),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${i===g?g==="buy"?"bg-green-600 text-white":"bg-red-600 text-white":"premium-nav-button text-cyphr-gray hover:text-cyphr-white"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:o,onChange:g=>a(g.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(g=>u.jsxs("button",{onClick:()=>a(g),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",g]},g))}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Leverage"}),u.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:["1x","2x","5x","10x","20x","50x","100x"].map(g=>u.jsx("option",{value:g,children:g},g))})]}),p&&u.jsxs("div",{className:"mb-4 space-y-3 p-3 rounded-lg bg-cyphr-black/20 border border-cyphr-gray/20",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Stop Loss"}),u.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Stop loss price"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Take Profit"}),u.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Take profit price"})]})]}),u.jsxs("button",{className:"w-full elite-button px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-white bg-gradient-to-r from-cyphr-teal to-cyphr-pink",children:["Execute ",i.charAt(0).toUpperCase()+i.slice(1)," Order"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Market Stats"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:"📊"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h High"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$192.45"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Low"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$181.20"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Volume"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$45.2M"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"Open Interest"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"$12.8M"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray text-sm",children:"Funding Rate"}),u.jsx("span",{className:"text-cyphr-teal font-semibold",children:"+0.0125%"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Order Book"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:"📋"})]}),u.jsx("div",{className:"space-y-1",children:w.map((g,S)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:`font-mono ${g.side==="sell"?"text-red-400":"text-green-400"}`,children:g.price}),u.jsx("span",{className:"text-cyphr-white",children:g.size}),u.jsx("span",{className:"text-cyphr-gray",children:g.total})]},S))})]}),u.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Recent Trades"}),u.jsx("span",{className:"text-cyphr-teal text-base",children:"🔄"})]}),u.jsx("div",{className:"space-y-1",children:b.map((g,S)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:`font-mono ${g.side==="sell"?"text-red-400":"text-green-400"}`,children:g.price}),u.jsx("span",{className:"text-cyphr-white",children:g.size}),u.jsx("span",{className:"text-cyphr-gray",children:g.time})]},S))})]})]})]})},c7=()=>{var O;const[t,e]=z.useState("ai-insights"),[n,r]=z.useState("USDC"),[i,s]=z.useState(""),[o,a]=z.useState(!1),[l,c]=z.useState(""),[d,h]=z.useState(!1),[p,m]=z.useState([]),y=[{name:"Trades",icon:"☰",path:"trades"},{name:"My Holdings",icon:"💰",path:"holdings"},{name:"Token Details",icon:"⭐",path:"details"},{name:"AI Insights",icon:"🤖",path:"ai-insights"},{name:"Bubble Map",icon:"🌐",path:"bubble"}],w={USDC:{name:"USD Coin",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDtlv",bubbleConfig:{centralSize:80,clusters:{yellow:{count:8,sizeRange:[20,45],position:{x:[20,80],y:[30,70]}},purple:{count:6,sizeRange:[18,40],position:{x:[60,90],y:[10,50]}},pink:{count:4,sizeRange:[15,35],position:{x:[10,40],y:[60,90]}},blue:{count:5,sizeRange:[16,38],position:{x:[70,95],y:[60,90]}}},scattered:{count:35,sizeRange:[6,18]}}},SOL:{name:"Solana",address:"So11111111111111111111111111111111111111112",bubbleConfig:{centralSize:85,clusters:{yellow:{count:10,sizeRange:[22,48],position:{x:[15,85],y:[25,75]}},purple:{count:7,sizeRange:[20,42],position:{x:[55,95],y:[5,55]}},pink:{count:6,sizeRange:[18,38],position:{x:[5,45],y:[55,95]}},blue:{count:6,sizeRange:[19,40],position:{x:[65,95],y:[55,95]}}},scattered:{count:40,sizeRange:[6,20]}}},ETH:{name:"Ethereum",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",bubbleConfig:{centralSize:90,clusters:{yellow:{count:12,sizeRange:[25,50],position:{x:[10,90],y:[20,80]}},purple:{count:8,sizeRange:[22,45],position:{x:[50,95],y:[5,60]}},pink:{count:7,sizeRange:[20,42],position:{x:[5,50],y:[50,95]}},blue:{count:8,sizeRange:[21,44],position:{x:[55,95],y:[50,95]}}},scattered:{count:45,sizeRange:[6,22]}}},BONK:{name:"Bonk",address:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",bubbleConfig:{centralSize:70,clusters:{yellow:{count:6,sizeRange:[18,38],position:{x:[30,70],y:[35,65]}},purple:{count:4,sizeRange:[16,32],position:{x:[65,85],y:[20,50]}},pink:{count:3,sizeRange:[14,30],position:{x:[20,50],y:[65,85]}},blue:{count:4,sizeRange:[15,34],position:{x:[65,85],y:[65,85]}}},scattered:{count:25,sizeRange:[6,16]}}},PEPE:{name:"Pepe",address:"0x6982508145454Ce325dDbE47a25d4ec3d2311933",bubbleConfig:{centralSize:75,clusters:{yellow:{count:7,sizeRange:[20,40],position:{x:[25,75],y:[30,70]}},purple:{count:5,sizeRange:[18,35],position:{x:[60,90],y:[15,55]}},pink:{count:4,sizeRange:[16,32],position:{x:[15,50],y:[60,90]}},blue:{count:5,sizeRange:[17,36],position:{x:[65,90],y:[60,90]}}},scattered:{count:30,sizeRange:[6,18]}}},DOGE:{name:"Dogecoin",address:"0x3832d2F059E559F2088cd4e4d0d24290818Bbe3B",bubbleConfig:{centralSize:65,clusters:{yellow:{count:5,sizeRange:[16,32],position:{x:[35,65],y:[40,60]}},purple:{count:3,sizeRange:[14,28],position:{x:[65,85],y:[25,55]}},pink:{count:3,sizeRange:[12,26],position:{x:[25,55],y:[65,85]}},blue:{count:3,sizeRange:[15,30],position:{x:[65,85],y:[65,85]}}},scattered:{count:20,sizeRange:[6,14]}}}},b=B=>{r(B),s(""),a(!1)},g=async B=>{if(B.length<2){m([]);return}h(!0),await new Promise(U=>setTimeout(U,800));const F=[{name:`${B.toUpperCase()} Token`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:B.toUpperCase()},{name:`${B.toUpperCase()} Protocol`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${B.toUpperCase()}P`},{name:`${B.toUpperCase()} Finance`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${B.toUpperCase()}F`}];m(F),h(!1)},S=B=>{const F={centralSize:70+Math.random()*30,clusters:{yellow:{count:5+Math.floor(Math.random()*8),sizeRange:[15,40],position:{x:[20,80],y:[25,75]}},purple:{count:4+Math.floor(Math.random()*6),sizeRange:[12,35],position:{x:[60,90],y:[10,60]}},pink:{count:3+Math.floor(Math.random()*5),sizeRange:[10,30],position:{x:[10,50],y:[60,90]}},blue:{count:4+Math.floor(Math.random()*6),sizeRange:[12,32],position:{x:[65,95],y:[60,90]}}},scattered:{count:20+Math.floor(Math.random()*30),sizeRange:[5,18]}};return _(F)},_=(B,F)=>{const U=[];let H=1;U.push({id:H++,x:50,y:50,size:B.centralSize,color:"#6D8FC7",type:"central",isCentral:!0}),Object.entries(B.clusters).forEach(([K,M])=>{for(let f=0;f<M.count;f++){const x=M.position.x[0]+Math.random()*(M.position.x[1]-M.position.x[0]),k=M.position.y[0]+Math.random()*(M.position.y[1]-M.position.y[0]),C=M.sizeRange[0]+Math.random()*(M.sizeRange[1]-M.sizeRange[0]);U.push({id:H++,x,y:k,size:C,color:R(K),type:"connected",isCentral:!1})}});for(let K=0;K<B.scattered.count;K++)U.push({id:H++,x:Math.random()*100,y:Math.random()*100,size:B.scattered.sizeRange[0]+Math.random()*(B.scattered.sizeRange[1]-B.scattered.sizeRange[0]),color:R(["yellow","purple","pink","blue"][Math.floor(Math.random()*4)]),type:"scattered",isCentral:!1});return U},A=B=>{const F=w[B];return F?_(F.bubbleConfig):S()},R=B=>{var U;return((U={yellow:["#facc15","#fde047","#fef08a"],purple:["#c084fc","#d8b4fe","#e9d5ff"],pink:["#f472b6","#f9a8d4","#fbcfe8"],blue:["#60a5fa","#93c5fd","#bfdbfe"]}[B])==null?void 0:U[Math.floor(Math.random()*3)])||"#ffffff"};z.useEffect(()=>{r("USDC")},[]);const W=A(n);return console.log("Generated bubbles:",W),console.log("Bubble count:",W.length),console.log("Connected bubbles:",W.filter(B=>B.type==="connected").length),u.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-32 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Insights"}),u.jsx("p",{className:"text-cyphr-gray",children:"AI-powered analysis and market insights"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(B=>u.jsx("button",{onClick:()=>e(B.path),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===B.path?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"transition-transform duration-300 hover:scale-105",children:B.name})},B.path))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"AI Summary"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("p",{className:"text-cyphr-white text-xs leading-relaxed",children:["This token shows ",u.jsx("span",{className:"text-cyphr-teal font-medium",children:"medium risk"}),". Liquidity is mostly unlocked, and deployer has a 60% migration rate. 40% of supply is held by 3 wallets, 2 of which are new."]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-lg mb-6 flex items-center gap-3 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyphr-teal",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-cyphr-teal font-mono text-sm font-semibold",children:"Risk Level:"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-cyphr-teal rounded-full animate-pulse"}),u.jsx("span",{className:"text-cyphr-white text-sm font-medium font-mono",children:"Medium"})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Pool Overview"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Liquidity:"}),u.jsx("span",{className:"text-cyphr-white",children:"$2.4M"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Volume 24h:"}),u.jsx("span",{className:"text-cyphr-white",children:"$890K"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Holders:"}),u.jsx("span",{className:"text-cyphr-white",children:"1,247"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Liquidity Events"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Recent Add:"}),u.jsx("span",{className:"text-green-500",children:"+$450K"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Recent Remove:"}),u.jsx("span",{className:"text-red-500",children:"-$120K"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Net Change:"}),u.jsx("span",{className:"text-cyphr-teal",children:"+$330K"})]})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),"Who's In"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Top Holder:"}),u.jsx("span",{className:"text-cyphr-white",children:"15.2%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Top 10:"}),u.jsx("span",{className:"text-cyphr-white",children:"42.8%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"New Wallets:"}),u.jsx("span",{className:"text-cyphr-teal",children:"67%"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deployer Insights"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Migration Rate:"}),u.jsx("span",{className:"text-cyphr-white",children:"60%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Success Rate:"}),u.jsx("span",{className:"text-green-500",children:"78%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Avg Hold Time:"}),u.jsx("span",{className:"text-cyphr-white",children:"3.2 days"})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Historical Liquidity Events"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"2h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$120K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"4h ago:"}),u.jsx("span",{className:"text-red-500",children:"-$80K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"6h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$200K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"8h ago:"}),u.jsx("span",{className:"text-red-500",children:"-$150K"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-cyphr-gray",children:"12h ago:"}),u.jsx("span",{className:"text-green-500",children:"+$300K"})]})]})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-lg animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a8 8 0 00-8 8c0 1.5.4 2.9 1.1 4.1a1 1 0 00.8.3h13.4a1 1 0 00.8-.3C17.6 13.9 18 12.5 18 11a8 8 0 00-8-8zm0 14a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"})}),"Interactive Bubble Map"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"1H"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"24H"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"7D"})]})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:B=>{s(B.target.value),g(B.target.value)},placeholder:"Search any token for holder distribution...",className:"w-full elite-input px-4 py-3 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm"}),d&&u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyphr-teal"})}),p.length>0&&i.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-cyphr-black/90 border border-cyphr-gray/30 rounded-lg z-50 max-h-48 overflow-y-auto",children:p.map((B,F)=>u.jsx("button",{onClick:()=>{c(B.symbol),s(B.name),m([]),r(B.symbol)},className:"w-full px-4 py-3 text-left hover:bg-cyphr-gray/20 transition-colors duration-200 border-b border-cyphr-gray/20 last:border-b-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:B.name}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:B.symbol})]}),u.jsxs("div",{className:"text-cyphr-gray text-xs font-mono",children:[B.address.slice(0,8),"..."]})]})},F))})]})}),u.jsx("div",{className:"flex items-center gap-4 mb-4",children:u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Object.keys(w).slice(0,6).map(B=>u.jsxs("button",{onClick:()=>b(B),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===B?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-gray/20 text-cyphr-gray hover:text-cyphr-white hover:bg-cyphr-gray/30"}`,children:[u.jsx(Il,{token:{name:B,symbol:B},size:"md"}),B]},B)),l&&u.jsxs("button",{onClick:()=>r(l),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===l?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink/20 text-cyphr-pink hover:bg-cyphr-pink/30 border border-cyphr-pink/30"}`,children:[u.jsx(Il,{token:{name:l,symbol:l},size:"md"}),l," 🔍"]})]})}),u.jsxs("div",{className:"relative w-full h-96 rounded-lg overflow-hidden",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.08) 0%, rgba(189,73,111,0.08) 100%)",border:"1px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.08)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[u.jsx("div",{className:"absolute top-4 left-4 z-20 bg-cyphr-black/80 backdrop-blur-md rounded-lg p-3 border border-cyphr-gray/30",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Il,{token:{name:n,symbol:n},size:"md"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white text-sm font-semibold",children:n}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:(O=w[n])==null?void 0:O.name})]})]})}),u.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2",children:[u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"1H"}),u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"24H"}),u.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"7D"})]}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("linearGradient",{id:"connectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.9)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(109,143,199,0.5)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0.1)"})]}),u.jsxs("radialGradient",{id:"bubbleGlow",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.4)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0)"})]})]}),(()=>{const B=W.find(F=>F.isCentral);return B?u.jsx("circle",{cx:`${B.x}%`,cy:`${B.y}%`,r:"80",fill:"url(#bubbleGlow)",opacity:"0.7"}):null})(),(()=>{const B=W.find(U=>U.isCentral),F=W.filter(U=>U.type==="connected"&&!U.isCentral);return B?F.slice(0,6).map((U,H)=>u.jsxs("g",{children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:`connection-glow-${H}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(45,186,161,0.3)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(45,186,161,0.1)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(45,186,161,0)"})]})}),u.jsx("line",{x1:`${B.x}%`,y1:`${B.y}%`,x2:`${U.x}%`,y2:`${U.y}%`,stroke:`url(#connection-glow-${H})`,strokeWidth:"8",opacity:"0.4"}),u.jsx("line",{x1:`${B.x}%`,y1:`${B.y}%`,x2:`${U.x}%`,y2:`${U.y}%`,stroke:"rgba(45,186,161,0.2)",strokeWidth:"1",opacity:"0.6"})]},`connection-indicator-${H}`)):null})()]}),W.map((B,F)=>u.jsxs("div",{className:"absolute rounded-full flex items-center justify-center text-white text-xs font-medium transition-all duration-700 hover:scale-125 cursor-pointer",style:{left:`${B.x}%`,top:`${B.y}%`,width:`${B.size}px`,height:`${B.size}px`,background:B.type==="central"?"radial-gradient(circle, rgba(45,186,161,1) 0%, rgba(45,186,161,0.9) 40%, rgba(45,186,161,0.6) 70%, rgba(45,186,161,0.2) 100%)":B.type==="connected"?`radial-gradient(circle, ${B.color} 0%, ${B.color}90 40%, ${B.color}60 70%, ${B.color}20 100%)`:`radial-gradient(circle, ${B.color} 0%, ${B.color}80 50%, ${B.color}40 80%, ${B.color}10 100%)`,transform:"translate(-50%, -50%)",boxShadow:B.type==="central"?"0 0 60px rgba(45,186,161,0.8), 0 0 120px rgba(45,186,161,0.4), 0 0 180px rgba(45,186,161,0.2)":B.type==="connected"?`0 0 ${B.size*1.5}px ${B.color}60, 0 0 ${B.size*2.2}px ${B.color}40`:`0 0 ${B.size*.8}px ${B.color}40`,opacity:B.type==="scattered"?.85:1,zIndex:B.type==="central"?50:B.type==="connected"?25:10,animation:`fadeInUp ${.3+F*.05}s ease-out forwards`,position:"absolute",pointerEvents:"auto"},children:[B.type==="central"&&u.jsxs("div",{className:"absolute inset-0 rounded-full flex items-center justify-center",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full opacity-95 shadow-lg"}),u.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/50 animate-pulse"}),u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/30 animate-ping",style:{animationDelay:"0.5s"}})]}),B.type==="connected"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/40 animate-ping",style:{animationDelay:`${F*.3}s`}}),u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${F*.2}s`}})]}),B.type==="scattered"&&u.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${F*.4}s`}})]},B.id))]})]})]})]})},u7=({address:t,className:e=""})=>{const n=i=>i.length<=7?i:`${i.slice(0,4)}...${i.slice(-3)}`,r=async()=>{try{await navigator.clipboard.writeText(t)}catch(i){console.error("Failed to copy address:",i)}};return u.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[u.jsx("span",{className:"text-cyphr-gray font-sf-pro",children:n(t)}),u.jsx("img",{src:"/CopyIcon.png",alt:"Copy",width:"10",height:"10",onClick:r,className:"opacity-60 hover:opacity-80 transition-all duration-200 cursor-pointer",title:"Copy address"})]})},d7=()=>{const{id:t}=_T(),[e,n]=z.useState("overview"),[r,i]=z.useState("100"),[s,o]=z.useState("buy"),a={name:"PEPE",symbol:"PEPE",address:"0x6982508145454ce325ddbe47a25d4ec3d2311933",price:"$0.00001234",change24h:"+23.4%",marketCap:"$1.2B",volume24h:"$45.2M",liquidity:"$23.1M",holders:"125,432",totalSupply:"420,690,000,000,000",circulatingSupply:"420,690,000,000,000",buyTax:"2%",sellTax:"3%",description:"PEPE is a meme token inspired by the popular internet frog character. It has gained significant traction in the crypto community and continues to show strong momentum.",socialLinks:{website:"https://pepe.vip",telegram:"https://t.me/pepecoin",twitter:"https://twitter.com/pepecoineth",discord:"https://discord.gg/pepe"}},l=["1m","5m","15m","1h","4h","1d","1w"],c=[{time:"12:34:56",price:"0.00001234",amount:"1,234,567",side:"buy"},{time:"12:34:52",price:"0.00001233",amount:"2,345,678",side:"sell"},{time:"12:34:48",price:"0.00001235",amount:"3,456,789",side:"buy"},{time:"12:34:44",price:"0.00001232",amount:"4,567,890",side:"sell"},{time:"12:34:40",price:"0.00001236",amount:"5,678,901",side:"buy"}],d=[{range:"0-1K",count:"45,234",percentage:"36.1%"},{range:"1K-10K",count:"32,156",percentage:"25.7%"},{range:"10K-100K",count:"28,945",percentage:"23.1%"},{range:"100K-1M",count:"15,678",percentage:"12.5%"},{range:"1M+",count:"3,419",percentage:"2.7%"}];return console.log("Token ID:",t),u.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[u.jsx(Il,{token:{name:a.name,symbol:a.symbol},size:"lg"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-cyphr-white mb-2 font-nulshock",children:a.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-cyphr-gray font-sf-pro",children:[a.symbol," •"]}),u.jsx(u7,{address:a.address,className:"text-sm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.15) 0%, rgba(189,73,111,0.15) 100%)",border:"2px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.12)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Price"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-white mb-1",children:a.price}),u.jsx("div",{className:"text-cyphr-blue font-semibold",children:a.change24h})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Market Cap"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.marketCap})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Volume 24h"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.volume24h})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Holders"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.holders})]})]})]}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","trading","holders"].map(h=>u.jsx("button",{onClick:()=>n(h),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${e===h?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})}),e==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Token Information"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"ℹ️"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Total Supply"}),u.jsx("span",{className:"text-cyphr-white font-mono",children:a.totalSupply})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Circulating Supply"}),u.jsx("span",{className:"text-cyphr-white font-mono",children:a.circulatingSupply})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Buy Tax"}),u.jsx("span",{className:"text-cyphr-blue font-semibold",children:a.buyTax})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Sell Tax"}),u.jsx("span",{className:"text-cyphr-pink font-semibold",children:a.sellTax})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsx("span",{className:"text-cyphr-gray",children:"Liquidity"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:a.liquidity})]})]})]}),u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["About ",a.name]}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"📝"})]}),u.jsx("p",{className:"text-cyphr-gray leading-relaxed mb-6",children:a.description}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-cyphr-white font-semibold mb-3",children:"Social Links"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a.socialLinks).map(([h,p])=>u.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"elite-button flex items-center gap-2 p-3 rounded-lg transition-all duration-300 hover:scale-105 text-cyphr-gray",children:[u.jsx("span",{className:"text-cyphr-blue",children:h==="website"?"🌐":h==="telegram"?"📱":h==="twitter"?"🐦":"💬"}),u.jsx("span",{className:"text-cyphr-white capitalize",children:h})]},h))})]})]})]}),e==="chart"&&u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:[a.name," Price Chart"]}),u.jsx("div",{className:"flex gap-2",children:l.map(h=>u.jsx("button",{className:"elite-button px-3 py-1 rounded-lg text-xs font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:h},h))})]}),u.jsx("div",{className:"h-96 bg-gradient-to-br from-cyphr-blue/10 to-cyphr-pink/10 rounded-xl flex items-center justify-center border border-cyphr-gray/30",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-cyphr-gray text-6xl mb-4",children:"📈"}),u.jsx("div",{className:"text-cyphr-gray font-sf-pro text-xl",children:"Price Chart"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Interactive trading chart"})]})})]}),e==="trading"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["Trade ",a.name]}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"⚡"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:["buy","sell"].map(h=>u.jsx("button",{onClick:()=>o(h),className:`px-4 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${s===h?h==="buy"?"cyphr-button-primary":"cyphr-button-secondary":"elite-button text-cyphr-gray"}`,children:h.toUpperCase()},h))}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-cyphr-gray text-sm font-semibold mb-2",children:"Amount (USD)"}),u.jsx("input",{type:"number",value:r,onChange:h=>i(h.target.value),className:"w-full elite-input px-4 py-3 rounded-xl border border-cyphr-gray/30 focus:border-cyphr-blue text-cyphr-white bg-cyphr-black/50",placeholder:"Enter amount"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:["100","500","1000"].map(h=>u.jsxs("button",{onClick:()=>i(h),className:"elite-button px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:["$",h]},h))}),u.jsxs("button",{className:`w-full py-4 rounded-xl font-bold text-xl transition-all duration-300 hover:scale-105 ${s==="buy"?"cyphr-button-primary":"cyphr-button-secondary"}`,children:[s.toUpperCase()," ",a.name]})]}),u.jsxs("div",{className:"lg:col-span-2 cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Recent Trades"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"📋"})]}),u.jsx("div",{className:"space-y-2",children:c.map((h,p)=>u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${h.side==="buy"?"bg-cyphr-blue":"bg-cyphr-pink"}`}),u.jsx("span",{className:`font-mono font-semibold ${h.side==="buy"?"text-cyphr-blue":"text-cyphr-pink"}`,children:h.price})]}),u.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:h.amount}),u.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:h.time})]},p))})]})]}),e==="holders"&&u.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Holder Distribution"}),u.jsx("span",{className:"text-cyphr-blue text-lg",children:"👥"})]}),u.jsx("div",{className:"space-y-4",children:d.map((h,p)=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${p*60}, 70%, 60%)`}}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:h.range})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-bold text-cyphr-white",children:h.count}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:h.percentage})]})]},p))})]})]})},h7=()=>{const[t,e]=z.useState("active"),[n,r]=z.useState(null),i=[{id:"ORD-001",token:"PEPE",type:"BUY",amount:"1000",price:"$0.00001234",status:"pending",time:"2 minutes ago",progress:75},{id:"ORD-002",token:"DOGE",type:"SELL",amount:"500",price:"$0.0789",status:"executing",time:"5 minutes ago",progress:45},{id:"ORD-003",token:"SHIB",type:"BUY",amount:"2000",price:"$0.00002345",status:"pending",time:"8 minutes ago",progress:20}],s=[{id:"ORD-004",token:"PEPE",type:"BUY",amount:"500",price:"$0.00001230",status:"completed",time:"1 hour ago",executedPrice:"$0.00001232"},{id:"ORD-005",token:"DOGE",type:"SELL",amount:"1000",price:"$0.0790",status:"cancelled",time:"2 hours ago",executedPrice:null},{id:"ORD-006",token:"BONK",type:"BUY",amount:"1500",price:"$0.00004500",status:"completed",time:"3 hours ago",executedPrice:"$0.00004567"}],o={totalOrders:156,pendingOrders:8,totalVolume:"$45,234.56",successRate:"91.0%"};return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Orders"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your trading orders and view order history"})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Orders"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-white",children:o.totalOrders})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Success Rate"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-teal",children:o.successRate})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Volume"}),u.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:o.totalVolume})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Pending"}),u.jsx("div",{className:"text-2xl font-bold text-cyphr-pink",children:o.pendingOrders})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active","history"].map(a=>u.jsx("button",{onClick:()=>e(a),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===a?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:a})},a))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),t==="active"&&u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Active Orders"}),u.jsx("span",{className:"text-cyphr-teal text-lg",children:"⚡"})]}),i.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-cyphr-gray text-4xl mb-4",children:"📋"}),u.jsx("div",{className:"text-cyphr-gray font-sf-pro text-lg",children:"No active orders"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Your active orders will appear here"})]}):u.jsx("div",{className:"space-y-4",children:i.map(a=>u.jsxs("div",{className:"p-6 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(Il,{token:{name:a.token,symbol:a.token},size:"md"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-cyphr-white text-lg mb-1",children:a.token}),u.jsxs("div",{className:"text-cyphr-gray text-sm",children:["Order #",a.id]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-lg font-bold ${a.type==="BUY"?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.type}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:a.time})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Amount"}),u.jsxs("div",{className:"font-bold text-cyphr-white",children:["$",a.amount]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Price"}),u.jsx("div",{className:"font-bold text-cyphr-white",children:a.price})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Status"}),u.jsx("div",{className:`font-semibold ${a.status==="pending"?"text-cyphr-pink":"text-cyphr-teal"}`,children:a.status.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Progress"}),u.jsxs("div",{className:"font-bold text-cyphr-white",children:[a.progress,"%"]})]})]}),u.jsx("div",{className:"w-full bg-cyphr-dark-gray rounded-full h-2 mb-4",children:u.jsx("div",{className:"bg-gradient-to-r from-cyphr-teal to-cyphr-pink h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Cancel Order"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Modify"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"View Details"})]})]},a.id))})]}),t==="history"&&u.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order History"}),u.jsx("span",{className:"text-cyphr-teal text-lg",children:"📊"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b-2 border-cyphr-gray",children:[u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Order ID"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Token"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Type"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Amount"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Price"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Executed Price"}),u.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Time"})]})}),u.jsx("tbody",{children:s.map(a=>u.jsxs("tr",{className:"border-b border-cyphr-gray/30 hover:bg-cyphr-black/30 transition-all duration-200",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"font-mono text-cyphr-white text-sm",children:a.id})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-lg flex items-center justify-center text-cyphr-black font-bold text-sm shadow-lg",children:a.token.charAt(0)}),u.jsx("span",{className:"font-bold text-cyphr-white",children:a.token})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.type==="BUY"?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink text-cyphr-white"}`,children:a.type})}),u.jsxs("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:["$",a.amount]}),u.jsx("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:a.price}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.status==="completed"?"bg-cyphr-teal text-cyphr-black":a.status==="cancelled"?"bg-cyphr-pink text-cyphr-white":"bg-cyphr-gray text-cyphr-black"}`,children:a.status.toUpperCase()})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-cyphr-gray text-sm",children:a.executedPrice||"N/A"})}),u.jsx("td",{className:"px-6 py-4 text-cyphr-gray text-sm",children:a.time})]},a.id))})]})})]})]})},f7=()=>{const[t,e]=z.useState("wallets"),[n,r]=z.useState(""),i=[{id:1,name:"Axiom Main",address:"TzKG...h4W9",balance:"2.47",holdings:"12",color:"#ff6b35"},{id:2,name:"Trading Wallet",address:"Ax7K...mN3P",balance:"1.23",holdings:"8",color:"#6D8FC7"},{id:3,name:"Staking Pool",address:"Bx9L...qR5T",balance:"0.89",holdings:"5",color:"#bd496f"}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Portfolio"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your wallets and track your investments"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(s=>u.jsx("button",{onClick:()=>e(s),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===s?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:s})},s))}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"Axiom Main"}),u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"2.47 SOL"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"cyphr-button-primary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"mr-2",children:"+"}),"Add Wallet"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("img",{src:"/WalletIcon.png",alt:"Wallet",style:{width:"20px",height:"20px"}}),"Wallets"]})}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",placeholder:"Search by name or address...",value:n,onChange:s=>r(s.target.value),className:"elite-input w-full text-sm"})})}),u.jsx("div",{className:"space-y-4",children:i.map(s=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-cyphr-gray/20 hover:border-cyphr-teal/30 transition-all duration-300 cursor-pointer group",style:{background:"linear-gradient(135deg, rgba(45,186,161,0.05) 0%, rgba(189,73,111,0.05) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:s.color},children:s.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:s.name}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:s.address})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-cyphr-white font-semibold text-sm",children:[s.balance," SOL"]}),u.jsxs("div",{className:"text-cyphr-gray text-xs",children:[s.holdings," holdings"]})]})]},s.id))})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📊"}),"Total Value"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),u.jsx("div",{className:"text-3xl font-bold text-cyphr-white mb-2",children:"$4.59"}),u.jsx("div",{className:"text-green-500 text-sm",children:"+12.5% (24h)"})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"⚡"}),"Recent Activity"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full flex items-center justify-center text-white text-xs font-bold",children:"B"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"Bought BONK"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"2 hours ago"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"+$0.23"}),u.jsx("div",{className:"text-green-500 text-xs",children:"+15.2%"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-pink to-cyphr-teal rounded-full flex items-center justify-center text-white text-xs font-bold",children:"S"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"Sold PEPE"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"5 hours ago"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-cyphr-white font-medium",children:"-$0.12"}),u.jsx("div",{className:"text-red-500 text-xs",children:"-8.7%"})]})]})]})]}),u.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📈"}),"Performance"]}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),u.jsx("div",{className:"h-32 bg-gradient-to-r from-cyphr-teal/20 to-cyphr-pink/20 rounded-lg flex items-center justify-center",children:u.jsx("div",{className:"text-cyphr-gray text-sm",children:"Chart placeholder"})})]})]})]})]})},p7=()=>{const[t,e]=z.useState("active"),[n,r]=z.useState("max"),i=["1d","7d","30d","max"];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Spot Trading"}),u.jsx("p",{className:"text-cyphr-gray",children:"Manage your spot positions and trading history"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(s=>u.jsx("button",{onClick:()=>e(s),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===s?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:s})},s))}),u.jsx("div",{className:"flex gap-2",children:i.map(s=>u.jsx("button",{onClick:()=>r(s),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===s?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:s.toUpperCase()},s))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),u.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:"Axiom Main"}),u.jsx("div",{className:"text-cyphr-gray text-sm",children:"2.47"})]}),u.jsx("span",{className:"text-cyphr-gray",children:"▼"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-cyphr-gray text-sm mb-1 font-semibold",children:"Balance"}),u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total Value: ",u.jsx("span",{className:"text-cyphr-teal",children:"$89.47"})]})]}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Unrealized PNL: ",u.jsx("span",{className:"text-cyphr-teal",children:"+$12.34"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Available Balance: ",u.jsx("span",{className:"text-cyphr-teal",children:"$77.13"})]})})]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Realized PNL"})}),u.jsxs("div",{className:"h-40 bg-gradient-to-br from-cyphr-pink/5 to-cyphr-teal/5 rounded-lg flex items-center justify-center relative border border-cyphr-gray/20",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-cyphr-pink/20 via-cyphr-pink/10 to-transparent transform rotate-12 rounded-lg"})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-cyphr-pink to-transparent transform rotate-12"})}),u.jsx("div",{className:"absolute bottom-3 left-3 text-cyphr-gray text-xl",children:"📊"})]})]}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Performance"}),u.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-colors p-1 rounded hover:bg-cyphr-black/30",children:"📤"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total PNL: ",u.jsx("span",{className:"text-cyphr-teal",children:"+$23.67"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total TXNS: ",u.jsx("span",{className:"text-cyphr-teal",children:"47 / 23"})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-cyphr-gray text-sm font-semibold",children:"PNL Distribution"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🟢 >500%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"3"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🟢 200% ~ 500%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"8"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🟢 0% ~ 200%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"12"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🔴 0% ~ -50%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"4"})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-cyphr-gray",children:"🔴 < -50%"}),u.jsx("span",{className:"text-cyphr-white font-semibold",children:"2"})]})]}),u.jsx("div",{className:"w-full h-1 bg-cyphr-black/30 rounded-full mt-2 border border-cyphr-gray/20",children:u.jsx("div",{className:"w-4/5 h-1 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full shadow-lg"})})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active positions","history","top 100"].map(s=>u.jsx("button",{onClick:()=>e(s),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===s?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:u.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:s})},s))}),u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[u.jsx("input",{type:"text",placeholder:"Search by name or address",className:"elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white placeholder-cyphr-gray"}),u.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Show Hidden"}),u.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"↑↓ USD"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsx("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:u.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Bought"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Sold"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Remaining ↓"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"PNL"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Action"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"S"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"SOL"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"Solana"})]})]})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$22.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$12.34"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-pink to-cyphr-teal rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"B"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"BONK"}),u.jsx("div",{className:"text-cyphr-gray text-xs",children:"Bonk"})]})]})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$0"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$8.90"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]})]})]})})}),u.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Activity"})}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Type"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Amount ⓘ"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Market Cap ⓘ"}),u.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Age"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"SOL"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.5B"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"2h ago"})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-pink/20 text-cyphr-pink",children:"SELL"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"4h ago"})]}),u.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),u.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"6h ago"})]})]})]})})]})]})]})]})},m7=()=>{const[t,e]=z.useState(null),[n,r]=z.useState("overview"),[i,s]=z.useState("1D"),[o,a]=z.useState([]),[l,c]=z.useState(""),[d,h]=z.useState(!1),[p,m]=z.useState([]),[y,w]=z.useState(!1),[b,g]=z.useState(""),[S,_]=z.useState(!0);z.useEffect(()=>{const f="Cyphr Terminal";let x=0;const k=setInterval(()=>{x<f.length?(g(f.slice(0,x+1)),x++):(_(!1),clearInterval(k))},150);return()=>clearInterval(k)},[]);const A=[{symbol:"SOL",name:"Solana",price:177.45,change24h:5.67,volume24h:284e7,marketCap:45e9,holders:125e4,riskLevel:"Medium",liquidityEvents:[{type:"Large Buy",amount:5e5,timestamp:"2h ago",impact:"Positive"},{type:"Whale Movement",amount:12e5,timestamp:"6h ago",impact:"Neutral"},{type:"Liquidity Added",amount:8e5,timestamp:"12h ago",impact:"Positive"},{type:"Institutional Inflow",amount:25e5,timestamp:"1h ago",impact:"Positive"}],aiInsights:[{type:"Bullish",confidence:78,analysis:"Strong momentum with increasing volume and institutional buying pressure. RSI showing bullish divergence.",recommendation:"Consider long position with tight stop loss at $95.20"},{type:"Neutral",confidence:65,analysis:"Technical indicators show consolidation near resistance. MACD histogram flattening.",recommendation:"Wait for breakout confirmation above $100 resistance"},{type:"Bullish",confidence:82,analysis:"On-chain metrics show strong accumulation by smart money. Network activity increasing.",recommendation:"Accumulate on dips, target $110-115 range"}]}],R=async f=>{if(!f.trim())return[];h(!0);try{const k=await(await fetch(`https://api.coingecko.com/api/v3/search?query=${encodeURIComponent(f)}`)).json();if(k.coins&&k.coins.length>0){const C=k.coins.slice(0,5),T=C.map(v=>v.id).join(","),L=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${T}&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true&include_market_cap=true`)).json();return C.map(v=>{const P=L[v.id];return{id:v.id,symbol:v.symbol.toUpperCase(),name:v.name,price:(P==null?void 0:P.usd)||0,change24h:(P==null?void 0:P.usd_24h_change)||0,volume24h:(P==null?void 0:P.usd_24h_vol)||0,marketCap:(P==null?void 0:P.usd_market_cap)||0,image:v.large,contractAddress:v.contract_address||null}})}}catch(x){console.log("API error, using mock data:",x)}return h(!1),[]},W=async f=>{if(c(f),f.trim().length>=2){w(!0);const x=await R(f);m(x)}else m([]),w(!1);h(!1)},O=()=>{c(""),m([]),w(!1)},B=async f=>{h(!0);try{const x={symbol:f.symbol,name:f.name,price:f.price,change24h:f.change24h,volume24h:f.volume24h,marketCap:f.marketCap,holders:Math.floor(Math.random()*1e6)+1e5,riskLevel:f.change24h>10?"High":f.change24h>5?"Medium":"Low",liquidityEvents:[{type:"Recent Trade",amount:f.volume24h*.01,timestamp:"5m ago",impact:"Positive"},{type:"Volume Spike",amount:f.volume24h*.02,timestamp:"15m ago",impact:"Neutral"}],aiInsights:[{type:f.change24h>0?"Bullish":"Bearish",confidence:Math.abs(f.change24h)>10?85:65,analysis:`Price showing ${f.change24h>0?"strong upward":"downward"} momentum with ${f.volume24h>1e6?"high":"moderate"} volume.`,recommendation:f.change24h>0?"Consider long position with stop loss":"Monitor for reversal signals"}]};e(x),a(F(f.symbol,i)),c(f.symbol),m([]),w(!1),setTimeout(()=>{a(F(f.symbol,i))},100)}catch(x){console.log("Error selecting token:",x)}h(!1)},F=(f,x)=>{const k=[];let I=100,L=15*60*1e3;switch(x){case"1H":I=60,L=1*60*1e3;break;case"4H":I=240,L=1*60*1e3;break;case"1D":I=144,L=10*60*1e3;break;case"1W":I=168,L=1*60*60*1e3;break;case"1M":I=30,L=24*60*60*1e3;break}let j=98;const v=Date.now();for(let P=0;P<I;P++){const X=v-(I-P)*L,Z=(Math.random()-.5)*.05*j,te=j,se=j+Z,le=Math.max(te,se)+Math.random()*.05*j*.5,ce=Math.min(te,se)-Math.random()*.05*j*.5,ne=Math.random()*1e6+5e5;k.push({timestamp:X,open:te,high:le,low:ce,close:se,volume:ne}),j=se}return k};z.useEffect(()=>{const f=A.find(x=>x.symbol==="SOL");f&&(e(f),a(F("SOL",i)))},[]),z.useEffect(()=>{t&&a(F(t.symbol,i))},[i,t]),z.useEffect(()=>{const f=setTimeout(()=>{l&&l!==(t==null?void 0:t.symbol)&&l.trim().length>=2&&W(l)},500);return()=>clearTimeout(f)},[l]);const U=f=>f>=1e9?(f/1e9).toFixed(2)+"B":f>=1e6?(f/1e6).toFixed(2)+"M":f>=1e3?(f/1e3).toFixed(2)+"K":f.toFixed(2),H=f=>{switch(f){case"Low":return"text-green-400";case"Medium":return"text-yellow-400";case"High":return"text-red-400";default:return"text-gray-400"}},K=f=>{switch(f){case"Bullish":return"text-green-400";case"Bearish":return"text-red-400";case"Neutral":return"text-blue-400";default:return"text-gray-400"}},M=({data:f})=>{const[x,k]=V.useState(1),[C,T]=V.useState(!1),[I,L]=V.useState(!1);if(!f||f.length===0)return u.jsx("div",{className:"chart-placeholder",children:"Loading chart..."});const j=800,v=400,P={top:40,right:40,bottom:60,left:60},X=j-P.left-P.right,Z=v-P.top-P.bottom,te=f.map(re=>[re.low,re.high,re.open,re.close]).flat(),se=Math.min(...te)*.995,le=Math.max(...te)*1.005,ce=re=>P.left+re/(f.length-1)*X,ne=re=>P.top+Z-(re-se)/(le-se)*Z,ye=re=>{re.preventDefault();const ge=re.deltaY>0?.9:1.1;k(oe=>Math.max(.5,Math.min(5,oe*ge)))},he=re=>re>=1e9?(re/1e9).toFixed(2)+"B":re>=1e6?(re/1e6).toFixed(2)+"M":re>=1e3?(re/1e3).toFixed(2)+"K":re.toFixed(0),we=[...f.map(re=>re.volume)].sort((re,ge)=>ge-re),Ae=we[Math.floor(we.length*.2)];return u.jsxs("div",{className:"interactive-chart-container",onWheel:ye,children:[u.jsxs("div",{className:"chart-controls",children:[u.jsxs("div",{className:"chart-control-group",children:[u.jsx("button",{className:`chart-control-btn ${C?"active":""}`,onClick:re=>{re.preventDefault(),re.stopPropagation(),T(!C)},title:"Highlight Large Buys",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),L(!0)},title:"Zoom Chart",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15 3l6 6-6 6M9 21l-6-6 6-6"})})})]}),u.jsx("div",{className:"chart-control-divider"}),u.jsxs("div",{className:"chart-control-group",children:[u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),k(ge=>Math.min(5,ge*1.2))},title:"Zoom In",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 4v16m8-8H4"})})}),u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),k(ge=>Math.max(.5,ge*.8))},title:"Zoom Out",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M4 12h16"})})}),u.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),k(1)},title:"Reset Zoom",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16M8 12h8"})})})]})]}),u.jsxs("svg",{width:j,height:v,className:"candlestick-chart",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[0,1,2,3,4,5].map(re=>u.jsx("g",{children:u.jsx("line",{x1:P.left,y1:P.top+re*Z/5,x2:j-P.right,y2:P.top+re*Z/5,stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})},`grid-h-${re}`)),[0,1,2,3,4,5,6,7,8].map(re=>u.jsx("g",{children:u.jsx("line",{x1:P.left+re*X/8,y1:P.top,x2:P.left+re*X/8,y2:v-P.bottom,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-v-${re}`)),[0,1,2,3,4,5].map(re=>{const ge=le-re*(le-se)/5;return u.jsxs("text",{x:P.left-10,y:P.top+re*Z/5+4,textAnchor:"end",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:["$",ge.toFixed(2)]},`price-${re}`)}),[0,1,2,3,4,5,6,7,8].map(re=>u.jsx("text",{x:P.left+re*X/8,y:v-P.bottom+15,textAnchor:"middle",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:re===0?"9:30":re===8?"16:00":`${10+re}:00`},`time-${re}`)),f.map((re,ge)=>{const oe=ce(ge),st=ne(re.open),Be=ne(re.close),Oe=ne(re.high),ht=ne(re.low),De=re.close>=re.open,Ve=Math.abs(Be-st)||1,Ye=C&&re.volume>=Ae;return u.jsxs("g",{children:[u.jsx("line",{x1:oe,y1:Oe,x2:oe,y2:ht,stroke:De?"#10b981":"#ef4444",strokeWidth:Ye?"3":"2",opacity:Ye?1:.9,filter:Ye?"url(#glow)":"none"}),u.jsx("rect",{x:oe-2,y:De?Be:st,width:"4",height:Ve,fill:De?"#10b981":"#ef4444",stroke:De?"#059669":"#dc2626",strokeWidth:Ye?"2":"1",opacity:Ye?1:.9,filter:Ye?"url(#glow)":"none"}),Ye&&u.jsxs("g",{children:[u.jsx("circle",{cx:oe,cy:ne(re.close),r:"8",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2"}),u.jsxs("text",{x:oe,y:ne(re.close)-15,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"10",fontWeight:"bold",fontFamily:"Courier New",children:["$",he(re.volume)]})]})]},ge)})]}),I&&u.jsx("div",{className:"zoom-popup-overlay",onClick:()=>L(!1),children:u.jsxs("div",{className:"zoom-popup-content",onClick:re=>re.stopPropagation(),children:[u.jsxs("div",{className:"zoom-popup-header",children:[u.jsx("h3",{children:"Chart Zoom View"}),u.jsx("button",{className:"zoom-popup-close",onClick:()=>L(!1),children:"×"})]}),u.jsx("div",{className:"zoom-popup-chart",children:u.jsxs("svg",{width:"1200",height:"800",className:"candlestick-chart",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]})}),[0,1,2,3,4,5].map(re=>u.jsx("g",{children:u.jsx("line",{x1:P.left,y1:P.top+re*Z/5,x2:1200-P.right,y2:P.top+re*Z/5,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-${re}`)),f.map((re,ge)=>{const oe=P.left+ge/(f.length-1)*(1200-P.left-P.right),st=P.top+Z-(re.open-se)/(le-se)*Z,Be=P.top+Z-(re.close-se)/(le-se)*Z,Oe=P.top+Z-(re.high-se)/(le-se)*Z,ht=P.top+Z-(re.low-se)/(le-se)*Z,De=re.close>=re.open,Ve=Math.abs(Be-st)||1,Ye=C&&re.volume>=Ae;return u.jsxs("g",{children:[u.jsx("line",{x1:oe,y1:Oe,x2:oe,y2:ht,stroke:De?"#10b981":"#ef4444",strokeWidth:Ye?"4":"3",opacity:Ye?1:.9,filter:Ye?"url(#glow)":"none"}),u.jsx("rect",{x:oe-4,y:De?Be:st,width:"8",height:Ve,fill:De?"#10b981":"#ef4444",stroke:De?"#059669":"#dc2626",strokeWidth:Ye?"3":"2",opacity:Ye?1:.9,filter:Ye?"url(#glow)":"none"}),Ye&&u.jsxs("g",{children:[u.jsx("circle",{cx:oe,cy:Be,r:"12",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"3"}),u.jsxs("text",{x:oe,y:Be-20,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"14",fontWeight:"bold",fontFamily:"Courier New",children:["$",he(re.volume)]})]})]},ge)})]})})]})})]})};return t?u.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Cyphr Terminal"}),u.jsx("p",{className:"text-cyphr-gray",children:"Professional Trading Intelligence Platform"})]}),u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"status-indicator"}),u.jsx("span",{className:"text-green-400 text-sm font-semibold bg-green-400/10 border border-green-400/30 px-2 py-1 rounded-md",children:"LIVE"})]}),u.jsxs("div",{className:"w-64",children:[u.jsxs("div",{className:"search-container",children:[u.jsx("input",{type:"text",placeholder:"Search tokens...",value:l,onChange:f=>c(f.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),200),className:"pro-search-input"}),l&&u.jsx("button",{onClick:O,className:"clear-search-btn",title:"Clear search",children:"✕"}),d&&u.jsx("div",{className:"search-spinner",children:u.jsx("div",{className:"spinner"})})]}),y&&p.length>0&&u.jsx("div",{className:"search-results",children:p.map(f=>u.jsxs("div",{className:"search-result-item",onClick:()=>B(f),children:[u.jsx("div",{className:"result-symbol",children:f.symbol}),u.jsx("div",{className:"result-name",children:f.name}),u.jsxs("div",{className:`result-change ${f.change24h>=0?"text-green-400":"text-red-400"}`,children:[f.change24h>=0?"+":"",f.change24h.toFixed(2),"%"]})]},f.id))})]})]}),u.jsxs("div",{className:"pro-terminal-content",children:[u.jsxs("div",{className:"token-info-bar",children:[u.jsxs("div",{className:"token-basic-info",children:[u.jsx("h2",{className:"token-symbol",children:t.symbol}),u.jsx("span",{className:"token-name",children:t.name})]}),u.jsxs("div",{className:"token-price-info",children:[u.jsxs("div",{className:"current-price",children:["$",t.price.toLocaleString()]}),u.jsxs("div",{className:`price-change ${t.change24h>=0?"positive":"negative"}`,children:[t.change24h>=0?"+":"",t.change24h.toFixed(2),"%"]})]}),u.jsxs("div",{className:"token-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Volume 24h"}),u.jsxs("span",{className:"stat-value",children:["$",U(t.volume24h)]})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Market Cap"}),u.jsxs("span",{className:"stat-value",children:["$",U(t.marketCap)]})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Holders"}),u.jsx("span",{className:"stat-value",children:U(t.holders)})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-label",children:"Risk Level"}),u.jsx("span",{className:`stat-value ${H(t.riskLevel)}`,children:t.riskLevel})]})]})]}),u.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","insights","holders","liquidity"].map(f=>u.jsx("button",{className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===f?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,onClick:()=>r(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))}),u.jsxs("div",{className:"pro-tab-content",children:[n==="overview"&&u.jsxs("div",{className:"overview-grid",children:[u.jsxs("div",{className:"chart-section",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"section-title",children:"Price Chart"}),u.jsx("div",{className:"flex gap-2",children:["1H","4H","1D","1W","1M"].map(f=>u.jsx("button",{className:`timeframe-btn flex-1 lg:flex-none ${i===f?"active":""}`,onClick:()=>s(f),children:f},f))})]}),u.jsx("div",{className:"chart-container",children:u.jsx(M,{data:o})})]}),u.jsxs("div",{className:"insights-section",children:[u.jsx("h3",{className:"section-title",children:"AI Insights"}),u.jsx("div",{className:"insights-list",children:t.aiInsights.map((f,x)=>u.jsxs("div",{className:"insight-card",children:[u.jsxs("div",{className:"insight-header",children:[u.jsx("span",{className:`insight-type ${K(f.type)}`,children:f.type}),u.jsxs("span",{className:"insight-confidence",children:[f.confidence,"% confidence"]})]}),u.jsx("p",{className:"insight-analysis",children:f.analysis}),u.jsx("p",{className:"insight-recommendation",children:f.recommendation})]},x))})]}),u.jsxs("div",{className:"quick-stats",children:[u.jsx("h3",{className:"section-title",children:"AI Asset Overview"}),u.jsxs("div",{className:"ai-overview-grid",children:[u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"📊"}),u.jsx("div",{className:"ai-card-title",children:"Holder Distribution"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Top 10%"}),u.jsx("span",{className:"ai-stat-value",children:"45% of supply"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Smart Money"}),u.jsx("span",{className:"ai-stat-value",children:"32% increase"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"💰"}),u.jsx("div",{className:"ai-card-title",children:"Smart Money Flow"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Net Flow"}),u.jsx("span",{className:"ai-stat-value positive",children:"+$2.4M"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Whale Activity"}),u.jsx("span",{className:"ai-stat-value",children:"High"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"👥"}),u.jsx("div",{className:"ai-card-title",children:"Notorious Wallets"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Tracked"}),u.jsx("span",{className:"ai-stat-value",children:"1,247 wallets"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"Risk Level"}),u.jsx("span",{className:"ai-stat-value",children:"Medium"})]})]})]}),u.jsxs("div",{className:"ai-overview-card",children:[u.jsxs("div",{className:"ai-card-header",children:[u.jsx("div",{className:"ai-card-icon",children:"📈"}),u.jsx("div",{className:"ai-card-title",children:"Key Metrics"})]}),u.jsxs("div",{className:"ai-card-content",children:[u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"RSI"}),u.jsx("span",{className:"ai-stat-value",children:"68.5"})]}),u.jsxs("div",{className:"ai-stat",children:[u.jsx("span",{className:"ai-stat-label",children:"MACD"}),u.jsx("span",{className:"ai-stat-value positive",children:"Bullish"})]})]})]})]})]})]}),n==="chart"&&u.jsxs("div",{className:"chart-section",children:[u.jsx("h3",{className:"section-title",children:"Advanced Chart"}),u.jsx("div",{className:"chart-container",children:u.jsx(M,{data:o})})]}),n==="insights"&&u.jsxs("div",{className:"insights-section",children:[u.jsx("h3",{className:"section-title",children:"Detailed AI Insights"}),u.jsx("div",{className:"insights-list",children:t.aiInsights.map((f,x)=>u.jsxs("div",{className:"insight-card",children:[u.jsxs("div",{className:"insight-header",children:[u.jsx("span",{className:`insight-type ${K(f.type)}`,children:f.type}),u.jsxs("span",{className:"insight-confidence",children:[f.confidence,"% confidence"]})]}),u.jsx("p",{className:"insight-analysis",children:f.analysis}),u.jsx("p",{className:"insight-recommendation",children:f.recommendation})]},x))})]}),n==="holders"&&u.jsxs("div",{className:"holders-section",children:[u.jsx("h3",{className:"section-title",children:"Holder Distribution"}),u.jsxs("div",{className:"holders-content",children:[u.jsxs("div",{className:"holder-stat",children:[u.jsx("span",{className:"holder-label",children:"Total Holders"}),u.jsx("span",{className:"holder-value",children:U(t.holders)})]}),u.jsxs("div",{className:"holder-stat",children:[u.jsx("span",{className:"holder-label",children:"Average Holding"}),u.jsxs("span",{className:"holder-value",children:["$",U(t.marketCap/t.holders)]})]})]})]}),n==="liquidity"&&u.jsxs("div",{className:"liquidity-section",children:[u.jsx("h3",{className:"section-title",children:"Liquidity Events"}),u.jsx("div",{className:"liquidity-list",children:t.liquidityEvents.map((f,x)=>u.jsxs("div",{className:"liquidity-card",children:[u.jsxs("div",{className:"liquidity-header",children:[u.jsx("span",{className:"liquidity-type",children:f.type}),u.jsxs("span",{className:"liquidity-amount",children:["$",U(f.amount)]})]}),u.jsxs("div",{className:"liquidity-details",children:[u.jsx("span",{className:"liquidity-time",children:f.timestamp}),u.jsx("span",{className:`liquidity-impact ${f.impact.toLowerCase()}`,children:f.impact})]})]},x))})]})]})]})]}):u.jsx("div",{className:"pro-terminal-container",children:u.jsx("div",{className:"terminal-loading",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("h2",{children:"Loading Terminal..."}),u.jsx("p",{children:"Initializing trading intelligence platform"})]})})})};function jn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=jn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var XA={exports:{}},QA={},JA={exports:{}},eM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=z;function g7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var y7=typeof Object.is=="function"?Object.is:g7,x7=ec.useState,w7=ec.useEffect,v7=ec.useLayoutEffect,b7=ec.useDebugValue;function S7(t,e){var n=e(),r=x7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return v7(function(){i.value=n,i.getSnapshot=e,wg(i)&&s({inst:i})},[t,n,e]),w7(function(){return wg(i)&&s({inst:i}),t(function(){wg(i)&&s({inst:i})})},[t]),b7(n),n}function wg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!y7(t,n)}catch{return!0}}function _7(t,e){return e()}var k7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_7:S7;eM.useSyncExternalStore=ec.useSyncExternalStore!==void 0?ec.useSyncExternalStore:k7;JA.exports=eM;var E7=JA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=z,N7=E7;function A7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M7=typeof Object.is=="function"?Object.is:A7,C7=N7.useSyncExternalStore,I7=Z0.useRef,T7=Z0.useEffect,j7=Z0.useMemo,R7=Z0.useDebugValue;QA.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=I7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=j7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return h=y}return h=m}if(y=h,M7(d,m))return y;var w=r(m);return i!==void 0&&i(y,w)?(d=m,y):(d=m,h=w)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=C7(t,s[0],s[1]);return T7(function(){o.hasValue=!0,o.value=a},[a]),R7(a),a};XA.exports=QA;var B7=XA.exports;const P7=xa(B7),L7={},nS=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(L7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},O7=t=>t?nS(t):nS,{useDebugValue:D7}=V,{useSyncExternalStoreWithSelector:z7}=P7,W7=t=>t;function tM(t,e=W7,n){const r=z7(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return D7(r),r}const rS=(t,e)=>{const n=O7(t),r=(i,s=e)=>tM(n,i,s);return Object.assign(r,n),r},F7=(t,e)=>t?rS(t,e):rS;function bn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var $7={value:()=>{}};function X0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wf(n)}function Wf(t){this._=t}function U7(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wf.prototype=X0.prototype={constructor:Wf,on:function(t,e){var n=this._,r=U7(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=H7(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=iS(n[i],t.name,e);else if(e==null)for(i in n)n[i]=iS(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Wf(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function H7(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function iS(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$7,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var B1="http://www.w3.org/1999/xhtml";const sS={svg:"http://www.w3.org/2000/svg",xhtml:B1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q0(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sS.hasOwnProperty(e)?{space:sS[e],local:t}:t}function V7(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===B1&&e.documentElement.namespaceURI===B1?e.createElement(t):e.createElementNS(n,t)}}function K7(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nM(t){var e=Q0(t);return(e.local?K7:V7)(e)}function q7(){}function sv(t){return t==null?q7:function(){return this.querySelector(t)}}function Y7(t){typeof t!="function"&&(t=sv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,d=0;d<o;++d)(l=s[d])&&(c=t.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new _r(r,this._parents)}function G7(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Z7(){return[]}function rM(t){return t==null?Z7:function(){return this.querySelectorAll(t)}}function X7(t){return function(){return G7(t.apply(this,arguments))}}function Q7(t){typeof t=="function"?t=X7(t):t=rM(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new _r(r,i)}function iM(t){return function(){return this.matches(t)}}function sM(t){return function(e){return e.matches(t)}}var J7=Array.prototype.find;function e9(t){return function(){return J7.call(this.children,t)}}function t9(){return this.firstElementChild}function n9(t){return this.select(t==null?t9:e9(typeof t=="function"?t:sM(t)))}var r9=Array.prototype.filter;function i9(){return Array.from(this.children)}function s9(t){return function(){return r9.call(this.children,t)}}function o9(t){return this.selectAll(t==null?i9:s9(typeof t=="function"?t:sM(t)))}function a9(t){typeof t!="function"&&(t=iM(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new _r(r,this._parents)}function oM(t){return new Array(t.length)}function l9(){return new _r(this._enter||this._groups.map(oM),this._parents)}function Up(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Up.prototype={constructor:Up,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function c9(t){return function(){return t}}function u9(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Up(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function d9(t,e,n,r,i,s,o){var a,l,c=new Map,d=e.length,h=s.length,p=new Array(d),m;for(a=0;a<d;++a)(l=e[a])&&(p[a]=m=o.call(l,l.__data__,a,e)+"",c.has(m)?i[a]=l:c.set(m,l));for(a=0;a<h;++a)m=o.call(t,s[a],a,s)+"",(l=c.get(m))?(r[a]=l,l.__data__=s[a],c.delete(m)):n[a]=new Up(t,s[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(p[a])===l&&(i[a]=l)}function h9(t){return t.__data__}function f9(t,e){if(!arguments.length)return Array.from(this,h9);var n=e?d9:u9,r=this._parents,i=this._groups;typeof t!="function"&&(t=c9(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=r[c],h=i[c],p=h.length,m=p9(t.call(d,d&&d.__data__,c,r)),y=m.length,w=a[c]=new Array(y),b=o[c]=new Array(y),g=l[c]=new Array(p);n(d,h,w,b,g,m,e);for(var S=0,_=0,A,R;S<y;++S)if(A=w[S]){for(S>=_&&(_=S+1);!(R=b[_])&&++_<y;);A._next=R||null}}return o=new _r(o,r),o._enter=a,o._exit=l,o}function p9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m9(){return new _r(this._exit||this._groups.map(oM),this._parents)}function g9(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function y9(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],d=r[l],h=c.length,p=a[l]=new Array(h),m,y=0;y<h;++y)(m=c[y]||d[y])&&(p[y]=m);for(;l<i;++l)a[l]=n[l];return new _r(a,this._parents)}function x9(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function w9(t){t||(t=v9);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(e)}return new _r(i,this._parents).order()}function v9(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function b9(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function S9(){return Array.from(this)}function _9(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function k9(){let t=0;for(const e of this)++t;return t}function E9(){return!this.node()}function N9(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function A9(t){return function(){this.removeAttribute(t)}}function M9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function C9(t,e){return function(){this.setAttribute(t,e)}}function I9(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T9(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function j9(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function R9(t,e){var n=Q0(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?M9:A9:typeof e=="function"?n.local?j9:T9:n.local?I9:C9)(n,e))}function aM(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function B9(t){return function(){this.style.removeProperty(t)}}function P9(t,e,n){return function(){this.style.setProperty(t,e,n)}}function L9(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function O9(t,e,n){return arguments.length>1?this.each((e==null?B9:typeof e=="function"?L9:P9)(t,e,n??"")):tc(this.node(),t)}function tc(t,e){return t.style.getPropertyValue(e)||aM(t).getComputedStyle(t,null).getPropertyValue(e)}function D9(t){return function(){delete this[t]}}function z9(t,e){return function(){this[t]=e}}function W9(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function F9(t,e){return arguments.length>1?this.each((e==null?D9:typeof e=="function"?W9:z9)(t,e)):this.node()[t]}function lM(t){return t.trim().split(/^|\s+/)}function ov(t){return t.classList||new cM(t)}function cM(t){this._node=t,this._names=lM(t.getAttribute("class")||"")}cM.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function uM(t,e){for(var n=ov(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function dM(t,e){for(var n=ov(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $9(t){return function(){uM(this,t)}}function U9(t){return function(){dM(this,t)}}function H9(t,e){return function(){(e.apply(this,arguments)?uM:dM)(this,t)}}function V9(t,e){var n=lM(t+"");if(arguments.length<2){for(var r=ov(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?H9:e?$9:U9)(n,e))}function K9(){this.textContent=""}function q9(t){return function(){this.textContent=t}}function Y9(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function G9(t){return arguments.length?this.each(t==null?K9:(typeof t=="function"?Y9:q9)(t)):this.node().textContent}function Z9(){this.innerHTML=""}function X9(t){return function(){this.innerHTML=t}}function Q9(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function J9(t){return arguments.length?this.each(t==null?Z9:(typeof t=="function"?Q9:X9)(t)):this.node().innerHTML}function eW(){this.nextSibling&&this.parentNode.appendChild(this)}function tW(){return this.each(eW)}function nW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rW(){return this.each(nW)}function iW(t){var e=typeof t=="function"?t:nM(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sW(){return null}function oW(t,e){var n=typeof t=="function"?t:nM(t),r=e==null?sW:typeof e=="function"?e:sv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aW(){var t=this.parentNode;t&&t.removeChild(this)}function lW(){return this.each(aW)}function cW(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function uW(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dW(t){return this.select(t?uW:cW)}function hW(t){return arguments.length?this.property("__data__",t):this.node().__data__}function fW(t){return function(e){t.call(this,e,this.__data__)}}function pW(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function mW(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function gW(t,e,n){return function(){var r=this.__on,i,s=fW(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function yW(t,e,n){var r=pW(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(i=0,d=a[l];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?gW:mW,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function hM(t,e,n){var r=aM(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xW(t,e){return function(){return hM(this,t,e)}}function wW(t,e){return function(){return hM(this,t,e.apply(this,arguments))}}function vW(t,e){return this.each((typeof e=="function"?wW:xW)(t,e))}function*bW(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var fM=[null];function _r(t,e){this._groups=t,this._parents=e}function $d(){return new _r([[document.documentElement]],fM)}function SW(){return this}_r.prototype=$d.prototype={constructor:_r,select:Y7,selectAll:Q7,selectChild:n9,selectChildren:o9,filter:a9,data:f9,enter:l9,exit:m9,join:g9,merge:y9,selection:SW,order:x9,sort:w9,call:b9,nodes:S9,node:_9,size:k9,empty:E9,each:N9,attr:R9,style:O9,property:F9,classed:V9,text:G9,html:J9,raise:tW,lower:rW,append:iW,insert:oW,remove:lW,clone:dW,datum:hW,on:yW,dispatch:vW,[Symbol.iterator]:bW};function Rr(t){return typeof t=="string"?new _r([[document.querySelector(t)]],[document.documentElement]):new _r([[t]],fM)}function _W(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Gr(t,e){if(t=_W(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const kW={passive:!1},pd={capture:!0,passive:!1};function vg(t){t.stopImmediatePropagation()}function Tl(t){t.preventDefault(),t.stopImmediatePropagation()}function pM(t){var e=t.document.documentElement,n=Rr(t).on("dragstart.drag",Tl,pd);"onselectstart"in e?n.on("selectstart.drag",Tl,pd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mM(t,e){var n=t.document.documentElement,r=Rr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Tl,pd),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Nh=t=>()=>t;function P1(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}P1.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function EW(t){return!t.ctrlKey&&!t.button}function NW(){return this.parentNode}function AW(t,e){return e??{x:t.x,y:t.y}}function MW(){return navigator.maxTouchPoints||"ontouchstart"in this}function CW(){var t=EW,e=NW,n=AW,r=MW,i={},s=X0("start","drag","end"),o=0,a,l,c,d,h=0;function p(A){A.on("mousedown.drag",m).filter(r).on("touchstart.drag",b).on("touchmove.drag",g,kW).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(A,R){if(!(d||!t.call(this,A,R))){var W=_(this,e.call(this,A,R),A,R,"mouse");W&&(Rr(A.view).on("mousemove.drag",y,pd).on("mouseup.drag",w,pd),pM(A.view),vg(A),c=!1,a=A.clientX,l=A.clientY,W("start",A))}}function y(A){if(Tl(A),!c){var R=A.clientX-a,W=A.clientY-l;c=R*R+W*W>h}i.mouse("drag",A)}function w(A){Rr(A.view).on("mousemove.drag mouseup.drag",null),mM(A.view,c),Tl(A),i.mouse("end",A)}function b(A,R){if(t.call(this,A,R)){var W=A.changedTouches,O=e.call(this,A,R),B=W.length,F,U;for(F=0;F<B;++F)(U=_(this,O,A,R,W[F].identifier,W[F]))&&(vg(A),U("start",A,W[F]))}}function g(A){var R=A.changedTouches,W=R.length,O,B;for(O=0;O<W;++O)(B=i[R[O].identifier])&&(Tl(A),B("drag",A,R[O]))}function S(A){var R=A.changedTouches,W=R.length,O,B;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<W;++O)(B=i[R[O].identifier])&&(vg(A),B("end",A,R[O]))}function _(A,R,W,O,B,F){var U=s.copy(),H=Gr(F||W,R),K,M,f;if((f=n.call(A,new P1("beforestart",{sourceEvent:W,target:p,identifier:B,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:U}),O))!=null)return K=f.x-H[0]||0,M=f.y-H[1]||0,function x(k,C,T){var I=H,L;switch(k){case"start":i[B]=x,L=o++;break;case"end":delete i[B],--o;case"drag":H=Gr(T||C,R),L=o;break}U.call(k,A,new P1(k,{sourceEvent:C,subject:f,target:p,identifier:B,active:L,x:H[0]+K,y:H[1]+M,dx:H[0]-I[0],dy:H[1]-I[1],dispatch:U}),O)}}return p.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Nh(!!A),p):t},p.container=function(A){return arguments.length?(e=typeof A=="function"?A:Nh(A),p):e},p.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Nh(A),p):n},p.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Nh(!!A),p):r},p.on=function(){var A=s.on.apply(s,arguments);return A===s?p:A},p.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,p):Math.sqrt(h)},p}function av(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ud(){}var md=.7,Hp=1/md,jl="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IW=/^#([0-9a-f]{3,8})$/,TW=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),jW=new RegExp(`^rgb\\(${Ci},${Ci},${Ci}\\)$`),RW=new RegExp(`^rgba\\(${jl},${jl},${jl},${gd}\\)$`),BW=new RegExp(`^rgba\\(${Ci},${Ci},${Ci},${gd}\\)$`),PW=new RegExp(`^hsl\\(${gd},${Ci},${Ci}\\)$`),LW=new RegExp(`^hsla\\(${gd},${Ci},${Ci},${gd}\\)$`),oS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};av(Ud,yd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aS,formatHex:aS,formatHex8:OW,formatHsl:DW,formatRgb:lS,toString:lS});function aS(){return this.rgb().formatHex()}function OW(){return this.rgb().formatHex8()}function DW(){return yM(this).formatHsl()}function lS(){return this.rgb().formatRgb()}function yd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cS(e):n===3?new cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ah(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ah(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TW.exec(t))?new cr(e[1],e[2],e[3],1):(e=jW.exec(t))?new cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RW.exec(t))?Ah(e[1],e[2],e[3],e[4]):(e=BW.exec(t))?Ah(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PW.exec(t))?hS(e[1],e[2]/100,e[3]/100,1):(e=LW.exec(t))?hS(e[1],e[2]/100,e[3]/100,e[4]):oS.hasOwnProperty(t)?cS(oS[t]):t==="transparent"?new cr(NaN,NaN,NaN,0):null}function cS(t){return new cr(t>>16&255,t>>8&255,t&255,1)}function Ah(t,e,n,r){return r<=0&&(t=e=n=NaN),new cr(t,e,n,r)}function zW(t){return t instanceof Ud||(t=yd(t)),t?(t=t.rgb(),new cr(t.r,t.g,t.b,t.opacity)):new cr}function L1(t,e,n,r){return arguments.length===1?zW(t):new cr(t,e,n,r??1)}function cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}av(cr,L1,gM(Ud,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?md:Math.pow(md,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new cr(ia(this.r),ia(this.g),ia(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uS,formatHex:uS,formatHex8:WW,formatRgb:dS,toString:dS}));function uS(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function WW(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function dS(){const t=Vp(this.opacity);return`${t===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${t===1?")":`, ${t})`}`}function Vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xo(t){return t=ia(t),(t<16?"0":"")+t.toString(16)}function hS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qr(t,e,n,r)}function yM(t){if(t instanceof Qr)return new Qr(t.h,t.s,t.l,t.opacity);if(t instanceof Ud||(t=yd(t)),!t)return new Qr;if(t instanceof Qr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Qr(o,a,l,t.opacity)}function FW(t,e,n,r){return arguments.length===1?yM(t):new Qr(t,e,n,r??1)}function Qr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}av(Qr,FW,gM(Ud,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new Qr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?md:Math.pow(md,t),new Qr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cr(bg(t>=240?t-240:t+120,i,r),bg(t,i,r),bg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qr(fS(this.h),Mh(this.s),Mh(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vp(this.opacity);return`${t===1?"hsl(":"hsla("}${fS(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fS(t){return t=(t||0)%360,t<0?t+360:t}function Mh(t){return Math.max(0,Math.min(1,t||0))}function bg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xM=t=>()=>t;function $W(t,e){return function(n){return t+n*e}}function UW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HW(t){return(t=+t)==1?wM:function(e,n){return n-e?UW(e,n,t):xM(isNaN(e)?n:e)}}function wM(t,e){var n=e-t;return n?$W(t,n):xM(isNaN(t)?e:t)}const pS=function t(e){var n=HW(e);function r(i,s){var o=n((i=L1(i)).r,(s=L1(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=wM(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Ls(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var O1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=new RegExp(O1.source,"g");function VW(t){return function(){return t}}function KW(t){return function(e){return t(e)+""}}function qW(t,e){var n=O1.lastIndex=Sg.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=O1.exec(t))&&(i=Sg.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ls(r,i)})),n=Sg.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?KW(l[0].x):VW(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)a[(h=l[d]).i]=h.x(c);return a.join("")})}var mS=180/Math.PI,D1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vM(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*mS,skewX:Math.atan(l)*mS,scaleX:o,scaleY:a}}var Ch;function YW(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?D1:vM(e.a,e.b,e.c,e.d,e.e,e.f)}function GW(t){return t==null||(Ch||(Ch=document.createElementNS("http://www.w3.org/2000/svg","g")),Ch.setAttribute("transform",t),!(t=Ch.transform.baseVal.consolidate()))?D1:(t=t.matrix,vM(t.a,t.b,t.c,t.d,t.e,t.f))}function bM(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,d,h,p,m,y){if(c!==h||d!==p){var w=m.push("translate(",null,e,null,n);y.push({i:w-4,x:Ls(c,h)},{i:w-2,x:Ls(d,p)})}else(h||p)&&m.push("translate("+h+e+p+n)}function o(c,d,h,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ls(c,d)})):d&&h.push(i(h)+"rotate("+d+r)}function a(c,d,h,p){c!==d?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ls(c,d)}):d&&h.push(i(h)+"skewX("+d+r)}function l(c,d,h,p,m,y){if(c!==h||d!==p){var w=m.push(i(m)+"scale(",null,",",null,")");y.push({i:w-4,x:Ls(c,h)},{i:w-2,x:Ls(d,p)})}else(h!==1||p!==1)&&m.push(i(m)+"scale("+h+","+p+")")}return function(c,d){var h=[],p=[];return c=t(c),d=t(d),s(c.translateX,c.translateY,d.translateX,d.translateY,h,p),o(c.rotate,d.rotate,h,p),a(c.skewX,d.skewX,h,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,p),c=d=null,function(m){for(var y=-1,w=p.length,b;++y<w;)h[(b=p[y]).i]=b.x(m);return h.join("")}}}var ZW=bM(YW,"px, ","px)","deg)"),XW=bM(GW,", ",")",")"),QW=1e-12;function gS(t){return((t=Math.exp(t))+1/t)/2}function JW(t){return((t=Math.exp(t))-1/t)/2}function eF(t){return((t=Math.exp(2*t))-1)/(t+1)}const tF=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],d=o[0],h=o[1],p=o[2],m=d-a,y=h-l,w=m*m+y*y,b,g;if(w<QW)g=Math.log(p/c)/e,b=function(O){return[a+O*m,l+O*y,c*Math.exp(e*O*g)]};else{var S=Math.sqrt(w),_=(p*p-c*c+r*w)/(2*c*n*S),A=(p*p-c*c-r*w)/(2*p*n*S),R=Math.log(Math.sqrt(_*_+1)-_),W=Math.log(Math.sqrt(A*A+1)-A);g=(W-R)/e,b=function(O){var B=O*g,F=gS(R),U=c/(n*S)*(F*eF(e*B+R)-JW(R));return[a+U*m,l+U*y,c*F/gS(e*B+R)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var nc=0,pu=0,Uc=0,SM=1e3,Kp,mu,qp=0,ma=0,J0=0,xd=typeof performance=="object"&&performance.now?performance:Date,_M=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function lv(){return ma||(_M(nF),ma=xd.now()+J0)}function nF(){ma=0}function Yp(){this._call=this._time=this._next=null}Yp.prototype=kM.prototype={constructor:Yp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?lv():+n)+(e==null?0:+e),!this._next&&mu!==this&&(mu?mu._next=this:Kp=this,mu=this),this._call=t,this._time=n,z1()},stop:function(){this._call&&(this._call=null,this._time=1/0,z1())}};function kM(t,e,n){var r=new Yp;return r.restart(t,e,n),r}function rF(){lv(),++nc;for(var t=Kp,e;t;)(e=ma-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nc}function yS(){ma=(qp=xd.now())+J0,nc=pu=0;try{rF()}finally{nc=0,sF(),ma=0}}function iF(){var t=xd.now(),e=t-qp;e>SM&&(J0-=e,qp=t)}function sF(){for(var t,e=Kp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Kp=n);mu=t,z1(r)}function z1(t){if(!nc){pu&&(pu=clearTimeout(pu));var e=t-ma;e>24?(t<1/0&&(pu=setTimeout(yS,t-xd.now()-J0)),Uc&&(Uc=clearInterval(Uc))):(Uc||(qp=xd.now(),Uc=setInterval(iF,SM)),nc=1,_M(yS))}}function xS(t,e,n){var r=new Yp;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var oF=X0("start","end","cancel","interrupt"),aF=[],EM=0,wS=1,W1=2,Ff=3,vS=4,F1=5,$f=6;function em(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;lF(t,n,{name:e,index:r,group:i,on:oF,tween:aF,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:EM})}function cv(t,e){var n=ui(t,e);if(n.state>EM)throw new Error("too late; already scheduled");return n}function Oi(t,e){var n=ui(t,e);if(n.state>Ff)throw new Error("too late; already running");return n}function ui(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function lF(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=kM(s,0,n.time);function s(c){n.state=wS,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,h,p,m;if(n.state!==wS)return l();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Ff)return xS(o);m.state===vS?(m.state=$f,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[d]):+d<e&&(m.state=$f,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[d])}if(xS(function(){n.state===Ff&&(n.state=vS,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=W1,n.on.call("start",t,t.__data__,n.index,n.group),n.state===W1){for(n.state=Ff,i=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(m=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=F1,1),h=-1,p=i.length;++h<p;)i[h].call(t,d);n.state===F1&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=$f,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Uf(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>W1&&r.state<F1,r.state=$f,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function cF(t){return this.each(function(){Uf(this,t)})}function uF(t,e){var n,r;return function(){var i=Oi(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function dF(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Oi(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function hF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ui(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?uF:dF)(n,t,e))}function uv(t,e,n){var r=t._id;return t.each(function(){var i=Oi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ui(i,r).value[e]}}function NM(t,e){var n;return(typeof e=="number"?Ls:e instanceof yd?pS:(n=yd(e))?(e=n,pS):qW)(t,e)}function fF(t){return function(){this.removeAttribute(t)}}function pF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mF(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function gF(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function yF(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function xF(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function wF(t,e){var n=Q0(t),r=n==="transform"?XW:NM;return this.attrTween(t,typeof e=="function"?(n.local?xF:yF)(n,r,uv(this,"attr."+t,e)):e==null?(n.local?pF:fF)(n):(n.local?gF:mF)(n,r,e))}function vF(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function bF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function SF(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&bF(t,s)),n}return i._value=e,i}function _F(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&vF(t,s)),n}return i._value=e,i}function kF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Q0(t);return this.tween(n,(r.local?SF:_F)(r,e))}function EF(t,e){return function(){cv(this,t).delay=+e.apply(this,arguments)}}function NF(t,e){return e=+e,function(){cv(this,t).delay=e}}function AF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?EF:NF)(e,t)):ui(this.node(),e).delay}function MF(t,e){return function(){Oi(this,t).duration=+e.apply(this,arguments)}}function CF(t,e){return e=+e,function(){Oi(this,t).duration=e}}function IF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?MF:CF)(e,t)):ui(this.node(),e).duration}function TF(t,e){if(typeof e!="function")throw new Error;return function(){Oi(this,t).ease=e}}function jF(t){var e=this._id;return arguments.length?this.each(TF(e,t)):ui(this.node(),e).ease}function RF(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Oi(this,t).ease=n}}function BF(t){if(typeof t!="function")throw new Error;return this.each(RF(this._id,t))}function PF(t){typeof t!="function"&&(t=iM(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new ms(r,this._parents,this._name,this._id)}function LF(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],d=l.length,h=o[a]=new Array(d),p,m=0;m<d;++m)(p=l[m]||c[m])&&(h[m]=p);for(;a<r;++a)o[a]=e[a];return new ms(o,this._parents,this._name,this._id)}function OF(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function DF(t,e,n){var r,i,s=OF(e)?cv:Oi;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function zF(t,e){var n=this._id;return arguments.length<2?ui(this.node(),n).on.on(t):this.each(DF(n,t,e))}function WF(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function FF(){return this.on("end.remove",WF(this._id))}function $F(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sv(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),d,h,p=0;p<l;++p)(d=a[p])&&(h=t.call(d,d.__data__,p,a))&&("__data__"in d&&(h.__data__=d.__data__),c[p]=h,em(c[p],e,n,p,c,ui(d,n)));return new ms(s,this._parents,e,n)}function UF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rM(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var p=t.call(d,d.__data__,h,l),m,y=ui(d,n),w=0,b=p.length;w<b;++w)(m=p[w])&&em(m,e,n,w,p,y);s.push(p),o.push(d)}return new ms(s,o,e,n)}var HF=$d.prototype.constructor;function VF(){return new HF(this._groups,this._parents)}function KF(t,e){var n,r,i;return function(){var s=tc(this,t),o=(this.style.removeProperty(t),tc(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function AM(t){return function(){this.style.removeProperty(t)}}function qF(t,e,n){var r,i=n+"",s;return function(){var o=tc(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function YF(t,e,n){var r,i,s;return function(){var o=tc(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),tc(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function GF(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Oi(this,t),c=l.on,d=l.value[s]==null?a||(a=AM(e)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(o,i=d),l.on=r}}function ZF(t,e,n){var r=(t+="")=="transform"?ZW:NM;return e==null?this.styleTween(t,KF(t,r)).on("end.style."+t,AM(t)):typeof e=="function"?this.styleTween(t,YF(t,r,uv(this,"style."+t,e))).each(GF(this._id,t)):this.styleTween(t,qF(t,r,e),n).on("end.style."+t,null)}function XF(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function QF(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&XF(t,o,n)),r}return s._value=e,s}function JF(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,QF(t,e,n??""))}function e$(t){return function(){this.textContent=t}}function t$(t){return function(){var e=t(this);this.textContent=e??""}}function n$(t){return this.tween("text",typeof t=="function"?t$(uv(this,"text",t)):e$(t==null?"":t+""))}function r$(t){return function(e){this.textContent=t.call(this,e)}}function i$(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&r$(i)),e}return r._value=t,r}function s$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i$(t))}function o$(){for(var t=this._name,e=this._id,n=MM(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=ui(l,e);em(l,t,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ms(r,this._parents,t,n)}function a$(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Oi(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var l$=0;function ms(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function MM(){return++l$}var Wi=$d.prototype;ms.prototype={constructor:ms,select:$F,selectAll:UF,selectChild:Wi.selectChild,selectChildren:Wi.selectChildren,filter:PF,merge:LF,selection:VF,transition:o$,call:Wi.call,nodes:Wi.nodes,node:Wi.node,size:Wi.size,empty:Wi.empty,each:Wi.each,on:zF,attr:wF,attrTween:kF,style:ZF,styleTween:JF,text:n$,textTween:s$,remove:FF,tween:hF,delay:AF,duration:IF,ease:jF,easeVarying:BF,end:a$,[Symbol.iterator]:Wi[Symbol.iterator]};function c$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var u$={time:null,delay:0,duration:250,ease:c$};function d$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function h$(t){var e,n;t instanceof ms?(e=t._id,t=t._name):(e=MM(),(n=u$).time=lv(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&em(l,t,e,c,o,n||d$(l,e));return new ms(r,this._parents,t,e)}$d.prototype.interrupt=cF;$d.prototype.transition=h$;const Ih=t=>()=>t;function f$(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function as(t,e,n){this.k=t,this.x=e,this.y=n}as.prototype={constructor:as,scale:function(t){return t===1?this:new as(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new as(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cs=new as(1,0,0);as.prototype;function _g(t){t.stopImmediatePropagation()}function Hc(t){t.preventDefault(),t.stopImmediatePropagation()}function p$(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function m$(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function bS(){return this.__zoom||cs}function g$(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function y$(){return navigator.maxTouchPoints||"ontouchstart"in this}function x$(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function CM(){var t=p$,e=m$,n=x$,r=g$,i=y$,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=tF,c=X0("start","zoom","end"),d,h,p,m=500,y=150,w=0,b=10;function g(f){f.property("__zoom",bS).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",U).filter(i).on("touchstart.zoom",H).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(f,x,k,C){var T=f.selection?f.selection():f;T.property("__zoom",bS),f!==T?R(f,x,k,C):T.interrupt().each(function(){W(this,arguments).event(C).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},g.scaleBy=function(f,x,k,C){g.scaleTo(f,function(){var T=this.__zoom.k,I=typeof x=="function"?x.apply(this,arguments):x;return T*I},k,C)},g.scaleTo=function(f,x,k,C){g.transform(f,function(){var T=e.apply(this,arguments),I=this.__zoom,L=k==null?A(T):typeof k=="function"?k.apply(this,arguments):k,j=I.invert(L),v=typeof x=="function"?x.apply(this,arguments):x;return n(_(S(I,v),L,j),T,o)},k,C)},g.translateBy=function(f,x,k,C){g.transform(f,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),o)},null,C)},g.translateTo=function(f,x,k,C,T){g.transform(f,function(){var I=e.apply(this,arguments),L=this.__zoom,j=C==null?A(I):typeof C=="function"?C.apply(this,arguments):C;return n(cs.translate(j[0],j[1]).scale(L.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof k=="function"?-k.apply(this,arguments):-k),I,o)},C,T)};function S(f,x){return x=Math.max(s[0],Math.min(s[1],x)),x===f.k?f:new as(x,f.x,f.y)}function _(f,x,k){var C=x[0]-k[0]*f.k,T=x[1]-k[1]*f.k;return C===f.x&&T===f.y?f:new as(f.k,C,T)}function A(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function R(f,x,k,C){f.on("start.zoom",function(){W(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(C).end()}).tween("zoom",function(){var T=this,I=arguments,L=W(T,I).event(C),j=e.apply(T,I),v=k==null?A(j):typeof k=="function"?k.apply(T,I):k,P=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),X=T.__zoom,Z=typeof x=="function"?x.apply(T,I):x,te=l(X.invert(v).concat(P/X.k),Z.invert(v).concat(P/Z.k));return function(se){if(se===1)se=Z;else{var le=te(se),ce=P/le[2];se=new as(ce,v[0]-le[0]*ce,v[1]-le[1]*ce)}L.zoom(null,se)}})}function W(f,x,k){return!k&&f.__zooming||new O(f,x)}function O(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,x),this.taps=0}O.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,x){return this.mouse&&f!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var x=Rr(this.that).datum();c.call(f,this.that,new f$(f,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),x)}};function B(f,...x){if(!t.apply(this,arguments))return;var k=W(this,x).event(f),C=this.__zoom,T=Math.max(s[0],Math.min(s[1],C.k*Math.pow(2,r.apply(this,arguments)))),I=Gr(f);if(k.wheel)(k.mouse[0][0]!==I[0]||k.mouse[0][1]!==I[1])&&(k.mouse[1]=C.invert(k.mouse[0]=I)),clearTimeout(k.wheel);else{if(C.k===T)return;k.mouse=[I,C.invert(I)],Uf(this),k.start()}Hc(f),k.wheel=setTimeout(L,y),k.zoom("mouse",n(_(S(C,T),k.mouse[0],k.mouse[1]),k.extent,o));function L(){k.wheel=null,k.end()}}function F(f,...x){if(p||!t.apply(this,arguments))return;var k=f.currentTarget,C=W(this,x,!0).event(f),T=Rr(f.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",P,!0),I=Gr(f,k),L=f.clientX,j=f.clientY;pM(f.view),_g(f),C.mouse=[I,this.__zoom.invert(I)],Uf(this),C.start();function v(X){if(Hc(X),!C.moved){var Z=X.clientX-L,te=X.clientY-j;C.moved=Z*Z+te*te>w}C.event(X).zoom("mouse",n(_(C.that.__zoom,C.mouse[0]=Gr(X,k),C.mouse[1]),C.extent,o))}function P(X){T.on("mousemove.zoom mouseup.zoom",null),mM(X.view,C.moved),Hc(X),C.event(X).end()}}function U(f,...x){if(t.apply(this,arguments)){var k=this.__zoom,C=Gr(f.changedTouches?f.changedTouches[0]:f,this),T=k.invert(C),I=k.k*(f.shiftKey?.5:2),L=n(_(S(k,I),C,T),e.apply(this,x),o);Hc(f),a>0?Rr(this).transition().duration(a).call(R,L,C,f):Rr(this).call(g.transform,L,C,f)}}function H(f,...x){if(t.apply(this,arguments)){var k=f.touches,C=k.length,T=W(this,x,f.changedTouches.length===C).event(f),I,L,j,v;for(_g(f),L=0;L<C;++L)j=k[L],v=Gr(j,this),v=[v,this.__zoom.invert(v),j.identifier],T.touch0?!T.touch1&&T.touch0[2]!==v[2]&&(T.touch1=v,T.taps=0):(T.touch0=v,I=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),I&&(T.taps<2&&(h=v[0],d=setTimeout(function(){d=null},m)),Uf(this),T.start())}}function K(f,...x){if(this.__zooming){var k=W(this,x).event(f),C=f.changedTouches,T=C.length,I,L,j,v;for(Hc(f),I=0;I<T;++I)L=C[I],j=Gr(L,this),k.touch0&&k.touch0[2]===L.identifier?k.touch0[0]=j:k.touch1&&k.touch1[2]===L.identifier&&(k.touch1[0]=j);if(L=k.that.__zoom,k.touch1){var P=k.touch0[0],X=k.touch0[1],Z=k.touch1[0],te=k.touch1[1],se=(se=Z[0]-P[0])*se+(se=Z[1]-P[1])*se,le=(le=te[0]-X[0])*le+(le=te[1]-X[1])*le;L=S(L,Math.sqrt(se/le)),j=[(P[0]+Z[0])/2,(P[1]+Z[1])/2],v=[(X[0]+te[0])/2,(X[1]+te[1])/2]}else if(k.touch0)j=k.touch0[0],v=k.touch0[1];else return;k.zoom("touch",n(_(L,j,v),k.extent,o))}}function M(f,...x){if(this.__zooming){var k=W(this,x).event(f),C=f.changedTouches,T=C.length,I,L;for(_g(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),I=0;I<T;++I)L=C[I],k.touch0&&k.touch0[2]===L.identifier?delete k.touch0:k.touch1&&k.touch1[2]===L.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(L=Gr(L,this),Math.hypot(h[0]-L[0],h[1]-L[1])<b)){var j=Rr(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return g.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:Ih(+f),g):r},g.filter=function(f){return arguments.length?(t=typeof f=="function"?f:Ih(!!f),g):t},g.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:Ih(!!f),g):i},g.extent=function(f){return arguments.length?(e=typeof f=="function"?f:Ih([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),g):e},g.scaleExtent=function(f){return arguments.length?(s[0]=+f[0],s[1]=+f[1],g):[s[0],s[1]]},g.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(f){return arguments.length?(n=f,g):n},g.duration=function(f){return arguments.length?(a=+f,g):a},g.interpolate=function(f){return arguments.length?(l=f,g):l},g.on=function(){var f=c.on.apply(c,arguments);return f===c?g:f},g.clickDistance=function(f){return arguments.length?(w=(f=+f)*f,g):Math.sqrt(w)},g.tapDistance=function(f){return arguments.length?(b=+f,g):b},g}const tm=z.createContext(null),w$=tm.Provider,gs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},IM=gs.error001();function yt(t,e){const n=z.useContext(tm);if(n===null)throw new Error(IM);return tM(n,t,e)}const dn=()=>{const t=z.useContext(tm);if(t===null)throw new Error(IM);return z.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},v$=t=>t.userSelectionActive?"none":"all";function dv({position:t,children:e,className:n,style:r,...i}){const s=yt(v$),o=`${t}`.split("-");return V.createElement("div",{className:jn(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},e)}function b$({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:V.createElement(dv,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},V.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const S$=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d})=>{const h=z.useRef(null),[p,m]=z.useState({x:0,y:0,width:0,height:0}),y=jn(["react-flow__edge-textwrapper",c]);return z.useEffect(()=>{if(h.current){const w=h.current.getBBox();m({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:V.createElement("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...d},i&&V.createElement("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),V.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l)};var _$=z.memo(S$);const hv=t=>({width:t.offsetWidth,height:t.offsetHeight}),rc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),fv=(t={x:0,y:0},e)=>({x:rc(t.x,e[0][0],e[1][0]),y:rc(t.y,e[0][1],e[1][1])}),SS=(t,e,n)=>t<e?rc(Math.abs(t-e),1,50)/50:t>n?-rc(Math.abs(t-n),1,50)/50:0,TM=(t,e)=>{const n=SS(t.x,35,e.width-35)*20,r=SS(t.y,35,e.height-35)*20;return[n,r]},jM=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},RM=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),wd=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),BM=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),_S=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),k$=(t,e)=>BM(RM(wd(t),wd(e))),$1=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},E$=t=>Pr(t.width)&&Pr(t.height)&&Pr(t.x)&&Pr(t.y),Pr=t=>!isNaN(t)&&isFinite(t),Zt=Symbol.for("internals"),PM=["Enter"," ","Escape"],N$=(t,e)=>{},A$=t=>"nativeEvent"in t;function U1(t){var i,s;const e=A$(t)?t.nativeEvent:t,n=((s=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:s[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const LM=t=>"clientX"in t,uo=(t,e)=>{var s,o;const n=LM(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},Gp=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Hd=({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m=20})=>V.createElement(V.Fragment,null,V.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),m&&V.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Pr(n)&&Pr(r)?V.createElement(_$,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);Hd.displayName="BaseEdge";function Vc(t,e,n){return n===void 0?n:r=>{const i=e().edges.find(s=>s.id===t);i&&n(r,{...i})}}function OM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function DM({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,d=Math.abs(l-t),h=Math.abs(c-e);return[l,c,d,h]}var ga;(function(t){t.Strict="strict",t.Loose="loose"})(ga||(ga={}));var Qo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Qo||(Qo={}));var vd;(function(t){t.Partial="partial",t.Full="full"})(vd||(vd={}));var Fs;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Fs||(Fs={}));var Zp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Zp||(Zp={}));var Ne;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ne||(Ne={}));function kS({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ne.Left||t===Ne.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function zM({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:i,targetPosition:s=Ne.Top}){const[o,a]=kS({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=kS({pos:s,x1:r,y1:i,x2:t,y2:e}),[d,h,p,m]=DM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,d,h,p,m]}const pv=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Ne.Bottom,targetPosition:s=Ne.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})=>{const[b,g,S]=zM({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return V.createElement(Hd,{path:b,labelX:g,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})});pv.displayName="SimpleBezierEdge";const ES={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}},M$=({source:t,sourcePosition:e=Ne.Bottom,target:n})=>e===Ne.Left||e===Ne.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},NS=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function C$({source:t,sourcePosition:e=Ne.Bottom,target:n,targetPosition:r=Ne.Top,center:i,offset:s}){const o=ES[e],a=ES[r],l={x:t.x+o.x*s,y:t.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},d=M$({source:l,sourcePosition:e,target:c}),h=d.x!==0?"x":"y",p=d[h];let m=[],y,w;const b={x:0,y:0},g={x:0,y:0},[S,_,A,R]=OM({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*a[h]===-1){y=i.x??S,w=i.y??_;const O=[{x:y,y:l.y},{x:y,y:c.y}],B=[{x:l.x,y:w},{x:c.x,y:w}];o[h]===p?m=h==="x"?O:B:m=h==="x"?B:O}else{const O=[{x:l.x,y:c.y}],B=[{x:c.x,y:l.y}];if(h==="x"?m=o.x===p?B:O:m=o.y===p?O:B,e===r){const M=Math.abs(t[h]-n[h]);if(M<=s){const f=Math.min(s-1,s-M);o[h]===p?b[h]=(l[h]>t[h]?-1:1)*f:g[h]=(c[h]>n[h]?-1:1)*f}}if(e!==r){const M=h==="x"?"y":"x",f=o[h]===a[M],x=l[M]>c[M],k=l[M]<c[M];(o[h]===1&&(!f&&x||f&&k)||o[h]!==1&&(!f&&k||f&&x))&&(m=h==="x"?O:B)}const F={x:l.x+b.x,y:l.y+b.y},U={x:c.x+g.x,y:c.y+g.y},H=Math.max(Math.abs(F.x-m[0].x),Math.abs(U.x-m[0].x)),K=Math.max(Math.abs(F.y-m[0].y),Math.abs(U.y-m[0].y));H>=K?(y=(F.x+U.x)/2,w=m[0].y):(y=m[0].x,w=(F.y+U.y)/2)}return[[t,{x:l.x+b.x,y:l.y+b.y},...m,{x:c.x+g.x,y:c.y+g.y},n],y,w,A,R]}function I$(t,e,n,r){const i=Math.min(NS(t,e)/2,NS(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*d}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function H1({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:i,targetPosition:s=Ne.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[d,h,p,m,y]=C$({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[d.reduce((b,g,S)=>{let _="";return S>0&&S<d.length-1?_=I$(d[S-1],g,d[S+1],o):_=`${S===0?"M":"L"}${g.x} ${g.y}`,b+=_,b},""),h,p,m,y]}const nm=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,sourcePosition:h=Ne.Bottom,targetPosition:p=Ne.Top,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:b})=>{const[g,S,_]=H1({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return V.createElement(Hd,{path:g,labelX:S,labelY:_,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:y,interactionWidth:b})});nm.displayName="SmoothStepEdge";const mv=z.memo(t=>{var e;return V.createElement(nm,{...t,pathOptions:z.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});mv.displayName="StepEdge";function T$({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=OM({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const gv=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m})=>{const[y,w,b]=T$({sourceX:t,sourceY:e,targetX:n,targetY:r});return V.createElement(Hd,{path:y,labelX:w,labelY:b,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:m})});gv.displayName="StraightEdge";function Th(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function AS({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Ne.Left:return[e-Th(e-r,s),n];case Ne.Right:return[e+Th(r-e,s),n];case Ne.Top:return[e,n-Th(n-i,s)];case Ne.Bottom:return[e,n+Th(i-n,s)]}}function WM({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:i,targetPosition:s=Ne.Top,curvature:o=.25}){const[a,l]=AS({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,d]=AS({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,p,m,y]=DM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${a},${l} ${c},${d} ${r},${i}`,h,p,m,y]}const Xp=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Ne.Bottom,targetPosition:s=Ne.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:b})=>{const[g,S,_]=WM({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:w==null?void 0:w.curvature});return V.createElement(Hd,{path:g,labelX:S,labelY:_,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:b})});Xp.displayName="BezierEdge";const yv=z.createContext(null),j$=yv.Provider;yv.Consumer;const R$=()=>z.useContext(yv),B$=t=>"id"in t&&"source"in t&&"target"in t,P$=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,V1=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,L$=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),FM=(t,e)=>{if(!t.source||!t.target)return e;let n;return B$(t)?n={...t}:n={...t,id:P$(t)},L$(n,e)?e:e.concat(n)},K1=({x:t,y:e},[n,r,i],s,[o,a])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},$M=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),sa=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:i}},rm=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const{x:s,y:o}=sa(i,e).positionAbsolute;return RM(r,wd({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return BM(n)},UM=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(e.x-n)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},c=[];return t.forEach(d=>{const{width:h,height:p,selectable:m=!0,hidden:y=!1}=d;if(o&&!m||y)return!1;const{positionAbsolute:w}=sa(d,a),b={x:w.x,y:w.y,width:h||0,height:p||0},g=$1(l,b),S=typeof h>"u"||typeof p>"u"||h===null||p===null,_=s&&g>0,A=(h||0)*(p||0);(S||_||g>=A||d.dragging)&&c.push(d)}),c},HM=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},VM=(t,e,n,r,i,s=.1)=>{const o=e/(t.width*(1+s)),a=n/(t.height*(1+s)),l=Math.min(o,a),c=rc(l,r,i),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,m=n/2-h*c;return{x:p,y:m,zoom:c}},Ro=(t,e=0)=>t.transition().duration(e);function MS(t,e,n,r){return(e[n]||[]).reduce((i,s)=>{var o,a;return`${t.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=t.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function O$(t,e,n,r,i,s){const{x:o,y:a}=uo(t),c=e.elementsFromPoint(o,a).find(y=>y.classList.contains("react-flow__handle"));if(c){const y=c.getAttribute("data-nodeid");if(y){const w=xv(void 0,c),b=c.getAttribute("data-handleid"),g=s({nodeId:y,id:b,type:w});if(g){const S=i.find(_=>_.nodeId===y&&_.type===w&&_.id===b);return{handle:{id:b,type:w,nodeId:y,x:(S==null?void 0:S.x)||n.x,y:(S==null?void 0:S.y)||n.y},validHandleResult:g}}}}let d=[],h=1/0;if(i.forEach(y=>{const w=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(w<=r){const b=s(y);w<=h&&(w<h?d=[{handle:y,validHandleResult:b}]:w===h&&d.push({handle:y,validHandleResult:b}),h=w)}}),!d.length)return{handle:null,validHandleResult:KM()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:w})=>m?y.type==="target":p?w.isValid:!0)||d[0]}const D$={source:null,target:null,sourceHandle:null,targetHandle:null},KM=()=>({handleDomNode:null,isValid:!1,connection:D$,endHandle:null});function qM(t,e,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),c={...KM(),handleDomNode:l};if(l){const d=xv(void 0,l),h=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),w={source:a?h:n,sourceHandle:a?p:r,target:a?n:h,targetHandle:a?r:p};c.connection=w,m&&y&&(e===ga.Strict?a&&d==="source"||!a&&d==="target":h!==n||p!==r)&&(c.endHandle={nodeId:h,handleId:p,type:d},c.isValid=s(w))}return c}function z$({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((i,s)=>{if(s[Zt]){const{handleBounds:o}=s[Zt];let a=[],l=[];o&&(a=MS(s,o,"source",`${e}-${n}-${r}`),l=MS(s,o,"target",`${e}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function xv(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function kg(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function W$(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function YM({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const d=jM(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:m,connectionRadius:y,onConnectStart:w,panBy:b,getNodes:g,cancelConnection:S}=s();let _=0,A;const{x:R,y:W}=uo(t),O=d==null?void 0:d.elementFromPoint(R,W),B=xv(l,O),F=p==null?void 0:p.getBoundingClientRect();if(!F||!B)return;let U,H=uo(t,F),K=!1,M=null,f=!1,x=null;const k=z$({nodes:g(),nodeId:n,handleId:e,handleType:B}),C=()=>{if(!m)return;const[L,j]=TM(H,F);b({x:L,y:j}),_=requestAnimationFrame(C)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:B,connectionStartHandle:{nodeId:n,handleId:e,type:B},connectionEndHandle:null}),w==null||w(t,{nodeId:n,handleId:e,handleType:B});function T(L){const{transform:j}=s();H=uo(L,F);const{handle:v,validHandleResult:P}=O$(L,d,K1(H,j,!1,[1,1]),y,k,X=>qM(X,h,n,e,i?"target":"source",a,d));if(A=v,K||(C(),K=!0),x=P.handleDomNode,M=P.connection,f=P.isValid,o({connectionPosition:A&&f?$M({x:A.x,y:A.y},j):H,connectionStatus:W$(!!A,f),connectionEndHandle:P.endHandle}),!A&&!f&&!x)return kg(U);M.source!==M.target&&x&&(kg(U),U=x,x.classList.add("connecting","react-flow__handle-connecting"),x.classList.toggle("valid",f),x.classList.toggle("react-flow__handle-valid",f))}function I(L){var j,v;(A||x)&&M&&f&&(r==null||r(M)),(v=(j=s()).onConnectEnd)==null||v.call(j,L),l&&(c==null||c(L)),kg(U),S(),cancelAnimationFrame(_),K=!1,f=!1,M=null,x=null,d.removeEventListener("mousemove",T),d.removeEventListener("mouseup",I),d.removeEventListener("touchmove",T),d.removeEventListener("touchend",I)}d.addEventListener("mousemove",T),d.addEventListener("mouseup",I),d.addEventListener("touchmove",T),d.addEventListener("touchend",I)}const CS=()=>!0,F$=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),$$=(t,e,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n}},GM=z.forwardRef(({type:t="source",position:e=Ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:h,...p},m)=>{var F,U;const y=o||null,w=t==="target",b=dn(),g=R$(),{connectOnClick:S,noPanClassName:_}=yt(F$,bn),{connecting:A,clickConnecting:R}=yt($$(g,y,t),bn);g||(U=(F=b.getState()).onError)==null||U.call(F,"010",gs.error010());const W=H=>{const{defaultEdgeOptions:K,onConnect:M,hasDefaultEdges:f}=b.getState(),x={...K,...H};if(f){const{edges:k,setEdges:C}=b.getState();C(FM(x,k))}M==null||M(x),a==null||a(x)},O=H=>{if(!g)return;const K=LM(H);i&&(K&&H.button===0||!K)&&YM({event:H,handleId:y,nodeId:g,onConnect:W,isTarget:w,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||CS}),K?d==null||d(H):h==null||h(H)},B=H=>{const{onClickConnectStart:K,onClickConnectEnd:M,connectionClickStartHandle:f,connectionMode:x,isValidConnection:k}=b.getState();if(!g||!f&&!i)return;if(!f){K==null||K(H,{nodeId:g,handleId:y,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:g,type:t,handleId:y}});return}const C=jM(H.target),T=n||k||CS,{connection:I,isValid:L}=qM({nodeId:g,id:y,type:t},x,f.nodeId,f.handleId||null,f.type,T,C);L&&W(I),M==null||M(H),b.setState({connectionClickStartHandle:null})};return V.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":e,"data-id":`${g}-${y}-${t}`,className:jn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:s,connecting:R,connectionindicator:r&&(i&&!A||s&&A)}]),onMouseDown:O,onTouchStart:O,onClick:S?B:void 0,ref:m,...p},l)});GM.displayName="Handle";var go=z.memo(GM);const ZM=({data:t,isConnectable:e,targetPosition:n=Ne.Top,sourcePosition:r=Ne.Bottom})=>V.createElement(V.Fragment,null,V.createElement(go,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,V.createElement(go,{type:"source",position:r,isConnectable:e}));ZM.displayName="DefaultNode";var q1=z.memo(ZM);const XM=({data:t,isConnectable:e,sourcePosition:n=Ne.Bottom})=>V.createElement(V.Fragment,null,t==null?void 0:t.label,V.createElement(go,{type:"source",position:n,isConnectable:e}));XM.displayName="InputNode";var QM=z.memo(XM);const JM=({data:t,isConnectable:e,targetPosition:n=Ne.Top})=>V.createElement(V.Fragment,null,V.createElement(go,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);JM.displayName="OutputNode";var eC=z.memo(JM);const wv=()=>null;wv.displayName="GroupNode";const U$=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),jh=t=>t.id;function H$(t,e){return bn(t.selectedNodes.map(jh),e.selectedNodes.map(jh))&&bn(t.selectedEdges.map(jh),e.selectedEdges.map(jh))}const tC=z.memo(({onSelectionChange:t})=>{const e=dn(),{selectedNodes:n,selectedEdges:r}=yt(U$,H$);return z.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChange.forEach(s=>s(i))},[n,r,t]),null});tC.displayName="SelectionListener";const V$=t=>!!t.onSelectionChange;function K$({onSelectionChange:t}){const e=yt(V$);return t||e?V.createElement(tC,{onSelectionChange:t}):null}const q$=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Oa(t,e){z.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function $e(t,e,n){z.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const Y$=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:w,maxZoom:b,nodeExtent:g,onNodesChange:S,onEdgesChange:_,elementsSelectable:A,connectionMode:R,snapGrid:W,snapToGrid:O,translateExtent:B,connectOnClick:F,defaultEdgeOptions:U,fitView:H,fitViewOptions:K,onNodesDelete:M,onEdgesDelete:f,onNodeDrag:x,onNodeDragStart:k,onNodeDragStop:C,onSelectionDrag:T,onSelectionDragStart:I,onSelectionDragStop:L,noPanClassName:j,nodeOrigin:v,rfId:P,autoPanOnConnect:X,autoPanOnNodeDrag:Z,onError:te,connectionRadius:se,isValidConnection:le,nodeDragThreshold:ce})=>{const{setNodes:ne,setEdges:ye,setDefaultNodesAndEdges:he,setMinZoom:Se,setMaxZoom:we,setTranslateExtent:Ae,setNodeExtent:re,reset:ge}=yt(q$,bn),oe=dn();return z.useEffect(()=>{const st=r==null?void 0:r.map(Be=>({...Be,...U}));return he(n,st),()=>{ge()}},[]),$e("defaultEdgeOptions",U,oe.setState),$e("connectionMode",R,oe.setState),$e("onConnect",i,oe.setState),$e("onConnectStart",s,oe.setState),$e("onConnectEnd",o,oe.setState),$e("onClickConnectStart",a,oe.setState),$e("onClickConnectEnd",l,oe.setState),$e("nodesDraggable",c,oe.setState),$e("nodesConnectable",d,oe.setState),$e("nodesFocusable",h,oe.setState),$e("edgesFocusable",p,oe.setState),$e("edgesUpdatable",m,oe.setState),$e("elementsSelectable",A,oe.setState),$e("elevateNodesOnSelect",y,oe.setState),$e("snapToGrid",O,oe.setState),$e("snapGrid",W,oe.setState),$e("onNodesChange",S,oe.setState),$e("onEdgesChange",_,oe.setState),$e("connectOnClick",F,oe.setState),$e("fitViewOnInit",H,oe.setState),$e("fitViewOnInitOptions",K,oe.setState),$e("onNodesDelete",M,oe.setState),$e("onEdgesDelete",f,oe.setState),$e("onNodeDrag",x,oe.setState),$e("onNodeDragStart",k,oe.setState),$e("onNodeDragStop",C,oe.setState),$e("onSelectionDrag",T,oe.setState),$e("onSelectionDragStart",I,oe.setState),$e("onSelectionDragStop",L,oe.setState),$e("noPanClassName",j,oe.setState),$e("nodeOrigin",v,oe.setState),$e("rfId",P,oe.setState),$e("autoPanOnConnect",X,oe.setState),$e("autoPanOnNodeDrag",Z,oe.setState),$e("onError",te,oe.setState),$e("connectionRadius",se,oe.setState),$e("isValidConnection",le,oe.setState),$e("nodeDragThreshold",ce,oe.setState),Oa(t,ne),Oa(e,ye),Oa(w,Se),Oa(b,we),Oa(B,Ae),Oa(g,re),null},IS={display:"none"},G$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},nC="react-flow__node-desc",rC="react-flow__edge-desc",Z$="react-flow__aria-live",X$=t=>t.ariaLiveMessage;function Q$({rfId:t}){const e=yt(X$);return V.createElement("div",{id:`${Z$}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:G$},e)}function J$({rfId:t,disableKeyboardA11y:e}){return V.createElement(V.Fragment,null,V.createElement("div",{id:`${nC}-${t}`,style:IS},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),V.createElement("div",{id:`${rC}-${t}`,style:IS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&V.createElement(Q$,{rfId:t}))}var bd=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=z.useState(!1),i=z.useRef(!1),s=z.useRef(new Set([])),[o,a]=z.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=c.reduce((h,p)=>h.concat(...p),[]);return[c,d]}return[[],[]]},[t]);return z.useEffect(()=>{const l=typeof document<"u"?document:null,c=(e==null?void 0:e.target)||l;if(t!==null){const d=m=>{if(i.current=m.ctrlKey||m.metaKey||m.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&U1(m))return!1;const w=jS(m.code,a);s.current.add(m[w]),TS(o,s.current,!1)&&(m.preventDefault(),r(!0))},h=m=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&U1(m))return!1;const w=jS(m.code,a);TS(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(m[w]),m.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[t,r]),n};function TS(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function jS(t,e){return e.includes(t)?"code":"key"}function iC(t,e,n,r){var a,l;const i=t.parentNode||t.parentId;if(!i)return n;const s=e.get(i),o=sa(s,r);return iC(s,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[Zt])==null?void 0:a.z)??0)>(n.z??0)?((l=s[Zt])==null?void 0:l.z)??0:n.z??0},r)}function sC(t,e,n){t.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=iC(r,t,{...r.position,z:((s=r[Zt])==null?void 0:s.z)??0},e);r.positionAbsolute={x:o,y:a},r[Zt].z=l,n!=null&&n[r.id]&&(r[Zt].isParent=!0)}})}function Eg(t,e,n,r){const i=new Map,s={},o=r?1e3:0;return t.forEach(a=>{var m;const l=(Pr(a.zIndex)?a.zIndex:0)+(a.selected?o:0),c=e.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},h=a.parentNode||a.parentId;h&&(s[h]=!0);const p=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(d,Zt,{enumerable:!1,value:{handleBounds:p||(m=c==null?void 0:c[Zt])==null?void 0:m.handleBounds,z:l}}),i.set(a.id,d)}),sC(i,n,s),i}function oC(t,e={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:h}=t(),p=e.initial&&!c&&d;if(a&&l&&(p||!e.initial)){const y=n().filter(b=>{var S;const g=e.includeHiddenNodes?b.width&&b.height:!b.hidden;return(S=e.nodes)!=null&&S.length?g&&e.nodes.some(_=>_.id===b.id):g}),w=y.every(b=>b.width&&b.height);if(y.length>0&&w){const b=rm(y,h),{x:g,y:S,zoom:_}=VM(b,r,i,e.minZoom??s,e.maxZoom??o,e.padding??.1),A=cs.translate(g,S).scale(_);return typeof e.duration=="number"&&e.duration>0?a.transform(Ro(l,e.duration),A):a.transform(l,A),!0}}return!1}function eU(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Zt]:r[Zt],selected:n.selected})}),new Map(e)}function tU(t,e){return e.map(n=>{const r=t.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Rh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();t!=null&&t.length&&(l&&r({nodeInternals:eU(t,i)}),o==null||o(t)),e!=null&&e.length&&(c&&r({edges:tU(e,s)}),a==null||a(e))}const Da=()=>{},nU={zoomIn:Da,zoomOut:Da,zoomTo:Da,getZoom:()=>1,setViewport:Da,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Da,fitBounds:Da,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},rU=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),iU=()=>{const t=dn(),{d3Zoom:e,d3Selection:n}=yt(rU,bn);return z.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(Ro(n,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(Ro(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>e.scaleTo(Ro(n,s==null?void 0:s.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=t.getState().transform,c=cs.translate(i.x??o,i.y??a).scale(i.zoom??l);e.transform(Ro(n,s==null?void 0:s.duration),c)},getViewport:()=>{const[i,s,o]=t.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>oC(t.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:c}=t.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,h=a/2-i*d,p=l/2-s*d,m=cs.translate(h,p).scale(d);e.transform(Ro(n,o==null?void 0:o.duration),m)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:c}=t.getState(),{x:d,y:h,zoom:p}=VM(i,o,a,l,c,(s==null?void 0:s.padding)??.1),m=cs.translate(d,h).scale(p);e.transform(Ro(n,s==null?void 0:s.duration),m)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),K1(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=t.getState();if(!l)return i;const{x:c,y:d}=l.getBoundingClientRect(),h={x:i.x-c,y:i.y-d};return K1(h,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=t.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),c=$M(i,s);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:nU,[e,n])};function vv(){const t=iU(),e=dn(),n=z.useCallback(()=>e.getState().getNodes().map(w=>({...w})),[]),r=z.useCallback(w=>e.getState().nodeInternals.get(w),[]),i=z.useCallback(()=>{const{edges:w=[]}=e.getState();return w.map(b=>({...b}))},[]),s=z.useCallback(w=>{const{edges:b=[]}=e.getState();return b.find(g=>g.id===w)},[]),o=z.useCallback(w=>{const{getNodes:b,setNodes:g,hasDefaultNodes:S,onNodesChange:_}=e.getState(),A=b(),R=typeof w=="function"?w(A):w;if(S)g(R);else if(_){const W=R.length===0?A.map(O=>({type:"remove",id:O.id})):R.map(O=>({item:O,type:"reset"}));_(W)}},[]),a=z.useCallback(w=>{const{edges:b=[],setEdges:g,hasDefaultEdges:S,onEdgesChange:_}=e.getState(),A=typeof w=="function"?w(b):w;if(S)g(A);else if(_){const R=A.length===0?b.map(W=>({type:"remove",id:W.id})):A.map(W=>({item:W,type:"reset"}));_(R)}},[]),l=z.useCallback(w=>{const b=Array.isArray(w)?w:[w],{getNodes:g,setNodes:S,hasDefaultNodes:_,onNodesChange:A}=e.getState();if(_){const W=[...g(),...b];S(W)}else if(A){const R=b.map(W=>({item:W,type:"add"}));A(R)}},[]),c=z.useCallback(w=>{const b=Array.isArray(w)?w:[w],{edges:g=[],setEdges:S,hasDefaultEdges:_,onEdgesChange:A}=e.getState();if(_)S([...g,...b]);else if(A){const R=b.map(W=>({item:W,type:"add"}));A(R)}},[]),d=z.useCallback(()=>{const{getNodes:w,edges:b=[],transform:g}=e.getState(),[S,_,A]=g;return{nodes:w().map(R=>({...R})),edges:b.map(R=>({...R})),viewport:{x:S,y:_,zoom:A}}},[]),h=z.useCallback(({nodes:w,edges:b})=>{const{nodeInternals:g,getNodes:S,edges:_,hasDefaultNodes:A,hasDefaultEdges:R,onNodesDelete:W,onEdgesDelete:O,onNodesChange:B,onEdgesChange:F}=e.getState(),U=(w||[]).map(x=>x.id),H=(b||[]).map(x=>x.id),K=S().reduce((x,k)=>{const C=k.parentNode||k.parentId,T=!U.includes(k.id)&&C&&x.find(L=>L.id===C);return(typeof k.deletable=="boolean"?k.deletable:!0)&&(U.includes(k.id)||T)&&x.push(k),x},[]),M=_.filter(x=>typeof x.deletable=="boolean"?x.deletable:!0),f=M.filter(x=>H.includes(x.id));if(K||f){const x=HM(K,M),k=[...f,...x],C=k.reduce((T,I)=>(T.includes(I.id)||T.push(I.id),T),[]);if((R||A)&&(R&&e.setState({edges:_.filter(T=>!C.includes(T.id))}),A&&(K.forEach(T=>{g.delete(T.id)}),e.setState({nodeInternals:new Map(g)}))),C.length>0&&(O==null||O(k),F&&F(C.map(T=>({id:T,type:"remove"})))),K.length>0&&(W==null||W(K),B)){const T=K.map(I=>({id:I.id,type:"remove"}));B(T)}}},[]),p=z.useCallback(w=>{const b=E$(w),g=b?null:e.getState().nodeInternals.get(w.id);return!b&&!g?[null,null,b]:[b?w:_S(g),g,b]},[]),m=z.useCallback((w,b=!0,g)=>{const[S,_,A]=p(w);return S?(g||e.getState().getNodes()).filter(R=>{if(!A&&(R.id===_.id||!R.positionAbsolute))return!1;const W=_S(R),O=$1(W,S);return b&&O>0||O>=S.width*S.height}):[]},[]),y=z.useCallback((w,b,g=!0)=>{const[S]=p(w);if(!S)return!1;const _=$1(S,b);return g&&_>0||_>=S.width*S.height},[]);return z.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:c,toObject:d,deleteElements:h,getIntersectingNodes:m,isNodeIntersecting:y}),[t,n,r,i,s,o,a,l,c,d,h,m,y])}const sU={actInsideInputWithModifier:!1};var oU=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=dn(),{deleteElements:r}=vv(),i=bd(t,sU),s=bd(e);z.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(d=>d.selected),c=o.filter(d=>d.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),z.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function aU(t){const e=dn();z.useEffect(()=>{let n;const r=()=>{var s,o;if(!t.current)return;const i=hv(t.current);(i.height===0||i.width===0)&&((o=(s=e.getState()).onError)==null||o.call(s,"004",gs.error004())),e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const bv={position:"absolute",width:"100%",height:"100%",top:0,left:0},lU=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Bh=t=>({x:t.x,y:t.y,zoom:t.k}),za=(t,e)=>t.target.closest(`.${e}`),RS=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),BS=t=>{const e=t.ctrlKey&&Gp()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},cU=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),uU=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Qo.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:p,translateExtent:m,minZoom:y,maxZoom:w,zoomActivationKeyCode:b,preventScrolling:g=!0,children:S,noWheelClassName:_,noPanClassName:A})=>{const R=z.useRef(),W=dn(),O=z.useRef(!1),B=z.useRef(!1),F=z.useRef(null),U=z.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:K,d3ZoomHandler:M,userSelectionActive:f}=yt(cU,bn),x=bd(b),k=z.useRef(0),C=z.useRef(!1),T=z.useRef();return aU(F),z.useEffect(()=>{if(F.current){const I=F.current.getBoundingClientRect(),L=CM().scaleExtent([y,w]).translateExtent(m),j=Rr(F.current).call(L),v=cs.translate(p.x,p.y).scale(rc(p.zoom,y,w)),P=[[0,0],[I.width,I.height]],X=L.constrain()(v,P,m);L.transform(j,X),L.wheelDelta(BS),W.setState({d3Zoom:L,d3Selection:j,d3ZoomHandler:j.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:F.current.closest(".react-flow")})}},[]),z.useEffect(()=>{K&&H&&(o&&!x&&!f?K.on("wheel.zoom",I=>{if(za(I,_))return!1;I.preventDefault(),I.stopImmediatePropagation();const L=K.property("__zoom").k||1;if(I.ctrlKey&&s){const le=Gr(I),ce=BS(I),ne=L*Math.pow(2,ce);H.scaleTo(K,ne,le,I);return}const j=I.deltaMode===1?20:1;let v=l===Qo.Vertical?0:I.deltaX*j,P=l===Qo.Horizontal?0:I.deltaY*j;!Gp()&&I.shiftKey&&l!==Qo.Vertical&&(v=I.deltaY*j,P=0),H.translateBy(K,-(v/L)*a,-(P/L)*a,{internal:!0});const X=Bh(K.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:te,onViewportChangeEnd:se}=W.getState();clearTimeout(T.current),C.current||(C.current=!0,e==null||e(I,X),Z==null||Z(X)),C.current&&(t==null||t(I,X),te==null||te(X),T.current=setTimeout(()=>{n==null||n(I,X),se==null||se(X),C.current=!1},150))},{passive:!1}):typeof M<"u"&&K.on("wheel.zoom",function(I,L){if(!g&&I.type==="wheel"&&!I.ctrlKey||za(I,_))return null;I.preventDefault(),M.call(this,I,L)},{passive:!1}))},[f,o,l,K,H,M,x,s,g,_,e,t,n]),z.useEffect(()=>{H&&H.on("start",I=>{var v,P;if(!I.sourceEvent||I.sourceEvent.internal)return null;k.current=(v=I.sourceEvent)==null?void 0:v.button;const{onViewportChangeStart:L}=W.getState(),j=Bh(I.transform);O.current=!0,U.current=j,((P=I.sourceEvent)==null?void 0:P.type)==="mousedown"&&W.setState({paneDragging:!0}),L==null||L(j),e==null||e(I.sourceEvent,j)})},[H,e]),z.useEffect(()=>{H&&(f&&!O.current?H.on("zoom",null):f||H.on("zoom",I=>{var j;const{onViewportChange:L}=W.getState();if(W.setState({transform:[I.transform.x,I.transform.y,I.transform.k]}),B.current=!!(r&&RS(h,k.current??0)),(t||L)&&!((j=I.sourceEvent)!=null&&j.internal)){const v=Bh(I.transform);L==null||L(v),t==null||t(I.sourceEvent,v)}}))},[f,H,t,h,r]),z.useEffect(()=>{H&&H.on("end",I=>{if(!I.sourceEvent||I.sourceEvent.internal)return null;const{onViewportChangeEnd:L}=W.getState();if(O.current=!1,W.setState({paneDragging:!1}),r&&RS(h,k.current??0)&&!B.current&&r(I.sourceEvent),B.current=!1,(n||L)&&lU(U.current,I.transform)){const j=Bh(I.transform);U.current=j,clearTimeout(R.current),R.current=setTimeout(()=>{L==null||L(j),n==null||n(I.sourceEvent,j)},o?150:0)}})},[H,o,h,n,r]),z.useEffect(()=>{H&&H.filter(I=>{const L=x||i,j=s&&I.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&I.button===1&&I.type==="mousedown"&&(za(I,"react-flow__node")||za(I,"react-flow__edge")))return!0;if(!h&&!L&&!o&&!c&&!s||f||!c&&I.type==="dblclick"||za(I,_)&&I.type==="wheel"||za(I,A)&&(I.type!=="wheel"||o&&I.type==="wheel"&&!x)||!s&&I.ctrlKey&&I.type==="wheel"||!L&&!o&&!j&&I.type==="wheel"||!h&&(I.type==="mousedown"||I.type==="touchstart")||Array.isArray(h)&&!h.includes(I.button)&&I.type==="mousedown")return!1;const v=Array.isArray(h)&&h.includes(I.button)||!I.button||I.button<=1;return(!I.ctrlKey||I.type==="wheel")&&v})},[f,H,i,s,o,c,h,d,x]),V.createElement("div",{className:"react-flow__renderer",ref:F,style:bv},S)},dU=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function hU(){const{userSelectionActive:t,userSelectionRect:e}=yt(dU,bn);return t&&e?V.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function PS(t,e){const n=e.parentNode||e.parentId,r=t.find(i=>i.id===n);if(r){const i=e.position.x+e.width-r.width,s=e.position.y+e.height-r.height;if(i>0||s>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),e.position.x<0){const o=Math.abs(e.position.x);r.position.x=r.position.x-o,r.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);r.position.y=r.position.y-o,r.style.height+=o,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function aC(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const s=t.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&PS(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&PS(r,o);break}case"remove":return r}return r.push(o),r},n)}function lC(t,e){return aC(t,e)}function fU(t,e){return aC(t,e)}const Os=(t,e)=>({id:t,type:"select",selected:e});function gl(t,e){return t.reduce((n,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Os(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Os(r.id,!1))),n},[])}const Ng=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},pU=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),cC=z.memo(({isSelecting:t,selectionMode:e=vd.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:d,children:h})=>{const p=z.useRef(null),m=dn(),y=z.useRef(0),w=z.useRef(0),b=z.useRef(),{userSelectionActive:g,elementsSelectable:S,dragging:_}=yt(pU,bn),A=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,w.current=0},R=M=>{s==null||s(M),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},W=M=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){M.preventDefault();return}o==null||o(M)},O=a?M=>a(M):void 0,B=M=>{const{resetSelectedElements:f,domNode:x}=m.getState();if(b.current=x==null?void 0:x.getBoundingClientRect(),!S||!t||M.button!==0||M.target!==p.current||!b.current)return;const{x:k,y:C}=uo(M,b.current);f(),m.setState({userSelectionRect:{width:0,height:0,startX:k,startY:C,x:k,y:C}}),r==null||r(M)},F=M=>{const{userSelectionRect:f,nodeInternals:x,edges:k,transform:C,onNodesChange:T,onEdgesChange:I,nodeOrigin:L,getNodes:j}=m.getState();if(!t||!b.current||!f)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const v=uo(M,b.current),P=f.startX??0,X=f.startY??0,Z={...f,x:v.x<P?v.x:P,y:v.y<X?v.y:X,width:Math.abs(v.x-P),height:Math.abs(v.y-X)},te=j(),se=UM(x,Z,C,e===vd.Partial,!0,L),le=HM(se,k).map(ne=>ne.id),ce=se.map(ne=>ne.id);if(y.current!==ce.length){y.current=ce.length;const ne=gl(te,ce);ne.length&&(T==null||T(ne))}if(w.current!==le.length){w.current=le.length;const ne=gl(k,le);ne.length&&(I==null||I(ne))}m.setState({userSelectionRect:Z})},U=M=>{if(M.button!==0)return;const{userSelectionRect:f}=m.getState();!g&&f&&M.target===p.current&&(R==null||R(M)),m.setState({nodesSelectionActive:y.current>0}),A(),i==null||i(M)},H=M=>{g&&(m.setState({nodesSelectionActive:y.current>0}),i==null||i(M)),A()},K=S&&(t||g);return V.createElement("div",{className:jn(["react-flow__pane",{dragging:_,selection:t}]),onClick:K?void 0:Ng(R,p),onContextMenu:Ng(W,p),onWheel:Ng(O,p),onMouseEnter:K?void 0:l,onMouseDown:K?B:void 0,onMouseMove:K?F:c,onMouseUp:K?U:void 0,onMouseLeave:K?H:d,ref:p,style:bv},h,V.createElement(hU,null))});cC.displayName="Pane";function uC(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:uC(r,e):!1}function LS(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function mU(t,e,n,r){return Array.from(t.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!uC(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function gU(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function dC(t,e,n,r,i=[0,0],s){const o=gU(t,t.extent||r);let a=o;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:p,y:m}=sa(h,i).positionAbsolute;a=h&&Pr(p)&&Pr(m)&&Pr(h.width)&&Pr(h.height)?[[p+t.width*i[0],m+t.height*i[1]],[p+h.width-t.width+t.width*i[0],m+h.height-t.height+t.height*i[1]]]:a}else s==null||s("005",gs.error005()),a=o;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:p,y:m}=sa(h,i).positionAbsolute;a=[[t.extent[0][0]+p,t.extent[0][1]+m],[t.extent[1][0]+p,t.extent[1][1]+m]]}let c={x:0,y:0};if(l){const h=n.get(l);c=sa(h,i).positionAbsolute}const d=a&&a!=="parent"?fv(e,a):e;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function Ag({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?r.find(i=>i.id===t):r[0],r]}const OS=(t,e,n,r)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const s=Array.from(i),o=e.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-a.x)/n,y:(c.top-o.top-a.y)/n,...hv(l)}})};function Kc(t,e,n){return n===void 0?n:r=>{const i=e().nodeInternals.get(t);i&&n(r,{...i})}}function Y1({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",gs.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([t])}function yU(){const t=dn();return z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Mg(t){return(e,n,r)=>t==null?void 0:t(e,r)}function hC({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=dn(),[l,c]=z.useState(!1),d=z.useRef([]),h=z.useRef({x:null,y:null}),p=z.useRef(0),m=z.useRef(null),y=z.useRef({x:0,y:0}),w=z.useRef(null),b=z.useRef(!1),g=z.useRef(!1),S=z.useRef(!1),_=yU();return z.useEffect(()=>{if(t!=null&&t.current){const A=Rr(t.current),R=({x:B,y:F})=>{const{nodeInternals:U,onNodeDrag:H,onSelectionDrag:K,updateNodePositions:M,nodeExtent:f,snapGrid:x,snapToGrid:k,nodeOrigin:C,onError:T}=a.getState();h.current={x:B,y:F};let I=!1,L={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&f){const v=rm(d.current,C);L=wd(v)}if(d.current=d.current.map(v=>{const P={x:B-v.distance.x,y:F-v.distance.y};k&&(P.x=x[0]*Math.round(P.x/x[0]),P.y=x[1]*Math.round(P.y/x[1]));const X=[[f[0][0],f[0][1]],[f[1][0],f[1][1]]];d.current.length>1&&f&&!v.extent&&(X[0][0]=v.positionAbsolute.x-L.x+f[0][0],X[1][0]=v.positionAbsolute.x+(v.width??0)-L.x2+f[1][0],X[0][1]=v.positionAbsolute.y-L.y+f[0][1],X[1][1]=v.positionAbsolute.y+(v.height??0)-L.y2+f[1][1]);const Z=dC(v,P,U,X,C,T);return I=I||v.position.x!==Z.position.x||v.position.y!==Z.position.y,v.position=Z.position,v.positionAbsolute=Z.positionAbsolute,v}),!I)return;M(d.current,!0,!0),c(!0);const j=i?H:Mg(K);if(j&&w.current){const[v,P]=Ag({nodeId:i,dragItems:d.current,nodeInternals:U});j(w.current,v,P)}},W=()=>{if(!m.current)return;const[B,F]=TM(y.current,m.current);if(B!==0||F!==0){const{transform:U,panBy:H}=a.getState();h.current.x=(h.current.x??0)-B/U[2],h.current.y=(h.current.y??0)-F/U[2],H({x:B,y:F})&&R(h.current)}p.current=requestAnimationFrame(W)},O=B=>{var C;const{nodeInternals:F,multiSelectionActive:U,nodesDraggable:H,unselectNodesAndEdges:K,onNodeDragStart:M,onSelectionDragStart:f}=a.getState();g.current=!0;const x=i?M:Mg(f);(!o||!s)&&!U&&i&&((C=F.get(i))!=null&&C.selected||K()),i&&s&&o&&Y1({id:i,store:a,nodeRef:t});const k=_(B);if(h.current=k,d.current=mU(F,H,k,i),x&&d.current){const[T,I]=Ag({nodeId:i,dragItems:d.current,nodeInternals:F});x(B.sourceEvent,T,I)}};if(e)A.on(".drag",null);else{const B=CW().on("start",F=>{const{domNode:U,nodeDragThreshold:H}=a.getState();H===0&&O(F),S.current=!1;const K=_(F);h.current=K,m.current=(U==null?void 0:U.getBoundingClientRect())||null,y.current=uo(F.sourceEvent,m.current)}).on("drag",F=>{var M,f;const U=_(F),{autoPanOnNodeDrag:H,nodeDragThreshold:K}=a.getState();if(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1&&(S.current=!0),!S.current){if(!b.current&&g.current&&H&&(b.current=!0,W()),!g.current){const x=U.xSnapped-(((M=h==null?void 0:h.current)==null?void 0:M.x)??0),k=U.ySnapped-(((f=h==null?void 0:h.current)==null?void 0:f.y)??0);Math.sqrt(x*x+k*k)>K&&O(F)}(h.current.x!==U.xSnapped||h.current.y!==U.ySnapped)&&d.current&&g.current&&(w.current=F.sourceEvent,y.current=uo(F.sourceEvent,m.current),R(U))}}).on("end",F=>{if(!(!g.current||S.current)&&(c(!1),b.current=!1,g.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:U,nodeInternals:H,onNodeDragStop:K,onSelectionDragStop:M}=a.getState(),f=i?K:Mg(M);if(U(d.current,!1,!1),f){const[x,k]=Ag({nodeId:i,dragItems:d.current,nodeInternals:H});f(F.sourceEvent,x,k)}}}).filter(F=>{const U=F.target;return!F.button&&(!n||!LS(U,`.${n}`,t))&&(!r||LS(U,r,t))});return A.call(B),()=>{A.on(".drag",null)}}}},[t,e,n,r,s,a,i,o,_]),l}function fC(){const t=dn();return z.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:d}=t.getState(),h=o().filter(S=>S.selected&&(S.draggable||d&&typeof S.draggable>"u")),p=a?l[0]:5,m=a?l[1]:5,y=n.isShiftPressed?4:1,w=n.x*p*y,b=n.y*m*y,g=h.map(S=>{if(S.positionAbsolute){const _={x:S.positionAbsolute.x+w,y:S.positionAbsolute.y+b};a&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:A,position:R}=dC(S,_,r,i,void 0,c);S.position=R,S.positionAbsolute=A}return S});s(g,!0,!1)},[])}const Rl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var qc=t=>{const e=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:m,onContextMenu:y,onDoubleClick:w,style:b,className:g,isDraggable:S,isSelectable:_,isConnectable:A,isFocusable:R,selectNodesOnDrag:W,sourcePosition:O,targetPosition:B,hidden:F,resizeObserver:U,dragHandle:H,zIndex:K,isParent:M,noDragClassName:f,noPanClassName:x,initialized:k,disableKeyboardA11y:C,ariaLabel:T,rfId:I,hasHandleBounds:L})=>{const j=dn(),v=z.useRef(null),P=z.useRef(null),X=z.useRef(O),Z=z.useRef(B),te=z.useRef(r),se=_||S||d||h||p||m,le=fC(),ce=Kc(n,j.getState,h),ne=Kc(n,j.getState,p),ye=Kc(n,j.getState,m),he=Kc(n,j.getState,y),Se=Kc(n,j.getState,w),we=ge=>{const{nodeDragThreshold:oe}=j.getState();if(_&&(!W||!S||oe>0)&&Y1({id:n,store:j,nodeRef:v}),d){const st=j.getState().nodeInternals.get(n);st&&d(ge,{...st})}},Ae=ge=>{if(!U1(ge)&&!C)if(PM.includes(ge.key)&&_){const oe=ge.key==="Escape";Y1({id:n,store:j,unselect:oe,nodeRef:v})}else S&&c&&Object.prototype.hasOwnProperty.call(Rl,ge.key)&&(j.setState({ariaLiveMessage:`Moved selected node ${ge.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),le({x:Rl[ge.key].x,y:Rl[ge.key].y,isShiftPressed:ge.shiftKey}))};z.useEffect(()=>()=>{P.current&&(U==null||U.unobserve(P.current),P.current=null)},[]),z.useEffect(()=>{if(v.current&&!F){const ge=v.current;(!k||!L||P.current!==ge)&&(P.current&&(U==null||U.unobserve(P.current)),U==null||U.observe(ge),P.current=ge)}},[F,k,L]),z.useEffect(()=>{const ge=te.current!==r,oe=X.current!==O,st=Z.current!==B;v.current&&(ge||oe||st)&&(ge&&(te.current=r),oe&&(X.current=O),st&&(Z.current=B),j.getState().updateNodeDimensions([{id:n,nodeElement:v.current,forceUpdate:!0}]))},[n,r,O,B]);const re=hC({nodeRef:v,disabled:F||!S,noDragClassName:f,handleSelector:H,nodeId:n,isSelectable:_,selectNodesOnDrag:W});return F?null:V.createElement("div",{className:jn(["react-flow__node",`react-flow__node-${r}`,{[x]:S},g,{selected:c,selectable:_,parent:M,dragging:re}]),ref:v,style:{zIndex:K,transform:`translate(${a}px,${l}px)`,pointerEvents:se?"all":"none",visibility:k?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ce,onMouseMove:ne,onMouseLeave:ye,onContextMenu:he,onClick:we,onDoubleClick:Se,onKeyDown:R?Ae:void 0,tabIndex:R?0:void 0,role:R?"button":void 0,"aria-describedby":C?void 0:`${nC}-${I}`,"aria-label":T},V.createElement(j$,{value:n},V.createElement(t,{id:n,data:i,type:r,xPos:s,yPos:o,selected:c,isConnectable:A,sourcePosition:O,targetPosition:B,dragging:re,dragHandle:H,zIndex:K})))};return e.displayName="NodeWrapper",z.memo(e)};const xU=t=>{const e=t.getNodes().filter(n=>n.selected);return{...rm(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function wU({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=dn(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:c}=yt(xU,bn),d=fC(),h=z.useRef(null);if(z.useEffect(()=>{var y;n||(y=h.current)==null||y.focus({preventScroll:!0})},[n]),hC({nodeRef:h}),c||!i||!s)return null;const p=t?y=>{const w=r.getState().getNodes().filter(b=>b.selected);t(y,w)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(Rl,y.key)&&d({x:Rl[y.key].x,y:Rl[y.key].y,isShiftPressed:y.shiftKey})};return V.createElement("div",{className:jn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},V.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:s,top:a,left:o}}))}var vU=z.memo(wU);const bU=t=>t.nodesSelectionActive,pC=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:b,panActivationKeyCode:g,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:R,panOnScroll:W,panOnScrollSpeed:O,panOnScrollMode:B,zoomOnDoubleClick:F,panOnDrag:U,defaultViewport:H,translateExtent:K,minZoom:M,maxZoom:f,preventScrolling:x,onSelectionContextMenu:k,noWheelClassName:C,noPanClassName:T,disableKeyboardA11y:I})=>{const L=yt(bU),j=bd(h),v=bd(g),P=v||U,X=v||W,Z=j||p&&P!==!0;return oU({deleteKeyCode:a,multiSelectionKeyCode:b}),V.createElement(uU,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:R,panOnScroll:X,panOnScrollSpeed:O,panOnScrollMode:B,zoomOnDoubleClick:F,panOnDrag:!j&&P,defaultViewport:H,translateExtent:K,minZoom:M,maxZoom:f,zoomActivationKeyCode:S,preventScrolling:x,noWheelClassName:C,noPanClassName:T},V.createElement(cC,{onSelectionStart:y,onSelectionEnd:w,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:P,isSelecting:!!Z,selectionMode:m},t,L&&V.createElement(vU,{onSelectionContextMenu:k,noPanClassName:T,disableKeyboardA11y:I})))};pC.displayName="FlowRenderer";var SU=z.memo(pC);function _U(t){return yt(z.useCallback(n=>t?UM(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function kU(t){const e={input:qc(t.input||QM),default:qc(t.default||q1),output:qc(t.output||eC),group:qc(t.group||wv)},n={},r=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=qc(t[s]||q1),i),n);return{...e,...r}}const EU=({x:t,y:e,width:n,height:r,origin:i})=>!n||!r?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-r*i[1]},NU=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),mC=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=yt(NU,bn),a=_U(t.onlyRenderVisibleElements),l=z.useRef(),c=z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const p=h.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));s(p)});return l.current=d,d},[]);return z.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),V.createElement("div",{className:"react-flow__nodes",style:bv},a.map(d=>{var R,W,O;let h=d.type||"default";t.nodeTypes[h]||(o==null||o("003",gs.error003(h)),h="default");const p=t.nodeTypes[h]||t.nodeTypes.default,m=!!(d.draggable||e&&typeof d.draggable>"u"),y=!!(d.selectable||i&&typeof d.selectable>"u"),w=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),g=t.nodeExtent?fv(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,S=(g==null?void 0:g.x)??0,_=(g==null?void 0:g.y)??0,A=EU({x:S,y:_,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return V.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||Ne.Bottom,targetPosition:d.targetPosition||Ne.Top,hidden:d.hidden,xPos:S,yPos:_,xPosOrigin:A.x,yPosOrigin:A.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:b,resizeObserver:c,dragHandle:d.dragHandle,zIndex:((R=d[Zt])==null?void 0:R.z)??0,isParent:!!((W=d[Zt])!=null&&W.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((O=d[Zt])!=null&&O.handleBounds)})}))};mC.displayName="NodeRenderer";var AU=z.memo(mC);const MU=(t,e,n)=>n===Ne.Left?t-e:n===Ne.Right?t+e:t,CU=(t,e,n)=>n===Ne.Top?t-e:n===Ne.Bottom?t+e:t,DS="react-flow__edgeupdater",zS=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>V.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:jn([DS,`${DS}-${a}`]),cx:MU(e,r,t),cy:CU(n,r,t),r,stroke:"transparent",fill:"transparent"}),IU=()=>!0;var Wa=t=>{const e=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,style:b,source:g,target:S,sourceX:_,sourceY:A,targetX:R,targetY:W,sourcePosition:O,targetPosition:B,elementsSelectable:F,hidden:U,sourceHandleId:H,targetHandleId:K,onContextMenu:M,onMouseEnter:f,onMouseMove:x,onMouseLeave:k,reconnectRadius:C,onReconnect:T,onReconnectStart:I,onReconnectEnd:L,markerEnd:j,markerStart:v,rfId:P,ariaLabel:X,isFocusable:Z,isReconnectable:te,pathOptions:se,interactionWidth:le,disableKeyboardA11y:ce})=>{const ne=z.useRef(null),[ye,he]=z.useState(!1),[Se,we]=z.useState(!1),Ae=dn(),re=z.useMemo(()=>`url('#${V1(v,P)}')`,[v,P]),ge=z.useMemo(()=>`url('#${V1(j,P)}')`,[j,P]);if(U)return null;const oe=q=>{var Ke;const{edges:G,addSelectedEdges:ee,unselectNodesAndEdges:Pe,multiSelectionActive:Re}=Ae.getState(),Me=G.find(Ce=>Ce.id===n);Me&&(F&&(Ae.setState({nodesSelectionActive:!1}),Me.selected&&Re?(Pe({nodes:[],edges:[Me]}),(Ke=ne.current)==null||Ke.blur()):ee([n])),o&&o(q,Me))},st=Vc(n,Ae.getState,a),Be=Vc(n,Ae.getState,M),Oe=Vc(n,Ae.getState,f),ht=Vc(n,Ae.getState,x),De=Vc(n,Ae.getState,k),Ve=(q,G)=>{if(q.button!==0)return;const{edges:ee,isValidConnection:Pe}=Ae.getState(),Re=G?S:g,Me=(G?K:H)||null,Ke=G?"target":"source",Ce=Pe||IU,St=G,bs=ee.find(di=>di.id===n);we(!0),I==null||I(q,bs,Ke);const _t=di=>{we(!1),L==null||L(di,bs,Ke)};YM({event:q,handleId:Me,nodeId:Re,onConnect:di=>T==null?void 0:T(bs,di),isTarget:St,getState:Ae.getState,setState:Ae.setState,isValidConnection:Ce,edgeUpdaterType:Ke,onReconnectEnd:_t})},Ye=q=>Ve(q,!0),rt=q=>Ve(q,!1),D=()=>he(!0),E=()=>he(!1),N=!F&&!o,$=q=>{var G;if(!ce&&PM.includes(q.key)&&F){const{unselectNodesAndEdges:ee,addSelectedEdges:Pe,edges:Re}=Ae.getState();q.key==="Escape"?((G=ne.current)==null||G.blur(),ee({edges:[Re.find(Ke=>Ke.id===n)]})):Pe([n])}};return V.createElement("g",{className:jn(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:N,updating:ye}]),onClick:oe,onDoubleClick:st,onContextMenu:Be,onMouseEnter:Oe,onMouseMove:ht,onMouseLeave:De,onKeyDown:Z?$:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":X===null?void 0:X||`Edge from ${g} to ${S}`,"aria-describedby":Z?`${rC}-${P}`:void 0,ref:ne},!Se&&V.createElement(t,{id:n,source:g,target:S,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,data:s,style:b,sourceX:_,sourceY:A,targetX:R,targetY:W,sourcePosition:O,targetPosition:B,sourceHandleId:H,targetHandleId:K,markerStart:re,markerEnd:ge,pathOptions:se,interactionWidth:le}),te&&V.createElement(V.Fragment,null,(te==="source"||te===!0)&&V.createElement(zS,{position:O,centerX:_,centerY:A,radius:C,onMouseDown:Ye,onMouseEnter:D,onMouseOut:E,type:"source"}),(te==="target"||te===!0)&&V.createElement(zS,{position:B,centerX:R,centerY:W,radius:C,onMouseDown:rt,onMouseEnter:D,onMouseOut:E,type:"target"})))};return e.displayName="EdgeWrapper",z.memo(e)};function TU(t){const e={default:Wa(t.default||Xp),straight:Wa(t.bezier||gv),step:Wa(t.step||mv),smoothstep:Wa(t.step||nm),simplebezier:Wa(t.simplebezier||pv)},n={},r=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Wa(t[s]||Xp),i),n);return{...e,...r}}function WS(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,i=((n==null?void 0:n.y)||0)+e.y,s=(n==null?void 0:n.width)||e.width,o=(n==null?void 0:n.height)||e.height;switch(t){case Ne.Top:return{x:r+s/2,y:i};case Ne.Right:return{x:r+s,y:i+o/2};case Ne.Bottom:return{x:r+s/2,y:i+o};case Ne.Left:return{x:r,y:i+o/2}}}function FS(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const jU=(t,e,n,r,i,s)=>{const o=WS(n,t,e),a=WS(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function RU({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=wd({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),h=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),p=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(h*p)>0}function $S(t){var r,i,s,o,a;const e=((r=t==null?void 0:t[Zt])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const BU=[{level:0,isMaxLevel:!0,edges:[]}];function PU(t,e,n=!1){let r=-1;const i=t.reduce((o,a)=>{var d,h;const l=Pr(a.zIndex);let c=l?a.zIndex:0;if(n){const p=e.get(a.target),m=e.get(a.source),y=a.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),w=Math.max(((d=m==null?void 0:m[Zt])==null?void 0:d.z)||0,((h=p==null?void 0:p[Zt])==null?void 0:h.z)||0,1e3);c=(l?a.zIndex:0)+(y?w:0)}return o[c]?o[c].push(a):o[c]=[a],r=c>r?c:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?BU:s}function LU(t,e,n){const r=yt(z.useCallback(i=>t?i.edges.filter(s=>{const o=e.get(s.source),a=e.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&RU({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return PU(r,e,n)}const OU=({color:t="none",strokeWidth:e=1})=>V.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),DU=({color:t="none",strokeWidth:e=1})=>V.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),US={[Zp.Arrow]:OU,[Zp.ArrowClosed]:DU};function zU(t){const e=dn();return z.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(US,t)?US[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",gs.error009(t)),null)},[t])}const WU=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=zU(e);return l?V.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},V.createElement(l,{color:n,strokeWidth:o})):null},FU=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=V1(o,e);r.includes(a)||(i.push({id:a,color:o.color||t,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},gC=({defaultColor:t,rfId:e})=>{const n=yt(z.useCallback(FU({defaultColor:t,rfId:e}),[t,e]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return V.createElement("defs",null,n.map(r=>V.createElement(WU,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};gC.displayName="MarkerDefinitions";var $U=z.memo(gC);const UU=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),yC=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,children:b,disableKeyboardA11y:g})=>{const{edgesFocusable:S,edgesUpdatable:_,elementsSelectable:A,width:R,height:W,connectionMode:O,nodeInternals:B,onError:F}=yt(UU,bn),U=LU(e,B,n);return R?V.createElement(V.Fragment,null,U.map(({level:H,edges:K,isMaxLevel:M})=>V.createElement("svg",{key:H,style:{zIndex:H},width:R,height:W,className:"react-flow__edges react-flow__container"},M&&V.createElement($U,{defaultColor:t,rfId:r}),V.createElement("g",null,K.map(f=>{const[x,k,C]=$S(B.get(f.source)),[T,I,L]=$S(B.get(f.target));if(!C||!L)return null;let j=f.type||"default";i[j]||(F==null||F("011",gs.error011(j)),j="default");const v=i[j]||i.default,P=O===ga.Strict?I.target:(I.target??[]).concat(I.source??[]),X=FS(k.source,f.sourceHandle),Z=FS(P,f.targetHandle),te=(X==null?void 0:X.position)||Ne.Bottom,se=(Z==null?void 0:Z.position)||Ne.Top,le=!!(f.focusable||S&&typeof f.focusable>"u"),ce=f.reconnectable||f.updatable,ne=typeof p<"u"&&(ce||_&&typeof ce>"u");if(!X||!Z)return F==null||F("008",gs.error008(X,f)),null;const{sourceX:ye,sourceY:he,targetX:Se,targetY:we}=jU(x,X,te,T,Z,se);return V.createElement(v,{key:f.id,id:f.id,className:jn([f.className,s]),type:j,data:f.data,selected:!!f.selected,animated:!!f.animated,hidden:!!f.hidden,label:f.label,labelStyle:f.labelStyle,labelShowBg:f.labelShowBg,labelBgStyle:f.labelBgStyle,labelBgPadding:f.labelBgPadding,labelBgBorderRadius:f.labelBgBorderRadius,style:f.style,source:f.source,target:f.target,sourceHandleId:f.sourceHandle,targetHandleId:f.targetHandle,markerEnd:f.markerEnd,markerStart:f.markerStart,sourceX:ye,sourceY:he,targetX:Se,targetY:we,sourcePosition:te,targetPosition:se,elementsSelectable:A,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,rfId:r,ariaLabel:f.ariaLabel,isFocusable:le,isReconnectable:ne,pathOptions:"pathOptions"in f?f.pathOptions:void 0,interactionWidth:f.interactionWidth,disableKeyboardA11y:g})})))),b):null};yC.displayName="EdgeRenderer";var HU=z.memo(yC);const VU=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function KU({children:t}){const e=yt(VU);return V.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function qU(t){const e=vv(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const YU={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top},xC=({nodeId:t,handleType:e,style:n,type:r=Fs.Bezier,CustomComponent:i,connectionStatus:s})=>{var W,O,B;const{fromNode:o,handleId:a,toX:l,toY:c,connectionMode:d}=yt(z.useCallback(F=>({fromNode:F.nodeInternals.get(t),handleId:F.connectionHandleId,toX:(F.connectionPosition.x-F.transform[0])/F.transform[2],toY:(F.connectionPosition.y-F.transform[1])/F.transform[2],connectionMode:F.connectionMode}),[t]),bn),h=(W=o==null?void 0:o[Zt])==null?void 0:W.handleBounds;let p=h==null?void 0:h[e];if(d===ga.Loose&&(p=p||(h==null?void 0:h[e==="source"?"target":"source"])),!o||!p)return null;const m=a?p.find(F=>F.id===a):p[0],y=m?m.x+m.width/2:(o.width??0)/2,w=m?m.y+m.height/2:o.height??0,b=(((O=o.positionAbsolute)==null?void 0:O.x)??0)+y,g=(((B=o.positionAbsolute)==null?void 0:B.y)??0)+w,S=m==null?void 0:m.position,_=S?YU[S]:null;if(!S||!_)return null;if(i)return V.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:b,fromY:g,toX:l,toY:c,fromPosition:S,toPosition:_,connectionStatus:s});let A="";const R={sourceX:b,sourceY:g,sourcePosition:S,targetX:l,targetY:c,targetPosition:_};return r===Fs.Bezier?[A]=WM(R):r===Fs.Step?[A]=H1({...R,borderRadius:0}):r===Fs.SmoothStep?[A]=H1(R):r===Fs.SimpleBezier?[A]=zM(R):A=`M${b},${g} ${l},${c}`,V.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:n})};xC.displayName="ConnectionLine";const GU=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function ZU({containerStyle:t,style:e,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:c}=yt(GU,bn);return!(i&&s&&a&&o)?null:V.createElement("svg",{style:t,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},V.createElement("g",{className:jn(["react-flow__connection",c])},V.createElement(xC,{nodeId:i,handleType:s,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function HS(t,e){return z.useRef(null),dn(),z.useMemo(()=>e(t),[t])}const wC=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:w,onSelectionEnd:b,connectionLineType:g,connectionLineStyle:S,connectionLineComponent:_,connectionLineContainerStyle:A,selectionKeyCode:R,selectionOnDrag:W,selectionMode:O,multiSelectionKeyCode:B,panActivationKeyCode:F,zoomActivationKeyCode:U,deleteKeyCode:H,onlyRenderVisibleElements:K,elementsSelectable:M,selectNodesOnDrag:f,defaultViewport:x,translateExtent:k,minZoom:C,maxZoom:T,preventScrolling:I,defaultMarkerColor:L,zoomOnScroll:j,zoomOnPinch:v,panOnScroll:P,panOnScrollSpeed:X,panOnScrollMode:Z,zoomOnDoubleClick:te,panOnDrag:se,onPaneClick:le,onPaneMouseEnter:ce,onPaneMouseMove:ne,onPaneMouseLeave:ye,onPaneScroll:he,onPaneContextMenu:Se,onEdgeContextMenu:we,onEdgeMouseEnter:Ae,onEdgeMouseMove:re,onEdgeMouseLeave:ge,onReconnect:oe,onReconnectStart:st,onReconnectEnd:Be,reconnectRadius:Oe,noDragClassName:ht,noWheelClassName:De,noPanClassName:Ve,elevateEdgesOnSelect:Ye,disableKeyboardA11y:rt,nodeOrigin:D,nodeExtent:E,rfId:N})=>{const $=HS(t,kU),q=HS(e,TU);return qU(s),V.createElement(SU,{onPaneClick:le,onPaneMouseEnter:ce,onPaneMouseMove:ne,onPaneMouseLeave:ye,onPaneContextMenu:Se,onPaneScroll:he,deleteKeyCode:H,selectionKeyCode:R,selectionOnDrag:W,selectionMode:O,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:B,panActivationKeyCode:F,zoomActivationKeyCode:U,elementsSelectable:M,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:j,zoomOnPinch:v,zoomOnDoubleClick:te,panOnScroll:P,panOnScrollSpeed:X,panOnScrollMode:Z,panOnDrag:se,defaultViewport:x,translateExtent:k,minZoom:C,maxZoom:T,onSelectionContextMenu:y,preventScrolling:I,noDragClassName:ht,noWheelClassName:De,noPanClassName:Ve,disableKeyboardA11y:rt},V.createElement(KU,null,V.createElement(HU,{edgeTypes:q,onEdgeClick:a,onEdgeDoubleClick:c,onlyRenderVisibleElements:K,onEdgeContextMenu:we,onEdgeMouseEnter:Ae,onEdgeMouseMove:re,onEdgeMouseLeave:ge,onReconnect:oe,onReconnectStart:st,onReconnectEnd:Be,reconnectRadius:Oe,defaultMarkerColor:L,noPanClassName:Ve,elevateEdgesOnSelect:!!Ye,disableKeyboardA11y:rt,rfId:N},V.createElement(ZU,{style:S,type:g,component:_,containerStyle:A})),V.createElement("div",{className:"react-flow__edgelabel-renderer"}),V.createElement(AU,{nodeTypes:$,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:f,onlyRenderVisibleElements:K,noPanClassName:Ve,noDragClassName:ht,disableKeyboardA11y:rt,nodeOrigin:D,nodeExtent:E,rfId:N})))};wC.displayName="GraphView";var XU=z.memo(wC);const G1=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ms={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:G1,nodeExtent:G1,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ga.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:N$,isValidConnection:void 0},QU=()=>F7((t,e)=>({...Ms,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=e();t({nodeInternals:Eg(n,r,i,s)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?Eg(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=e(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(h.transform),m=n.reduce((w,b)=>{const g=i.get(b.id);if(g!=null&&g.hidden)i.set(g.id,{...g,[Zt]:{...g[Zt],handleBounds:void 0}});else if(g){const S=hv(b.nodeElement);!!(S.width&&S.height&&(g.width!==S.width||g.height!==S.height||b.forceUpdate))&&(i.set(g.id,{...g,[Zt]:{...g[Zt],handleBounds:{source:OS(".source",b.nodeElement,p,c),target:OS(".target",b.nodeElement,p,c)}},...S}),w.push({id:g.id,type:"dimensions",dimensions:S}))}return w},[]);sC(i,c);const y=o||s&&!o&&oC(e,{initial:!0,...a});t({nodeInternals:new Map(i),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=e(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(s){const c=lC(n,a()),d=Eg(c,i,o,l);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let o,a=null;r?o=n.map(l=>Os(l,!0)):(o=gl(s(),n),a=gl(i,[])),Rh({changedNodes:o,changedEdges:a,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let o,a=null;r?o=n.map(l=>Os(l,!0)):(o=gl(i,n),a=gl(s(),[])),Rh({changedNodes:a,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=e(),o=n||s(),a=r||i,l=o.map(d=>(d.selected=!1,Os(d.id,!1))),c=a.map(d=>Os(d.id,!1));Rh({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=e();r==null||r.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=e();r==null||r.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),s=r().filter(a=>a.selected).map(a=>Os(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Os(a.id,!1));Rh({changedNodes:s,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=fv(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=e();if(!o||!a||!n.x&&!n.y)return!1;const c=cs.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[i,s]],h=o==null?void 0:o.constrain()(c,d,l);return o.transform(a,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:Ms.connectionNodeId,connectionHandleId:Ms.connectionHandleId,connectionHandleType:Ms.connectionHandleType,connectionStatus:Ms.connectionStatus,connectionStartHandle:Ms.connectionStartHandle,connectionEndHandle:Ms.connectionEndHandle}),reset:()=>t({...Ms})}),Object.is),vC=({children:t})=>{const e=z.useRef(null);return e.current||(e.current=QU()),V.createElement(w$,{value:e.current},t)};vC.displayName="ReactFlowProvider";const bC=({children:t})=>z.useContext(tm)?V.createElement(V.Fragment,null,t):V.createElement(vC,null,t);bC.displayName="ReactFlowWrapper";const JU={input:QM,default:q1,output:eC,group:wv},eH={default:Xp,straight:gv,step:mv,smoothstep:nm,simplebezier:pv},tH=[0,0],nH=[15,15],rH={x:0,y:0,zoom:1},iH={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},SC=z.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=JU,edgeTypes:o=eH,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:g,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:R,onNodeDoubleClick:W,onNodeDragStart:O,onNodeDrag:B,onNodeDragStop:F,onNodesDelete:U,onEdgesDelete:H,onSelectionChange:K,onSelectionDragStart:M,onSelectionDrag:f,onSelectionDragStop:x,onSelectionContextMenu:k,onSelectionStart:C,onSelectionEnd:T,connectionMode:I=ga.Strict,connectionLineType:L=Fs.Bezier,connectionLineStyle:j,connectionLineComponent:v,connectionLineContainerStyle:P,deleteKeyCode:X="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:te=!1,selectionMode:se=vd.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ce=Gp()?"Meta":"Control",zoomActivationKeyCode:ne=Gp()?"Meta":"Control",snapToGrid:ye=!1,snapGrid:he=nH,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:we=!0,nodesDraggable:Ae,nodesConnectable:re,nodesFocusable:ge,nodeOrigin:oe=tH,edgesFocusable:st,edgesUpdatable:Be,elementsSelectable:Oe,defaultViewport:ht=rH,minZoom:De=.5,maxZoom:Ve=2,translateExtent:Ye=G1,preventScrolling:rt=!0,nodeExtent:D,defaultMarkerColor:E="#b1b1b7",zoomOnScroll:N=!0,zoomOnPinch:$=!0,panOnScroll:q=!1,panOnScrollSpeed:G=.5,panOnScrollMode:ee=Qo.Free,zoomOnDoubleClick:Pe=!0,panOnDrag:Re=!0,onPaneClick:Me,onPaneMouseEnter:Ke,onPaneMouseMove:Ce,onPaneMouseLeave:St,onPaneScroll:bs,onPaneContextMenu:_t,children:Nt,onEdgeContextMenu:di,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Pt,onEdgeMouseMove:Kd,onEdgeMouseLeave:Lt,onEdgeUpdate:Ot,onEdgeUpdateStart:qd,onEdgeUpdateEnd:Dt,onReconnect:zt,onReconnectStart:Yd,onReconnectEnd:Wt,reconnectRadius:Ft=10,edgeUpdaterRadius:Gd=10,onNodesChange:$t,onEdgesChange:Ut,noDragClassName:Zd="nodrag",noWheelClassName:Ht="nowheel",noPanClassName:At="nopan",fitView:Xd=!1,fitViewOptions:Vt,connectOnClick:Kt=!0,attributionPosition:xc,proOptions:wc,defaultEdgeOptions:vc,elevateNodesOnSelect:bc=!0,elevateEdgesOnSelect:Sc=!1,disableKeyboardA11y:Ca=!1,autoPanOnConnect:_c=!0,autoPanOnNodeDrag:kc=!0,connectionRadius:Ec=20,isValidConnection:Nc,onError:Ac,style:Mc,id:Ia,nodeDragThreshold:Cc,...Ic},Tc)=>{const ko=Ia||"1";return V.createElement("div",{...Ic,style:{...Mc,...iH},ref:Tc,className:jn(["react-flow",i]),"data-testid":"rf__wrapper",id:Ia},V.createElement(bC,null,V.createElement(XU,{onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:R,onNodeDoubleClick:W,nodeTypes:s,edgeTypes:o,connectionLineType:L,connectionLineStyle:j,connectionLineComponent:v,connectionLineContainerStyle:P,selectionKeyCode:Z,selectionOnDrag:te,selectionMode:se,deleteKeyCode:X,multiSelectionKeyCode:ce,panActivationKeyCode:le,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Se,selectNodesOnDrag:we,defaultViewport:ht,translateExtent:Ye,minZoom:De,maxZoom:Ve,preventScrolling:rt,zoomOnScroll:N,zoomOnPinch:$,zoomOnDoubleClick:Pe,panOnScroll:q,panOnScrollSpeed:G,panOnScrollMode:ee,panOnDrag:Re,onPaneClick:Me,onPaneMouseEnter:Ke,onPaneMouseMove:Ce,onPaneMouseLeave:St,onPaneScroll:bs,onPaneContextMenu:_t,onSelectionContextMenu:k,onSelectionStart:C,onSelectionEnd:T,onEdgeContextMenu:di,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Pt,onEdgeMouseMove:Kd,onEdgeMouseLeave:Lt,onReconnect:zt??Ot,onReconnectStart:Yd??qd,onReconnectEnd:Wt??Dt,reconnectRadius:Ft??Gd,defaultMarkerColor:E,noDragClassName:Zd,noWheelClassName:Ht,noPanClassName:At,elevateEdgesOnSelect:Sc,rfId:ko,disableKeyboardA11y:Ca,nodeOrigin:oe,nodeExtent:D}),V.createElement(Y$,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:b,onClickConnectEnd:g,nodesDraggable:Ae,nodesConnectable:re,nodesFocusable:ge,edgesFocusable:st,edgesUpdatable:Be,elementsSelectable:Oe,elevateNodesOnSelect:bc,minZoom:De,maxZoom:Ve,nodeExtent:D,onNodesChange:$t,onEdgesChange:Ut,snapToGrid:ye,snapGrid:he,connectionMode:I,translateExtent:Ye,connectOnClick:Kt,defaultEdgeOptions:vc,fitView:Xd,fitViewOptions:Vt,onNodesDelete:U,onEdgesDelete:H,onNodeDragStart:O,onNodeDrag:B,onNodeDragStop:F,onSelectionDrag:f,onSelectionDragStart:M,onSelectionDragStop:x,noPanClassName:At,nodeOrigin:oe,rfId:ko,autoPanOnConnect:_c,autoPanOnNodeDrag:kc,onError:Ac,connectionRadius:Ec,isValidConnection:Nc,nodeDragThreshold:Cc}),V.createElement(K$,{onSelectionChange:K}),Nt,V.createElement(b$,{proOptions:wc,position:xc}),V.createElement(J$,{rfId:ko,disableKeyboardA11y:Ca})))});SC.displayName="ReactFlow";function _C(t){return e=>{const[n,r]=z.useState(e),i=z.useCallback(s=>r(o=>t(s,o)),[]);return[n,r,i]}}const sH=_C(lC),oH=_C(fU),kC=({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:h,onClick:p,selected:m})=>{const{background:y,backgroundColor:w}=s||{},b=o||y||w;return V.createElement("rect",{className:jn(["react-flow__minimap-node",{selected:m},c]),x:e,y:n,rx:d,ry:d,width:r,height:i,fill:b,stroke:a,strokeWidth:l,shapeRendering:h,onClick:p?g=>p(g,t):void 0})};kC.displayName="MiniMapNode";var aH=z.memo(kC);const lH=t=>t.nodeOrigin,cH=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Cg=t=>t instanceof Function?t:()=>t;function uH({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=aH,onClick:o}){const a=yt(cH,bn),l=yt(lH),c=Cg(e),d=Cg(t),h=Cg(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return V.createElement(V.Fragment,null,a.map(m=>{const{x:y,y:w}=sa(m,l).positionAbsolute;return V.createElement(s,{key:m.id,x:y,y:w,width:m.width,height:m.height,style:m.style,selected:m.selected,className:h(m),color:c(m),borderRadius:r,strokeColor:d(m),strokeWidth:i,shapeRendering:p,onClick:o,id:m.id})}))}var dH=z.memo(uH);const hH=200,fH=150,pH=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?k$(rm(e,t.nodeOrigin),n):n,rfId:t.rfId}},mH="react-flow__minimap-desc";function EC({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:w=!1,ariaLabel:b="React Flow mini map",inversePan:g=!1,zoomStep:S=10,offsetScale:_=5}){const A=dn(),R=z.useRef(null),{boundingRect:W,viewBB:O,rfId:B}=yt(pH,bn),F=(t==null?void 0:t.width)??hH,U=(t==null?void 0:t.height)??fH,H=W.width/F,K=W.height/U,M=Math.max(H,K),f=M*F,x=M*U,k=_*M,C=W.x-(f-W.width)/2-k,T=W.y-(x-W.height)/2-k,I=f+k*2,L=x+k*2,j=`${mH}-${B}`,v=z.useRef(0);v.current=M,z.useEffect(()=>{if(R.current){const Z=Rr(R.current),te=ce=>{const{transform:ne,d3Selection:ye,d3Zoom:he}=A.getState();if(ce.sourceEvent.type!=="wheel"||!ye||!he)return;const Se=-ce.sourceEvent.deltaY*(ce.sourceEvent.deltaMode===1?.05:ce.sourceEvent.deltaMode?1:.002)*S,we=ne[2]*Math.pow(2,Se);he.scaleTo(ye,we)},se=ce=>{const{transform:ne,d3Selection:ye,d3Zoom:he,translateExtent:Se,width:we,height:Ae}=A.getState();if(ce.sourceEvent.type!=="mousemove"||!ye||!he)return;const re=v.current*Math.max(1,ne[2])*(g?-1:1),ge={x:ne[0]-ce.sourceEvent.movementX*re,y:ne[1]-ce.sourceEvent.movementY*re},oe=[[0,0],[we,Ae]],st=cs.translate(ge.x,ge.y).scale(ne[2]),Be=he.constrain()(st,oe,Se);he.transform(ye,Be)},le=CM().on("zoom",y?se:null).on("zoom.wheel",w?te:null);return Z.call(le),()=>{Z.on("zoom",null)}}},[y,w,g,S]);const P=p?Z=>{const te=Gr(Z);p(Z,{x:te[0],y:te[1]})}:void 0,X=m?(Z,te)=>{const se=A.getState().nodeInternals.get(te);m(Z,se)}:void 0;return V.createElement(dv,{position:h,style:t,className:jn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},V.createElement("svg",{width:F,height:U,viewBox:`${C} ${T} ${I} ${L}`,role:"img","aria-labelledby":j,ref:R,onClick:P},b&&V.createElement("title",{id:j},b),V.createElement(dH,{onClick:X,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),V.createElement("path",{className:"react-flow__minimap-mask",d:`M${C-k},${T-k}h${I+k*2}v${L+k*2}h${-I-k*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}EC.displayName="MiniMap";var gH=z.memo(EC);function yH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},V.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function xH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},V.createElement("path",{d:"M0 0h32v4.2H0z"}))}function wH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},V.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function vH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},V.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function bH(){return V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},V.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const gu=({children:t,className:e,...n})=>V.createElement("button",{type:"button",className:jn(["react-flow__controls-button",e]),...n},t);gu.displayName="ControlButton";const SH=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),NC=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:d,position:h="bottom-left"})=>{const p=dn(),[m,y]=z.useState(!1),{isInteractive:w,minZoomReached:b,maxZoomReached:g}=yt(SH,bn),{zoomIn:S,zoomOut:_,fitView:A}=vv();if(z.useEffect(()=>{y(!0)},[]),!m)return null;const R=()=>{S(),s==null||s()},W=()=>{_(),o==null||o()},O=()=>{A(i),a==null||a()},B=()=>{p.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)};return V.createElement(dv,{className:jn(["react-flow__controls",c]),position:h,style:t,"data-testid":"rf__controls"},e&&V.createElement(V.Fragment,null,V.createElement(gu,{onClick:R,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},V.createElement(yH,null)),V.createElement(gu,{onClick:W,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},V.createElement(xH,null))),n&&V.createElement(gu,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view"},V.createElement(wH,null)),r&&V.createElement(gu,{className:"react-flow__controls-interactive",onClick:B,title:"toggle interactivity","aria-label":"toggle interactivity"},w?V.createElement(bH,null):V.createElement(vH,null)),d)};NC.displayName="Controls";var _H=z.memo(NC),ii;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ii||(ii={}));function kH({color:t,dimensions:e,lineWidth:n}){return V.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function EH({color:t,radius:e}){return V.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const NH={[ii.Dots]:"#91919a",[ii.Lines]:"#eee",[ii.Cross]:"#e2e2e2"},AH={[ii.Dots]:1,[ii.Lines]:1,[ii.Cross]:6},MH=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function AC({id:t,variant:e=ii.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const c=z.useRef(null),{transform:d,patternId:h}=yt(MH,bn),p=o||NH[e],m=r||AH[e],y=e===ii.Dots,w=e===ii.Cross,b=Array.isArray(n)?n:[n,n],g=[b[0]*d[2]||1,b[1]*d[2]||1],S=m*d[2],_=w?[S,S]:g,A=y?[S/s,S/s]:[_[0]/s,_[1]/s];return V.createElement("svg",{className:jn(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},V.createElement("pattern",{id:h+t,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},y?V.createElement(EH,{color:p,radius:S/s}):V.createElement(kH,{dimensions:_,color:p,lineWidth:i})),V.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}AC.displayName="Background";var CH=z.memo(AC);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vd(t){return t+.5|0}const Xs=(t,e,n)=>Math.max(Math.min(t,n),e);function yu(t){return Xs(Vd(t*2.55),0,255)}function ho(t){return Xs(Vd(t*255),0,255)}function Zi(t){return Xs(Vd(t/2.55)/100,0,1)}function VS(t){return Xs(Vd(t*100),0,100)}const Mr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z1=[..."0123456789ABCDEF"],IH=t=>Z1[t&15],TH=t=>Z1[(t&240)>>4]+Z1[t&15],Ph=t=>(t&240)>>4===(t&15),jH=t=>Ph(t.r)&&Ph(t.g)&&Ph(t.b)&&Ph(t.a);function RH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Mr[t[1]]*17,g:255&Mr[t[2]]*17,b:255&Mr[t[3]]*17,a:e===5?Mr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Mr[t[1]]<<4|Mr[t[2]],g:Mr[t[3]]<<4|Mr[t[4]],b:Mr[t[5]]<<4|Mr[t[6]],a:e===9?Mr[t[7]]<<4|Mr[t[8]]:255})),n}const BH=(t,e)=>t<255?e(t):"";function PH(t){var e=jH(t)?IH:TH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+BH(t.a,e):void 0}const LH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MC(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function OH(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function DH(t,e,n){const r=MC(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function zH(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Sv(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,d;return s!==o&&(d=s-o,c=a>.5?d/(2-s-o):d/(s+o),l=zH(n,r,i,d,s),l=l*60+.5),[l|0,c||0,a]}function _v(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ho)}function kv(t,e,n){return _v(MC,t,e,n)}function WH(t,e,n){return _v(DH,t,e,n)}function FH(t,e,n){return _v(OH,t,e,n)}function CC(t){return(t%360+360)%360}function $H(t){const e=LH.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?yu(+e[5]):ho(+e[5]));const i=CC(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=WH(i,s,o):e[1]==="hsv"?r=FH(i,s,o):r=kv(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function UH(t,e){var n=Sv(t);n[0]=CC(n[0]+e),n=kv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function HH(t){if(!t)return;const e=Sv(t),n=e[0],r=VS(e[1]),i=VS(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Zi(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const KS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VH(){const t={},e=Object.keys(qS),n=Object.keys(KS);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,KS[s]);s=parseInt(qS[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Lh;function KH(t){Lh||(Lh=VH(),Lh.transparent=[0,0,0,0]);const e=Lh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function YH(t){const e=qH.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?yu(o):Xs(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?yu(r):Xs(r,0,255)),i=255&(e[4]?yu(i):Xs(i,0,255)),s=255&(e[6]?yu(s):Xs(s,0,255)),{r,g:i,b:s,a:n}}}function GH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ig=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ZH(t,e,n){const r=Fa(Zi(t.r)),i=Fa(Zi(t.g)),s=Fa(Zi(t.b));return{r:ho(Ig(r+n*(Fa(Zi(e.r))-r))),g:ho(Ig(i+n*(Fa(Zi(e.g))-i))),b:ho(Ig(s+n*(Fa(Zi(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Oh(t,e,n){if(t){let r=Sv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=kv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function IC(t,e){return t&&Object.assign(e||{},t)}function YS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ho(t[3]))):(e=IC(t,{r:0,g:0,b:0,a:1}),e.a=ho(e.a)),e}function XH(t){return t.charAt(0)==="r"?YH(t):$H(t)}class Sd{constructor(e){if(e instanceof Sd)return e;const n=typeof e;let r;n==="object"?r=YS(e):n==="string"&&(r=RH(e)||KH(e)||XH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=IC(this._rgb);return e&&(e.a=Zi(e.a)),e}set rgb(e){this._rgb=YS(e)}rgbString(){return this._valid?GH(this._rgb):void 0}hexString(){return this._valid?PH(this._rgb):void 0}hslString(){return this._valid?HH(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=ZH(this._rgb,e._rgb,n)),this}clone(){return new Sd(this.rgb)}alpha(e){return this._rgb.a=ho(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Oh(this._rgb,2,e),this}darken(e){return Oh(this._rgb,2,-e),this}saturate(e){return Oh(this._rgb,1,e),this}desaturate(e){return Oh(this._rgb,1,-e),this}rotate(e){return UH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fi(){}const QH=(()=>{let t=0;return()=>t++})();function gt(t){return t==null}function cn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Hn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pi(t,e){return Hn(t)?t:e}function qe(t,e){return typeof t>"u"?e:t}const JH=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function wt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ot(t,e,n,r){let i,s,o;if(cn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Xe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Qp(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Jp(t){if(cn(t))return t.map(Jp);if(Xe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Jp(t[n[i]]);return e}return t}function TC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function eV(t,e,n,r){if(!TC(t))return;const i=e[t],s=n[t];Xe(i)&&Xe(s)?_d(i,s,r):e[t]=Jp(s)}function _d(t,e,n){const r=cn(e)?e:[e],i=r.length;if(!Xe(t))return t;n=n||{};const s=n.merger||eV;let o;for(let a=0;a<i;++a){if(o=r[a],!Xe(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)s(l[c],t,o,n)}return t}function Bu(t,e){return _d(t,e,{merger:tV})}function tV(t,e,n){if(!TC(t))return;const r=e[t],i=n[t];Xe(r)&&Xe(i)?Bu(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Jp(i))}const GS={"":t=>t,x:t=>t.x,y:t=>t.y};function nV(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function rV(t){const e=nV(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function e0(t,e){return(GS[e]||(GS[e]=rV(e)))(t)}function Ev(t){return t.charAt(0).toUpperCase()+t.slice(1)}const t0=t=>typeof t<"u",yo=t=>typeof t=="function",ZS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function iV(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const vn=Math.PI,si=2*vn,sV=si+vn,n0=Number.POSITIVE_INFINITY,oV=vn/180,ei=vn/2,Eo=vn/4,XS=vn*2/3,jC=Math.log10,ic=Math.sign;function Pu(t,e,n){return Math.abs(t-e)<n}function QS(t){const e=Math.round(t);t=Pu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(jC(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function aV(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function lV(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function kd(t){return!lV(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function cV(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function uV(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Jo(t){return t*(vn/180)}function dV(t){return t*(180/vn)}function JS(t){if(!Hn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function hV(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*vn&&(s+=si),{angle:s,distance:i}}function X1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fV(t,e){return(t-e+sV)%si-vn}function xi(t){return(t%si+si)%si}function RC(t,e,n,r){const i=xi(t),s=xi(e),o=xi(n),a=xi(s-i),l=xi(o-i),c=xi(i-s),d=xi(i-o);return i===s||i===o||r&&s===o||a>l&&c<d}function Lr(t,e,n){return Math.max(e,Math.min(n,t))}function pV(t){return Lr(t,-32768,32767)}function yl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Nv(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ea=(t,e,n,r)=>Nv(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),mV=(t,e,n)=>Nv(t,n,r=>t[r][e]>=n);function gV(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const BC=["push","pop","shift","splice","unshift"];function yV(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),BC.forEach(n=>{const r="_onData"+Ev(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function e_(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(BC.forEach(s=>{delete t[s]}),delete t._chartjs)}function xV(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const PC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function LC(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,PC.call(window,()=>{r=!1,t.apply(e,n)}))}}function wV(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Av=t=>t==="start"?"left":t==="end"?"right":"center",Wn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,vV=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function bV(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:p,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(i=Math.min(ea(l,d,h).lo,n?r:ea(e,d,o.getPixelForValue(h)).lo),c){const w=l.slice(0,i+1).reverse().findIndex(b=>!gt(b[a.axis]));i-=Math.max(0,w)}i=Lr(i,0,r-1)}if(y){let w=Math.max(ea(l,o.axis,p,!0).hi+1,n?0:ea(e,d,o.getPixelForValue(p),!0).hi+1);if(c){const b=l.slice(w-1).findIndex(g=>!gt(g[a.axis]));w+=Math.max(0,b)}s=Lr(w,i,r)-i}else s=r-i}return{start:i,count:s}}function SV(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Dh=t=>t===0||t===1,t_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*si/n)),n_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*si/n)+1,Lu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ei)+1,easeOutSine:t=>Math.sin(t*ei),easeInOutSine:t=>-.5*(Math.cos(vn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dh(t)?t:t_(t,.075,.3),easeOutElastic:t=>Dh(t)?t:n_(t,.075,.3),easeInOutElastic(t){return Dh(t)?t:t<.5?.5*t_(t*2,.1125,.45):.5+.5*n_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Lu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Lu.easeInBounce(t*2)*.5:Lu.easeOutBounce(t*2-1)*.5+.5};function Mv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function r_(t){return Mv(t)?t:new Sd(t)}function Tg(t){return Mv(t)?t:new Sd(t).saturate(.5).darken(.1).hexString()}const _V=["x","y","borderWidth","radius","tension"],kV=["color","borderColor","backgroundColor"];function EV(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:kV},numbers:{type:"number",properties:_V}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function NV(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const i_=new Map;function AV(t,e){e=e||{};const n=t+JSON.stringify(e);let r=i_.get(n);return r||(r=new Intl.NumberFormat(t,e),i_.set(n,r)),r}function OC(t,e,n){return AV(e,n).format(t)}const MV={values(t){return cn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=CV(t,n)}const o=jC(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),OC(t,r,l)}};function CV(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var DC={formatters:MV};function IV(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:DC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ya=Object.create(null),Q1=Object.create(null);function Ou(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function jg(t,e,n){return typeof e=="string"?_d(Ou(t,e),n):_d(Ou(t,""),e)}class TV{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Tg(i.backgroundColor),this.hoverBorderColor=(r,i)=>Tg(i.borderColor),this.hoverColor=(r,i)=>Tg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return jg(this,e,n)}get(e){return Ou(this,e)}describe(e,n){return jg(Q1,e,n)}override(e,n){return jg(ya,e,n)}route(e,n,r,i){const s=Ou(this,e),o=Ou(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Xe(l)?Object.assign({},c,l):qe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var en=new TV({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[EV,NV,IV]);function jV(t){return!t||gt(t.size)||gt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function s_(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function No(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function o_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function J1(t,e,n,r){zC(t,e,n,r,null)}function zC(t,e,n,r,i){let s,o,a,l,c,d,h,p;const m=e.pointStyle,y=e.rotation,w=e.radius;let b=(y||0)*oV;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,w,0,0,si):t.arc(n,r,w,0,si),t.closePath();break;case"triangle":d=i?i/2:w,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*w),b+=XS,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*w),b+=XS,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(b+Eo)*l,h=Math.cos(b+Eo)*(i?i/2-c:l),a=Math.sin(b+Eo)*l,p=Math.sin(b+Eo)*(i?i/2-c:l),t.arc(n-h,r-a,c,b-vn,b-ei),t.arc(n+p,r-o,c,b-ei,b),t.arc(n+h,r+a,c,b,b+ei),t.arc(n-p,r+o,c,b+ei,b+vn),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*w,d=i?i/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=Eo;case"rectRot":h=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(i?i/2:w),t.moveTo(n-h,r-a),t.lineTo(n+p,r-o),t.lineTo(n+h,r+a),t.lineTo(n-p,r+o),t.closePath();break;case"crossRot":b+=Eo;case"cross":h=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(i?i/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"star":h=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(i?i/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o),b+=Eo,h=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(i?i/2:w),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"line":o=i?i/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:w),r+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ed(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function im(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function sm(t){t.restore()}function RV(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function BV(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function PV(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),gt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LV(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function OV(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Nd(t,e,n,r,i,s={}){const o=cn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,PV(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&OV(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),gt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),LV(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function ex(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*vn,vn,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,vn,ei,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ei,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-ei,!0),t.lineTo(n+o.topLeft,r)}const DV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function WV(t,e){const n=(""+t).match(DV);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const FV=t=>+t||0;function WC(t,e){const n={},r=Xe(e),i=r?Object.keys(e):e,s=Xe(t)?r?o=>qe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=FV(s(o));return n}function $V(t){return WC(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Du(t){return WC(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $r(t){const e=$V(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $n(t,e){t=t||{},e=e||en.font;let n=qe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=qe(t.style,e.style);r&&!(""+r).match(zV)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:qe(t.family,e.family),lineHeight:WV(qe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:qe(t.weight,e.weight),string:""};return i.string=jV(i),i}function zh(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function UV(t,e,n){const{min:r,max:i}=t,s=JH(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ma(t,e){return Object.assign(Object.create(t),e)}function Cv(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=HC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Cv([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return $C(a,l,()=>XV(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return l_(a).includes(l)},ownKeys(a){return l_(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function sc(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:FC(t,r),setContext:s=>sc(t,s,n,r),override:s=>sc(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return $C(s,o,()=>VV(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function FC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:yo(n)?n:()=>n,isIndexable:yo(r)?r:()=>r}}const HV=(t,e)=>t?t+Ev(e):e,Iv=(t,e)=>Xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $C(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function VV(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return yo(a)&&o.isScriptable(e)&&(a=KV(e,a,t,n)),cn(a)&&a.length&&(a=qV(e,a,t,o.isIndexable)),Iv(e,a)&&(a=sc(a,i,s&&s[e],o)),a}function KV(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Iv(t,l)&&(l=Tv(i._scopes,i,t,l)),l}function qV(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Xe(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=Tv(c,i,t,d);e.push(sc(h,s,o&&o[t],a))}}return e}function UC(t,e,n){return yo(t)?t(e,n):t}const YV=(t,e)=>t===!0?e:typeof t=="string"?e0(e,t):void 0;function GV(t,e,n,r,i){for(const s of e){const o=YV(n,s);if(o){t.add(o);const a=UC(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Tv(t,e,n,r){const i=e._rootScopes,s=UC(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=a_(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=a_(a,o,s,l,r),l===null)?!1:Cv(Array.from(a),[""],i,s,()=>ZV(e,n,r))}function a_(t,e,n,r,i){for(;n;)n=GV(t,e,n,r,i);return n}function ZV(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return cn(i)&&Xe(n)?n:i||{}}function XV(t,e,n,r){let i;for(const s of e)if(i=HC(HV(s,t),n),typeof i<"u")return Iv(t,i)?Tv(n,r,t,i):i}function HC(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function l_(t){let e=t._keys;return e||(e=t._keys=QV(t._scopes)),e}function QV(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const JV=Number.EPSILON||1e-14,oc=(t,e)=>e<t.length&&!t[e].skip&&t[e],VC=t=>t==="x"?"y":"x";function eK(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=X1(s,i),l=X1(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=r*c,p=r*d;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+p*(o.x-i.x),y:s.y+p*(o.y-i.y)}}}function tK(t,e,n){const r=t.length;let i,s,o,a,l,c=oc(t,0);for(let d=0;d<r-1;++d)if(l=c,c=oc(t,d+1),!(!l||!c)){if(Pu(e[d],0,JV)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=s*o*e[d])}}function nK(t,e,n="x"){const r=VC(n),i=t.length;let s,o,a,l=oc(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=oc(t,c+1),!a)continue;const d=a[n],h=a[r];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${r}`]=h+s*e[c])}}function rK(t,e="x"){const n=VC(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=oc(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=oc(t,o+1),!!l){if(c){const d=c[e]-l[e];i[o]=d!==0?(c[n]-l[n])/d:0}s[o]=a?c?ic(i[o-1])!==ic(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}tK(t,i,s),nK(t,s,e)}function Wh(t,e,n){return Math.max(Math.min(t,n),e)}function iK(t,e){let n,r,i,s,o,a=Ed(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Ed(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Wh(i.cp1x,e.left,e.right),i.cp1y=Wh(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Wh(i.cp2x,e.left,e.right),i.cp2y=Wh(i.cp2y,e.top,e.bottom)))}function sK(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")rK(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=eK(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&iK(t,n)}function jv(){return typeof window<"u"&&typeof document<"u"}function Rv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function r0(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const om=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function oK(t,e){return om(t).getPropertyValue(e)}const aK=["top","right","bottom","left"];function oa(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=aK[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const lK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function cK(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(lK(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Bo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=om(n),s=i.boxSizing==="border-box",o=oa(i,"padding"),a=oa(i,"border","width"),{x:l,y:c,box:d}=cK(t,n),h=o.left+(d&&a.left),p=o.top+(d&&a.top);let{width:m,height:y}=e;return s&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/m*n.width/r),y:Math.round((c-p)/y*n.height/r)}}function uK(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Rv(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=om(s),l=oa(a,"border","width"),c=oa(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=r0(a.maxWidth,s,"clientWidth"),i=r0(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||n0,maxHeight:i||n0}}const Fh=t=>Math.round(t*10)/10;function dK(t,e,n,r){const i=om(t),s=oa(i,"margin"),o=r0(i.maxWidth,t,"clientWidth")||n0,a=r0(i.maxHeight,t,"clientHeight")||n0,l=uK(t,e,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const p=oa(i,"border","width"),m=oa(i,"padding");c-=m.width+p.width,d-=m.height+p.height}return c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Fh(Math.min(c,o,l.maxWidth)),d=Fh(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Fh(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Fh(Math.floor(d*r))),{width:c,height:d}}function c_(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const hK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};jv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function u_(t,e){const n=oK(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Po(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function fK(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function pK(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Po(t,i,n),a=Po(i,s,n),l=Po(s,e,n),c=Po(o,a,n),d=Po(a,l,n);return Po(c,d,n)}const mK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},gK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Bl(t,e,n){return t?mK(e,n):gK()}function KC(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function qC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function YC(t){return t==="angle"?{between:RC,compare:fV,normalize:xi}:{between:yl,compare:(e,n)=>e-n,normalize:e=>e}}function d_({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function yK(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=YC(r),l=e.length;let{start:c,end:d,loop:h}=t,p,m;if(h){for(c+=l,d+=l,p=0,m=l;p<m&&o(a(e[c%l][r]),i,s);++p)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function GC(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=YC(r),{start:d,end:h,loop:p,style:m}=yK(t,e,n),y=[];let w=!1,b=null,g,S,_;const A=()=>l(i,_,g)&&a(i,_)!==0,R=()=>a(s,g)===0||l(s,_,g),W=()=>w||A(),O=()=>!w||R();for(let B=d,F=d;B<=h;++B)S=e[B%o],!S.skip&&(g=c(S[r]),g!==_&&(w=l(g,i,s),b===null&&W()&&(b=a(g,i)===0?B:F),b!==null&&O()&&(y.push(d_({start:b,end:B,loop:p,count:o,style:m})),b=null),F=B,_=g));return b!==null&&y.push(d_({start:b,end:h,loop:p,count:o,style:m})),y}function ZC(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=GC(r[i],t.points,e);s.length&&n.push(...s)}return n}function xK(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function wK(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function vK(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=xK(n,i,s,r);if(r===!0)return h_(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return h_(t,wK(n,o,l,c),n,e)}function h_(t,e,n,r){return!r||!r.setContext||!n?e:bK(t,e,n,r)}function bK(t,e,n,r){const i=t._chart.getContext(),s=f_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=s,h=e[0].start,p=h;function m(y,w,b,g){const S=a?-1:1;if(y!==w){for(y+=l;n[y%l].skip;)y-=S;for(;n[w%l].skip;)w+=S;y%l!==w%l&&(c.push({start:y%l,end:w%l,loop:b,style:g}),d=g,h=w%l)}}for(const y of e){h=a?h:y.start;let w=n[h%l],b;for(p=h+1;p<=y.end;p++){const g=n[p%l];b=f_(r.setContext(Ma(i,{type:"segment",p0:w,p1:g,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),SK(b,d)&&m(h,p-1,y.loop,d),w=g,d=b}h<p-1&&m(h,p-1,y.loop,d)}return c}function f_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function SK(t,e){if(!e)return!1;const n=[],r=function(i,s){return Mv(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function $h(t,e,n){return t.options.clip?t[n]:e[n]}function _K(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:$h(n,e,"left"),right:$h(n,e,"right"),top:$h(r,e,"top"),bottom:$h(r,e,"bottom")}:e}function XC(t,e){const n=e._clip;if(n.disabled)return!1;const r=_K(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=PC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hi=new kK;const p_="transparent",EK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=r_(t||p_),i=r.valid&&r_(e||p_);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class NK{constructor(e,n,r,i){const s=n[r];i=zh([e.to,i,s,e.from]);const o=zh([e.from,s,i]);this._active=!0,this._fn=e.fn||EK[e.type||typeof o],this._easing=Lu[e.easing]||Lu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=zh([e.to,n,i,e.from]),this._from=zh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class QC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Xe(e))return;const n=Object.keys(en.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Xe(s))return;const o={};for(const a of n)o[a]=s[a];(cn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=MK(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&AK(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[c];let h=s[c];const p=r.get(c);if(h)if(p&&h.active()){h.update(p,d,a);continue}else h.cancel();if(!p||!p.duration){e[c]=d;continue}s[c]=h=new NK(p,e,c,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Hi.add(this._chart,r),!0}}function AK(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function MK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function m_(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function CK(t,e,n){if(n===!1)return!1;const r=m_(t,n),i=m_(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function IK(t){let e,n,r,i;return Xe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function JC(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function g_(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(d=!0,r.all)continue;break}c=t.values[l],Hn(c)&&(s||e===0||ic(e)===ic(c))&&(e+=c)}return!d&&!r.all?0:e}function TK(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[i]:d,[s]:t[d]};return a}function Rg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function jK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function RK(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function BK(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function y_(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function x_(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,d=jK(s,o,r),h=e.length;let p;for(let m=0;m<h;++m){const y=e[m],{[l]:w,[c]:b}=y,g=y._stacks||(y._stacks={});p=g[c]=BK(i,d,w),p[a]=b,p._top=y_(p,o,!0,r.type),p._bottom=y_(p,o,!1,r.type);const S=p._visualValues||(p._visualValues={});S[a]=b}}function Bg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function PK(t,e){return Ma(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function LK(t,e,n){return Ma(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yc(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Pg=t=>t==="reset"||t==="none",w_=(t,e)=>e?t:Object.assign({},t),OK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:JC(n,!0),values:null};class zu{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Rg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,p,m,y)=>h==="x"?p:h==="r"?y:m,s=n.xAxisID=qe(r.xAxisID,Bg(e,"x")),o=n.yAxisID=qe(r.yAxisID,Bg(e,"y")),a=n.rAxisID=qe(r.rAxisID,Bg(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),d=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&e_(this._data,this),e._stacked&&Yc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Xe(n)){const i=this._cachedMeta;this._data=TK(n,i)}else if(r!==n){if(r){e_(r,this);const i=this._cachedMeta;Yc(i),i._parsed=[]}n&&Object.isExtensible(n)&&yV(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Rg(n.vScale,n),n.stack!==r.stack&&(i=!0,Yc(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(x_(this,n._parsed),n._stacked=Rg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,h,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{cn(i[e])?p=this.parseArrayData(r,i,e,n):Xe(i[e])?p=this.parseObjectData(r,i,e,n):p=this.parsePrimitiveData(r,i,e,n);const m=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=h=p[d],l&&(m()&&(l=!1),c=h);r._sorted=l}o&&x_(this,p)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),d=s===o,h=new Array(i);let p,m,y;for(p=0,m=i;p<m;++p)y=p+r,h[p]={[a]:d||s.parse(c[y],y),[l]:o.parse(n[y],y)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+r,h=n[d],a[l]={x:s.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,p,m;for(d=0,h=i;d<h;++d)p=d+r,m=n[p],c[d]={x:s.parse(e0(m,a),p),y:o.parse(e0(m,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:JC(i,!0),values:n._stacks[e.axis]._visualValues};return g_(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=g_(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=OK(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=RK(a);let p,m;function y(){m=i[p];const w=m[a.axis];return!Hn(m[e.axis])||d>w||h<w}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(c,e,m,l),s));++p);if(s){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Hn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=IK(qe(this.options.clip,CK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=LK(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=PK(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&t0(r);if(a)return w_(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),d),m=Object.keys(en.elements[e]),y=()=>this.getContext(r,i,n),w=c.resolveNamedOptions(p,m,y,h);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(w_(w,l))),w}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(p,this.getContext(e,r,n))}const c=new QC(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Pg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Pg(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Pg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Yc(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ke(zu,"defaults",{}),ke(zu,"datasetElementType",null),ke(zu,"dataElementType",null);class Hf extends zu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=bV(n,i,o);this._drawStart=a,this._drawCount=l,SV(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i),p=o.axis,m=a.axis,{spanGaps:y,segment:w}=this.options,b=kd(y)?y:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||i==="none",S=n+r,_=e.length;let A=n>0&&this.getParsed(n-1);for(let R=0;R<_;++R){const W=e[R],O=g?W:{};if(R<n||R>=S){O.skip=!0;continue}const B=this.getParsed(R),F=gt(B[m]),U=O[p]=o.getPixelForValue(B[p],R),H=O[m]=s||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[m],R);O.skip=isNaN(U)||isNaN(H)||F,O.stop=R>0&&Math.abs(B[p]-A[p])>b,w&&(O.parsed=B,O.raw=c.data[R]),h&&(O.options=d||this.resolveDataElementOptions(R,W.active?"active":i)),g||this.updateElement(W,R,O,i),A=B}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ke(Hf,"id","line"),ke(Hf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ke(Hf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bv{constructor(e){ke(this,"options");this.options=e||{}}static override(e){Object.assign(Bv.prototype,e)}init(){}formats(){return Ao()}parse(){return Ao()}format(){return Ao()}add(){return Ao()}diff(){return Ao()}startOf(){return Ao()}endOf(){return Ao()}}var DK={_date:Bv};function zK(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?mV:ea;if(r){if(i._sharedOptions){const d=s[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const p=c(s,e,n-h),m=c(s,e,n+h);return{lo:p.lo,hi:m.hi}}}}else{const d=c(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:p}=t,m=p.slice(0,d.lo+1).reverse().findIndex(w=>!gt(w[h.axis]));d.lo-=Math.max(0,m);const y=p.slice(d.hi).findIndex(w=>!gt(w[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:s.length-1}}function am(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:d}=s[a],{lo:h,hi:p}=zK(s[a],e,o,i);for(let m=h;m<=p;++m){const y=d[m];y.skip||r(y,c,m)}}}function WK(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Lg(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||am(t,n,e,function(a,l,c){!i&&!Ed(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function FK(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=hV(o,{x:e.x,y:e.y});RC(h,c,d)&&i.push({element:o,datasetIndex:a,index:l})}return am(t,n,e,s),i}function $K(t,e,n,r,i,s){let o=[];const a=WK(n);let l=Number.POSITIVE_INFINITY;function c(d,h,p){const m=d.inRange(e.x,e.y,i);if(r&&!m)return;const y=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!m)return;const b=a(e,y);b<l?(o=[{element:d,datasetIndex:h,index:p}],l=b):b===l&&o.push({element:d,datasetIndex:h,index:p})}return am(t,n,e,c),o}function Og(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?FK(t,e,n,i):$K(t,e,n,r,i,s)}function v_(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return am(t,n,e,(l,c,d)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var UK={modes:{index(t,e,n,r){const i=Bo(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Lg(t,i,s,r,o):Og(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const i=Bo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Lg(t,i,s,r,o):Og(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const i=Bo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Lg(t,i,s,r,o)},nearest(t,e,n,r){const i=Bo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Og(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Bo(e,t);return v_(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Bo(e,t);return v_(t,i,"y",n.intersect,r)}}};const eI=["left","top","right","bottom"];function Gc(t,e){return t.filter(n=>n.pos===e)}function b_(t,e){return t.filter(n=>eI.indexOf(n.pos)===-1&&n.box.axis===e)}function Zc(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function HK(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function VK(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!eI.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function KK(t,e){const n=VK(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:l&&e.availableHeight)}return n}function qK(t){const e=HK(t),n=Zc(e.filter(c=>c.box.fullSize),!0),r=Zc(Gc(e,"left"),!0),i=Zc(Gc(e,"right")),s=Zc(Gc(e,"top"),!0),o=Zc(Gc(e,"bottom")),a=b_(e,"x"),l=b_(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Gc(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function S_(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function tI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function YK(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Xe(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&tI(o,s.getPadding());const a=Math.max(0,e.outerWidth-S_(o,t,"left","right")),l=Math.max(0,e.outerHeight-S_(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function GK(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ZK(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function xu(t,e,n,r){const i=[];let s,o,a,l,c,d;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,ZK(a.horizontal,e));const{same:h,other:p}=YK(e,n,a,r);c|=h&&i.length,d=d||p,l.fullSize||i.push(a)}return c&&xu(i,e,n,r)||d}function Uh(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function __(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,p=c.size||l.height;t0(c.start)&&(o=c.start),l.fullSize?Uh(l,i.left,o,n.outerWidth-i.right-i.left,p):Uh(l,e.left+c.placed,o,h,p),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*d,p=c.size||l.width;t0(c.start)&&(s=c.start),l.fullSize?Uh(l,s,i.top,p,n.outerHeight-i.bottom-i.top):Uh(l,s,e.top+c.placed,p,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var Or={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=$r(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=qK(t.boxes),l=a.vertical,c=a.horizontal;ot(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const d=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),p=Object.assign({},i);tI(p,$r(r));const m=Object.assign({maxPadding:p,w:s,h:o,x:i.left,y:i.top},i),y=KK(l.concat(c),h);xu(a.fullSize,m,h,y),xu(l,m,h,y),xu(c,m,h,y)&&xu(l,m,h,y),GK(m),__(a.leftAndTop,m,h,y),m.x+=m.w,m.y+=m.h,__(a.rightAndBottom,m,h,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ot(a.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class nI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class XK extends nI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vf="$chartjs",QK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},k_=t=>t===null||t==="";function JK(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Vf]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",k_(i)){const s=u_(t,"width");s!==void 0&&(t.width=s)}if(k_(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=u_(t,"height");s!==void 0&&(t.height=s)}return t}const rI=hK?{passive:!0}:!1;function eq(t,e,n){t&&t.addEventListener(e,n,rI)}function tq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rI)}function nq(t,e){const n=QK[t.type]||t.type,{x:r,y:i}=Bo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function i0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function rq(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||i0(a.addedNodes,r),o=o&&!i0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function iq(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||i0(a.removedNodes,r),o=o&&!i0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ad=new Map;let E_=0;function iI(){const t=window.devicePixelRatio;t!==E_&&(E_=t,Ad.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function sq(t,e){Ad.size||window.addEventListener("resize",iI),Ad.set(t,e)}function oq(t){Ad.delete(t),Ad.size||window.removeEventListener("resize",iI)}function aq(t,e,n){const r=t.canvas,i=r&&Rv(r);if(!i)return;const s=LC((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return o.observe(i),sq(t,s),o}function Dg(t,e,n){n&&n.disconnect(),e==="resize"&&oq(t)}function lq(t,e,n){const r=t.canvas,i=LC(s=>{t.ctx!==null&&n(nq(s,t))},t);return eq(r,e,i),i}class cq extends nI{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(JK(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Vf])return!1;const r=n[Vf].initial;["height","width"].forEach(s=>{const o=r[s];gt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Vf],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:rq,detach:iq,resize:aq}[n]||lq;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Dg,detach:Dg,resize:Dg}[n]||tq)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return dK(e,n,r,i)}isAttached(e){const n=e&&Rv(e);return!!(n&&n.isConnected)}}function uq(t){return!jv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?XK:cq}class ys{constructor(){ke(this,"x");ke(this,"y");ke(this,"active",!1);ke(this,"options");ke(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return kd(this.x)&&kd(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}ke(ys,"defaults",{}),ke(ys,"defaultRoutes");function dq(t,e){const n=t.options.ticks,r=hq(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?pq(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return mq(e,c,s,o/i),c;const d=fq(s,e,i);if(o>0){let h,p;const m=o>1?Math.round((l-a)/(o-1)):null;for(Hh(e,c,d,gt(m)?0:a-m,a),h=0,p=o-1;h<p;h++)Hh(e,c,d,s[h],s[h+1]);return Hh(e,c,d,l,gt(m)?e.length:l+m),c}return Hh(e,c,d),c}function hq(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function fq(t,e,n){const r=gq(t),i=e.length/n;if(!r)return Math.max(i,1);const s=aV(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function pq(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function mq(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Hh(t,e,n,r,i){const s=qe(r,0),o=Math.min(qe(i,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(s+a*n))}function gq(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const yq=t=>t==="left"?"right":t==="right"?"left":t,N_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,A_=(t,e)=>Math.min(e||t,t);function M_(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function xq(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function wq(t,e){ot(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Xc(t){return t.drawTicks?t.tickLength:0}function C_(t,e){if(!t.display)return 0;const n=$n(t.font,e),r=$r(t.padding);return(cn(t.text)?t.text.length:1)*n.lineHeight+r.height}function vq(t,e){return Ma(t,{scale:e,type:"scale"})}function bq(t,e,n){return Ma(t,{tick:n,index:e,type:"tick"})}function Sq(t,e,n){let r=Av(t);return(n&&e!=="right"||!n&&e==="right")&&(r=yq(r)),r}function _q(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,p,m,y;const w=o-i,b=a-s;if(t.isHorizontal()){if(m=Wn(r,s,a),Xe(n)){const g=Object.keys(n)[0],S=n[g];y=d[g].getPixelForValue(S)+w-e}else n==="center"?y=(c.bottom+c.top)/2+w-e:y=N_(t,n,e);p=a-s}else{if(Xe(n)){const g=Object.keys(n)[0],S=n[g];m=d[g].getPixelForValue(S)-b+e}else n==="center"?m=(c.left+c.right)/2-b+e:m=N_(t,n,e);y=Wn(r,o,i),h=n==="left"?-ei:ei}return{titleX:m,titleY:y,maxWidth:p,rotation:h}}class yc extends ys{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=pi(e,Number.POSITIVE_INFINITY),n=pi(n,Number.NEGATIVE_INFINITY),r=pi(r,Number.POSITIVE_INFINITY),i=pi(i,Number.NEGATIVE_INFINITY),{min:pi(e,r),max:pi(n,i),minDefined:Hn(e),maxDefined:Hn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:pi(n,pi(r,n)),max:pi(r,pi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=UV(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?M_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=wt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=A_(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,m=Lr(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),h+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Xc(e.grid)-n.padding-C_(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),o=dV(Math.min(Math.asin(Lr((d.highest.height+6)/a,-1,1)),Math.asin(Lr(l/c,-1,1))-Math.asin(Lr(p/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=C_(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Xc(s)+l):(e.height=this.maxHeight,e.width=Xc(s)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:p}=this._getLabelSizes(),m=r.padding*2,y=Jo(this.labelRotation),w=Math.cos(y),b=Math.sin(y);if(a){const g=r.mirror?0:b*h.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+g+m)}else{const g=r.mirror?0:w*h.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+g+m)}this._calculatePadding(c,d,b,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?c?(p=i*e.width,m=r*n.height):(p=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,m=n.width/2),this.paddingLeft=Math.max((p-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)gt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=M_(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/A_(n,r));let c=0,d=0,h,p,m,y,w,b,g,S,_,A,R;for(h=0;h<n;h+=l){if(y=e[h].label,w=this._resolveTickFontOptions(h),i.font=b=w.string,g=s[b]=s[b]||{data:{},gc:[]},S=w.lineHeight,_=A=0,!gt(y)&&!cn(y))_=s_(i,g.data,g.gc,_,y),A=S;else if(cn(y))for(p=0,m=y.length;p<m;++p)R=y[p],!gt(R)&&!cn(R)&&(_=s_(i,g.data,g.gc,_,R),A+=S);o.push(_),a.push(A),c=Math.max(_,c),d=Math.max(A,d)}wq(s,n);const W=o.indexOf(c),O=a.indexOf(d),B=F=>({width:o[F]||0,height:a[F]||0});return{first:B(0),last:B(n-1),widest:B(W),highest:B(O),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return pV(this._alignToPixels?No(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=bq(this.getContext(),e,r))}return this.$context||(this.$context=vq(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Jo(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=Xc(s),m=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,b=w/2,g=function(k){return No(r,k,w)};let S,_,A,R,W,O,B,F,U,H,K,M;if(o==="top")S=g(this.bottom),O=this.bottom-p,F=S-b,H=g(e.top)+b,M=e.bottom;else if(o==="bottom")S=g(this.top),H=e.top,M=g(e.bottom)-b,O=S+b,F=this.top+p;else if(o==="left")S=g(this.right),W=this.right-p,B=S-b,U=g(e.left)+b,K=e.right;else if(o==="right")S=g(this.left),U=e.left,K=g(e.right)-b,W=S+b,B=this.left+p;else if(n==="x"){if(o==="center")S=g((e.top+e.bottom)/2+.5);else if(Xe(o)){const k=Object.keys(o)[0],C=o[k];S=g(this.chart.scales[k].getPixelForValue(C))}H=e.top,M=e.bottom,O=S+b,F=O+p}else if(n==="y"){if(o==="center")S=g((e.left+e.right)/2);else if(Xe(o)){const k=Object.keys(o)[0],C=o[k];S=g(this.chart.scales[k].getPixelForValue(C))}W=S-b,B=W-p,U=e.left,K=e.right}const f=qe(i.ticks.maxTicksLimit,h),x=Math.max(1,Math.ceil(h/f));for(_=0;_<h;_+=x){const k=this.getContext(_),C=s.setContext(k),T=a.setContext(k),I=C.lineWidth,L=C.color,j=T.dash||[],v=T.dashOffset,P=C.tickWidth,X=C.tickColor,Z=C.tickBorderDash||[],te=C.tickBorderDashOffset;A=xq(this,_,l),A!==void 0&&(R=No(r,A,I),c?W=B=U=K=R:O=F=H=M=R,m.push({tx1:W,ty1:O,tx2:B,ty2:F,x1:U,y1:H,x2:K,y2:M,width:I,color:L,borderDash:j,borderDashOffset:v,tickWidth:P,tickColor:X,tickBorderDash:Z,tickBorderDashOffset:te}))}return this._ticksLength=h,this._borderValue=S,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=s,p=Xc(r.grid),m=p+d,y=h?-d:m,w=-Jo(this.labelRotation),b=[];let g,S,_,A,R,W,O,B,F,U,H,K,M="middle";if(i==="top")W=this.bottom-y,O=this._getXAxisLabelAlignment();else if(i==="bottom")W=this.top+y,O=this._getXAxisLabelAlignment();else if(i==="left"){const x=this._getYAxisLabelAlignment(p);O=x.textAlign,R=x.x}else if(i==="right"){const x=this._getYAxisLabelAlignment(p);O=x.textAlign,R=x.x}else if(n==="x"){if(i==="center")W=(e.top+e.bottom)/2+m;else if(Xe(i)){const x=Object.keys(i)[0],k=i[x];W=this.chart.scales[x].getPixelForValue(k)+m}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")R=(e.left+e.right)/2-m;else if(Xe(i)){const x=Object.keys(i)[0],k=i[x];R=this.chart.scales[x].getPixelForValue(k)}O=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const f=this._getLabelSizes();for(g=0,S=a.length;g<S;++g){_=a[g],A=_.label;const x=s.setContext(this.getContext(g));B=this.getPixelForTick(g)+s.labelOffset,F=this._resolveTickFontOptions(g),U=F.lineHeight,H=cn(A)?A.length:1;const k=H/2,C=x.color,T=x.textStrokeColor,I=x.textStrokeWidth;let L=O;o?(R=B,O==="inner"&&(g===S-1?L=this.options.reverse?"left":"right":g===0?L=this.options.reverse?"right":"left":L="center"),i==="top"?c==="near"||w!==0?K=-H*U+U/2:c==="center"?K=-f.highest.height/2-k*U+U:K=-f.highest.height+U/2:c==="near"||w!==0?K=U/2:c==="center"?K=f.highest.height/2-k*U:K=f.highest.height-H*U,h&&(K*=-1),w!==0&&!x.showLabelBackdrop&&(R+=U/2*Math.sin(w))):(W=B,K=(1-H)*U/2);let j;if(x.showLabelBackdrop){const v=$r(x.backdropPadding),P=f.heights[g],X=f.widths[g];let Z=K-v.top,te=0-v.left;switch(M){case"middle":Z-=P/2;break;case"bottom":Z-=P;break}switch(O){case"center":te-=X/2;break;case"right":te-=X;break;case"inner":g===S-1?te-=X:g>0&&(te-=X/2);break}j={left:te,top:Z,width:X+v.width,height:P+v.height,color:x.backdropColor}}b.push({label:A,font:F,textOffset:K,options:{rotation:w,color:C,strokeColor:T,strokeWidth:I,textAlign:L,textBaseline:M,translation:[R,W],backdrop:j}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Jo(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,d;return n==="left"?i?(d=this.right+s,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,p;this.isHorizontal()?(c=No(e,this.left,o)-o/2,d=No(e,this.right,a)+a/2,h=p=l):(h=No(e,this.top,o)-o/2,p=No(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&im(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Nd(r,c,0,d,l,a)}i&&sm(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=$n(r.font),o=$r(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Xe(n)?(l+=o.bottom,cn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:p}=_q(this,l,n,a);Nd(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:p,textAlign:Sq(a,n,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=qe(e.grid&&e.grid.z,-1),i=qe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return $n(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Nq(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,kq(e,o,r),this.override&&en.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in en[i]&&(delete en[i][r],this.override&&delete ya[r])}}function kq(t,e,n){const r=_d(Object.create(null),[n?en.get(n):{},en.get(e),t.defaults]);en.set(e,r),t.defaultRoutes&&Eq(e,t.defaultRoutes),t.descriptors&&en.describe(e,t.descriptors)}function Eq(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");en.route(s,i,l,a)})}function Nq(t){return"id"in t&&"defaults"in t}class Aq{constructor(){this.controllers=new Vh(zu,"datasets",!0),this.elements=new Vh(ys,"elements"),this.plugins=new Vh(Object,"plugins"),this.scales=new Vh(yc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ot(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Ev(e);wt(r["before"+i],[],r),n[e](r),wt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var yi=new Aq;class Mq{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(wt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=qe(r.options&&r.options.plugins,{}),s=Cq(r);return i===!1&&!n?[]:Tq(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Cq(t){const e={},n=[],r=Object.keys(yi.plugins.items);for(let s=0;s<r.length;s++)n.push(yi.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Iq(t,e){return!e&&t===!1?null:t===!0?{}:t}function Tq(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Iq(r[l],i);c!==null&&s.push({plugin:a,options:jq(t.config,{plugin:a,local:n[l]},c,o)})}return s}function jq(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tx(t,e){const n=en.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Rq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Bq(t,e){return t===e?"_index_":"_value_"}function I_(t){if(t==="x"||t==="y"||t==="r")return t}function Pq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function nx(t,...e){if(I_(t))return t;for(const n of e){const r=n.axis||Pq(n.position)||t.length>1&&I_(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function T_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Lq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return T_(t,"x",n[0])||T_(t,"y",n[0])}return{}}function Oq(t,e){const n=ya[t.type]||{scales:{}},r=e.scales||{},i=tx(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Xe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=nx(o,a,Lq(o,t),en.scales[a.type]),c=Bq(l,i),d=n.scales||{};s[o]=Bu(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||tx(a,e),d=(ya[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=Rq(h,l),m=o[p+"AxisID"]||p;s[m]=s[m]||Object.create(null),Bu(s[m],[{axis:p},r[m],d[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Bu(a,[en.scales[a.type],en.scale])}),s}function sI(t){const e=t.options||(t.options={});e.plugins=qe(e.plugins,{}),e.scales=Oq(t,e)}function oI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Dq(t){return t=t||{},t.data=oI(t.data),sI(t),t}const j_=new Map,aI=new Set;function Kh(t,e){let n=j_.get(t);return n||(n=e(),j_.set(t,n),aI.add(n)),n}const Qc=(t,e,n)=>{const r=e0(e,n);r!==void 0&&t.add(r)};class zq{constructor(e){this._config=Dq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=oI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Kh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Kh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Kh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Qc(l,e,h))),d.forEach(h=>Qc(l,i,h)),d.forEach(h=>Qc(l,ya[s]||{},h)),d.forEach(h=>Qc(l,en,h)),d.forEach(h=>Qc(l,Q1,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),aI.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ya[n]||{},en.datasets[n]||{},{type:n},en,Q1]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=R_(this._resolverCache,e,i);let l=o;if(Fq(o,n)){s.$shared=!1,r=yo(r)?r():r;const c=this.createResolver(e,r,a);l=sc(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=R_(this._resolverCache,e,r);return Xe(n)?sc(s,n,void 0,i):s}}function R_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Cv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const Wq=t=>Xe(t)&&Object.getOwnPropertyNames(t).some(e=>yo(t[e]));function Fq(t,e){const{isScriptable:n,isIndexable:r}=FC(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(yo(a)||Wq(a))||o&&cn(a))return!0}return!1}var $q="4.5.0";const Uq=["top","bottom","left","right","chartArea"];function B_(t,e){return t==="top"||t==="bottom"||Uq.indexOf(t)===-1&&e==="x"}function P_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function L_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),wt(n&&n.onComplete,[t],e)}function Hq(t){const e=t.chart,n=e.options.animation;wt(n&&n.onProgress,[t],e)}function lI(t){return jv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kf={},O_=t=>{const e=lI(t);return Object.values(Kf).filter(n=>n.canvas===e).pop()};function Vq(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Kq(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Cs;let lm=(Cs=class{static register(...e){yi.add(...e),D_()}static unregister(...e){yi.remove(...e),D_()}constructor(e,n){const r=this.config=new zq(n),i=lI(e),s=O_(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||uq(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=QH(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Kf[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hi.listen(this,"complete",L_),Hi.listen(this,"progress",Hq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return gt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():c_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return o_(this.canvas,this.ctx),this}stop(){return Hi.stop(this),this}resize(e,n){Hi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,c_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),wt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ot(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=nx(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),ot(s,o=>{const a=o.options,l=a.id,c=nx(l,a),d=qe(a.type,o.dtype);(a.position===void 0||B_(a.position,c)!==B_(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const p=yi.getScale(d);h=new p({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),ot(i,(o,a)=>{o||delete r[a]}),ot(r,o=>{Or.configure(this,o,o.options),Or.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(P_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||tx(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=yi.getController(a),{datasetElementType:c,dataElementType:d}=en.datasets[a];Object.assign(l,{dataElementType:yi.getElement(d),datasetElementType:c&&yi.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),p=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ot(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(P_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ot(this.scales,e=>{Or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ZS(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;Vq(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ZS(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Or.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ot(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,yo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hi.has(this)?this.attached&&!Hi.running(this)&&Hi.start(this):(this.draw(),L_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=XC(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&im(n,i),e.controller.draw(),i&&sm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ed(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=UK.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ma(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);t0(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Hi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),o_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ot(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ot(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ot(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Qp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=iV(e),c=Kq(e,this._lastEvent,r,l);r&&(this._lastEvent=null,wt(s.onHover,[e,a,this],this),l&&wt(s.onClick,[e,a,this],this));const d=!Qp(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ke(Cs,"defaults",en),ke(Cs,"instances",Kf),ke(Cs,"overrides",ya),ke(Cs,"registry",yi),ke(Cs,"version",$q),ke(Cs,"getChart",O_),Cs);function D_(){return ot(lm.instances,t=>t._plugins.invalidate())}function cI(t,e,n=e){t.lineCap=qe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(qe(n.borderDash,e.borderDash)),t.lineDashOffset=qe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=qe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=qe(n.borderWidth,e.borderWidth),t.strokeStyle=qe(n.borderColor,e.borderColor)}function qq(t,e,n){t.lineTo(n.x,n.y)}function Yq(t){return t.stepped?RV:t.tension||t.cubicInterpolationMode==="monotone"?BV:qq}function uI(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function Gq(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=uI(i,n,r),d=Yq(s);let{move:h=!0,reverse:p}=r||{},m,y,w;for(m=0;m<=c;++m)y=i[(a+(p?c-m:m))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):d(t,w,y,p,s.stepped),w=y);return l&&(y=i[(a+(p?c:0))%o],d(t,w,y,p,s.stepped)),!!l}function Zq(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=uI(i,n,r),{move:l=!0,reverse:c}=r||{};let d=0,h=0,p,m,y,w,b,g;const S=A=>(o+(c?a-A:A))%s,_=()=>{w!==b&&(t.lineTo(d,b),t.lineTo(d,w),t.lineTo(d,g))};for(l&&(m=i[S(0)],t.moveTo(m.x,m.y)),p=0;p<=a;++p){if(m=i[S(p)],m.skip)continue;const A=m.x,R=m.y,W=A|0;W===y?(R<w?w=R:R>b&&(b=R),d=(h*d+A)/++h):(_(),t.lineTo(A,R),y=W,h=0,w=b=R),g=R}_()}function rx(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Zq:Gq}function Xq(t){return t.stepped?fK:t.tension||t.cubicInterpolationMode==="monotone"?pK:Po}function Qq(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),cI(t,e.options),t.stroke(i)}function Jq(t,e,n,r){const{segments:i,options:s}=e,o=rx(e);for(const a of i)cI(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const eY=typeof Path2D=="function";function tY(t,e,n,r){eY&&!e.options.segment?Qq(t,e,n,r):Jq(t,e,n,r)}class Qs extends ys{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;sK(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vK(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=ZC(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=Xq(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:p}=o[c],m=s[h],y=s[p];if(m===y){a.push(m);continue}const w=Math.abs((i-m[n])/(y[n]-m[n])),b=l(m,y,w,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return rx(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=rx(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),tY(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ke(Qs,"id","line"),ke(Qs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ke(Qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ke(Qs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function z_(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class qf extends ys{constructor(n){super();ke(this,"parsed");ke(this,"skip");ke(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return z_(this,n,"x",r)}inYRange(n,r){return z_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Ed(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,J1(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ke(qf,"id","point"),ke(qf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ke(qf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nY(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=cm(l,c,i);const d=ix(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:d,start:i[l],end:i[c]});continue}const h=ZC(e,d);for(const p of h){const m=ix(n,s[p.start],s[p.end],p.loop),y=GC(a,i,m);for(const w of y)o.push({source:w,target:p,start:{[n]:W_(d,m,"start",Math.max)},end:{[n]:W_(d,m,"end",Math.min)}})}}return o}function ix(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=xi(i),s=xi(s)),{property:t,start:i,end:s}}function rY(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=cm(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function cm(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function W_(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function dI(t,e){let n=[],r=!1;return cn(t)?(r=!0,n=t):n=rY(t,e),n.length?new Qs({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function F_(t){return t&&t.fill!==!1}function iY(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Hn(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function sY(t,e,n){const r=cY(t);if(Xe(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Hn(i)&&Math.floor(i)===i?oY(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function oY(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function aY(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Xe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function lY(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Xe(t)?r=t.value:r=e.getBaseValue(),r}function cY(t){const e=t.options,n=e.fill;let r=qe(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function uY(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=dY(e,n);a.push(dI({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let d=c.start;d<=c.end;d++)hY(i,o[d],a)}return new Qs({points:i,options:{}})}function dY(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function hY(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=fY(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function fY(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const d=s[c],h=o[d.start][n],p=o[d.end][n];if(yl(i,h,p)){a=i===h,l=i===p;break}}return{first:a,last:l,point:r}}class hI{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:si},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function pY(t){const{chart:e,fill:n,line:r}=t;if(Hn(n))return mY(e,n);if(n==="stack")return uY(t);if(n==="shape")return!0;const i=gY(t);return i instanceof hI?i:dI(i,r)}function mY(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function gY(t){return(t.scale||{}).getPointPositionForValue?xY(t):yY(t)}function yY(t){const{scale:e={},fill:n}=t,r=aY(n,e);if(Hn(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function xY(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=lY(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new hI({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function zg(t,e,n){const r=pY(e),{chart:i,index:s,line:o,scale:a,axis:l}=e,c=o.options,d=c.fill,h=c.backgroundColor,{above:p=h,below:m=h}=d||{},y=i.getDatasetMeta(s),w=XC(i,y);r&&o.points.length&&(im(t,n),wY(t,{line:o,target:r,above:p,below:m,area:n,scale:a,axis:l,clip:w}),sm(t))}function wY(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let d=s;s!==i&&(c==="x"?($_(t,r,o.top),Wg(t,{line:n,target:r,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),$_(t,r,o.bottom)):c==="y"&&(U_(t,r,o.left),Wg(t,{line:n,target:r,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),U_(t,r,o.right),d=i)),Wg(t,{line:n,target:r,color:d,scale:a,property:c,clip:l}),t.restore()}function $_(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=i[l],h=i[cm(l,c,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function U_(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=i[l],h=i[cm(l,c,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Wg(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,l=nY(n,r,i);for(const{source:c,target:d,start:h,end:p}of l){const{style:{backgroundColor:m=s}={}}=c,y=r!==!0;t.save(),t.fillStyle=m,vY(t,o,a,y&&ix(i,h,p)),t.beginPath();const w=!!n.pathSegment(t,c);let b;if(y){w?t.closePath():H_(t,r,p,i);const g=!!r.pathSegment(t,d,{move:w,reverse:!0});b=w&&g,b||H_(t,r,h,i)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function vY(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,c,d,h;s==="x"?(l=o,c=i.top,d=a,h=i.bottom):(l=i.left,c=o,d=i.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,d-l,h-c),t.clip()}}function H_(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var bY={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Qs&&(l={visible:t.isDatasetVisible(o),index:o,fill:sY(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=iY(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&zg(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;F_(s)&&zg(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!F_(r)||n.drawTime!=="beforeDatasetDraw"||zg(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const V_=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},SY=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class K_ extends ys{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=wt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=$n(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=V_(r,s);let c,d;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let p=-1,m=-d;return this.legendItems.forEach((y,w)=>{const b=r+n/2+s.measureText(y.text).width;(w===0||c[c.length-1]+b+2*a>o)&&(h+=d,c[c.length-(w>0?0:1)]=0,m+=d,p++),l[w]={left:0,top:m,row:p,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let h=a,p=0,m=0,y=0,w=0;return this.legendItems.forEach((b,g)=>{const{itemWidth:S,itemHeight:_}=_Y(r,n,s,b,i);g>0&&m+_+2*a>d&&(h+=p+a,c.push({width:p,height:m}),y+=p+a,w++,p=m=0),l[g]={left:y,top:m,col:w,width:S,height:_},p=Math.max(p,S),m+=_+a}),h+=p,c.push({width:p,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Bl(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Wn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Wn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Wn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Wn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;im(e,this),this._draw(),sm(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=en.color,l=Bl(e.rtl,this.left,this.width),c=$n(o.font),{padding:d}=o,h=c.size,p=h/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:y,boxHeight:w,itemHeight:b}=V_(o,h),g=function(W,O,B){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;i.save();const F=qe(B.lineWidth,1);if(i.fillStyle=qe(B.fillStyle,a),i.lineCap=qe(B.lineCap,"butt"),i.lineDashOffset=qe(B.lineDashOffset,0),i.lineJoin=qe(B.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=qe(B.strokeStyle,a),i.setLineDash(qe(B.lineDash,[])),o.usePointStyle){const U={radius:w*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:F},H=l.xPlus(W,y/2),K=O+p;zC(i,U,H,K,o.pointStyleWidth&&y)}else{const U=O+Math.max((h-w)/2,0),H=l.leftForLtr(W,y),K=Du(B.borderRadius);i.beginPath(),Object.values(K).some(M=>M!==0)?ex(i,{x:H,y:U,w:y,h:w,radius:K}):i.rect(H,U,y,w),i.fill(),F!==0&&i.stroke()}i.restore()},S=function(W,O,B){Nd(i,B.text,W,O+b/2,c,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},_=this.isHorizontal(),A=this._computeTitleHeight();_?m={x:Wn(s,this.left+d,this.right-r[0]),y:this.top+d+A,line:0}:m={x:this.left+d,y:Wn(s,this.top+A+d,this.bottom-n[0].height),line:0},KC(this.ctx,e.textDirection);const R=b+d;this.legendItems.forEach((W,O)=>{i.strokeStyle=W.fontColor,i.fillStyle=W.fontColor;const B=i.measureText(W.text).width,F=l.textAlign(W.textAlign||(W.textAlign=o.textAlign)),U=y+p+B;let H=m.x,K=m.y;l.setWidth(this.width),_?O>0&&H+U+d>this.right&&(K=m.y+=R,m.line++,H=m.x=Wn(s,this.left+d,this.right-r[m.line])):O>0&&K+R>this.bottom&&(H=m.x=H+n[m.line].width+d,m.line++,K=m.y=Wn(s,this.top+A+d,this.bottom-n[m.line].height));const M=l.x(H);if(g(M,K,W),H=vV(F,H+y+p,_?H+U:this.right,e.rtl),S(l.x(H),K,W),_)m.x+=U+d;else if(typeof W.text!="string"){const f=c.lineHeight;m.y+=fI(W,f)+d}else m.y+=R}),qC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=$n(n.font),i=$r(n.padding);if(!n.display)return;const s=Bl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+c,h=Wn(e.align,h,this.right-p);else{const y=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);d=c+Wn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=Wn(a,h,h+p);o.textAlign=s.textAlign(Av(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Nd(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=$n(e.font),r=$r(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(yl(e,this.left,this.right)&&yl(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],yl(e,i.left,i.left+i.width)&&yl(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!NY(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=SY(i,r);i&&!s&&wt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&wt(n.onHover,[e,r,this],this)}else r&&wt(n.onClick,[e,r,this],this)}}function _Y(t,e,n,r,i){const s=kY(r,t,e,n),o=EY(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function kY(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function EY(t,e,n){let r=t;return typeof e.text!="string"&&(r=fI(e,n)),r}function fI(t,e){const n=t.text?t.text.length:0;return e*n}function NY(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AY={id:"legend",_element:K_,start(t,e,n){const r=t.legend=new K_({ctx:t.ctx,options:n,chart:t});Or.configure(t,r,n),Or.addBox(t,r)},stop(t){Or.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Or.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=$r(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class pI extends ys{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=cn(r.text)?r.text.length:1;this._padding=$r(r.padding);const s=i*$n(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=Wn(a,r,s),h=n+e,c=s-r):(o.position==="left"?(d=r+e,h=Wn(a,i,n),l=vn*-.5):(d=s-e,h=Wn(a,n,i),l=vn*.5),c=i-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=$n(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Nd(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Av(n.align),textBaseline:"middle",translation:[o,a]})}}function MY(t,e){const n=new pI({ctx:t.ctx,options:e,chart:t});Or.configure(t,n,e),Or.addBox(t,n),t.titleBlock=n}var CY={id:"title",_element:pI,start(t,e,n){MY(t,n)},stop(t){const e=t.titleBlock;Or.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Or.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wu={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=X1(e,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function mi(t,e){return e&&(cn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IY(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function q_(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=$n(e.bodyFont),c=$n(e.titleFont),d=$n(e.footerFont),h=s.length,p=i.length,m=r.length,y=$r(e.padding);let w=y.height,b=0,g=r.reduce((A,R)=>A+R.before.length+R.lines.length+R.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(w+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=m*A+(g-m)*l.lineHeight+(g-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let S=0;const _=function(A){b=Math.max(b,n.measureText(A).width+S)};return n.save(),n.font=c.string,ot(t.title,_),n.font=l.string,ot(t.beforeBody.concat(t.afterBody),_),S=e.displayColors?o+2+e.boxPadding:0,ot(r,A=>{ot(A.before,_),ot(A.lines,_),ot(A.after,_)}),S=0,n.font=d.string,ot(t.footer,_),n.restore(),b+=y.width,{width:b,height:w}}function TY(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function jY(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function RY(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),jY(c,t,e,n)&&(c="center"),c}function Y_(t,e,n){const r=n.yAlign||e.yAlign||TY(t,n);return{xAlign:n.xAlign||e.xAlign||RY(t,e,n,r),yAlign:r}}function BY(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function PY(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function G_(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=Du(o);let y=BY(e,a);const w=PY(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(d,p)+i:a==="right"&&(y+=Math.max(h,m)+i),{x:Lr(y,0,r.width-e.width),y:Lr(w,0,r.height-e.height)}}function qh(t,e,n){const r=$r(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Z_(t){return mi([],Vi(t))}function LY(t,e,n){return Ma(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function X_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const mI={beforeTitle:Fi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Fi,beforeBody:Fi,beforeLabel:Fi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return gt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fi,afterBody:Fi,beforeFooter:Fi,footer:Fi,afterFooter:Fi};function Jn(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?mI[e].call(n,r):i}class sx extends ys{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new QC(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=LY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Jn(r,"beforeTitle",this,e),s=Jn(r,"title",this,e),o=Jn(r,"afterTitle",this,e);let a=[];return a=mi(a,Vi(i)),a=mi(a,Vi(s)),a=mi(a,Vi(o)),a}getBeforeBody(e,n){return Z_(Jn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return ot(e,s=>{const o={before:[],lines:[],after:[]},a=X_(r,s);mi(o.before,Vi(Jn(a,"beforeLabel",this,s))),mi(o.lines,Jn(a,"label",this,s)),mi(o.after,Vi(Jn(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Z_(Jn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Jn(r,"beforeFooter",this,e),s=Jn(r,"footer",this,e),o=Jn(r,"afterFooter",this,e);let a=[];return a=mi(a,Vi(i)),a=mi(a,Vi(s)),a=mi(a,Vi(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(IY(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,p)=>e.filter(d,h,p,r))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,r))),ot(a,d=>{const h=X_(e.callbacks,d);i.push(Jn(h,"labelColor",this,d)),s.push(Jn(h,"labelPointStyle",this,d)),o.push(Jn(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=wu[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=q_(this,r),c=Object.assign({},a,l),d=Y_(this.chart,r,c),h=G_(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=Du(a),{x:p,y:m}=e,{width:y,height:w}=n;let b,g,S,_,A,R;return s==="center"?(A=m+w/2,i==="left"?(b=p,g=b-o,_=A+o,R=A-o):(b=p+y,g=b+o,_=A-o,R=A+o),S=b):(i==="left"?g=p+Math.max(l,d)+o:i==="right"?g=p+y-Math.max(c,h)-o:g=this.caretX,s==="top"?(_=m,A=_-o,b=g-o,S=g+o):(_=m+w,A=_+o,b=g+o,S=g-o),R=_),{x1:b,x2:g,x3:S,y1:_,y2:A,y3:R}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Bl(r.rtl,this.x,this.width);for(e.x=qh(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=$n(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,d=$n(s.bodyFont),h=qh(this,"left",s),p=i.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+m;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(p,c)+c/2,g=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,J1(e,w,b,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,J1(e,w,b,g)}else{e.lineWidth=Xe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=i.leftForLtr(p,c),b=i.leftForLtr(i.xPlus(p,1),c-2),g=Du(o.borderRadius);Object.values(g).some(S=>S!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ex(e,{x:w,y,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ex(e,{x:b,y:y+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,y,c,l),e.strokeRect(w,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,h=$n(r.bodyFont);let p=h.lineHeight,m=0;const y=Bl(r.rtl,this.x,this.width),w=function(B){n.fillText(B,y.x(e.x+m),e.y+p/2),e.y+=p+s},b=y.textAlign(o);let g,S,_,A,R,W,O;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=qh(this,b,r),n.fillStyle=r.bodyColor,ot(this.beforeBody,w),m=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,A=0,W=i.length;A<W;++A){for(g=i[A],S=this.labelTextColors[A],n.fillStyle=S,ot(g.before,w),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,A,y,r),p=Math.max(h.lineHeight,l)),R=0,O=_.length;R<O;++R)w(_[R]),p=h.lineHeight;ot(g.after,w)}m=0,p=h.lineHeight,ot(this.afterBody,w),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Bl(r.rtl,this.x,this.width);for(e.x=qh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=$n(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:y}=Du(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+d-y),n.quadraticCurveTo(a+c,l+d,a+c-y,l+d),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=wu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=q_(this,e),l=Object.assign({},o,this._size),c=Y_(n,e,l),d=G_(e,l,c,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=$r(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),KC(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),qC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Qp(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Qp(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=wu[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ke(sx,"positioners",wu);var OY={id:"tooltip",_element:sx,positioners:wu,afterInit(t,e,n){n&&(t.tooltip=new sx({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const DY=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function zY(t,e,n,r){const i=t.indexOf(e);if(i===-1)return DY(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const WY=(t,e)=>t===null?null:Lr(Math.round(t),0,e);function Q_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ox extends yc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(gt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:zY(r,e,qe(n,e),this._addedLabels),WY(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Q_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ke(ox,"id","category"),ke(ox,"defaults",{ticks:{callback:Q_}});function FY(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:p}=t,m=s||1,y=d-1,{min:w,max:b}=e,g=!gt(o),S=!gt(a),_=!gt(c),A=(b-w)/(h+1);let R=QS((b-w)/y/m)*m,W,O,B,F;if(R<1e-14&&!g&&!S)return[{value:w},{value:b}];F=Math.ceil(b/R)-Math.floor(w/R),F>y&&(R=QS(F*R/y/m)*m),gt(l)||(W=Math.pow(10,l),R=Math.ceil(R*W)/W),i==="ticks"?(O=Math.floor(w/R)*R,B=Math.ceil(b/R)*R):(O=w,B=b),g&&S&&s&&cV((a-o)/s,R/1e3)?(F=Math.round(Math.min((a-o)/R,d)),R=(a-o)/F,O=o,B=a):_?(O=g?o:O,B=S?a:B,F=c-1,R=(B-O)/F):(F=(B-O)/R,Pu(F,Math.round(F),R/1e3)?F=Math.round(F):F=Math.ceil(F));const U=Math.max(JS(R),JS(O));W=Math.pow(10,gt(l)?U:l),O=Math.round(O*W)/W,B=Math.round(B*W)/W;let H=0;for(g&&(p&&O!==o?(n.push({value:o}),O<o&&H++,Pu(Math.round((O+H*R)*W)/W,o,J_(o,A,t))&&H++):O<o&&H++);H<F;++H){const K=Math.round((O+H*R)*W)/W;if(S&&K>a)break;n.push({value:K})}return S&&p&&B!==a?n.length&&Pu(n[n.length-1].value,a,J_(a,A,t))?n[n.length-1].value=a:n.push({value:a}):(!S||B===a)&&n.push({value:B}),n}function J_(t,e,{horizontal:n,minRotation:r}){const i=Jo(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class $Y extends yc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return gt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=ic(i),c=ic(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=FY(i,s);return e.bounds==="ticks"&&uV(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return OC(e,this.chart.options.locale,this.options.ticks.format)}}class ax extends $Y{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Hn(e)?e:0,this.max=Hn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Jo(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ke(ax,"id","linear"),ke(ax,"defaults",{ticks:{callback:DC.formatters.numeric}});const um={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sr=Object.keys(um);function ek(t,e){return t-e}function tk(t,e){if(gt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Hn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(kd(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function nk(t,e,n,r){const i=sr.length;for(let s=sr.indexOf(t);s<i-1;++s){const o=um[sr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return sr[s]}return sr[i-1]}function UY(t,e,n,r,i){for(let s=sr.length-1;s>=sr.indexOf(n);s--){const o=sr[s];if(um[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return sr[n?sr.indexOf(n):0]}function HY(t){for(let e=sr.indexOf(t)+1,n=sr.length;e<n;++e)if(um[sr[e]].common)return sr[e]}function rk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Nv(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function VY(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ik(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:VY(t,r,i,n)}class s0 extends yc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new DK._date(e.adapters.date);i.init(n),Bu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Hn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Hn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=gV(i,s,o);return this._unit=n.unit||(r.autoSkip?nk(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):UY(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:HY(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ik(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Lr(n,0,o),r=Lr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||nk(s.minUnit,n,r,this._getLabelCapacity(n)),a=qe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=kd(l)||l===!0,d={};let h=n,p,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,m=0;p<r;p=+e.add(p,a,o),m++)rk(d,p,y);return(p===r||i.bounds==="ticks"||m===1)&&rk(d,p,y),Object.keys(d).sort(ek).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return wt(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],p=r[n],m=c&&h&&p&&p.major;return this._adapter.format(e,i||(m?h:d))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Jo(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ik(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(tk(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xV(e.sort(ek))}}ke(s0,"id","time"),ke(s0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yh(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ea(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ea(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class sk extends s0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yh(n,this.min),this._tableRange=Yh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Yh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Yh(this._table,r*this._tableRange+this._minPos,!0)}}ke(sk,"id","timeseries"),ke(sk,"defaults",s0.defaults);const gI="label";function ok(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function KY(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function yI(t,e){t.labels=e}function xI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gI;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function qY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gI;const n={labels:[],datasets:[]};return yI(n,t.labels),xI(n,t.datasets,e),n}function YY(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...p}=t,m=z.useRef(null),y=z.useRef(null),w=()=>{m.current&&(y.current=new lm(m.current,{type:o,data:qY(a,s),options:l&&{...l},plugins:c}),ok(e,y.current))},b=()=>{ok(e,null),y.current&&(y.current.destroy(),y.current=null)};return z.useEffect(()=>{!i&&y.current&&l&&KY(y.current,l)},[i,l]),z.useEffect(()=>{!i&&y.current&&yI(y.current.config.data,a.labels)},[i,a.labels]),z.useEffect(()=>{!i&&y.current&&a.datasets&&xI(y.current.config.data,a.datasets,s)},[i,a.datasets]),z.useEffect(()=>{y.current&&(i?(b(),setTimeout(w)):y.current.update(h))},[i,l,a.labels,a.datasets,h]),z.useEffect(()=>{y.current&&(b(),setTimeout(w))},[o]),z.useEffect(()=>(w(),()=>b()),[]),V.createElement("canvas",{ref:m,role:"img",height:n,width:r,...p},d)}const GY=z.forwardRef(YY);function ZY(t,e){return lm.register(e),z.forwardRef((n,r)=>V.createElement(GY,{...n,ref:r,type:t}))}const XY=ZY("line",Hf);lm.register(ox,ax,qf,Qs,CY,OY,AY,bY);const QY=({data:t})=>u.jsxs("div",{className:"strategy-node input-node",title:"Data Source: Provides real-time token data for strategy execution",children:[u.jsx(go,{type:"source",position:Ne.Right}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:"node-risk-badge low-risk",children:"Low Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Token:"}),u.jsx("input",{type:"text",placeholder:"SOL, ETH, etc.",value:t.token||"",onChange:e=>t.onChange("token",e.target.value)})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Data Type:"}),u.jsxs("select",{value:t.dataType||"price",onChange:e=>t.onChange("dataType",e.target.value),children:[u.jsx("option",{value:"price",children:"Price"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"volatility",children:"Volatility"}),u.jsx("option",{value:"market_cap",children:"Market Cap"})]})]})]})]}),JY=({data:t})=>u.jsxs("div",{className:"strategy-node logic-node",title:"Strategy Logic: Defines conditions and triggers for your strategy",children:[u.jsx(go,{type:"target",position:Ne.Left}),u.jsx(go,{type:"source",position:Ne.Right}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/StrategyLogicIcon.png",alt:"Strategy Logic",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Logic Type:"}),u.jsxs("select",{value:t.logicType||"time",onChange:e=>t.onChange("logicType",e.target.value),children:[u.jsx("option",{value:"time",children:"Time-Based"}),u.jsx("option",{value:"price",children:"Price-Based"}),u.jsx("option",{value:"volatility",children:"Volatility-Based"}),u.jsx("option",{value:"volume",children:"Volume-Based"}),u.jsx("option",{value:"ai",children:"AI-Optimized"})]})]}),t.logicType==="time"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Duration:"}),u.jsxs("select",{value:t.duration||"3",onChange:e=>t.onChange("duration",e.target.value),children:[u.jsx("option",{value:"1",children:"1 Week"}),u.jsx("option",{value:"2",children:"2 Weeks"}),u.jsx("option",{value:"3",children:"3 Weeks"}),u.jsx("option",{value:"4",children:"1 Month"}),u.jsx("option",{value:"8",children:"2 Months"}),u.jsx("option",{value:"12",children:"3 Months"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Profit Target (%):"}),u.jsx("input",{type:"number",placeholder:"15",value:t.profitTarget||"",onChange:e=>t.onChange("profitTarget",e.target.value)})]})]}),t.logicType==="price"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Condition:"}),u.jsxs("select",{value:t.condition||"above",onChange:e=>t.onChange("condition",e.target.value),children:[u.jsx("option",{value:"above",children:"Price Above"}),u.jsx("option",{value:"below",children:"Price Below"}),u.jsx("option",{value:"crosses",children:"Price Crosses"}),u.jsx("option",{value:"percent_change",children:"% Change"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Value:"}),u.jsx("input",{type:"number",placeholder:"0.00",value:t.value||"",onChange:e=>t.onChange("value",e.target.value)})]})]}),t.logicType==="volatility"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Volatility Threshold:"}),u.jsxs("select",{value:t.volatilityThreshold||"high",onChange:e=>t.onChange("volatilityThreshold",e.target.value),children:[u.jsx("option",{value:"low",children:"Low (< 20%)"}),u.jsx("option",{value:"medium",children:"Medium (20-50%)"}),u.jsx("option",{value:"high",children:"High (> 50%)"})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action:"}),u.jsxs("select",{value:t.volatilityAction||"exit",onChange:e=>t.onChange("volatilityAction",e.target.value),children:[u.jsx("option",{value:"exit",children:"Exit Position"}),u.jsx("option",{value:"hedge",children:"Hedge Position"}),u.jsx("option",{value:"rebalance",children:"Rebalance"})]})]})]}),t.logicType==="ai"&&u.jsxs("div",{className:"ai-logic-info",children:[u.jsxs("div",{className:"ai-badge",children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",style:{width:"16px",height:"16px",marginRight:"4px",verticalAlign:"middle"}})," AI-Powered"]}),u.jsx("p",{children:"AI analyzes market conditions and optimizes entry/exit timing"}),u.jsxs("div",{className:"ai-improvement",children:[u.jsx("span",{children:"Estimated Improvement:"}),u.jsx("span",{className:"improvement-value",children:"+75%"})]})]})]})]}),eG=({data:t})=>u.jsxs("div",{className:"strategy-node action-node",title:"Action: Defines what happens when conditions are met",children:[u.jsx(go,{type:"target",position:Ne.Left}),u.jsxs("div",{className:"node-header",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"node-icon",style:{width:"20px",height:"20px"}}),u.jsx("span",{className:"node-title",children:t.label}),u.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),u.jsxs("div",{className:"node-content",children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action Type:"}),u.jsxs("select",{value:t.actionType||"entry",onChange:e=>t.onChange("actionType",e.target.value),children:[u.jsx("option",{value:"entry",children:"Entry Action"}),u.jsx("option",{value:"exit",children:"Exit Action"}),u.jsx("option",{value:"rebalance",children:"Rebalance"}),u.jsx("option",{value:"hedge",children:"Hedge"})]})]}),t.actionType==="entry"&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Action:"}),u.jsxs("select",{value:t.action||"stake",onChange:e=>t.onChange("action",e.target.value),children:[u.jsx("option",{value:"stake",children:"Stake"}),u.jsx("option",{value:"buy",children:"Buy"}),u.jsx("option",{value:"liquidity",children:"Add Liquidity"}),u.jsx("option",{value:"yield_farm",children:"Yield Farm"})]})]})}),t.actionType==="exit"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Exit Strategy:"}),u.jsxs("select",{value:t.exitStrategy||"all",onChange:e=>t.onChange("exitStrategy",e.target.value),children:[u.jsx("option",{value:"all",children:"All (Initial + Earnings)"}),u.jsx("option",{value:"earnings",children:"Earnings Only"}),u.jsx("option",{value:"partial",children:"Partial Exit"}),u.jsx("option",{value:"stop_loss",children:"Stop Loss"})]})]}),t.exitStrategy==="stop_loss"&&u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Stop Loss (%):"}),u.jsx("input",{type:"number",placeholder:"10",value:t.stopLoss||"",onChange:e=>t.onChange("stopLoss",e.target.value)})]})]}),u.jsxs("div",{className:"parameter",children:[u.jsx("label",{children:"Auto Execute:"}),u.jsxs("select",{value:t.autoExecute||"true",onChange:e=>t.onChange("autoExecute",e.target.value),children:[u.jsx("option",{value:"true",children:"Yes (Automated)"}),u.jsx("option",{value:"false",children:"No (Manual Approval)"})]})]})]})]}),tG={inputNode:QY,logicNode:JY,actionNode:eG},nG=()=>{const[t,e,n]=sH([]),[r,i,s]=oH([]),[o,a]=z.useState(null),[l,c]=z.useState("My DeFi Strategy"),[d,h]=z.useState(!1),[p,m]=z.useState(null),[y,w]=z.useState("20"),[b,g]=z.useState("SOL"),[S,_]=z.useState(150),[A,R]=z.useState(!1),[W,O]=z.useState(""),[B,F]=z.useState("medium"),[U,H]=z.useState(!1),{publicKey:K,connected:M}=Yw(),{connection:f}=M4(),[x,k]=z.useState(null);V.useEffect(()=>{M&&K&&f?f.getBalance(K).then(k):k(null)},[M,K,f]);const C=z.useMemo(()=>(parseFloat(y)||0)*S,[y,S]),T=z.useMemo(()=>S,[S]),I=z.useCallback(()=>{const ne=t.filter(Se=>Se.type==="logicNode"),ye=t.filter(Se=>Se.type==="actionNode");let he=0;return ne.forEach(Se=>{var we,Ae,re;((we=Se.data)==null?void 0:we.logicType)==="volatility"&&(he+=2),((Ae=Se.data)==null?void 0:Ae.logicType)==="ai"&&(he+=1),((re=Se.data)==null?void 0:re.logicType)==="price"&&(he+=1)}),ye.forEach(Se=>{var we,Ae;((we=Se.data)==null?void 0:we.actionType)==="hedge"&&(he-=1),((Ae=Se.data)==null?void 0:Ae.exitStrategy)==="stop_loss"&&(he-=1)}),he<=0?"low":he<=2?"medium":"high"},[t]),L=z.useCallback(ne=>i(ye=>FM(ne,ye)),[i]),j=z.useCallback((ne,ye)=>{a(ye)},[]),v=z.useCallback((ne,ye,he)=>{e(Se=>Se.map(we=>we.id===ne?{...we,data:{...we.data,[ye]:he}}:we))},[e]),P=z.useCallback((ne,ye)=>{const he={id:`${ne}-${Date.now()}`,type:ne==="input"?"inputNode":ne==="logic"?"logicNode":"actionNode",position:ye,data:{label:ne==="input"?"Data Input":ne==="logic"?"Strategy Logic":"Action",onChange:(Se,we)=>v(he.id,Se,we),token:b,duration:"3",profitTarget:"15",action:"stake",exitStrategy:"all",logicType:"time",riskLevel:"medium-risk"}};e(Se=>[...Se,he])},[e,v,b]),X=z.useCallback(ne=>{ne.preventDefault();const ye=ne.dataTransfer.getData("application/reactflow"),he={x:ne.clientX-280,y:ne.clientY-100};P(ye,he)},[P]),Z=z.useCallback(ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},[]),te=z.useCallback(()=>{W.trim()&&(h(!0),setTimeout(()=>{const ne=[{id:"ai-input-1",type:"inputNode",position:{x:100,y:100},data:{label:"AI Data Source",onChange:(he,Se)=>v("ai-input-1",he,Se),token:b,dataType:"price"}},{id:"ai-logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"AI-Optimized Logic",onChange:(he,Se)=>v("ai-logic-1",he,Se),logicType:"ai",duration:"4",profitTarget:"12",riskLevel:"low-risk"}},{id:"ai-action-1",type:"actionNode",position:{x:700,y:100},data:{label:"AI Action",onChange:(he,Se)=>v("ai-action-1",he,Se),actionType:"entry",action:"stake",riskLevel:"low-risk"}}],ye=[{id:"ai-e1-2",source:"ai-input-1",target:"ai-logic-1"},{id:"ai-e2-3",source:"ai-logic-1",target:"ai-action-1"}];e(ne),i(ye),R(!1),h(!1)},2e3))},[W,b,e,i,v]),se=z.useCallback(()=>{h(!0),setTimeout(()=>{var re,ge,oe,st;const ne=parseFloat(((ge=(re=t.find(Be=>Be.type==="logicNode"))==null?void 0:re.data)==null?void 0:ge.profitTarget)||"15"),ye=parseInt(((st=(oe=t.find(Be=>Be.type==="logicNode"))==null?void 0:oe.data)==null?void 0:st.duration)||"3"),he=parseFloat(y),Se=he*ne/100,we=I(),Ae=t.some(Be=>{var Oe;return((Oe=Be.data)==null?void 0:Oe.logicType)==="ai"})?75:0;m({totalReturn:ne+Ae,timeToExit:`${ye} weeks`,expectedProfit:Se.toFixed(2),initialInvestment:he,finalValue:(he+Se).toFixed(2),successRate:95,riskLevel:we,maxDrawdown:we==="high"?25:we==="medium"?15:8,sharpeRatio:we==="high"?1.2:we==="medium"?1.8:2.5,aiImprovement:Ae,chartData:{labels:Array.from({length:ye},(Be,Oe)=>`Week ${Oe+1}`),datasets:[{label:`${b} Value`,data:Array.from({length:ye},(Be,Oe)=>{const ht=(ne+Ae)/ye;return he+he*ht*(Oe+1)/100}),borderColor:"#6D8FC7",backgroundColor:"rgba(109, 143, 199, 0.1)",tension:.4,fill:!0}]}}),h(!1)},2e3)},[t,y,b,I]),le=z.useCallback(()=>{const ne={name:l,nodes:t,edges:r,depositAmount:y,selectedToken:b,totalCostUSD:C,riskLevel:I(),timestamp:new Date().toISOString()};console.log("Saving strategy:",ne),alert("Strategy saved! (Check console for details)")},[l,t,r,y,b,C,I]),ce=z.useCallback(()=>{const ne={name:l,nodes:t,edges:r,riskLevel:I(),publishedAt:new Date().toISOString(),author:"User",forks:0,likes:0};console.log("Publishing strategy:",ne),H(!1),alert("Strategy published! (Check console for details)")},[l,t,r,I]);return V.useEffect(()=>{const ne=[{id:"input-1",type:"inputNode",position:{x:100,y:100},data:{label:"Token Data",onChange:(he,Se)=>v("input-1",he,Se),token:b,dataType:"price"}},{id:"logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"Strategy Logic",onChange:(he,Se)=>v("logic-1",he,Se),logicType:"time",duration:"3",profitTarget:"15",riskLevel:"medium-risk"}},{id:"action-1",type:"actionNode",position:{x:700,y:100},data:{label:"Action",onChange:(he,Se)=>v("action-1",he,Se),actionType:"entry",action:"stake",riskLevel:"medium-risk"}}],ye=[{id:"e1-2",source:"input-1",target:"logic-1"},{id:"e2-3",source:"logic-1",target:"action-1"}];e(ne),i(ye)},[b]),u.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Strategy Builder"}),u.jsx("p",{className:"text-cyphr-gray",children:"Test your risk before you buy"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsx("div",{className:"flex-1 max-w-md",children:u.jsx("input",{type:"text",value:l,onChange:ne=>c(ne.target.value),placeholder:"Enter strategy name...",className:"elite-input px-4 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm w-full"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>R(!0),children:"AI Builder"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:se,disabled:d,children:d?"Simulating...":"Simulate Strategy"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:le,children:"Save Strategy"}),u.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>H(!0),children:"Publish"})]})]}),u.jsxs("div",{className:"risk-profile-banner animate-slide-up",children:[u.jsxs("div",{className:"risk-indicator",children:[u.jsx("span",{className:"risk-label",children:"Strategy Risk Level:"}),u.jsxs("span",{className:`risk-badge ${I()}-risk`,children:[I().toUpperCase()," RISK"]})]}),u.jsxs("div",{className:"risk-metrics",children:[u.jsxs("div",{className:"risk-metric",children:[u.jsx("span",{children:"Max Drawdown:"}),u.jsx("span",{className:"metric-value",children:I()==="high"?"25%":I()==="medium"?"15%":"8%"})]}),u.jsxs("div",{className:"risk-metric",children:[u.jsx("span",{children:"Sharpe Ratio:"}),u.jsx("span",{className:"metric-value",children:I()==="high"?"1.2":I()==="medium"?"1.8":"2.5"})]})]})]}),u.jsx("div",{className:"deposit-config animate-slide-up",children:u.jsxs("div",{className:"config-card",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}})," Deposit Configuration"]}),u.jsxs("div",{className:"config-grid",children:[u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Token:"}),u.jsxs("select",{value:b,onChange:ne=>g(ne.target.value),className:"cyphr-select",children:[u.jsx("option",{value:"SOL",children:"SOL"}),u.jsx("option",{value:"ETH",children:"ETH"}),u.jsx("option",{value:"BTC",children:"BTC"}),u.jsx("option",{value:"USDC",children:"USDC"})]})]}),u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Amount:"}),u.jsx("input",{type:"number",value:y,onChange:ne=>w(ne.target.value),placeholder:"20",className:"cyphr-input"})]}),u.jsxs("div",{className:"config-item",children:[u.jsx("label",{children:"Total Cost (USD):"}),u.jsxs("div",{className:"cost-display",children:[u.jsxs("span",{className:"cost-amount",children:["$",C.toFixed(2)]}),u.jsxs("span",{className:"cost-per-token",children:["@ $",T.toFixed(2)," per ",b]})]})]}),u.jsxs("div",{className:"config-item wallet-connect-item",children:[u.jsx("label",{children:"Wallet Connection:"}),u.jsxs("div",{className:"wallet-section",children:[M?u.jsxs("div",{className:"wallet-info",children:[u.jsx("div",{className:"wallet-address",children:u.jsxs("span",{children:["Connected: ",K==null?void 0:K.toBase58().slice(0,4),"...",K==null?void 0:K.toBase58().slice(-4)]})}),u.jsx("div",{className:"wallet-balance",children:u.jsxs("span",{children:["Balance: ",x?(x/N4).toFixed(4):"0"," SOL"]})})]}):u.jsx("div",{className:"wallet-disconnected",children:u.jsx("span",{children:"Connect wallet to execute strategies"})}),u.jsx(e7,{className:"wallet-button"})]})]})]})]})}),A&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"middle"}})," AI Strategy Builder"]}),u.jsx("button",{className:"modal-close",onClick:()=>R(!1),children:"×"})]}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Describe your strategy and AI will generate it for you:"}),u.jsx("textarea",{value:W,onChange:ne=>O(ne.target.value),placeholder:"e.g., 'I want a low-risk staking strategy for SOL with 10% yield and stop-loss protection'",className:"ai-prompt-input"}),u.jsxs("div",{className:"ai-examples",children:[u.jsx("h4",{children:"Example Prompts:"}),u.jsxs("ul",{children:[u.jsx("li",{children:'"Conservative yield farming with USDC, max 5% risk"'}),u.jsx("li",{children:'"Aggressive SOL trading with AI optimization"'}),u.jsx("li",{children:'"Balanced portfolio with automatic rebalancing"'})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>R(!1),children:"Cancel"}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:te,children:"Generate Strategy"})]})]})}),U&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Publish Strategy"}),u.jsx("button",{className:"modal-close",onClick:()=>H(!1),children:"×"})]}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Share your strategy with the community and earn from referrals:"}),u.jsxs("div",{className:"social-benefits",children:[u.jsxs("div",{className:"benefit-item",children:[u.jsx("img",{src:"/DepositIcon.png",alt:"Deposit",className:"benefit-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Earn 5% from strategy forks"})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("span",{className:"benefit-icon",children:"📈"}),u.jsx("span",{children:"Build reputation in the community"})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("span",{className:"benefit-icon",children:"🤝"}),u.jsx("span",{children:"Collaborate with other builders"})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>H(!1),children:"Cancel"}),u.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:ce,children:"Publish Strategy"})]})]})}),u.jsxs("div",{className:"builder-content animate-slide-up",children:[u.jsxs("div",{className:"sidebar animate-slide-up",children:[u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Data Sources"]}),u.jsx("div",{className:"node-palette",children:u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","input")},title:"Drag to add data source node",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Token Data"})]})})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/StrategyLogicIcon.png",alt:"Strategy Logic",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Logic"]}),u.jsxs("div",{className:"node-palette",children:[u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add logic node",children:[u.jsx("img",{src:"/TimeProfitIcon.png",alt:"Time & Profit",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Time & Profit Logic"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add price-based logic",children:[u.jsx("img",{src:"/PriceLogic.png",alt:"Price Logic",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Price-Based Logic"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add volatility-based logic",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Volatility Logic"})]}),u.jsxs("div",{className:"palette-item ai-palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add AI-optimized logic",children:[u.jsx("img",{src:"/RobotIcon.png",alt:"AI",className:"palette-icon",style:{width:"20px",height:"20px",margin:"0 -4px"}}),u.jsx("span",{children:"AI-Optimized Logic"}),u.jsx("span",{className:"ai-badge",children:"+75%"})]})]})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",style:{width:"16px",height:"16px",marginRight:"8px"}})," Actions"]}),u.jsxs("div",{className:"node-palette",children:[u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","action")},title:"Drag to add action node",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Entry & Exit"})]}),u.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:ne=>{ne.dataTransfer.setData("application/reactflow","action")},title:"Drag to add hedge action",children:[u.jsx("img",{src:"/HedgeIcon.png",alt:"Hedge",className:"palette-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Hedge Action"})]})]})]})]}),u.jsxs("div",{className:"canvas-container animate-slide-up",onDrop:X,onDragOver:Z,children:[t.length===0&&u.jsx("div",{className:"empty-canvas",children:u.jsxs("div",{className:"empty-canvas-content",children:[u.jsx("h2",{children:"Build Your DeFi Strategy"}),u.jsx("p",{children:"Drag and drop components from the sidebar to create your strategy"}),u.jsxs("div",{className:"canvas-instructions",children:[u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Start with Token Data"})]}),u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/TimeProfitIcon.png",alt:"Time & Profit",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Add Time & Profit Logic"})]}),u.jsxs("div",{className:"instruction",children:[u.jsx("img",{src:"/ActionIcon.png",alt:"Action",className:"instruction-icon",style:{width:"16px",height:"16px"}}),u.jsx("span",{children:"Configure Entry & Exit"})]})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-ai",onClick:()=>R(!0),children:"Or use AI Builder"})]})}),u.jsxs(SC,{nodes:t,edges:r,onNodesChange:n,onEdgesChange:s,onConnect:L,onNodeClick:j,nodeTypes:tG,fitView:!0,className:"strategy-canvas",children:[u.jsx(_H,{}),u.jsx(CH,{}),u.jsx(gH,{})]})]}),u.jsxs("div",{className:"results-panel animate-slide-up",children:[u.jsxs("h3",{children:[u.jsx("img",{src:"/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Results"]}),d?u.jsxs("div",{className:"simulation-loading",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"Running simulation..."})]}):p?u.jsxs("div",{className:"simulation-results",children:[u.jsxs("div",{className:"result-metrics",children:[u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Total Return"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.totalReturn,"%"]})]}),p.aiImprovement>0&&u.jsxs("div",{className:"metric ai-improvement",children:[u.jsx("span",{className:"metric-label",children:"AI Improvement"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.aiImprovement,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Time to Exit"}),u.jsx("span",{className:"metric-value",children:p.timeToExit})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Expected Profit"}),u.jsxs("span",{className:"metric-value positive",children:["+",p.expectedProfit," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Initial Investment"}),u.jsxs("span",{className:"metric-value",children:[p.initialInvestment," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Final Value"}),u.jsxs("span",{className:"metric-value",children:[p.finalValue," ",b]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Success Rate"}),u.jsxs("span",{className:"metric-value",children:[p.successRate,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Max Drawdown"}),u.jsxs("span",{className:"metric-value",children:[p.maxDrawdown,"%"]})]}),u.jsxs("div",{className:"metric",children:[u.jsx("span",{className:"metric-label",children:"Sharpe Ratio"}),u.jsx("span",{className:"metric-value",children:p.sharpeRatio})]})]}),u.jsx("div",{className:"result-chart",children:u.jsx(XY,{data:p.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1a1a1a",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#333",borderWidth:1}},scales:{x:{grid:{color:"#333"},ticks:{color:"#888"}},y:{grid:{color:"#333"},ticks:{color:"#888"}}}}})})]}):u.jsx("div",{className:"no-results",children:u.jsx("p",{children:'Click "Simulate Strategy" to see results'})})]})]}),o&&u.jsxs("div",{className:"node-properties",children:[u.jsx("h3",{children:"⚙️ Node Properties"}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Node Type:"}),u.jsx("span",{children:o.type})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Node ID:"}),u.jsx("span",{children:o.id})]}),u.jsx("button",{className:"cyphr-btn cyphr-btn-danger",onClick:()=>{e(ne=>ne.filter(ye=>ye.id!==o.id)),a(null)},children:"🗑️ Delete Node"})]})]})},rG=()=>{const t=ba(),[e,n]=z.useState(!1);if(z.useEffect(()=>{const i=()=>{n(window.innerWidth<=768)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),!e)return null;const r=[{name:"Strategy",path:"/strategy-builder",icon:"/WatchlistStar.png"},{name:"Terminal",path:"/pro-terminal",icon:"/PhoneIcon.png"},{name:"Discover",path:"/discover",icon:"/PriceLogic.png"},{name:"Insights",path:"/tracker",icon:"/SearchIcon.png"},{name:"Perpetuals",path:"/perpetuals",icon:"/PNLIcon.png"},{name:"Portfolio",path:"/portfolio",icon:"/WalletIcon.png"}];return u.jsx("div",{className:"mobile-bottom-nav",children:r.map(i=>u.jsx(lf,{to:i.path,className:`mobile-nav-item ${t.pathname===i.path?"active":""}`,title:i.name,children:u.jsx("span",{className:"mobile-nav-icon",children:u.jsx("img",{src:i.icon,alt:i.name,style:{width:"24px",height:"24px"}})})},i.name))})};function iG(){return z.useEffect(()=>{(function(t){if(t.search[1]==="/"){var e=t.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,"",t.pathname.slice(0,-1)+e+t.hash)}})(window.location)},[]),u.jsx(n7,{children:u.jsx(QT,{children:u.jsx(qT,{children:u.jsxs("div",{className:"app",children:[u.jsx(r7,{}),u.jsx("main",{className:"main-content",children:u.jsxs(WT,{children:[u.jsx(Hr,{path:"/",element:u.jsx(DT,{to:"/strategy-builder",replace:!0})}),u.jsx(Hr,{path:"/pro-terminal",element:u.jsx(m7,{})}),u.jsx(Hr,{path:"/dashboard",element:u.jsx(o7,{})}),u.jsx(Hr,{path:"/perpetuals",element:u.jsx(l7,{})}),u.jsx(Hr,{path:"/tracker",element:u.jsx(c7,{})}),u.jsx(Hr,{path:"/orders",element:u.jsx(h7,{})}),u.jsx(Hr,{path:"/token/:id",element:u.jsx(d7,{})}),u.jsx(Hr,{path:"/portfolio",element:u.jsx(f7,{})}),u.jsx(Hr,{path:"/spot",element:u.jsx(p7,{})}),u.jsx(Hr,{path:"/strategy-builder",element:u.jsx(nG,{})})]})}),u.jsx(i7,{}),u.jsx(rG,{})]})})})})}const sG=Fg.createRoot(document.getElementById("root"));sG.render(u.jsx(V.StrictMode,{children:u.jsx(iG,{})}));
//# sourceMappingURL=index-ZZDF-szj.js.map
