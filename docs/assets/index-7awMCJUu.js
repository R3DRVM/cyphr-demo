var kC=Object.defineProperty;var NC=(t,e,n)=>e in t?kC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>NC(t,typeof e!="symbol"?e+"":e,n);function RC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Of(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var _2={exports:{}},jf={},S2={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),AC=Symbol.for("react.portal"),TC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),OC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),MC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),BC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),A1=Symbol.iterator;function DC(t){return t===null||typeof t!="object"?null:(t=A1&&t[A1]||t["@@iterator"],typeof t=="function"?t:null)}var E2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k2=Object.assign,N2={};function pl(t,e,n){this.props=t,this.context=e,this.refs=N2,this.updater=n||E2}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R2(){}R2.prototype=pl.prototype;function iy(t,e,n){this.props=t,this.context=e,this.refs=N2,this.updater=n||E2}var oy=iy.prototype=new R2;oy.constructor=iy;k2(oy,pl.prototype);oy.isPureReactComponent=!0;var T1=Array.isArray,A2=Object.prototype.hasOwnProperty,ay={current:null},T2={key:!0,ref:!0,__self:!0,__source:!0};function I2(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)A2.call(e,r)&&!T2.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Cu,type:t,key:i,ref:o,props:s,_owner:ay.current}}function zC(t,e){return{$$typeof:Cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ly(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cu}function UC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I1=/\/+/g;function Fp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UC(""+t.key):e.toString(36)}function sh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cu:case AC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fp(o,0):r,T1(s)?(n="",t!=null&&(n=t.replace(I1,"$&/")+"/"),sh(s,e,n,"",function(u){return u})):s!=null&&(ly(s)&&(s=zC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(I1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",T1(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Fp(i,a);o+=sh(i,e,n,l,s)}else if(l=DC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Fp(i,a++),o+=sh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function td(t,e,n){if(t==null)return t;var r=[],s=0;return sh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zn={current:null},ih={transition:null},FC={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:ih,ReactCurrentOwner:ay};function C2(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:td,forEach:function(t,e,n){td(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return td(t,function(){e++}),e},toArray:function(t){return td(t,function(e){return e})||[]},only:function(t){if(!ly(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=pl;Ge.Fragment=TC;Ge.Profiler=CC;Ge.PureComponent=iy;Ge.StrictMode=IC;Ge.Suspense=PC;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FC;Ge.act=C2;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=k2({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ay.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)A2.call(e,l)&&!T2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Cu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:jC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OC,_context:t},t.Consumer=t};Ge.createElement=I2;Ge.createFactory=function(t){var e=I2.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:MC,render:t}};Ge.isValidElement=ly;Ge.lazy=function(t){return{$$typeof:LC,_payload:{_status:-1,_result:t},_init:$C}};Ge.memo=function(t,e){return{$$typeof:BC,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=ih.transition;ih.transition={};try{t()}finally{ih.transition=e}};Ge.unstable_act=C2;Ge.useCallback=function(t,e){return zn.current.useCallback(t,e)};Ge.useContext=function(t){return zn.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return zn.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return zn.current.useEffect(t,e)};Ge.useId=function(){return zn.current.useId()};Ge.useImperativeHandle=function(t,e,n){return zn.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return zn.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return zn.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return zn.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return zn.current.useReducer(t,e,n)};Ge.useRef=function(t){return zn.current.useRef(t)};Ge.useState=function(t){return zn.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return zn.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return zn.current.useTransition()};Ge.version="18.3.1";S2.exports=Ge;var V=S2.exports;const te=Js(V),HC=RC({__proto__:null,default:te},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=V,WC=Symbol.for("react.element"),KC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,qC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function O2(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GC.call(e,r)&&!YC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WC,type:t,key:i,ref:o,props:s,_owner:qC.current}}jf.Fragment=KC;jf.jsx=O2;jf.jsxs=O2;_2.exports=jf;var c=_2.exports,g0={},j2={exports:{}},dr={},M2={exports:{}},P2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,C){var $=T.length;T.push(C);e:for(;0<$;){var O=$-1>>>1,b=T[O];if(0<s(b,C))T[O]=C,T[$]=b,$=O;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var C=T[0],$=T.pop();if($!==C){T[0]=$;e:for(var O=0,b=T.length,B=b>>>1;O<B;){var G=2*(O+1)-1,Z=T[G],ne=G+1,ae=T[ne];if(0>s(Z,$))ne<b&&0>s(ae,Z)?(T[O]=ae,T[ne]=$,O=ne):(T[O]=Z,T[G]=$,O=G);else if(ne<b&&0>s(ae,$))T[O]=ae,T[ne]=$,O=ne;else break e}}return C}function s(T,C){var $=T.sortIndex-C.sortIndex;return $!==0?$:T.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,m=3,p=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(T){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=T)r(u),C.sortIndex=C.expirationTime,e(l,C);else break;C=n(u)}}function R(T){if(w=!1,k(T),!y)if(n(l)!==null)y=!0,_(j);else{var C=n(u);C!==null&&I(R,C.startTime-T)}}function j(T,C){y=!1,w&&(w=!1,x(M),M=-1),p=!0;var $=m;try{for(k(C),f=n(l);f!==null&&(!(f.expirationTime>C)||T&&!z());){var O=f.callback;if(typeof O=="function"){f.callback=null,m=f.priorityLevel;var b=O(f.expirationTime<=C);C=t.unstable_now(),typeof b=="function"?f.callback=b:f===n(l)&&r(l),k(C)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var G=n(u);G!==null&&I(R,G.startTime-C),B=!1}return B}finally{f=null,m=$,p=!1}}var F=!1,P=null,M=-1,D=5,L=-1;function z(){return!(t.unstable_now()-L<D)}function H(){if(P!==null){var T=t.unstable_now();L=T;var C=!0;try{C=P(!0,T)}finally{C?A():(F=!1,P=null)}}else F=!1}var A;if(typeof S=="function")A=function(){S(H)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,g=h.port2;h.port1.onmessage=H,A=function(){g.postMessage(null)}}else A=function(){v(H,0)};function _(T){P=T,F||(F=!0,A())}function I(T,C){M=v(function(){T(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,_(j))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var C=3;break;default:C=m}var $=m;m=C;try{return T()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,C){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=m;m=T;try{return C()}finally{m=$}},t.unstable_scheduleCallback=function(T,C,$){var O=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?O+$:O):$=O,T){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,T={id:d++,callback:C,priorityLevel:T,startTime:$,expirationTime:b,sortIndex:-1},$>O?(T.sortIndex=$,e(u,T),n(l)===null&&T===n(u)&&(w?(x(M),M=-1):w=!0,I(R,$-O))):(T.sortIndex=b,e(l,T),y||p||(y=!0,_(j))),T},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(T){var C=m;return function(){var $=m;m=C;try{return T.apply(this,arguments)}finally{m=$}}}})(P2);M2.exports=P2;var XC=M2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC=V,cr=XC;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B2=new Set,Hc={};function Ho(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(Hc[t]=e,t=0;t<e.length;t++)B2.add(e[t])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=Object.prototype.hasOwnProperty,QC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C1={},O1={};function JC(t){return y0.call(O1,t)?!0:y0.call(C1,t)?!1:QC.test(t)?O1[t]=!0:(C1[t]=!0,!1)}function e3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function t3(t,e,n,r){if(e===null||typeof e>"u"||e3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,uy);vn[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,uy);vn[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,uy);vn[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function dy(t,e,n,r){var s=vn.hasOwnProperty(e)?vn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(t3(e,n,s,r)&&(n=null),r||s===null?JC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nd=Symbol.for("react.element"),ma=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),L2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),fy=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),v0=Symbol.for("react.suspense_list"),py=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),z2=Symbol.for("react.offscreen"),j1=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=j1&&t[j1]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,Hp;function uc(t){if(Hp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hp=e&&e[1]||""}return`
`+Hp+t}var Vp=!1;function Wp(t,e){if(!t||Vp)return"";Vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function n3(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=Wp(t.type,!1),t;case 11:return t=Wp(t.type.render,!1),t;case 1:return t=Wp(t.type,!0),t;default:return""}}function b0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ga:return"Fragment";case ma:return"Portal";case x0:return"Profiler";case hy:return"StrictMode";case w0:return"Suspense";case v0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D2:return(t.displayName||"Context")+".Consumer";case L2:return(t._context.displayName||"Context")+".Provider";case fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case py:return e=t.displayName||null,e!==null?e:b0(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return b0(t(e))}catch{}}return null}function r3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(e);case 8:return e===hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s3(t){var e=U2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rd(t){t._valueTracker||(t._valueTracker=s3(t))}function $2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _0(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F2(t,e){e=e.checked,e!=null&&dy(t,"checked",e,!1)}function S0(t,e){F2(t,e);var n=$i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?E0(t,e.type,n):e.hasOwnProperty("defaultValue")&&E0(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function E0(t,e,n){(e!=="number"||Ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function k0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(dc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function H2(t,e){var n=$i(e.value),r=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sd,W2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i3=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){i3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function K2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function G2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=K2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var o3=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R0(t,e){if(e){if(o3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function A0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=null;function my(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I0=null,ja=null,Ma=null;function D1(t){if(t=Mu(t)){if(typeof I0!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Df(e),I0(t.stateNode,t.type,e))}}function q2(t){ja?Ma?Ma.push(t):Ma=[t]:ja=t}function Y2(){if(ja){var t=ja,e=Ma;if(Ma=ja=null,D1(t),e)for(t=0;t<e.length;t++)D1(e[t])}}function X2(t,e){return t(e)}function Z2(){}var Kp=!1;function Q2(t,e,n){if(Kp)return t(e,n);Kp=!0;try{return X2(t,e,n)}finally{Kp=!1,(ja!==null||Ma!==null)&&(Z2(),Y2())}}function Wc(t,e){var n=t.stateNode;if(n===null)return null;var r=Df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var C0=!1;if(Ws)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){C0=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{C0=!1}function a3(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var bc=!1,Th=null,Ih=!1,O0=null,l3={onError:function(t){bc=!0,Th=t}};function c3(t,e,n,r,s,i,o,a,l){bc=!1,Th=null,a3.apply(l3,arguments)}function u3(t,e,n,r,s,i,o,a,l){if(c3.apply(this,arguments),bc){if(bc){var u=Th;bc=!1,Th=null}else throw Error(oe(198));Ih||(Ih=!0,O0=u)}}function Vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(Vo(t)!==t)throw Error(oe(188))}function d3(t){var e=t.alternate;if(!e){if(e=Vo(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return z1(s),t;if(i===r)return z1(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function eS(t){return t=d3(t),t!==null?tS(t):null}function tS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tS(t);if(e!==null)return e;t=t.sibling}return null}var nS=cr.unstable_scheduleCallback,U1=cr.unstable_cancelCallback,h3=cr.unstable_shouldYield,f3=cr.unstable_requestPaint,Zt=cr.unstable_now,p3=cr.unstable_getCurrentPriorityLevel,gy=cr.unstable_ImmediatePriority,rS=cr.unstable_UserBlockingPriority,Ch=cr.unstable_NormalPriority,m3=cr.unstable_LowPriority,sS=cr.unstable_IdlePriority,Mf=null,fs=null;function g3(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Mf,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:w3,y3=Math.log,x3=Math.LN2;function w3(t){return t>>>=0,t===0?32:31-(y3(t)/x3|0)|0}var id=64,od=4194304;function hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hc(a):(i&=o,i!==0&&(r=hc(i)))}else o=n&~s,o!==0?r=hc(o):i!==0&&(r=hc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),s=1<<n,r|=t[n],e&=~s;return r}function v3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=v3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function j0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iS(){var t=id;return id<<=1,!(id&4194240)&&(id=64),t}function Gp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function _3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var at=0;function oS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aS,xy,lS,cS,uS,M0=!1,ad=[],Ri=null,Ai=null,Ti=null,Kc=new Map,Gc=new Map,yi=[],S3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $1(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Wl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mu(e),e!==null&&xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function E3(t,e,n,r,s){switch(e){case"focusin":return Ri=Wl(Ri,t,e,n,r,s),!0;case"dragenter":return Ai=Wl(Ai,t,e,n,r,s),!0;case"mouseover":return Ti=Wl(Ti,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kc.set(i,Wl(Kc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gc.set(i,Wl(Gc.get(i)||null,t,e,n,r,s)),!0}return!1}function dS(t){var e=fo(t.target);if(e!==null){var n=Vo(e);if(n!==null){if(e=n.tag,e===13){if(e=J2(n),e!==null){t.blockedOn=e,uS(t.priority,function(){lS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=P0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);T0=r,n.target.dispatchEvent(r),T0=null}else return e=Mu(n),e!==null&&xy(e),t.blockedOn=n,!1;e.shift()}return!0}function F1(t,e,n){oh(t)&&n.delete(e)}function k3(){M0=!1,Ri!==null&&oh(Ri)&&(Ri=null),Ai!==null&&oh(Ai)&&(Ai=null),Ti!==null&&oh(Ti)&&(Ti=null),Kc.forEach(F1),Gc.forEach(F1)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,M0||(M0=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,k3)))}function qc(t){function e(s){return Kl(s,t)}if(0<ad.length){Kl(ad[0],t);for(var n=1;n<ad.length;n++){var r=ad[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Kl(Ri,t),Ai!==null&&Kl(Ai,t),Ti!==null&&Kl(Ti,t),Kc.forEach(e),Gc.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)dS(n),n.blockedOn===null&&yi.shift()}var Pa=ei.ReactCurrentBatchConfig,jh=!0;function N3(t,e,n,r){var s=at,i=Pa.transition;Pa.transition=null;try{at=1,wy(t,e,n,r)}finally{at=s,Pa.transition=i}}function R3(t,e,n,r){var s=at,i=Pa.transition;Pa.transition=null;try{at=4,wy(t,e,n,r)}finally{at=s,Pa.transition=i}}function wy(t,e,n,r){if(jh){var s=P0(t,e,n,r);if(s===null)rm(t,e,r,Mh,n),$1(t,r);else if(E3(s,t,e,n,r))r.stopPropagation();else if($1(t,r),e&4&&-1<S3.indexOf(t)){for(;s!==null;){var i=Mu(s);if(i!==null&&aS(i),i=P0(t,e,n,r),i===null&&rm(t,e,r,Mh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rm(t,e,r,null,n)}}var Mh=null;function P0(t,e,n,r){if(Mh=null,t=my(r),t=fo(t),t!==null)if(e=Vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mh=t,null}function hS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p3()){case gy:return 1;case rS:return 4;case Ch:case m3:return 16;case sS:return 536870912;default:return 16}default:return 16}}var vi=null,vy=null,ah=null;function fS(){if(ah)return ah;var t,e=vy,n=e.length,r,s="value"in vi?vi.value:vi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ah=s.slice(t,1<r?1-r:void 0)}function lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ld(){return!0}function H1(){return!1}function hr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ld:H1,this.isPropagationStopped=H1,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ld)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ld)},persist:function(){},isPersistent:ld}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},by=hr(ml),ju=It({},ml,{view:0,detail:0}),A3=hr(ju),qp,Yp,Gl,Pf=It({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_y,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(qp=t.screenX-Gl.screenX,Yp=t.screenY-Gl.screenY):Yp=qp=0,Gl=t),qp)},movementY:function(t){return"movementY"in t?t.movementY:Yp}}),V1=hr(Pf),T3=It({},Pf,{dataTransfer:0}),I3=hr(T3),C3=It({},ju,{relatedTarget:0}),Xp=hr(C3),O3=It({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),j3=hr(O3),M3=It({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P3=hr(M3),B3=It({},ml,{data:0}),W1=hr(B3),L3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z3[t])?!!e[t]:!1}function _y(){return U3}var $3=It({},ju,{key:function(t){if(t.key){var e=L3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_y,charCode:function(t){return t.type==="keypress"?lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F3=hr($3),H3=It({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K1=hr(H3),V3=It({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_y}),W3=hr(V3),K3=It({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),G3=hr(K3),q3=It({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y3=hr(q3),X3=[9,13,27,32],Sy=Ws&&"CompositionEvent"in window,_c=null;Ws&&"documentMode"in document&&(_c=document.documentMode);var Z3=Ws&&"TextEvent"in window&&!_c,pS=Ws&&(!Sy||_c&&8<_c&&11>=_c),G1=" ",q1=!1;function mS(t,e){switch(t){case"keyup":return X3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function Q3(t,e){switch(t){case"compositionend":return gS(e);case"keypress":return e.which!==32?null:(q1=!0,G1);case"textInput":return t=e.data,t===G1&&q1?null:t;default:return null}}function J3(t,e){if(ya)return t==="compositionend"||!Sy&&mS(t,e)?(t=fS(),ah=vy=vi=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pS&&e.locale!=="ko"?null:e.data;default:return null}}var e4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e4[t.type]:e==="textarea"}function yS(t,e,n,r){q2(r),e=Ph(e,"onChange"),0<e.length&&(n=new by("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sc=null,Yc=null;function t4(t){AS(t,0)}function Bf(t){var e=va(t);if($2(e))return t}function n4(t,e){if(t==="change")return e}var xS=!1;if(Ws){var Zp;if(Ws){var Qp="oninput"in document;if(!Qp){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),Qp=typeof X1.oninput=="function"}Zp=Qp}else Zp=!1;xS=Zp&&(!document.documentMode||9<document.documentMode)}function Z1(){Sc&&(Sc.detachEvent("onpropertychange",wS),Yc=Sc=null)}function wS(t){if(t.propertyName==="value"&&Bf(Yc)){var e=[];yS(e,Yc,t,my(t)),Q2(t4,e)}}function r4(t,e,n){t==="focusin"?(Z1(),Sc=e,Yc=n,Sc.attachEvent("onpropertychange",wS)):t==="focusout"&&Z1()}function s4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bf(Yc)}function i4(t,e){if(t==="click")return Bf(e)}function o4(t,e){if(t==="input"||t==="change")return Bf(e)}function a4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:a4;function Xc(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!y0.call(e,s)||!Gr(t[s],e[s]))return!1}return!0}function Q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J1(t,e){var n=Q1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q1(n)}}function vS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bS(){for(var t=window,e=Ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ah(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function l4(t){var e=bS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vS(n.ownerDocument.documentElement,n)){if(r!==null&&Ey(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=J1(n,i);var o=J1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c4=Ws&&"documentMode"in document&&11>=document.documentMode,xa=null,B0=null,Ec=null,L0=!1;function ew(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L0||xa==null||xa!==Ah(r)||(r=xa,"selectionStart"in r&&Ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ec&&Xc(Ec,r)||(Ec=r,r=Ph(B0,"onSelect"),0<r.length&&(e=new by("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wa={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},Jp={},_S={};Ws&&(_S=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Lf(t){if(Jp[t])return Jp[t];if(!wa[t])return t;var e=wa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _S)return Jp[t]=e[n];return t}var SS=Lf("animationend"),ES=Lf("animationiteration"),kS=Lf("animationstart"),NS=Lf("transitionend"),RS=new Map,tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){RS.set(t,e),Ho(e,[t])}for(var em=0;em<tw.length;em++){var tm=tw[em],u4=tm.toLowerCase(),d4=tm[0].toUpperCase()+tm.slice(1);qi(u4,"on"+d4)}qi(SS,"onAnimationEnd");qi(ES,"onAnimationIteration");qi(kS,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(NS,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h4=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function nw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,u3(r,e,void 0,t),t.currentTarget=null}function AS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;nw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;nw(s,a,u),i=l}}}if(Ih)throw t=O0,Ih=!1,O0=null,t}function yt(t,e){var n=e[F0];n===void 0&&(n=e[F0]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function nm(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Zc(t){if(!t[ud]){t[ud]=!0,B2.forEach(function(n){n!=="selectionchange"&&(h4.has(n)||nm(n,!1,t),nm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ud]||(e[ud]=!0,nm("selectionchange",!1,e))}}function TS(t,e,n,r){switch(hS(e)){case 1:var s=N3;break;case 4:s=R3;break;default:s=wy}n=s.bind(null,e,n,t),s=void 0,!C0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Q2(function(){var u=i,d=my(n),f=[];e:{var m=RS.get(t);if(m!==void 0){var p=by,y=t;switch(t){case"keypress":if(lh(n)===0)break e;case"keydown":case"keyup":p=F3;break;case"focusin":y="focus",p=Xp;break;case"focusout":y="blur",p=Xp;break;case"beforeblur":case"afterblur":p=Xp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=V1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=I3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=W3;break;case SS:case ES:case kS:p=j3;break;case NS:p=G3;break;case"scroll":p=A3;break;case"wheel":p=Y3;break;case"copy":case"cut":case"paste":p=P3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=K1}var w=(e&4)!==0,v=!w&&t==="scroll",x=w?m!==null?m+"Capture":null:m;w=[];for(var S=u,k;S!==null;){k=S;var R=k.stateNode;if(k.tag===5&&R!==null&&(k=R,x!==null&&(R=Wc(S,x),R!=null&&w.push(Qc(S,R,k)))),v)break;S=S.return}0<w.length&&(m=new p(m,y,null,n,d),f.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==T0&&(y=n.relatedTarget||n.fromElement)&&(fo(y)||y[Ks]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?fo(y):null,y!==null&&(v=Vo(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=V1,R="onMouseLeave",x="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=K1,R="onPointerLeave",x="onPointerEnter",S="pointer"),v=p==null?m:va(p),k=y==null?m:va(y),m=new w(R,S+"leave",p,n,d),m.target=v,m.relatedTarget=k,R=null,fo(d)===u&&(w=new w(x,S+"enter",y,n,d),w.target=k,w.relatedTarget=v,R=w),v=R,p&&y)t:{for(w=p,x=y,S=0,k=w;k;k=ta(k))S++;for(k=0,R=x;R;R=ta(R))k++;for(;0<S-k;)w=ta(w),S--;for(;0<k-S;)x=ta(x),k--;for(;S--;){if(w===x||x!==null&&w===x.alternate)break t;w=ta(w),x=ta(x)}w=null}else w=null;p!==null&&rw(f,m,p,w,!1),y!==null&&v!==null&&rw(f,v,y,w,!0)}}e:{if(m=u?va(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=n4;else if(Y1(m))if(xS)j=o4;else{j=s4;var F=r4}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=i4);if(j&&(j=j(t,u))){yS(f,j,n,d);break e}F&&F(t,m,u),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&E0(m,"number",m.value)}switch(F=u?va(u):window,t){case"focusin":(Y1(F)||F.contentEditable==="true")&&(xa=F,B0=u,Ec=null);break;case"focusout":Ec=B0=xa=null;break;case"mousedown":L0=!0;break;case"contextmenu":case"mouseup":case"dragend":L0=!1,ew(f,n,d);break;case"selectionchange":if(c4)break;case"keydown":case"keyup":ew(f,n,d)}var P;if(Sy)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ya?mS(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(pS&&n.locale!=="ko"&&(ya||M!=="onCompositionStart"?M==="onCompositionEnd"&&ya&&(P=fS()):(vi=d,vy="value"in vi?vi.value:vi.textContent,ya=!0)),F=Ph(u,M),0<F.length&&(M=new W1(M,t,null,n,d),f.push({event:M,listeners:F}),P?M.data=P:(P=gS(n),P!==null&&(M.data=P)))),(P=Z3?Q3(t,n):J3(t,n))&&(u=Ph(u,"onBeforeInput"),0<u.length&&(d=new W1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}AS(f,e)})}function Qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wc(t,n),i!=null&&r.unshift(Qc(t,i,s)),i=Wc(t,e),i!=null&&r.push(Qc(t,i,s))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Wc(n,i),l!=null&&o.unshift(Qc(n,l,a))):s||(l=Wc(n,i),l!=null&&o.push(Qc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var f4=/\r\n?/g,p4=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(f4,`
`).replace(p4,"")}function dd(t,e,n){if(e=sw(e),sw(t)!==e&&n)throw Error(oe(425))}function Bh(){}var D0=null,z0=null;function U0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $0=typeof setTimeout=="function"?setTimeout:void 0,m4=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,g4=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(t){return iw.resolve(null).then(t).catch(y4)}:$0;function y4(t){setTimeout(function(){throw t})}function sm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qc(e)}function Ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ow(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),ls="__reactFiber$"+gl,Jc="__reactProps$"+gl,Ks="__reactContainer$"+gl,F0="__reactEvents$"+gl,x4="__reactListeners$"+gl,w4="__reactHandles$"+gl;function fo(t){var e=t[ls];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[ls]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ow(t);t!==null;){if(n=t[ls])return n;t=ow(t)}return e}t=n,n=t.parentNode}return null}function Mu(t){return t=t[ls]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Df(t){return t[Jc]||null}var H0=[],ba=-1;function Yi(t){return{current:t}}function vt(t){0>ba||(t.current=H0[ba],H0[ba]=null,ba--)}function pt(t,e){ba++,H0[ba]=t.current,t.current=e}var Fi={},On=Yi(Fi),Qn=Yi(!1),Co=Fi;function Ga(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jn(t){return t=t.childContextTypes,t!=null}function Lh(){vt(Qn),vt(On)}function aw(t,e,n){if(On.current!==Fi)throw Error(oe(168));pt(On,e),pt(Qn,n)}function IS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,r3(t)||"Unknown",s));return It({},n,r)}function Dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Co=On.current,pt(On,t),pt(Qn,Qn.current),!0}function lw(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=IS(t,e,Co),r.__reactInternalMemoizedMergedChildContext=t,vt(Qn),vt(On),pt(On,t)):vt(Qn),pt(Qn,n)}var Os=null,zf=!1,im=!1;function CS(t){Os===null?Os=[t]:Os.push(t)}function v4(t){zf=!0,CS(t)}function Xi(){if(!im&&Os!==null){im=!0;var t=0,e=at;try{var n=Os;for(at=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,zf=!1}catch(s){throw Os!==null&&(Os=Os.slice(t+1)),nS(gy,Xi),s}finally{at=e,im=!1}}return null}var _a=[],Sa=0,zh=null,Uh=0,wr=[],vr=0,Oo=null,zs=1,Us="";function so(t,e){_a[Sa++]=Uh,_a[Sa++]=zh,zh=t,Uh=e}function OS(t,e,n){wr[vr++]=zs,wr[vr++]=Us,wr[vr++]=Oo,Oo=t;var r=zs;t=Us;var s=32-Fr(r)-1;r&=~(1<<s),n+=1;var i=32-Fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zs=1<<32-Fr(e)+s|n<<s|r,Us=i+t}else zs=1<<i|n<<s|r,Us=t}function ky(t){t.return!==null&&(so(t,1),OS(t,1,0))}function Ny(t){for(;t===zh;)zh=_a[--Sa],_a[Sa]=null,Uh=_a[--Sa],_a[Sa]=null;for(;t===Oo;)Oo=wr[--vr],wr[vr]=null,Us=wr[--vr],wr[vr]=null,zs=wr[--vr],wr[vr]=null}var ar=null,or=null,Et=!1,Dr=null;function jS(t,e){var n=_r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,or=Ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oo!==null?{id:zs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ar=t,or=null,!0):!1;default:return!1}}function V0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function W0(t){if(Et){var e=or;if(e){var n=e;if(!cw(t,e)){if(V0(t))throw Error(oe(418));e=Ii(n.nextSibling);var r=ar;e&&cw(t,e)?jS(r,n):(t.flags=t.flags&-4097|2,Et=!1,ar=t)}}else{if(V0(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Et=!1,ar=t}}}function uw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function hd(t){if(t!==ar)return!1;if(!Et)return uw(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!U0(t.type,t.memoizedProps)),e&&(e=or)){if(V0(t))throw MS(),Error(oe(418));for(;e;)jS(t,e),e=Ii(e.nextSibling)}if(uw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){or=Ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}or=null}}else or=ar?Ii(t.stateNode.nextSibling):null;return!0}function MS(){for(var t=or;t;)t=Ii(t.nextSibling)}function qa(){or=ar=null,Et=!1}function Ry(t){Dr===null?Dr=[t]:Dr.push(t)}var b4=ei.ReactCurrentBatchConfig;function ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function fd(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dw(t){var e=t._init;return e(t._payload)}function PS(t){function e(x,S){if(t){var k=x.deletions;k===null?(x.deletions=[S],x.flags|=16):k.push(S)}}function n(x,S){if(!t)return null;for(;S!==null;)e(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function s(x,S){return x=Mi(x,S),x.index=0,x.sibling=null,x}function i(x,S,k){return x.index=k,t?(k=x.alternate,k!==null?(k=k.index,k<S?(x.flags|=2,S):k):(x.flags|=2,S)):(x.flags|=1048576,S)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,S,k,R){return S===null||S.tag!==6?(S=hm(k,x.mode,R),S.return=x,S):(S=s(S,k),S.return=x,S)}function l(x,S,k,R){var j=k.type;return j===ga?d(x,S,k.props.children,R,k.key):S!==null&&(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hi&&dw(j)===S.type)?(R=s(S,k.props),R.ref=ql(x,S,k),R.return=x,R):(R=mh(k.type,k.key,k.props,null,x.mode,R),R.ref=ql(x,S,k),R.return=x,R)}function u(x,S,k,R){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=fm(k,x.mode,R),S.return=x,S):(S=s(S,k.children||[]),S.return=x,S)}function d(x,S,k,R,j){return S===null||S.tag!==7?(S=No(k,x.mode,R,j),S.return=x,S):(S=s(S,k),S.return=x,S)}function f(x,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=hm(""+S,x.mode,k),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nd:return k=mh(S.type,S.key,S.props,null,x.mode,k),k.ref=ql(x,null,S),k.return=x,k;case ma:return S=fm(S,x.mode,k),S.return=x,S;case hi:var R=S._init;return f(x,R(S._payload),k)}if(dc(S)||Hl(S))return S=No(S,x.mode,k,null),S.return=x,S;fd(x,S)}return null}function m(x,S,k,R){var j=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return j!==null?null:a(x,S,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nd:return k.key===j?l(x,S,k,R):null;case ma:return k.key===j?u(x,S,k,R):null;case hi:return j=k._init,m(x,S,j(k._payload),R)}if(dc(k)||Hl(k))return j!==null?null:d(x,S,k,R,null);fd(x,k)}return null}function p(x,S,k,R,j){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(k)||null,a(S,x,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case nd:return x=x.get(R.key===null?k:R.key)||null,l(S,x,R,j);case ma:return x=x.get(R.key===null?k:R.key)||null,u(S,x,R,j);case hi:var F=R._init;return p(x,S,k,F(R._payload),j)}if(dc(R)||Hl(R))return x=x.get(k)||null,d(S,x,R,j,null);fd(S,R)}return null}function y(x,S,k,R){for(var j=null,F=null,P=S,M=S=0,D=null;P!==null&&M<k.length;M++){P.index>M?(D=P,P=null):D=P.sibling;var L=m(x,P,k[M],R);if(L===null){P===null&&(P=D);break}t&&P&&L.alternate===null&&e(x,P),S=i(L,S,M),F===null?j=L:F.sibling=L,F=L,P=D}if(M===k.length)return n(x,P),Et&&so(x,M),j;if(P===null){for(;M<k.length;M++)P=f(x,k[M],R),P!==null&&(S=i(P,S,M),F===null?j=P:F.sibling=P,F=P);return Et&&so(x,M),j}for(P=r(x,P);M<k.length;M++)D=p(P,x,M,k[M],R),D!==null&&(t&&D.alternate!==null&&P.delete(D.key===null?M:D.key),S=i(D,S,M),F===null?j=D:F.sibling=D,F=D);return t&&P.forEach(function(z){return e(x,z)}),Et&&so(x,M),j}function w(x,S,k,R){var j=Hl(k);if(typeof j!="function")throw Error(oe(150));if(k=j.call(k),k==null)throw Error(oe(151));for(var F=j=null,P=S,M=S=0,D=null,L=k.next();P!==null&&!L.done;M++,L=k.next()){P.index>M?(D=P,P=null):D=P.sibling;var z=m(x,P,L.value,R);if(z===null){P===null&&(P=D);break}t&&P&&z.alternate===null&&e(x,P),S=i(z,S,M),F===null?j=z:F.sibling=z,F=z,P=D}if(L.done)return n(x,P),Et&&so(x,M),j;if(P===null){for(;!L.done;M++,L=k.next())L=f(x,L.value,R),L!==null&&(S=i(L,S,M),F===null?j=L:F.sibling=L,F=L);return Et&&so(x,M),j}for(P=r(x,P);!L.done;M++,L=k.next())L=p(P,x,M,L.value,R),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?M:L.key),S=i(L,S,M),F===null?j=L:F.sibling=L,F=L);return t&&P.forEach(function(H){return e(x,H)}),Et&&so(x,M),j}function v(x,S,k,R){if(typeof k=="object"&&k!==null&&k.type===ga&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case nd:e:{for(var j=k.key,F=S;F!==null;){if(F.key===j){if(j=k.type,j===ga){if(F.tag===7){n(x,F.sibling),S=s(F,k.props.children),S.return=x,x=S;break e}}else if(F.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hi&&dw(j)===F.type){n(x,F.sibling),S=s(F,k.props),S.ref=ql(x,F,k),S.return=x,x=S;break e}n(x,F);break}else e(x,F);F=F.sibling}k.type===ga?(S=No(k.props.children,x.mode,R,k.key),S.return=x,x=S):(R=mh(k.type,k.key,k.props,null,x.mode,R),R.ref=ql(x,S,k),R.return=x,x=R)}return o(x);case ma:e:{for(F=k.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){n(x,S.sibling),S=s(S,k.children||[]),S.return=x,x=S;break e}else{n(x,S);break}else e(x,S);S=S.sibling}S=fm(k,x.mode,R),S.return=x,x=S}return o(x);case hi:return F=k._init,v(x,S,F(k._payload),R)}if(dc(k))return y(x,S,k,R);if(Hl(k))return w(x,S,k,R);fd(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(n(x,S.sibling),S=s(S,k),S.return=x,x=S):(n(x,S),S=hm(k,x.mode,R),S.return=x,x=S),o(x)):n(x,S)}return v}var Ya=PS(!0),BS=PS(!1),$h=Yi(null),Fh=null,Ea=null,Ay=null;function Ty(){Ay=Ea=Fh=null}function Iy(t){var e=$h.current;vt($h),t._currentValue=e}function K0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ba(t,e){Fh=t,Ay=Ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Ar(t){var e=t._currentValue;if(Ay!==t)if(t={context:t,memoizedValue:e,next:null},Ea===null){if(Fh===null)throw Error(oe(308));Ea=t,Fh.dependencies={lanes:0,firstContext:t}}else Ea=Ea.next=t;return e}var po=null;function Cy(t){po===null?po=[t]:po.push(t)}function LS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gs(t,r)}function Gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gs(t,n)}return s=r.interleaved,s===null?(e.next=e,Cy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gs(t,n)}function ch(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yy(t,n)}}function hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hh(t,e,n,r){var s=t.updateQueue;fi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(m=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(p,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,m=typeof y=="function"?y.call(p,f,m):y,m==null)break e;f=It({},f,m);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=f}}function fw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var Pu={},ps=Yi(Pu),eu=Yi(Pu),tu=Yi(Pu);function mo(t){if(t===Pu)throw Error(oe(174));return t}function jy(t,e){switch(pt(tu,e),pt(eu,t),pt(ps,Pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N0(e,t)}vt(ps),pt(ps,e)}function Xa(){vt(ps),vt(eu),vt(tu)}function zS(t){mo(tu.current);var e=mo(ps.current),n=N0(e,t.type);e!==n&&(pt(eu,t),pt(ps,n))}function My(t){eu.current===t&&(vt(ps),vt(eu))}var Rt=Yi(0);function Vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var om=[];function Py(){for(var t=0;t<om.length;t++)om[t]._workInProgressVersionPrimary=null;om.length=0}var uh=ei.ReactCurrentDispatcher,am=ei.ReactCurrentBatchConfig,jo=0,Tt=null,tn=null,ln=null,Wh=!1,kc=!1,nu=0,_4=0;function _n(){throw Error(oe(321))}function By(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function Ly(t,e,n,r,s,i){if(jo=i,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uh.current=t===null||t.memoizedState===null?N4:R4,t=n(r,s),kc){i=0;do{if(kc=!1,nu=0,25<=i)throw Error(oe(301));i+=1,ln=tn=null,e.updateQueue=null,uh.current=A4,t=n(r,s)}while(kc)}if(uh.current=Kh,e=tn!==null&&tn.next!==null,jo=0,ln=tn=Tt=null,Wh=!1,e)throw Error(oe(300));return t}function Dy(){var t=nu!==0;return nu=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Tt.memoizedState=ln=t:ln=ln.next=t,ln}function Tr(){if(tn===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=ln===null?Tt.memoizedState:ln.next;if(e!==null)ln=e,tn=t;else{if(t===null)throw Error(oe(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},ln===null?Tt.memoizedState=ln=t:ln=ln.next=t}return ln}function ru(t,e){return typeof e=="function"?e(t):e}function lm(t){var e=Tr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=tn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((jo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Tt.lanes|=d,Mo|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Gr(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Tt.lanes|=i,Mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cm(t){var e=Tr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gr(i,e.memoizedState)||(Yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function US(){}function $S(t,e){var n=Tt,r=Tr(),s=e(),i=!Gr(r.memoizedState,s);if(i&&(r.memoizedState=s,Yn=!0),r=r.queue,zy(VS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ln!==null&&ln.memoizedState.tag&1){if(n.flags|=2048,su(9,HS.bind(null,n,r,s,e),void 0,null),cn===null)throw Error(oe(349));jo&30||FS(n,e,s)}return s}function FS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HS(t,e,n,r){e.value=n,e.getSnapshot=r,WS(e)&&KS(t)}function VS(t,e,n){return n(function(){WS(e)&&KS(t)})}function WS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function KS(t){var e=Gs(t,1);e!==null&&Hr(e,t,1,-1)}function pw(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:t},e.queue=t,t=t.dispatch=k4.bind(null,Tt,t),[e.memoizedState,t]}function su(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GS(){return Tr().memoizedState}function dh(t,e,n,r){var s=ss();Tt.flags|=t,s.memoizedState=su(1|e,n,void 0,r===void 0?null:r)}function Uf(t,e,n,r){var s=Tr();r=r===void 0?null:r;var i=void 0;if(tn!==null){var o=tn.memoizedState;if(i=o.destroy,r!==null&&By(r,o.deps)){s.memoizedState=su(e,n,i,r);return}}Tt.flags|=t,s.memoizedState=su(1|e,n,i,r)}function mw(t,e){return dh(8390656,8,t,e)}function zy(t,e){return Uf(2048,8,t,e)}function qS(t,e){return Uf(4,2,t,e)}function YS(t,e){return Uf(4,4,t,e)}function XS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZS(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4,4,XS.bind(null,e,t),n)}function Uy(){}function QS(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&By(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JS(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&By(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eE(t,e,n){return jo&21?(Gr(n,e)||(n=iS(),Tt.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function S4(t,e){var n=at;at=n!==0&&4>n?n:4,t(!0);var r=am.transition;am.transition={};try{t(!1),e()}finally{at=n,am.transition=r}}function tE(){return Tr().memoizedState}function E4(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nE(t))rE(e,n);else if(n=LS(t,e,n,r),n!==null){var s=Ln();Hr(n,t,r,s),sE(n,e,r)}}function k4(t,e,n){var r=ji(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nE(t))rE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Gr(a,o)){var l=e.interleaved;l===null?(s.next=s,Cy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=LS(t,e,s,r),n!==null&&(s=Ln(),Hr(n,t,r,s),sE(n,e,r))}}function nE(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function rE(t,e){kc=Wh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yy(t,n)}}var Kh={readContext:Ar,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},N4={readContext:Ar,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:Ar,useEffect:mw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dh(4194308,4,XS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return dh(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E4.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:pw,useDebugValue:Uy,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=pw(!1),e=t[0];return t=S4.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,s=ss();if(Et){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),cn===null)throw Error(oe(349));jo&30||FS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,mw(VS.bind(null,r,i,t),[t]),r.flags|=2048,su(9,HS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ss(),e=cn.identifierPrefix;if(Et){var n=Us,r=zs;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R4={readContext:Ar,useCallback:QS,useContext:Ar,useEffect:zy,useImperativeHandle:ZS,useInsertionEffect:qS,useLayoutEffect:YS,useMemo:JS,useReducer:lm,useRef:GS,useState:function(){return lm(ru)},useDebugValue:Uy,useDeferredValue:function(t){var e=Tr();return eE(e,tn.memoizedState,t)},useTransition:function(){var t=lm(ru)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:$S,useId:tE,unstable_isNewReconciler:!1},A4={readContext:Ar,useCallback:QS,useContext:Ar,useEffect:zy,useImperativeHandle:ZS,useInsertionEffect:qS,useLayoutEffect:YS,useMemo:JS,useReducer:cm,useRef:GS,useState:function(){return cm(ru)},useDebugValue:Uy,useDeferredValue:function(t){var e=Tr();return tn===null?e.memoizedState=t:eE(e,tn.memoizedState,t)},useTransition:function(){var t=cm(ru)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:$S,useId:tE,unstable_isNewReconciler:!1};function Pr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function G0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?Vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),s=ji(t),i=Hs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ci(t,i,s),e!==null&&(Hr(e,t,s,r),ch(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),s=ji(t),i=Hs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ci(t,i,s),e!==null&&(Hr(e,t,s,r),ch(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=ji(t),s=Hs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ci(t,s,r),e!==null&&(Hr(e,t,r,n),ch(e,t,r))}};function gw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xc(n,r)||!Xc(s,i):!0}function iE(t,e,n){var r=!1,s=Fi,i=e.contextType;return typeof i=="object"&&i!==null?i=Ar(i):(s=Jn(e)?Co:On.current,r=e.contextTypes,i=(r=r!=null)?Ga(t,s):Fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function q0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Oy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ar(i):(i=Jn(e)?Co:On.current,s.context=Ga(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(G0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$f.enqueueReplaceState(s,s.state,null),Hh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Za(t,e){try{var n="",r=e;do n+=n3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function um(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Y0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T4=typeof WeakMap=="function"?WeakMap:Map;function oE(t,e,n){n=Hs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qh||(qh=!0,ig=r),Y0(t,e)},n}function aE(t,e,n){n=Hs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Y0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Y0(t,e),typeof r!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=H4.bind(null,t,e,n),e.then(t,t))}function ww(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hs(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var I4=ei.ReactCurrentOwner,Yn=!1;function Pn(t,e,n,r){e.child=t===null?BS(e,null,n,r):Ya(e,t.child,n,r)}function bw(t,e,n,r,s){n=n.render;var i=e.ref;return Ba(e,s),r=Ly(t,e,n,r,i,s),n=Dy(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qs(t,e,s)):(Et&&n&&ky(e),e.flags|=1,Pn(t,e,r,s),e.child)}function _w(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lE(t,e,i,r,s)):(t=mh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(o,r)&&t.ref===e.ref)return qs(t,e,s)}return e.flags|=1,t=Mi(i,r),t.ref=e.ref,t.return=e,e.child=t}function lE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xc(i,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,qs(t,e,s)}return X0(t,e,n,r,s)}function cE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Na,rr),rr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(Na,rr),rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pt(Na,rr),rr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,pt(Na,rr),rr|=r;return Pn(t,e,s,n),e.child}function uE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X0(t,e,n,r,s){var i=Jn(n)?Co:On.current;return i=Ga(e,i),Ba(e,s),n=Ly(t,e,n,r,i,s),r=Dy(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qs(t,e,s)):(Et&&r&&ky(e),e.flags|=1,Pn(t,e,n,s),e.child)}function Sw(t,e,n,r,s){if(Jn(n)){var i=!0;Dh(e)}else i=!1;if(Ba(e,s),e.stateNode===null)hh(t,e),iE(e,n,r),q0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ar(u):(u=Jn(n)?Co:On.current,u=Ga(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yw(e,o,r,u),fi=!1;var m=e.memoizedState;o.state=m,Hh(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Qn.current||fi?(typeof d=="function"&&(G0(e,n,d,r),l=e.memoizedState),(a=fi||gw(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pr(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=Jn(n)?Co:On.current,l=Ga(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&yw(e,o,r,l),fi=!1,m=e.memoizedState,o.state=m,Hh(e,r,o,s);var y=e.memoizedState;a!==f||m!==y||Qn.current||fi?(typeof p=="function"&&(G0(e,n,p,r),y=e.memoizedState),(u=fi||gw(e,n,u,r,m,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Z0(t,e,n,r,i,s)}function Z0(t,e,n,r,s,i){uE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&lw(e,n,!1),qs(t,e,i);r=e.stateNode,I4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ya(e,t.child,null,i),e.child=Ya(e,null,a,i)):Pn(t,e,a,i),e.memoizedState=r.state,s&&lw(e,n,!0),e.child}function dE(t){var e=t.stateNode;e.pendingContext?aw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aw(t,e.context,!1),jy(t,e.containerInfo)}function Ew(t,e,n,r,s){return qa(),Ry(s),e.flags|=256,Pn(t,e,n,r),e.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function J0(t){return{baseLanes:t,cachePool:null,transitions:null}}function hE(t,e,n){var r=e.pendingProps,s=Rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pt(Rt,s&1),t===null)return W0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vf(o,r,0,null),t=No(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=J0(n),e.memoizedState=Q0,t):$y(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return C4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mi(a,i):(i=No(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?J0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Q0,r}return i=t.child,t=i.sibling,r=Mi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $y(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pd(t,e,n,r){return r!==null&&Ry(r),Ya(e,t.child,null,n),t=$y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=um(Error(oe(422))),pd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vf({mode:"visible",children:r.children},s,0,null),i=No(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ya(e,t.child,null,o),e.child.memoizedState=J0(o),e.memoizedState=Q0,i);if(!(e.mode&1))return pd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(oe(419)),r=um(i,r,void 0),pd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yn||a){if(r=cn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gs(t,s),Hr(r,t,s,-1))}return Gy(),r=um(Error(oe(421))),pd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=V4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,or=Ii(s.nextSibling),ar=e,Et=!0,Dr=null,t!==null&&(wr[vr++]=zs,wr[vr++]=Us,wr[vr++]=Oo,zs=t.id,Us=t.overflow,Oo=e),e=$y(e,r.children),e.flags|=4096,e)}function kw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),K0(t.return,e,n)}function dm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pn(t,e,r.children,n),r=Rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kw(t,n,e);else if(t.tag===19)kw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(Rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dm(e,!0,n,null,i);break;case"together":dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O4(t,e,n){switch(e.tag){case 3:dE(e),qa();break;case 5:zS(e);break;case 1:Jn(e.type)&&Dh(e);break;case 4:jy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;pt($h,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(Rt,Rt.current&1),e.flags|=128,null):n&e.child.childLanes?hE(t,e,n):(pt(Rt,Rt.current&1),t=qs(t,e,n),t!==null?t.sibling:null);pt(Rt,Rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pt(Rt,Rt.current),r)break;return null;case 22:case 23:return e.lanes=0,cE(t,e,n)}return qs(t,e,n)}var pE,eg,mE,gE;pE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eg=function(){};mE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mo(ps.current);var i=null;switch(n){case"input":s=_0(t,s),r=_0(t,r),i=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),i=[];break;case"textarea":s=k0(t,s),r=k0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bh)}R0(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};gE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yl(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j4(t,e,n){var r=e.pendingProps;switch(Ny(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return Jn(e.type)&&Lh(),Sn(e),null;case 3:return r=e.stateNode,Xa(),vt(Qn),vt(On),Py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(lg(Dr),Dr=null))),eg(t,e),Sn(e),null;case 5:My(e);var s=mo(tu.current);if(n=e.type,t!==null&&e.stateNode!=null)mE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Sn(e),null}if(t=mo(ps.current),hd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ls]=e,r[Jc]=i,t=(e.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(s=0;s<fc.length;s++)yt(fc[s],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":M1(r,i),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},yt("invalid",r);break;case"textarea":B1(r,i),yt("invalid",r)}R0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&dd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&dd(r.textContent,a,t),s=["children",""+a]):Hc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yt("scroll",r)}switch(n){case"input":rd(r),P1(r,i,!0);break;case"textarea":rd(r),L1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ls]=e,t[Jc]=r,pE(t,e,!1,!1),e.stateNode=t;e:{switch(o=A0(n,r),n){case"dialog":yt("cancel",t),yt("close",t),s=r;break;case"iframe":case"object":case"embed":yt("load",t),s=r;break;case"video":case"audio":for(s=0;s<fc.length;s++)yt(fc[s],t);s=r;break;case"source":yt("error",t),s=r;break;case"img":case"image":case"link":yt("error",t),yt("load",t),s=r;break;case"details":yt("toggle",t),s=r;break;case"input":M1(t,r),s=_0(t,r),yt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),yt("invalid",t);break;case"textarea":B1(t,r),s=k0(t,r),yt("invalid",t);break;default:s=r}R0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?G2(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W2(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vc(t,l):typeof l=="number"&&Vc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&yt("scroll",t):l!=null&&dy(t,i,l,o))}switch(n){case"input":rd(t),P1(t,r,!1);break;case"textarea":rd(t),L1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$i(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Oa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)gE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=mo(tu.current),mo(ps.current),hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ls]=e,(i=r.nodeValue!==n)&&(t=ar,t!==null))switch(t.tag){case 3:dd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=e,e.stateNode=r}return Sn(e),null;case 13:if(vt(Rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&or!==null&&e.mode&1&&!(e.flags&128))MS(),qa(),e.flags|=98560,i=!1;else if(i=hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[ls]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),i=!1}else Dr!==null&&(lg(Dr),Dr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?rn===0&&(rn=3):Gy())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return Xa(),eg(t,e),t===null&&Zc(e.stateNode.containerInfo),Sn(e),null;case 10:return Iy(e.type._context),Sn(e),null;case 17:return Jn(e.type)&&Lh(),Sn(e),null;case 19:if(vt(Rt),i=e.memoizedState,i===null)return Sn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yl(i,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vh(t),o!==null){for(e.flags|=128,Yl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Zt()>Qa&&(e.flags|=128,r=!0,Yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return Sn(e),null}else 2*Zt()-i.renderingStartTime>Qa&&n!==1073741824&&(e.flags|=128,r=!0,Yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Zt(),e.sibling=null,n=Rt.current,pt(Rt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return Ky(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rr&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function M4(t,e){switch(Ny(e),e.tag){case 1:return Jn(e.type)&&Lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),vt(Qn),vt(On),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return My(e),null;case 13:if(vt(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(Rt),null;case 4:return Xa(),null;case 10:return Iy(e.type._context),null;case 22:case 23:return Ky(),null;case 24:return null;default:return null}}var md=!1,In=!1,P4=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(t,e,r)}else n.current=null}function tg(t,e,n){try{n()}catch(r){Kt(t,e,r)}}var Nw=!1;function B4(t,e){if(D0=jh,t=bS(),Ey(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z0={focusedElem:t,selectionRange:n},jh=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,v=y.memoizedState,x=e.stateNode,S=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Pr(e.type,w),v);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(R){Kt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return y=Nw,Nw=!1,y}function Nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tg(e,n,i)}s=s.next}while(s!==r)}}function Ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yE(t){var e=t.alternate;e!==null&&(t.alternate=null,yE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[Jc],delete e[F0],delete e[x4],delete e[w4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xE(t){return t.tag===5||t.tag===3||t.tag===4}function Rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bh));else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}var pn=null,Br=!1;function si(t,e,n){for(n=n.child;n!==null;)wE(t,e,n),n=n.sibling}function wE(t,e,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Mf,n)}catch{}switch(n.tag){case 5:In||ka(n,e);case 6:var r=pn,s=Br;pn=null,si(t,e,n),pn=r,Br=s,pn!==null&&(Br?(t=pn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pn.removeChild(n.stateNode));break;case 18:pn!==null&&(Br?(t=pn,n=n.stateNode,t.nodeType===8?sm(t.parentNode,n):t.nodeType===1&&sm(t,n),qc(t)):sm(pn,n.stateNode));break;case 4:r=pn,s=Br,pn=n.stateNode.containerInfo,Br=!0,si(t,e,n),pn=r,Br=s;break;case 0:case 11:case 14:case 15:if(!In&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tg(n,e,o),s=s.next}while(s!==r)}si(t,e,n);break;case 1:if(!In&&(ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Kt(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(In=(r=In)||n.memoizedState!==null,si(t,e,n),In=r):si(t,e,n);break;default:si(t,e,n)}}function Aw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P4),e.forEach(function(r){var s=W4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pn=a.stateNode,Br=!1;break e;case 3:pn=a.stateNode.containerInfo,Br=!0;break e;case 4:pn=a.stateNode.containerInfo,Br=!0;break e}a=a.return}if(pn===null)throw Error(oe(160));wE(i,o,s),pn=null,Br=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Kt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vE(e,t),e=e.sibling}function vE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mr(e,t),Qr(t),r&4){try{Nc(3,t,t.return),Ff(3,t)}catch(w){Kt(t,t.return,w)}try{Nc(5,t,t.return)}catch(w){Kt(t,t.return,w)}}break;case 1:Mr(e,t),Qr(t),r&512&&n!==null&&ka(n,n.return);break;case 5:if(Mr(e,t),Qr(t),r&512&&n!==null&&ka(n,n.return),t.flags&32){var s=t.stateNode;try{Vc(s,"")}catch(w){Kt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&F2(s,i),A0(a,o);var u=A0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?G2(s,f):d==="dangerouslySetInnerHTML"?W2(s,f):d==="children"?Vc(s,f):dy(s,d,f,u)}switch(a){case"input":S0(s,i);break;case"textarea":H2(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oa(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Oa(s,!!i.multiple,i.defaultValue,!0):Oa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jc]=i}catch(w){Kt(t,t.return,w)}}break;case 6:if(Mr(e,t),Qr(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Kt(t,t.return,w)}}break;case 3:if(Mr(e,t),Qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(w){Kt(t,t.return,w)}break;case 4:Mr(e,t),Qr(t);break;case 13:Mr(e,t),Qr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vy=Zt())),r&4&&Aw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(In=(u=In)||d,Mr(e,t),In=u):Mr(e,t),Qr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(m=ve,p=m.child,m.tag){case 0:case 11:case 14:case 15:Nc(4,m,m.return);break;case 1:ka(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Kt(r,n,w)}}break;case 5:ka(m,m.return);break;case 22:if(m.memoizedState!==null){Iw(f);continue}}p!==null?(p.return=m,ve=p):Iw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=K2("display",o))}catch(w){Kt(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Kt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mr(e,t),Qr(t),r&4&&Aw(t);break;case 21:break;default:Mr(e,t),Qr(t)}}function Qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xE(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vc(s,""),r.flags&=-33);var i=Rw(t);sg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rw(t);rg(t,a,o);break;default:throw Error(oe(161))}}catch(l){Kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L4(t,e,n){ve=t,bE(t)}function bE(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var s=ve,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||md;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||In;a=md;var u=In;if(md=o,(In=l)&&!u)for(ve=s;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?Cw(s):l!==null?(l.return=o,ve=l):Cw(s);for(;i!==null;)ve=i,bE(i),i=i.sibling;ve=s,md=a,In=u}Tw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ve=i):Tw(t)}}function Tw(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:In||Ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!In)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}In||e.flags&512&&ng(e)}catch(m){Kt(e,e.return,m)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function Iw(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function Cw(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ff(4,e)}catch(l){Kt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Kt(e,s,l)}}var i=e.return;try{ng(e)}catch(l){Kt(e,i,l)}break;case 5:var o=e.return;try{ng(e)}catch(l){Kt(e,o,l)}}}catch(l){Kt(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var D4=Math.ceil,Gh=ei.ReactCurrentDispatcher,Fy=ei.ReactCurrentOwner,Nr=ei.ReactCurrentBatchConfig,nt=0,cn=null,en=null,xn=0,rr=0,Na=Yi(0),rn=0,iu=null,Mo=0,Hf=0,Hy=0,Rc=null,Vn=null,Vy=0,Qa=1/0,Cs=null,qh=!1,ig=null,Oi=null,gd=!1,bi=null,Yh=0,Ac=0,og=null,fh=-1,ph=0;function Ln(){return nt&6?Zt():fh!==-1?fh:fh=Zt()}function ji(t){return t.mode&1?nt&2&&xn!==0?xn&-xn:b4.transition!==null?(ph===0&&(ph=iS()),ph):(t=at,t!==0||(t=window.event,t=t===void 0?16:hS(t.type)),t):1}function Hr(t,e,n,r){if(50<Ac)throw Ac=0,og=null,Error(oe(185));Ou(t,n,r),(!(nt&2)||t!==cn)&&(t===cn&&(!(nt&2)&&(Hf|=n),rn===4&&xi(t,xn)),er(t,r),n===1&&nt===0&&!(e.mode&1)&&(Qa=Zt()+500,zf&&Xi()))}function er(t,e){var n=t.callbackNode;b3(t,e);var r=Oh(t,t===cn?xn:0);if(r===0)n!==null&&U1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U1(n),e===1)t.tag===0?v4(Ow.bind(null,t)):CS(Ow.bind(null,t)),g4(function(){!(nt&6)&&Xi()}),n=null;else{switch(oS(r)){case 1:n=gy;break;case 4:n=rS;break;case 16:n=Ch;break;case 536870912:n=sS;break;default:n=Ch}n=TE(n,_E.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _E(t,e){if(fh=-1,ph=0,nt&6)throw Error(oe(327));var n=t.callbackNode;if(La()&&t.callbackNode!==n)return null;var r=Oh(t,t===cn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xh(t,r);else{e=r;var s=nt;nt|=2;var i=EE();(cn!==t||xn!==e)&&(Cs=null,Qa=Zt()+500,ko(t,e));do try{$4();break}catch(a){SE(t,a)}while(!0);Ty(),Gh.current=i,nt=s,en!==null?e=0:(cn=null,xn=0,e=rn)}if(e!==0){if(e===2&&(s=j0(t),s!==0&&(r=s,e=ag(t,s))),e===1)throw n=iu,ko(t,0),xi(t,r),er(t,Zt()),n;if(e===6)xi(t,r);else{if(s=t.current.alternate,!(r&30)&&!z4(s)&&(e=Xh(t,r),e===2&&(i=j0(t),i!==0&&(r=i,e=ag(t,i))),e===1))throw n=iu,ko(t,0),xi(t,r),er(t,Zt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:io(t,Vn,Cs);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=Vy+500-Zt(),10<e)){if(Oh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$0(io.bind(null,t,Vn,Cs),e);break}io(t,Vn,Cs);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D4(r/1960))-r,10<r){t.timeoutHandle=$0(io.bind(null,t,Vn,Cs),r);break}io(t,Vn,Cs);break;case 5:io(t,Vn,Cs);break;default:throw Error(oe(329))}}}return er(t,Zt()),t.callbackNode===n?_E.bind(null,t):null}function ag(t,e){var n=Rc;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=Xh(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&lg(e)),t}function lg(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function z4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~Hy,e&=~Hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function Ow(t){if(nt&6)throw Error(oe(327));La();var e=Oh(t,0);if(!(e&1))return er(t,Zt()),null;var n=Xh(t,e);if(t.tag!==0&&n===2){var r=j0(t);r!==0&&(e=r,n=ag(t,r))}if(n===1)throw n=iu,ko(t,0),xi(t,e),er(t,Zt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,Vn,Cs),er(t,Zt()),null}function Wy(t,e){var n=nt;nt|=1;try{return t(e)}finally{nt=n,nt===0&&(Qa=Zt()+500,zf&&Xi())}}function Po(t){bi!==null&&bi.tag===0&&!(nt&6)&&La();var e=nt;nt|=1;var n=Nr.transition,r=at;try{if(Nr.transition=null,at=1,t)return t()}finally{at=r,Nr.transition=n,nt=e,!(nt&6)&&Xi()}}function Ky(){rr=Na.current,vt(Na)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,m4(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(Ny(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lh();break;case 3:Xa(),vt(Qn),vt(On),Py();break;case 5:My(r);break;case 4:Xa();break;case 13:vt(Rt);break;case 19:vt(Rt);break;case 10:Iy(r.type._context);break;case 22:case 23:Ky()}n=n.return}if(cn=t,en=t=Mi(t.current,null),xn=rr=e,rn=0,iu=null,Hy=Hf=Mo=0,Vn=Rc=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}po=null}return t}function SE(t,e){do{var n=en;try{if(Ty(),uh.current=Kh,Wh){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wh=!1}if(jo=0,ln=tn=Tt=null,kc=!1,nu=0,Fy.current=null,n===null||n.return===null){rn=1,iu=e,en=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ww(o);if(p!==null){p.flags&=-257,vw(p,o,a,i,e),p.mode&1&&xw(i,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){xw(i,u,e),Gy();break e}l=Error(oe(426))}}else if(Et&&a.mode&1){var v=ww(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vw(v,o,a,i,e),Ry(Za(l,a));break e}}i=l=Za(l,a),rn!==4&&(rn=2),Rc===null?Rc=[i]:Rc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=oE(i,l,e);hw(i,x);break e;case 1:a=l;var S=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Oi===null||!Oi.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=aE(i,a,e);hw(i,R);break e}}i=i.return}while(i!==null)}NE(n)}catch(j){e=j,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function EE(){var t=Gh.current;return Gh.current=Kh,t===null?Kh:t}function Gy(){(rn===0||rn===3||rn===2)&&(rn=4),cn===null||!(Mo&268435455)&&!(Hf&268435455)||xi(cn,xn)}function Xh(t,e){var n=nt;nt|=2;var r=EE();(cn!==t||xn!==e)&&(Cs=null,ko(t,e));do try{U4();break}catch(s){SE(t,s)}while(!0);if(Ty(),nt=n,Gh.current=r,en!==null)throw Error(oe(261));return cn=null,xn=0,rn}function U4(){for(;en!==null;)kE(en)}function $4(){for(;en!==null&&!h3();)kE(en)}function kE(t){var e=AE(t.alternate,t,rr);t.memoizedProps=t.pendingProps,e===null?NE(t):en=e,Fy.current=null}function NE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M4(n,e),n!==null){n.flags&=32767,en=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,en=null;return}}else if(n=j4(n,e,rr),n!==null){en=n;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);rn===0&&(rn=5)}function io(t,e,n){var r=at,s=Nr.transition;try{Nr.transition=null,at=1,F4(t,e,n,r)}finally{Nr.transition=s,at=r}return null}function F4(t,e,n,r){do La();while(bi!==null);if(nt&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_3(t,i),t===cn&&(en=cn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gd||(gd=!0,TE(Ch,function(){return La(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nr.transition,Nr.transition=null;var o=at;at=1;var a=nt;nt|=4,Fy.current=null,B4(t,n),vE(n,t),l4(z0),jh=!!D0,z0=D0=null,t.current=n,L4(n),f3(),nt=a,at=o,Nr.transition=i}else t.current=n;if(gd&&(gd=!1,bi=t,Yh=s),i=t.pendingLanes,i===0&&(Oi=null),g3(n.stateNode),er(t,Zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qh)throw qh=!1,t=ig,ig=null,t;return Yh&1&&t.tag!==0&&La(),i=t.pendingLanes,i&1?t===og?Ac++:(Ac=0,og=t):Ac=0,Xi(),null}function La(){if(bi!==null){var t=oS(Yh),e=Nr.transition,n=at;try{if(Nr.transition=null,at=16>t?16:t,bi===null)var r=!1;else{if(t=bi,bi=null,Yh=0,nt&6)throw Error(oe(331));var s=nt;for(nt|=4,ve=t.current;ve!==null;){var i=ve,o=i.child;if(ve.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Nc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var m=d.sibling,p=d.return;if(yE(d),d===u){ve=null;break}if(m!==null){m.return=p,ve=m;break}ve=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ve=o;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ve=x;break e}ve=i.return}}var S=t.current;for(ve=S;ve!==null;){o=ve;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,ve=k;else e:for(o=S;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ff(9,a)}}catch(j){Kt(a,a.return,j)}if(a===o){ve=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ve=R;break e}ve=a.return}}if(nt=s,Xi(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Mf,t)}catch{}r=!0}return r}finally{at=n,Nr.transition=e}}return!1}function jw(t,e,n){e=Za(n,e),e=oE(t,e,1),t=Ci(t,e,1),e=Ln(),t!==null&&(Ou(t,1,e),er(t,e))}function Kt(t,e,n){if(t.tag===3)jw(t,t,n);else for(;e!==null;){if(e.tag===3){jw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oi===null||!Oi.has(r))){t=Za(n,t),t=aE(e,t,1),e=Ci(e,t,1),t=Ln(),e!==null&&(Ou(e,1,t),er(e,t));break}}e=e.return}}function H4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(xn&n)===n&&(rn===4||rn===3&&(xn&130023424)===xn&&500>Zt()-Vy?ko(t,0):Hy|=n),er(t,e)}function RE(t,e){e===0&&(t.mode&1?(e=od,od<<=1,!(od&130023424)&&(od=4194304)):e=1);var n=Ln();t=Gs(t,e),t!==null&&(Ou(t,e,n),er(t,n))}function V4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RE(t,n)}function W4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),RE(t,n)}var AE;AE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,O4(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,Et&&e.flags&1048576&&OS(e,Uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hh(t,e),t=e.pendingProps;var s=Ga(e,On.current);Ba(e,n),s=Ly(null,e,r,t,s,n);var i=Dy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(r)?(i=!0,Dh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Oy(e),s.updater=$f,e.stateNode=s,s._reactInternals=e,q0(e,r,t,n),e=Z0(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&ky(e),Pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=G4(r),t=Pr(r,t),s){case 0:e=X0(null,e,r,t,n);break e;case 1:e=Sw(null,e,r,t,n);break e;case 11:e=bw(null,e,r,t,n);break e;case 14:e=_w(null,e,r,Pr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),X0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),Sw(t,e,r,s,n);case 3:e:{if(dE(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,DS(t,e),Hh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Za(Error(oe(423)),e),e=Ew(t,e,r,n,s);break e}else if(r!==s){s=Za(Error(oe(424)),e),e=Ew(t,e,r,n,s);break e}else for(or=Ii(e.stateNode.containerInfo.firstChild),ar=e,Et=!0,Dr=null,n=BS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),r===s){e=qs(t,e,n);break e}Pn(t,e,r,n)}e=e.child}return e;case 5:return zS(e),t===null&&W0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,U0(r,s)?o=null:i!==null&&U0(r,i)&&(e.flags|=32),uE(t,e),Pn(t,e,o,n),e.child;case 6:return t===null&&W0(e),null;case 13:return hE(t,e,n);case 4:return jy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):Pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),bw(t,e,r,s,n);case 7:return Pn(t,e,e.pendingProps,n),e.child;case 8:return Pn(t,e,e.pendingProps.children,n),e.child;case 12:return Pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,pt($h,r._currentValue),r._currentValue=o,i!==null)if(Gr(i.value,o)){if(i.children===s.children&&!Qn.current){e=qs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Hs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),K0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),K0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ba(e,n),s=Ar(s),r=r(s),e.flags|=1,Pn(t,e,r,n),e.child;case 14:return r=e.type,s=Pr(r,e.pendingProps),s=Pr(r.type,s),_w(t,e,r,s,n);case 15:return lE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),hh(t,e),e.tag=1,Jn(r)?(t=!0,Dh(e)):t=!1,Ba(e,n),iE(e,r,s),q0(e,r,s,n),Z0(null,e,r,!0,t,n);case 19:return fE(t,e,n);case 22:return cE(t,e,n)}throw Error(oe(156,e.tag))};function TE(t,e){return nS(t,e)}function K4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,n,r){return new K4(t,e,n,r)}function qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G4(t){if(typeof t=="function")return qy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fy)return 11;if(t===py)return 14}return 2}function Mi(t,e){var n=t.alternate;return n===null?(n=_r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ga:return No(n.children,s,i,e);case hy:o=8,s|=8;break;case x0:return t=_r(12,n,e,s|2),t.elementType=x0,t.lanes=i,t;case w0:return t=_r(13,n,e,s),t.elementType=w0,t.lanes=i,t;case v0:return t=_r(19,n,e,s),t.elementType=v0,t.lanes=i,t;case z2:return Vf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L2:o=10;break e;case D2:o=9;break e;case fy:o=11;break e;case py:o=14;break e;case hi:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=_r(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function No(t,e,n,r){return t=_r(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=_r(22,t,r,e),t.elementType=z2,t.lanes=n,t.stateNode={isHidden:!1},t}function hm(t,e,n){return t=_r(6,t,null,e),t.lanes=n,t}function fm(t,e,n){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gp(0),this.expirationTimes=Gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yy(t,e,n,r,s,i,o,a,l){return t=new q4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_r(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(i),t}function Y4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IE(t){if(!t)return Fi;t=t._reactInternals;e:{if(Vo(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Jn(n))return IS(t,n,e)}return e}function CE(t,e,n,r,s,i,o,a,l){return t=Yy(n,r,!0,t,s,i,o,a,l),t.context=IE(null),n=t.current,r=Ln(),s=ji(n),i=Hs(r,s),i.callback=e??null,Ci(n,i,s),t.current.lanes=s,Ou(t,s,r),er(t,r),t}function Wf(t,e,n,r){var s=e.current,i=Ln(),o=ji(s);return n=IE(n),e.context===null?e.context=n:e.pendingContext=n,e=Hs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(s,e,o),t!==null&&(Hr(t,s,o,i),ch(t,s,o)),o}function Zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xy(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function X4(){return null}var OE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zy(t){this._internalRoot=t}Kf.prototype.render=Zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Wf(t,e,null,null)};Kf.prototype.unmount=Zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Po(function(){Wf(null,t,null,null)}),e[Ks]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=cS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&dS(t)}};function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pw(){}function Z4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Zh(o);i.call(u)}}var o=CE(e,r,t,0,null,!1,!1,"",Pw);return t._reactRootContainer=o,t[Ks]=o.current,Zc(t.nodeType===8?t.parentNode:t),Po(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Zh(l);a.call(u)}}var l=Yy(t,0,!1,null,null,!1,!1,"",Pw);return t._reactRootContainer=l,t[Ks]=l.current,Zc(t.nodeType===8?t.parentNode:t),Po(function(){Wf(e,l,n,r)}),l}function qf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zh(o);a.call(l)}}Wf(e,o,t,s)}else o=Z4(n,e,t,s,r);return Zh(o)}aS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hc(e.pendingLanes);n!==0&&(yy(e,n|1),er(e,Zt()),!(nt&6)&&(Qa=Zt()+500,Xi()))}break;case 13:Po(function(){var r=Gs(t,1);if(r!==null){var s=Ln();Hr(r,t,1,s)}}),Xy(t,1)}};xy=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var n=Ln();Hr(e,t,134217728,n)}Xy(t,134217728)}};lS=function(t){if(t.tag===13){var e=ji(t),n=Gs(t,e);if(n!==null){var r=Ln();Hr(n,t,e,r)}Xy(t,e)}};cS=function(){return at};uS=function(t,e){var n=at;try{return at=t,e()}finally{at=n}};I0=function(t,e,n){switch(e){case"input":if(S0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Df(r);if(!s)throw Error(oe(90));$2(r),S0(r,s)}}}break;case"textarea":H2(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};X2=Wy;Z2=Po;var Q4={usingClientEntryPoint:!1,Events:[Mu,va,Df,q2,Y2,Wy]},Xl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J4={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eS(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||X4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{Mf=yd.inject(J4),fs=yd}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q4;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(e))throw Error(oe(200));return Y4(t,e,null,n)};dr.createRoot=function(t,e){if(!Qy(t))throw Error(oe(299));var n=!1,r="",s=OE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yy(t,1,!1,null,null,n,!1,r,s),t[Ks]=e.current,Zc(t.nodeType===8?t.parentNode:t),new Zy(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=eS(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return Po(t)};dr.hydrate=function(t,e,n){if(!Gf(e))throw Error(oe(200));return qf(null,t,e,!0,n)};dr.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=OE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CE(e,null,t,1,n??null,s,!1,i,o),t[Ks]=e.current,Zc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kf(e)};dr.render=function(t,e,n){if(!Gf(e))throw Error(oe(200));return qf(null,t,e,!1,n)};dr.unmountComponentAtNode=function(t){if(!Gf(t))throw Error(oe(40));return t._reactRootContainer?(Po(function(){qf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};dr.unstable_batchedUpdates=Wy;dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gf(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return qf(t,e,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function jE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jE)}catch(t){console.error(t)}}jE(),j2.exports=dr;var eO=j2.exports,Bw=eO;g0.createRoot=Bw.createRoot,g0.hydrateRoot=Bw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}var _i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_i||(_i={}));const Lw="popstate";function tO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return cg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Qh(s)}return rO(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ME(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nO(){return Math.random().toString(36).substr(2,8)}function Dw(t,e){return{usr:t.state,key:t.key,idx:e}}function cg(t,e,n,r){return n===void 0&&(n=null),ou({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yl(e):e,{state:n,key:e&&e.key||r||nO()})}function Qh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=_i.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ou({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=_i.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:a,location:w.location,delta:x})}function m(v,x){a=_i.Push;let S=cg(w.location,v,x);u=d()+1;let k=Dw(S,u),R=w.createHref(S);try{o.pushState(k,"",R)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(R)}i&&l&&l({action:a,location:w.location,delta:1})}function p(v,x){a=_i.Replace;let S=cg(w.location,v,x);u=d();let k=Dw(S,u),R=w.createHref(S);o.replaceState(k,"",R),i&&l&&l({action:a,location:w.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof v=="string"?v:Qh(v);return S=S.replace(/ $/,"%20"),Jt(x,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,x)}let w={get action(){return a},get location(){return t(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Lw,f),l=v,()=>{s.removeEventListener(Lw,f),l=null}},createHref(v){return e(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(v){return o.go(v)}};return w}var zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zw||(zw={}));function sO(t,e,n){return n===void 0&&(n="/"),iO(t,e,n)}function iO(t,e,n,r){let s=typeof e=="string"?yl(e):e,i=Jy(s.pathname||"/",n);if(i==null)return null;let o=PE(t);oO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=xO(i);a=mO(o[l],u)}return a}function PE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Pi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:fO(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of BE(i.path))s(i,o,l)}),e}function BE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function oO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aO=/^:[\w-]+$/,lO=3,cO=2,uO=1,dO=10,hO=-2,Uw=t=>t==="*";function fO(t,e){let n=t.split("/"),r=n.length;return n.some(Uw)&&(r+=hO),e&&(r+=cO),n.filter(s=>!Uw(s)).reduce((s,i)=>s+(aO.test(i)?lO:i===""?uO:dO),r)}function pO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function mO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=gO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Pi([i,f.pathname]),pathnameBase:_O(Pi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Pi([i,f.pathnameBase]))}return o}function gO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function yO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ME(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ME(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?yl(t):t;return{pathname:n?n.startsWith("/")?n:vO(n,e):e,search:SO(r),hash:EO(s)}}function vO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ex(t,e){let n=bO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=yl(t):(s=ou({},t),Jt(!s.pathname||!s.pathname.includes("?"),pm("?","pathname","search",s)),Jt(!s.pathname||!s.pathname.includes("#"),pm("#","pathname","hash",s)),Jt(!s.search||!s.search.includes("#"),pm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=wO(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Pi=t=>t.join("/").replace(/\/\/+/g,"/"),_O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LE=["post","put","patch","delete"];new Set(LE);const NO=["get",...LE];new Set(NO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}const nx=V.createContext(null),RO=V.createContext(null),Zi=V.createContext(null),Yf=V.createContext(null),ti=V.createContext({outlet:null,matches:[],isDataRoute:!1}),DE=V.createContext(null);function AO(t,e){let{relative:n}=e===void 0?{}:e;xl()||Jt(!1);let{basename:r,navigator:s}=V.useContext(Zi),{hash:i,pathname:o,search:a}=$E(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Pi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function xl(){return V.useContext(Yf)!=null}function Wo(){return xl()||Jt(!1),V.useContext(Yf).location}function zE(t){V.useContext(Zi).static||V.useLayoutEffect(t)}function UE(){let{isDataRoute:t}=V.useContext(ti);return t?FO():TO()}function TO(){xl()||Jt(!1);let t=V.useContext(nx),{basename:e,future:n,navigator:r}=V.useContext(Zi),{matches:s}=V.useContext(ti),{pathname:i}=Wo(),o=JSON.stringify(ex(s,n.v7_relativeSplatPath)),a=V.useRef(!1);return zE(()=>{a.current=!0}),V.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=tx(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Pi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function IO(){let{matches:t}=V.useContext(ti),e=t[t.length-1];return e?e.params:{}}function $E(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Zi),{matches:s}=V.useContext(ti),{pathname:i}=Wo(),o=JSON.stringify(ex(s,r.v7_relativeSplatPath));return V.useMemo(()=>tx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function CO(t,e){return OO(t,e)}function OO(t,e,n,r){xl()||Jt(!1);let{navigator:s}=V.useContext(Zi),{matches:i}=V.useContext(ti),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Wo(),d;if(e){var f;let v=typeof e=="string"?yl(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Jt(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=sO(t,{pathname:p}),w=LO(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Pi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Pi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&w?V.createElement(Yf.Provider,{value:{location:au({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_i.Pop}},w):w}function jO(){let t=$O(),e=kO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const MO=V.createElement(jO,null);class PO extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(ti.Provider,{value:this.props.routeContext},V.createElement(DE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BO(t){let{routeContext:e,match:n,children:r}=t,s=V.useContext(nx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ti.Provider,{value:e},r)}function LO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Jt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,y=!1,w=null,v=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||MO,l&&(u<0&&m===0?(HO("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),S=()=>{let k;return p?k=w:y?k=v:f.route.Component?k=V.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,V.createElement(BO,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?V.createElement(PO,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}var FE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FE||{}),HE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HE||{});function DO(t){let e=V.useContext(nx);return e||Jt(!1),e}function zO(t){let e=V.useContext(RO);return e||Jt(!1),e}function UO(t){let e=V.useContext(ti);return e||Jt(!1),e}function VE(t){let e=UO(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function $O(){var t;let e=V.useContext(DE),n=zO(),r=VE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FO(){let{router:t}=DO(FE.UseNavigateStable),e=VE(HE.UseNavigateStable),n=V.useRef(!1);return zE(()=>{n.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,au({fromRouteId:e},i)))},[t,e])}const $w={};function HO(t,e,n){$w[t]||($w[t]=!0)}function VO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function WO(t){let{to:e,replace:n,state:r,relative:s}=t;xl()||Jt(!1);let{future:i,static:o}=V.useContext(Zi),{matches:a}=V.useContext(ti),{pathname:l}=Wo(),u=UE(),d=tx(e,ex(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return V.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function gr(t){Jt(!1)}function KO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_i.Pop,navigator:i,static:o=!1,future:a}=t;xl()&&Jt(!1);let l=e.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:i,static:o,future:au({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=yl(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=r,w=V.useMemo(()=>{let v=Jy(d,l);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:s}},[l,d,f,m,p,y,s]);return w==null?null:V.createElement(Zi.Provider,{value:u},V.createElement(Yf.Provider,{children:n,value:w}))}function GO(t){let{children:e,location:n}=t;return CO(ug(e),n)}new Promise(()=>{});function ug(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,s)=>{if(!V.isValidElement(r))return;let i=[...e,s];if(r.type===V.Fragment){n.push.apply(n,ug(r.props.children,i));return}r.type!==gr&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ug(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function qO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function YO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XO(t,e){return t.button===0&&(!e||e==="_self")&&!YO(t)}const ZO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QO="6";try{window.__reactRouterVersion=QO}catch{}const JO="startTransition",Fw=HC[JO];function ej(t){let{basename:e,children:n,future:r,window:s}=t,i=V.useRef();i.current==null&&(i.current=tO({window:s,v5Compat:!0}));let o=i.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=V.useCallback(f=>{u&&Fw?Fw(()=>l(f)):l(f)},[l,u]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.useEffect(()=>VO(r),[r]),V.createElement(KO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tc=V.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,m=qO(e,ZO),{basename:p}=V.useContext(Zi),y,w=!1;if(typeof u=="string"&&nj.test(u)&&(y=u,tj))try{let k=new URL(window.location.href),R=u.startsWith("//")?new URL(k.protocol+u):new URL(u),j=Jy(R.pathname,p);R.origin===k.origin&&j!=null?u=j+R.search+R.hash:w=!0}catch{}let v=AO(u,{relative:s}),x=rj(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function S(k){r&&r(k),k.defaultPrevented||x(k)}return V.createElement("a",dg({},m,{href:y||v,onClick:w||i?r:S,ref:n,target:l}))});var Hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hw||(Hw={}));var Vw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vw||(Vw={}));function rj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=UE(),u=Wo(),d=$E(t,{relative:o});return V.useCallback(f=>{if(XO(f,n)){f.preventDefault();let m=r!==void 0?r:Qh(u)===Qh(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const WE=V.createContext(void 0),sj=()=>{const t=V.useContext(WE);if(t===void 0)throw new Error("useAccentColor must be used within a ColorProvider");return t},ij=({children:t})=>{const[e,n]=V.useState("#6D8FC7");return V.useEffect(()=>{document.documentElement.style.setProperty("--cyphr-teal",e);const r="#29589F",s=document.createElement("style");s.textContent=`
      :root {
        --cyphr-teal: ${e} !important;
        --cyphr-teal-gradient: ${r} !important;
      }
      
      .text-cyphr-teal {
        color: ${e} !important;
      }
      
      .bg-cyphr-teal {
        background-color: ${e} !important;
      }
      
      .bg-cyphr-teal-gradient {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .border-cyphr-teal {
        border-color: ${e} !important;
      }
      
      .hover\\:text-cyphr-teal:hover {
        color: ${e} !important;
      }
      
      .hover\\:border-cyphr-teal:hover {
        border-color: ${e} !important;
      }
      
      .focus\\:border-cyphr-teal:focus {
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
        border-color: ${e} !important;
      }
      
      .cyphr-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .ios-button-primary {
        background: linear-gradient(135deg, ${e} 0%, ${r} 100%) !important;
      }
      
      .ios-button-primary:hover {
        background: linear-gradient(135deg, ${r} 0%, ${e} 100%) !important;
      }
      
      .elite-button-primary {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.3) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.2) 100%) !important;
        border-color: ${e} !important;
      }
      
      .elite-button-primary:hover {
        background: linear-gradient(135deg, rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.4) 0%, rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, 0.3) 100%) !important;
        border-color: ${e} !important;
      }
    `;const i=document.getElementById("dynamic-accent-color");i&&i.remove(),s.id="dynamic-accent-color",document.head.appendChild(s)},[e]),c.jsx(WE.Provider,{value:{accentColor:e,setAccentColor:n},children:t})};var be={},Xf={};Xf.byteLength=lj;Xf.toByteArray=uj;Xf.fromByteArray=fj;var cs=[],yr=[],oj=typeof Uint8Array<"u"?Uint8Array:Array,mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var na=0,aj=mm.length;na<aj;++na)cs[na]=mm[na],yr[mm.charCodeAt(na)]=na;yr[45]=62;yr[95]=63;function KE(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function lj(t){var e=KE(t),n=e[0],r=e[1];return(n+r)*3/4-r}function cj(t,e,n){return(e+n)*3/4-n}function uj(t){var e,n=KE(t),r=n[0],s=n[1],i=new oj(cj(t,r,s)),o=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=yr[t.charCodeAt(l)]<<18|yr[t.charCodeAt(l+1)]<<12|yr[t.charCodeAt(l+2)]<<6|yr[t.charCodeAt(l+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=yr[t.charCodeAt(l)]<<2|yr[t.charCodeAt(l+1)]>>4,i[o++]=e&255),s===1&&(e=yr[t.charCodeAt(l)]<<10|yr[t.charCodeAt(l+1)]<<4|yr[t.charCodeAt(l+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function dj(t){return cs[t>>18&63]+cs[t>>12&63]+cs[t>>6&63]+cs[t&63]}function hj(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(dj(r));return s.join("")}function fj(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(hj(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(cs[e>>2]+cs[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(cs[e>>10]+cs[e>>4&63]+cs[e<<2&63]+"=")),s.join("")}var rx={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */rx.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,u=l>>1,d=-7,f=n?s-1:0,m=n?-1:1,p=t[e+f];for(f+=m,i=p&(1<<-d)-1,p>>=-d,d+=a;d>0;i=i*256+t[e+f],f+=m,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=r;d>0;o=o*256+t[e+f],f+=m,d-=8);if(i===0)i=1-u;else{if(i===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(p?-1:1)*o*Math.pow(2,i-r)};rx.write=function(t,e,n,r,s,i){var o,a,l,u=i*8-s-1,d=(1<<u)-1,f=d>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,y=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=m/l:e+=m*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=d?(a=0,o=d):o+f>=1?(a=(e*l-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[n+p]=a&255,p+=y,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;t[n+p]=o&255,p+=y,o/=256,u-=8);t[n+p-y]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Xf,n=rx,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const U=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(U,E),U.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(U){if(U>s)throw new RangeError('The value "'+U+'" is invalid for option "size"');const E=new Uint8Array(U);return Object.setPrototypeOf(E,a.prototype),E}function a(U,E,N){if(typeof U=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(U)}return l(U,E,N)}a.poolSize=8192;function l(U,E,N){if(typeof U=="string")return m(U,E);if(ArrayBuffer.isView(U))return y(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Me(U,ArrayBuffer)||U&&Me(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(U,SharedArrayBuffer)||U&&Me(U.buffer,SharedArrayBuffer)))return w(U,E,N);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=U.valueOf&&U.valueOf();if(W!=null&&W!==U)return a.from(W,E,N);const K=v(U);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return a.from(U[Symbol.toPrimitive]("string"),E,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}a.from=function(U,E,N){return l(U,E,N)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function d(U,E,N){return u(U),U<=0?o(U):E!==void 0?typeof N=="string"?o(U).fill(E,N):o(U).fill(E):o(U)}a.alloc=function(U,E,N){return d(U,E,N)};function f(U){return u(U),o(U<0?0:x(U)|0)}a.allocUnsafe=function(U){return f(U)},a.allocUnsafeSlow=function(U){return f(U)};function m(U,E){if((typeof E!="string"||E==="")&&(E="utf8"),!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const N=k(U,E)|0;let W=o(N);const K=W.write(U,E);return K!==N&&(W=W.slice(0,K)),W}function p(U){const E=U.length<0?0:x(U.length)|0,N=o(E);for(let W=0;W<E;W+=1)N[W]=U[W]&255;return N}function y(U){if(Me(U,Uint8Array)){const E=new Uint8Array(U);return w(E.buffer,E.byteOffset,E.byteLength)}return p(U)}function w(U,E,N){if(E<0||U.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<E+(N||0))throw new RangeError('"length" is outside of buffer bounds');let W;return E===void 0&&N===void 0?W=new Uint8Array(U):N===void 0?W=new Uint8Array(U,E):W=new Uint8Array(U,E,N),Object.setPrototypeOf(W,a.prototype),W}function v(U){if(a.isBuffer(U)){const E=x(U.length)|0,N=o(E);return N.length===0||U.copy(N,0,0,E),N}if(U.length!==void 0)return typeof U.length!="number"||Oe(U.length)?o(0):p(U);if(U.type==="Buffer"&&Array.isArray(U.data))return p(U.data)}function x(U){if(U>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return U|0}function S(U){return+U!=U&&(U=0),a.alloc(+U)}a.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==a.prototype},a.compare=function(E,N){if(Me(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),Me(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(E)||!a.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;let W=E.length,K=N.length;for(let Y=0,ee=Math.min(W,K);Y<ee;++Y)if(E[Y]!==N[Y]){W=E[Y],K=N[Y];break}return W<K?-1:K<W?1:0},a.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return a.alloc(0);let W;if(N===void 0)for(N=0,W=0;W<E.length;++W)N+=E[W].length;const K=a.allocUnsafe(N);let Y=0;for(W=0;W<E.length;++W){let ee=E[W];if(Me(ee,Uint8Array))Y+ee.length>K.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(K,Y)):Uint8Array.prototype.set.call(K,ee,Y);else if(a.isBuffer(ee))ee.copy(K,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=ee.length}return K};function k(U,E){if(a.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Me(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const N=U.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&N===0)return 0;let K=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return ge(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return he(U).length;default:if(K)return W?-1:ge(U).length;E=(""+E).toLowerCase(),K=!0}}a.byteLength=k;function R(U,E,N){let W=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,E>>>=0,N<=E))return"";for(U||(U="utf8");;)switch(U){case"hex":return C(this,E,N);case"utf8":case"utf-8":return h(this,E,N);case"ascii":return I(this,E,N);case"latin1":case"binary":return T(this,E,N);case"base64":return A(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,E,N);default:if(W)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),W=!0}}a.prototype._isBuffer=!0;function j(U,E,N){const W=U[E];U[E]=U[N],U[N]=W}a.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<E;N+=2)j(this,N,N+1);return this},a.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<E;N+=4)j(this,N,N+3),j(this,N+1,N+2);return this},a.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<E;N+=8)j(this,N,N+7),j(this,N+1,N+6),j(this,N+2,N+5),j(this,N+3,N+4);return this},a.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?h(this,0,E):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(E){if(!a.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:a.compare(this,E)===0},a.prototype.inspect=function(){let E="";const N=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(E,N,W,K,Y){if(Me(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(N===void 0&&(N=0),W===void 0&&(W=E?E.length:0),K===void 0&&(K=0),Y===void 0&&(Y=this.length),N<0||W>E.length||K<0||Y>this.length)throw new RangeError("out of range index");if(K>=Y&&N>=W)return 0;if(K>=Y)return-1;if(N>=W)return 1;if(N>>>=0,W>>>=0,K>>>=0,Y>>>=0,this===E)return 0;let ee=Y-K,De=W-N;const je=Math.min(ee,De),Re=this.slice(K,Y),qe=E.slice(N,W);for(let Ae=0;Ae<je;++Ae)if(Re[Ae]!==qe[Ae]){ee=Re[Ae],De=qe[Ae];break}return ee<De?-1:De<ee?1:0};function F(U,E,N,W,K){if(U.length===0)return-1;if(typeof N=="string"?(W=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Oe(N)&&(N=K?0:U.length-1),N<0&&(N=U.length+N),N>=U.length){if(K)return-1;N=U.length-1}else if(N<0)if(K)N=0;else return-1;if(typeof E=="string"&&(E=a.from(E,W)),a.isBuffer(E))return E.length===0?-1:P(U,E,N,W,K);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(U,E,N):Uint8Array.prototype.lastIndexOf.call(U,E,N):P(U,[E],N,W,K);throw new TypeError("val must be string, number or Buffer")}function P(U,E,N,W,K){let Y=1,ee=U.length,De=E.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(U.length<2||E.length<2)return-1;Y=2,ee/=2,De/=2,N/=2}function je(qe,Ae){return Y===1?qe[Ae]:qe.readUInt16BE(Ae*Y)}let Re;if(K){let qe=-1;for(Re=N;Re<ee;Re++)if(je(U,Re)===je(E,qe===-1?0:Re-qe)){if(qe===-1&&(qe=Re),Re-qe+1===De)return qe*Y}else qe!==-1&&(Re-=Re-qe),qe=-1}else for(N+De>ee&&(N=ee-De),Re=N;Re>=0;Re--){let qe=!0;for(let Ae=0;Ae<De;Ae++)if(je(U,Re+Ae)!==je(E,Ae)){qe=!1;break}if(qe)return Re}return-1}a.prototype.includes=function(E,N,W){return this.indexOf(E,N,W)!==-1},a.prototype.indexOf=function(E,N,W){return F(this,E,N,W,!0)},a.prototype.lastIndexOf=function(E,N,W){return F(this,E,N,W,!1)};function M(U,E,N,W){N=Number(N)||0;const K=U.length-N;W?(W=Number(W),W>K&&(W=K)):W=K;const Y=E.length;W>Y/2&&(W=Y/2);let ee;for(ee=0;ee<W;++ee){const De=parseInt(E.substr(ee*2,2),16);if(Oe(De))return ee;U[N+ee]=De}return ee}function D(U,E,N,W){return xe(ge(E,U.length-N),U,N,W)}function L(U,E,N,W){return xe(q(E),U,N,W)}function z(U,E,N,W){return xe(he(E),U,N,W)}function H(U,E,N,W){return xe(ye(E,U.length-N),U,N,W)}a.prototype.write=function(E,N,W,K){if(N===void 0)K="utf8",W=this.length,N=0;else if(W===void 0&&typeof N=="string")K=N,W=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(W)?(W=W>>>0,K===void 0&&(K="utf8")):(K=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-N;if((W===void 0||W>Y)&&(W=Y),E.length>0&&(W<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let ee=!1;for(;;)switch(K){case"hex":return M(this,E,N,W);case"utf8":case"utf-8":return D(this,E,N,W);case"ascii":case"latin1":case"binary":return L(this,E,N,W);case"base64":return z(this,E,N,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,E,N,W);default:if(ee)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(U,E,N){return E===0&&N===U.length?e.fromByteArray(U):e.fromByteArray(U.slice(E,N))}function h(U,E,N){N=Math.min(U.length,N);const W=[];let K=E;for(;K<N;){const Y=U[K];let ee=null,De=Y>239?4:Y>223?3:Y>191?2:1;if(K+De<=N){let je,Re,qe,Ae;switch(De){case 1:Y<128&&(ee=Y);break;case 2:je=U[K+1],(je&192)===128&&(Ae=(Y&31)<<6|je&63,Ae>127&&(ee=Ae));break;case 3:je=U[K+1],Re=U[K+2],(je&192)===128&&(Re&192)===128&&(Ae=(Y&15)<<12|(je&63)<<6|Re&63,Ae>2047&&(Ae<55296||Ae>57343)&&(ee=Ae));break;case 4:je=U[K+1],Re=U[K+2],qe=U[K+3],(je&192)===128&&(Re&192)===128&&(qe&192)===128&&(Ae=(Y&15)<<18|(je&63)<<12|(Re&63)<<6|qe&63,Ae>65535&&Ae<1114112&&(ee=Ae))}}ee===null?(ee=65533,De=1):ee>65535&&(ee-=65536,W.push(ee>>>10&1023|55296),ee=56320|ee&1023),W.push(ee),K+=De}return _(W)}const g=4096;function _(U){const E=U.length;if(E<=g)return String.fromCharCode.apply(String,U);let N="",W=0;for(;W<E;)N+=String.fromCharCode.apply(String,U.slice(W,W+=g));return N}function I(U,E,N){let W="";N=Math.min(U.length,N);for(let K=E;K<N;++K)W+=String.fromCharCode(U[K]&127);return W}function T(U,E,N){let W="";N=Math.min(U.length,N);for(let K=E;K<N;++K)W+=String.fromCharCode(U[K]);return W}function C(U,E,N){const W=U.length;(!E||E<0)&&(E=0),(!N||N<0||N>W)&&(N=W);let K="";for(let Y=E;Y<N;++Y)K+=ze[U[Y]];return K}function $(U,E,N){const W=U.slice(E,N);let K="";for(let Y=0;Y<W.length-1;Y+=2)K+=String.fromCharCode(W[Y]+W[Y+1]*256);return K}a.prototype.slice=function(E,N){const W=this.length;E=~~E,N=N===void 0?W:~~N,E<0?(E+=W,E<0&&(E=0)):E>W&&(E=W),N<0?(N+=W,N<0&&(N=0)):N>W&&(N=W),N<E&&(N=E);const K=this.subarray(E,N);return Object.setPrototypeOf(K,a.prototype),K};function O(U,E,N){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+E>N)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(E,N,W){E=E>>>0,N=N>>>0,W||O(E,N,this.length);let K=this[E],Y=1,ee=0;for(;++ee<N&&(Y*=256);)K+=this[E+ee]*Y;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(E,N,W){E=E>>>0,N=N>>>0,W||O(E,N,this.length);let K=this[E+--N],Y=1;for(;N>0&&(Y*=256);)K+=this[E+--N]*Y;return K},a.prototype.readUint8=a.prototype.readUInt8=function(E,N){return E=E>>>0,N||O(E,1,this.length),this[E]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(E,N){return E=E>>>0,N||O(E,2,this.length),this[E]|this[E+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(E,N){return E=E>>>0,N||O(E,2,this.length),this[E]<<8|this[E+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(E,N){return E=E>>>0,N||O(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(E,N){return E=E>>>0,N||O(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},a.prototype.readBigUInt64LE=We(function(E){E=E>>>0,ut(E,"offset");const N=this[E],W=this[E+7];(N===void 0||W===void 0)&&Le(E,this.length-8);const K=N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,Y=this[++E]+this[++E]*2**8+this[++E]*2**16+W*2**24;return BigInt(K)+(BigInt(Y)<<BigInt(32))}),a.prototype.readBigUInt64BE=We(function(E){E=E>>>0,ut(E,"offset");const N=this[E],W=this[E+7];(N===void 0||W===void 0)&&Le(E,this.length-8);const K=N*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],Y=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+W;return(BigInt(K)<<BigInt(32))+BigInt(Y)}),a.prototype.readIntLE=function(E,N,W){E=E>>>0,N=N>>>0,W||O(E,N,this.length);let K=this[E],Y=1,ee=0;for(;++ee<N&&(Y*=256);)K+=this[E+ee]*Y;return Y*=128,K>=Y&&(K-=Math.pow(2,8*N)),K},a.prototype.readIntBE=function(E,N,W){E=E>>>0,N=N>>>0,W||O(E,N,this.length);let K=N,Y=1,ee=this[E+--K];for(;K>0&&(Y*=256);)ee+=this[E+--K]*Y;return Y*=128,ee>=Y&&(ee-=Math.pow(2,8*N)),ee},a.prototype.readInt8=function(E,N){return E=E>>>0,N||O(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},a.prototype.readInt16LE=function(E,N){E=E>>>0,N||O(E,2,this.length);const W=this[E]|this[E+1]<<8;return W&32768?W|4294901760:W},a.prototype.readInt16BE=function(E,N){E=E>>>0,N||O(E,2,this.length);const W=this[E+1]|this[E]<<8;return W&32768?W|4294901760:W},a.prototype.readInt32LE=function(E,N){return E=E>>>0,N||O(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},a.prototype.readInt32BE=function(E,N){return E=E>>>0,N||O(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},a.prototype.readBigInt64LE=We(function(E){E=E>>>0,ut(E,"offset");const N=this[E],W=this[E+7];(N===void 0||W===void 0)&&Le(E,this.length-8);const K=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(W<<24);return(BigInt(K)<<BigInt(32))+BigInt(N+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),a.prototype.readBigInt64BE=We(function(E){E=E>>>0,ut(E,"offset");const N=this[E],W=this[E+7];(N===void 0||W===void 0)&&Le(E,this.length-8);const K=(N<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(K)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+W)}),a.prototype.readFloatLE=function(E,N){return E=E>>>0,N||O(E,4,this.length),n.read(this,E,!0,23,4)},a.prototype.readFloatBE=function(E,N){return E=E>>>0,N||O(E,4,this.length),n.read(this,E,!1,23,4)},a.prototype.readDoubleLE=function(E,N){return E=E>>>0,N||O(E,8,this.length),n.read(this,E,!0,52,8)},a.prototype.readDoubleBE=function(E,N){return E=E>>>0,N||O(E,8,this.length),n.read(this,E,!1,52,8)};function b(U,E,N,W,K,Y){if(!a.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>K||E<Y)throw new RangeError('"value" argument is out of bounds');if(N+W>U.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(E,N,W,K){if(E=+E,N=N>>>0,W=W>>>0,!K){const De=Math.pow(2,8*W)-1;b(this,E,N,W,De,0)}let Y=1,ee=0;for(this[N]=E&255;++ee<W&&(Y*=256);)this[N+ee]=E/Y&255;return N+W},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(E,N,W,K){if(E=+E,N=N>>>0,W=W>>>0,!K){const De=Math.pow(2,8*W)-1;b(this,E,N,W,De,0)}let Y=W-1,ee=1;for(this[N+Y]=E&255;--Y>=0&&(ee*=256);)this[N+Y]=E/ee&255;return N+W},a.prototype.writeUint8=a.prototype.writeUInt8=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,1,255,0),this[N]=E&255,N+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,2,65535,0),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=E&255,N+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4};function B(U,E,N,W,K){Be(E,W,K,U,N,7);let Y=Number(E&BigInt(4294967295));U[N++]=Y,Y=Y>>8,U[N++]=Y,Y=Y>>8,U[N++]=Y,Y=Y>>8,U[N++]=Y;let ee=Number(E>>BigInt(32)&BigInt(4294967295));return U[N++]=ee,ee=ee>>8,U[N++]=ee,ee=ee>>8,U[N++]=ee,ee=ee>>8,U[N++]=ee,N}function G(U,E,N,W,K){Be(E,W,K,U,N,7);let Y=Number(E&BigInt(4294967295));U[N+7]=Y,Y=Y>>8,U[N+6]=Y,Y=Y>>8,U[N+5]=Y,Y=Y>>8,U[N+4]=Y;let ee=Number(E>>BigInt(32)&BigInt(4294967295));return U[N+3]=ee,ee=ee>>8,U[N+2]=ee,ee=ee>>8,U[N+1]=ee,ee=ee>>8,U[N]=ee,N+8}a.prototype.writeBigUInt64LE=We(function(E,N=0){return B(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=We(function(E,N=0){return G(this,E,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(E,N,W,K){if(E=+E,N=N>>>0,!K){const je=Math.pow(2,8*W-1);b(this,E,N,W,je-1,-je)}let Y=0,ee=1,De=0;for(this[N]=E&255;++Y<W&&(ee*=256);)E<0&&De===0&&this[N+Y-1]!==0&&(De=1),this[N+Y]=(E/ee>>0)-De&255;return N+W},a.prototype.writeIntBE=function(E,N,W,K){if(E=+E,N=N>>>0,!K){const je=Math.pow(2,8*W-1);b(this,E,N,W,je-1,-je)}let Y=W-1,ee=1,De=0;for(this[N+Y]=E&255;--Y>=0&&(ee*=256);)E<0&&De===0&&this[N+Y+1]!==0&&(De=1),this[N+Y]=(E/ee>>0)-De&255;return N+W},a.prototype.writeInt8=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=E&255,N+1},a.prototype.writeInt16LE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,2,32767,-32768),this[N]=E&255,this[N+1]=E>>>8,N+2},a.prototype.writeInt16BE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=E&255,N+2},a.prototype.writeInt32LE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,4,2147483647,-2147483648),this[N]=E&255,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},a.prototype.writeInt32BE=function(E,N,W){return E=+E,N=N>>>0,W||b(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4},a.prototype.writeBigInt64LE=We(function(E,N=0){return B(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=We(function(E,N=0){return G(this,E,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(U,E,N,W,K,Y){if(N+W>U.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function ne(U,E,N,W,K){return E=+E,N=N>>>0,K||Z(U,E,N,4),n.write(U,E,N,W,23,4),N+4}a.prototype.writeFloatLE=function(E,N,W){return ne(this,E,N,!0,W)},a.prototype.writeFloatBE=function(E,N,W){return ne(this,E,N,!1,W)};function ae(U,E,N,W,K){return E=+E,N=N>>>0,K||Z(U,E,N,8),n.write(U,E,N,W,52,8),N+8}a.prototype.writeDoubleLE=function(E,N,W){return ae(this,E,N,!0,W)},a.prototype.writeDoubleBE=function(E,N,W){return ae(this,E,N,!1,W)},a.prototype.copy=function(E,N,W,K){if(!a.isBuffer(E))throw new TypeError("argument should be a Buffer");if(W||(W=0),!K&&K!==0&&(K=this.length),N>=E.length&&(N=E.length),N||(N=0),K>0&&K<W&&(K=W),K===W||E.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),E.length-N<K-W&&(K=E.length-N+W);const Y=K-W;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,W,K):Uint8Array.prototype.set.call(E,this.subarray(W,K),N),Y},a.prototype.fill=function(E,N,W,K){if(typeof E=="string"){if(typeof N=="string"?(K=N,N=0,W=this.length):typeof W=="string"&&(K=W,W=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(E.length===1){const ee=E.charCodeAt(0);(K==="utf8"&&ee<128||K==="latin1")&&(E=ee)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(N<0||this.length<N||this.length<W)throw new RangeError("Out of range index");if(W<=N)return this;N=N>>>0,W=W===void 0?this.length:W>>>0,E||(E=0);let Y;if(typeof E=="number")for(Y=N;Y<W;++Y)this[Y]=E;else{const ee=a.isBuffer(E)?E:a.from(E,K),De=ee.length;if(De===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(Y=0;Y<W-N;++Y)this[Y+N]=ee[Y%De]}return this};const ce={};function me(U,E,N){ce[U]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(U,E){return`The "${U}" argument must be of type number. Received type ${typeof E}`},TypeError),me("ERR_OUT_OF_RANGE",function(U,E,N){let W=`The value of "${U}" is out of range.`,K=N;return Number.isInteger(N)&&Math.abs(N)>2**32?K=Ie(String(N)):typeof N=="bigint"&&(K=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(K=Ie(K)),K+="n"),W+=` It must be ${E}. Received ${K}`,W},RangeError);function Ie(U){let E="",N=U.length;const W=U[0]==="-"?1:0;for(;N>=W+4;N-=3)E=`_${U.slice(N-3,N)}${E}`;return`${U.slice(0,N)}${E}`}function Ce(U,E,N){ut(E,"offset"),(U[E]===void 0||U[E+N]===void 0)&&Le(E,U.length-(N+1))}function Be(U,E,N,W,K,Y){if(U>N||U<E){const ee=typeof E=="bigint"?"n":"";let De;throw E===0||E===BigInt(0)?De=`>= 0${ee} and < 2${ee} ** ${(Y+1)*8}${ee}`:De=`>= -(2${ee} ** ${(Y+1)*8-1}${ee}) and < 2 ** ${(Y+1)*8-1}${ee}`,new ce.ERR_OUT_OF_RANGE("value",De,U)}Ce(W,K,Y)}function ut(U,E){if(typeof U!="number")throw new ce.ERR_INVALID_ARG_TYPE(E,"number",U)}function Le(U,E,N){throw Math.floor(U)!==U?(ut(U,N),new ce.ERR_OUT_OF_RANGE("offset","an integer",U)):E<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,U)}const Pe=/[^+/0-9A-Za-z-_]/g;function re(U){if(U=U.split("=")[0],U=U.trim().replace(Pe,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function ge(U,E){E=E||1/0;let N;const W=U.length;let K=null;const Y=[];for(let ee=0;ee<W;++ee){if(N=U.charCodeAt(ee),N>55295&&N<57344){if(!K){if(N>56319){(E-=3)>-1&&Y.push(239,191,189);continue}else if(ee+1===W){(E-=3)>-1&&Y.push(239,191,189);continue}K=N;continue}if(N<56320){(E-=3)>-1&&Y.push(239,191,189),K=N;continue}N=(K-55296<<10|N-56320)+65536}else K&&(E-=3)>-1&&Y.push(239,191,189);if(K=null,N<128){if((E-=1)<0)break;Y.push(N)}else if(N<2048){if((E-=2)<0)break;Y.push(N>>6|192,N&63|128)}else if(N<65536){if((E-=3)<0)break;Y.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((E-=4)<0)break;Y.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return Y}function q(U){const E=[];for(let N=0;N<U.length;++N)E.push(U.charCodeAt(N)&255);return E}function ye(U,E){let N,W,K;const Y=[];for(let ee=0;ee<U.length&&!((E-=2)<0);++ee)N=U.charCodeAt(ee),W=N>>8,K=N%256,Y.push(K),Y.push(W);return Y}function he(U){return e.toByteArray(re(U))}function xe(U,E,N,W){let K;for(K=0;K<W&&!(K+N>=E.length||K>=U.length);++K)E[K+N]=U[K];return K}function Me(U,E){return U instanceof E||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===E.name}function Oe(U){return U!==U}const ze=function(){const U="0123456789abcdef",E=new Array(256);for(let N=0;N<16;++N){const W=N*16;for(let K=0;K<16;++K)E[W+K]=U[N]+U[K]}return E}();function We(U){return typeof BigInt>"u"?Je:U}function Je(){throw new Error("BigInt not supported")}})(be);const ra=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sx(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ir(t,...e){if(!sx(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");lu(t.outputLen),lu(t.blockLen)}function Ja(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GE(t,e){Ir(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mj(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Hi(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function gm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Jr(t,e){return t<<32-e|t>>>e}const gj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yj(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function xj(t){for(let e=0;e<t.length;e++)t[e]=yj(t[e]);return t}const Ww=gj?t=>t:xj,qE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function el(t){if(Ir(t),qE)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=wj[t[n]];return e}const Ss={_0:48,_9:57,A:65,F:70,a:97,f:102};function Kw(t){if(t>=Ss._0&&t<=Ss._9)return t-Ss._0;if(t>=Ss.A&&t<=Ss.F)return t-(Ss.A-10);if(t>=Ss.a&&t<=Ss.f)return t-(Ss.a-10)}function ix(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(qE)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Kw(t.charCodeAt(i)),a=Kw(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function vj(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Zf(t){return typeof t=="string"&&(t=vj(t)),Ir(t),t}function $s(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ir(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class ox{}function ax(t){const e=r=>t().update(Zf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function YE(t=32){if(ra&&typeof ra.getRandomValues=="function")return ra.getRandomValues(new Uint8Array(t));if(ra&&typeof ra.randomBytes=="function")return Uint8Array.from(ra.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function bj(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+u,a,r)}function _j(t,e,n){return t&e^~t&n}function Sj(t,e,n){return t&e^t&n^e&n}class XE extends ox{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=gm(this.buffer)}update(e){Ja(this),e=Zf(e),Ir(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=gm(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ja(this),GE(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Hi(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;bj(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=gm(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ii=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),En=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),xd=BigInt(2**32-1),Gw=BigInt(32);function Ej(t,e=!1){return e?{h:Number(t&xd),l:Number(t>>Gw&xd)}:{h:Number(t>>Gw&xd)|0,l:Number(t&xd)|0}}function ZE(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Ej(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const qw=(t,e,n)=>t>>>n,Yw=(t,e,n)=>t<<32-n|e>>>n,sa=(t,e,n)=>t>>>n|e<<32-n,ia=(t,e,n)=>t<<32-n|e>>>n,wd=(t,e,n)=>t<<64-n|e>>>n-32,vd=(t,e,n)=>t>>>n-32|e<<64-n,kj=(t,e,n)=>t<<n|e>>>32-n,Nj=(t,e,n)=>e<<n|t>>>32-n,Rj=(t,e,n)=>e<<n-32|t>>>64-n,Aj=(t,e,n)=>t<<n-32|e>>>64-n;function Es(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Tj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ij=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Cj=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Oj=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,jj=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Mj=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Pj=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oi=new Uint32Array(64);class Bj extends XE{constructor(e=32){super(64,e,8,!1),this.A=ii[0]|0,this.B=ii[1]|0,this.C=ii[2]|0,this.D=ii[3]|0,this.E=ii[4]|0,this.F=ii[5]|0,this.G=ii[6]|0,this.H=ii[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)oi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const m=oi[f-15],p=oi[f-2],y=Jr(m,7)^Jr(m,18)^m>>>3,w=Jr(p,17)^Jr(p,19)^p>>>10;oi[f]=w+oi[f-7]+y+oi[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const m=Jr(a,6)^Jr(a,11)^Jr(a,25),p=d+m+_j(a,l,u)+Pj[f]+oi[f]|0,w=(Jr(r,2)^Jr(r,13)^Jr(r,22))+Sj(r,s,i)|0;d=u,u=l,l=a,a=o+p|0,o=i,i=s,s=r,r=p+w|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,o,a,l,u,d)}roundClean(){Hi(oi)}destroy(){this.set(0,0,0,0,0,0,0,0),Hi(this.buffer)}}const QE=ZE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Lj=QE[0],Dj=QE[1],ai=new Uint32Array(80),li=new Uint32Array(80);class zj extends XE{constructor(e=64){super(128,e,16,!1),this.Ah=En[0]|0,this.Al=En[1]|0,this.Bh=En[2]|0,this.Bl=En[3]|0,this.Ch=En[4]|0,this.Cl=En[5]|0,this.Dh=En[6]|0,this.Dl=En[7]|0,this.Eh=En[8]|0,this.El=En[9]|0,this.Fh=En[10]|0,this.Fl=En[11]|0,this.Gh=En[12]|0,this.Gl=En[13]|0,this.Hh=En[14]|0,this.Hl=En[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:u,El:d,Fh:f,Fl:m,Gh:p,Gl:y,Hh:w,Hl:v}=this;return[e,n,r,s,i,o,a,l,u,d,f,m,p,y,w,v]}set(e,n,r,s,i,o,a,l,u,d,f,m,p,y,w,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=m|0,this.Gh=p|0,this.Gl=y|0,this.Hh=w|0,this.Hl=v|0}process(e,n){for(let k=0;k<16;k++,n+=4)ai[k]=e.getUint32(n),li[k]=e.getUint32(n+=4);for(let k=16;k<80;k++){const R=ai[k-15]|0,j=li[k-15]|0,F=sa(R,j,1)^sa(R,j,8)^qw(R,j,7),P=ia(R,j,1)^ia(R,j,8)^Yw(R,j,7),M=ai[k-2]|0,D=li[k-2]|0,L=sa(M,D,19)^wd(M,D,61)^qw(M,D,6),z=ia(M,D,19)^vd(M,D,61)^Yw(M,D,6),H=Cj(P,z,li[k-7],li[k-16]),A=Oj(H,F,L,ai[k-7],ai[k-16]);ai[k]=A|0,li[k]=H|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:u,Dl:d,Eh:f,El:m,Fh:p,Fl:y,Gh:w,Gl:v,Hh:x,Hl:S}=this;for(let k=0;k<80;k++){const R=sa(f,m,14)^sa(f,m,18)^wd(f,m,41),j=ia(f,m,14)^ia(f,m,18)^vd(f,m,41),F=f&p^~f&w,P=m&y^~m&v,M=jj(S,j,P,Dj[k],li[k]),D=Mj(M,x,R,F,Lj[k],ai[k]),L=M|0,z=sa(r,s,28)^wd(r,s,34)^wd(r,s,39),H=ia(r,s,28)^vd(r,s,34)^vd(r,s,39),A=r&i^r&a^i&a,h=s&o^s&l^o&l;x=w|0,S=v|0,w=p|0,v=y|0,p=f|0,y=m|0,{h:f,l:m}=Es(u|0,d|0,D|0,L|0),u=a|0,d=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const g=Tj(L,H,h);r=Ij(g,D,z,A),s=g|0}({h:r,l:s}=Es(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Es(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=Es(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:d}=Es(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:m}=Es(this.Eh|0,this.El|0,f|0,m|0),{h:p,l:y}=Es(this.Fh|0,this.Fl|0,p|0,y|0),{h:w,l:v}=Es(this.Gh|0,this.Gl|0,w|0,v|0),{h:x,l:S}=Es(this.Hh|0,this.Hl|0,x|0,S|0),this.set(r,s,i,o,a,l,u,d,f,m,p,y,w,v,x,S)}roundClean(){Hi(ai,li)}destroy(){Hi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const JE=ax(()=>new Bj),Uj=ax(()=>new zj);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lx=BigInt(0),hg=BigInt(1);function Bo(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function bd(t){const e=t.toString(16);return e.length&1?"0"+e:e}function ek(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?lx:BigInt("0x"+t)}function Qf(t){return ek(el(t))}function cu(t){return Ir(t),ek(el(Uint8Array.from(t).reverse()))}function cx(t,e){return ix(t.toString(16).padStart(e*2,"0"))}function Jf(t,e){return cx(t,e).reverse()}function Yt(t,e,n){let r;if(typeof e=="string")try{r=ix(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(sx(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const ym=t=>typeof t=="bigint"&&lx<=t;function $j(t,e,n){return ym(t)&&ym(e)&&ym(n)&&e<=t&&t<n}function Ra(t,e,n,r){if(!$j(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Fj(t){let e;for(e=0;t>lx;t>>=hg,e+=1);return e}const ep=t=>(hg<<BigInt(t))-hg;function Hj(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),s=p=>Uint8Array.of(p);let i=r(t),o=r(t),a=0;const l=()=>{i.fill(1),o.fill(0),a=0},u=(...p)=>n(o,i,...p),d=(p=r(0))=>{o=u(s(0),p),i=u(),p.length!==0&&(o=u(s(1),p),i=u())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const y=[];for(;p<e;){i=u();const w=i.slice();y.push(w),p+=i.length}return $s(...y)};return(p,y)=>{l(),d(p);let w;for(;!(w=y(f()));)d();return l(),w}}function Bu(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const l=typeof a;if(l!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${l}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function Jh(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xn=BigInt(0),wn=BigInt(1),go=BigInt(2),Vj=BigInt(3),tk=BigInt(4),nk=BigInt(5),rk=BigInt(8);function Xt(t,e){const n=t%e;return n>=Xn?n:e+n}function Wt(t,e,n){let r=t;for(;e-- >Xn;)r*=r,r%=n;return r}function Xw(t,e){if(t===Xn)throw new Error("invert: expected non-zero number");if(e<=Xn)throw new Error("invert: expected positive modulus, got "+e);let n=Xt(t,e),r=e,s=Xn,i=wn;for(;n!==Xn;){const a=r/n,l=r%n,u=s-i*a;r=n,n=l,s=i,i=u}if(r!==wn)throw new Error("invert: does not exist");return Xt(s,e)}function sk(t,e){const n=(t.ORDER+wn)/tk,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Wj(t,e){const n=(t.ORDER-nk)/rk,r=t.mul(e,go),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,go),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Kj(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-wn,n=0;for(;e%go===Xn;)e/=go,n++;let r=go;const s=wl(t);for(;Zw(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return sk;let i=s.pow(r,e);const o=(e+wn)/go;return function(l,u){if(l.is0(u))return u;if(Zw(l,u)!==1)throw new Error("Cannot find square root");let d=n,f=l.mul(l.ONE,i),m=l.pow(u,e),p=l.pow(u,o);for(;!l.eql(m,l.ONE);){if(l.is0(m))return l.ZERO;let y=1,w=l.sqr(m);for(;!l.eql(w,l.ONE);)if(y++,w=l.sqr(w),y===d)throw new Error("Cannot find square root");const v=wn<<BigInt(d-y-1),x=l.pow(f,v);d=y,f=l.sqr(x),m=l.mul(m,f),p=l.mul(p,x)}return p}}function Gj(t){return t%tk===Vj?sk:t%rk===nk?Wj:Kj(t)}const qj=(t,e)=>(Xt(t,e)&wn)===wn,Yj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xj(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Yj.reduce((r,s)=>(r[s]="function",r),e);return Bu(t,n),t}function Zj(t,e,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return t.ONE;if(n===wn)return e;let r=t.ONE,s=e;for(;n>Xn;)n&wn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=wn;return r}function ik(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function Zw(t,e){const n=(t.ORDER-wn)/go,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Qj(t,e){e!==void 0&&lu(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wl(t,e,n=!1,r={}){if(t<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=e;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=Qj(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:ep(o),ZERO:Xn,ONE:wn,create:d=>Xt(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Xn<=d&&d<t},is0:d=>d===Xn,isValidNot0:d=>!u.is0(d)&&u.isValid(d),isOdd:d=>(d&wn)===wn,neg:d=>Xt(-d,t),eql:(d,f)=>d===f,sqr:d=>Xt(d*d,t),add:(d,f)=>Xt(d+f,t),sub:(d,f)=>Xt(d-f,t),mul:(d,f)=>Xt(d*f,t),pow:(d,f)=>Zj(u,d,f),div:(d,f)=>Xt(d*Xw(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>Xw(d,t),sqrt:i||(d=>(l||(l=Gj(t)),l(u,d))),toBytes:d=>n?Jf(d,a):cx(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?cu(d):Qf(d)},invertBatch:d=>ik(u,d),cmov:(d,f,m)=>m?f:d});return Object.freeze(u)}function ok(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ak(t){const e=ok(t);return e+Math.ceil(e/2)}function Jj(t,e,n=!1){const r=t.length,s=ok(e),i=ak(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?cu(t):Qf(t),a=Xt(o,e-wn)+wn;return n?Jf(a,s):cx(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tl=BigInt(0),yo=BigInt(1);function Ic(t,e){const n=e.negate();return t?n:e}function lk(t,e,n){const r=e==="pz"?o=>o.pz:o=>o.ez,s=ik(t.Fp,n.map(r));return n.map((o,a)=>o.toAffine(s[a])).map(t.fromAffine)}function ck(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function xm(t,e){ck(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=ep(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Qw(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=yo);const u=e*r,d=u+Math.abs(a)-1,f=a===0,m=a<0,p=e%2!==0;return{nextN:l,offset:d,isZero:f,isNeg:m,isNegF:p,offsetF:u}}function eM(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function tM(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const wm=new WeakMap,uk=new WeakMap;function vm(t){return uk.get(t)||1}function Jw(t){if(t!==tl)throw new Error("invalid wNAF")}function dk(t,e){return{constTimeNegate:Ic,hasPrecomputes(n){return vm(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>tl;)r&yo&&(s=s.add(i)),i=i.double(),r>>=yo;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=xm(r,e),o=[];let a=n,l=a;for(let u=0;u<s;u++){l=a,o.push(l);for(let d=1;d<i;d++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=xm(n,e);for(let l=0;l<a.windows;l++){const{nextN:u,offset:d,isZero:f,isNeg:m,isNegF:p,offsetF:y}=Qw(s,l,a);s=u,f?o=o.add(Ic(p,r[y])):i=i.add(Ic(m,r[d]))}return Jw(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=xm(n,e);for(let a=0;a<o.windows&&s!==tl;a++){const{nextN:l,offset:u,isZero:d,isNeg:f}=Qw(s,a,o);if(s=l,!d){const m=r[u];i=i.add(f?m.negate():m)}}return Jw(s),i},getPrecomputes(n,r,s){let i=wm.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),wm.set(r,i))),i},wNAFCached(n,r,s){const i=vm(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=vm(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){ck(r,e),uk.set(n,r),wm.delete(n)}}}function nM(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>tl||r>tl;)n&yo&&(i=i.add(s)),r&yo&&(o=o.add(s)),s=s.double(),n>>=yo,r>>=yo;return{p1:i,p2:o}}function hk(t,e,n,r){eM(n,t),tM(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Fj(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=ep(l),d=new Array(Number(u)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let m=o;for(let p=f;p>=0;p-=l){d.fill(o);for(let w=0;w<i;w++){const v=r[w],x=Number(v>>BigInt(p)&u);d[x]=d[x].add(n[w])}let y=o;for(let w=d.length-1,v=o;w>0;w--)v=v.add(d[w]),y=y.add(v);if(m=m.add(y),p!==0)for(let w=0;w<l;w++)m=m.double()}return m}function ev(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Xj(e),e}else return wl(t)}function fk(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>tl))throw new Error(`CURVE.${a} must be positive bigint`)}const r=ev(e.p,n.Fp),s=ev(e.n,n.Fn),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const a of o)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ns=BigInt(0),Mn=BigInt(1),bm=BigInt(2),rM=BigInt(8),sM={zip215:!0};function iM(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),o=t.add(t.mul(e.a,s),i),a=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(o,a)}function oM(t,e={}){const{Fp:n,Fn:r}=fk("edwards",t,e),{h:s,n:i}=t;Bu(e,{},{uvRatio:"function"});const o=bm<<BigInt(r.BYTES*8)-Mn,a=w=>n.create(w),l=e.uvRatio||((w,v)=>{try{return{isValid:!0,value:n.sqrt(n.div(w,v))}}catch{return{isValid:!1,value:ns}}});if(!iM(n,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function u(w,v,x=!1){const S=x?Mn:ns;return Ra("coordinate "+w,v,S,o),v}function d(w){if(!(w instanceof p))throw new Error("ExtendedPoint expected")}const f=Jh((w,v)=>{const{ex:x,ey:S,ez:k}=w,R=w.is0();v==null&&(v=R?rM:n.inv(k));const j=a(x*v),F=a(S*v),P=a(k*v);if(R)return{x:ns,y:Mn};if(P!==Mn)throw new Error("invZ was invalid");return{x:j,y:F}}),m=Jh(w=>{const{a:v,d:x}=t;if(w.is0())throw new Error("bad point: ZERO");const{ex:S,ey:k,ez:R,et:j}=w,F=a(S*S),P=a(k*k),M=a(R*R),D=a(M*M),L=a(F*v),z=a(M*a(L+P)),H=a(D+a(x*a(F*P)));if(z!==H)throw new Error("bad point: equation left != right (1)");const A=a(S*k),h=a(R*j);if(A!==h)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(v,x,S,k){this.ex=u("x",v),this.ey=u("y",x),this.ez=u("z",S,!0),this.et=u("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v){if(v instanceof p)throw new Error("extended point not allowed");const{x,y:S}=v||{};return u("x",x),u("y",S),new p(x,S,Mn,a(x*S))}static normalizeZ(v){return lk(p,"ez",v)}static msm(v,x){return hk(p,r,v,x)}_setWindowSize(v){this.precompute(v)}precompute(v=8,x=!0){return y.setWindowSize(this,v),x||this.multiply(bm),this}assertValidity(){m(this)}equals(v){d(v);const{ex:x,ey:S,ez:k}=this,{ex:R,ey:j,ez:F}=v,P=a(x*F),M=a(R*k),D=a(S*F),L=a(j*k);return P===M&&D===L}is0(){return this.equals(p.ZERO)}negate(){return new p(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:v}=t,{ex:x,ey:S,ez:k}=this,R=a(x*x),j=a(S*S),F=a(bm*a(k*k)),P=a(v*R),M=x+S,D=a(a(M*M)-R-j),L=P+j,z=L-F,H=P-j,A=a(D*z),h=a(L*H),g=a(D*H),_=a(z*L);return new p(A,h,_,g)}add(v){d(v);const{a:x,d:S}=t,{ex:k,ey:R,ez:j,et:F}=this,{ex:P,ey:M,ez:D,et:L}=v,z=a(k*P),H=a(R*M),A=a(F*S*L),h=a(j*D),g=a((k+R)*(P+M)-z-H),_=h-A,I=h+A,T=a(H-x*z),C=a(g*_),$=a(I*T),O=a(g*T),b=a(_*I);return new p(C,$,b,O)}subtract(v){return this.add(v.negate())}multiply(v){const x=v;Ra("scalar",x,Mn,i);const{p:S,f:k}=y.wNAFCached(this,x,p.normalizeZ);return p.normalizeZ([S,k])[0]}multiplyUnsafe(v,x=p.ZERO){const S=v;return Ra("scalar",S,ns,i),S===ns?p.ZERO:this.is0()||S===Mn?this:y.wNAFCachedUnsafe(this,S,p.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return y.wNAFCachedUnsafe(this,i).is0()}toAffine(v){return f(this,v)}clearCofactor(){return s===Mn?this:this.multiplyUnsafe(s)}static fromBytes(v,x=!1){return Ir(v),this.fromHex(v,x)}static fromHex(v,x=!1){const{d:S,a:k}=t,R=n.BYTES;v=Yt("pointHex",v,R),Bo("zip215",x);const j=v.slice(),F=v[R-1];j[R-1]=F&-129;const P=cu(j),M=x?o:n.ORDER;Ra("pointHex.y",P,ns,M);const D=a(P*P),L=a(D-Mn),z=a(S*D-k);let{isValid:H,value:A}=l(L,z);if(!H)throw new Error("Point.fromHex: invalid y coordinate");const h=(A&Mn)===Mn,g=(F&128)!==0;if(!x&&A===ns&&g)throw new Error("Point.fromHex: x=0 and x_0=1");return g!==h&&(A=a(-A)),p.fromAffine({x:A,y:P})}static fromPrivateScalar(v){return p.BASE.multiply(v)}toBytes(){const{x:v,y:x}=this.toAffine(),S=Jf(x,n.BYTES);return S[S.length-1]|=v&Mn?128:0,S}toRawBytes(){return this.toBytes()}toHex(){return el(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}p.BASE=new p(t.Gx,t.Gy,Mn,a(t.Gx*t.Gy)),p.ZERO=new p(ns,Mn,Mn,ns),p.Fp=n,p.Fn=r;const y=dk(p,r.BYTES*8);return p}function aM(t,e){Bu(e,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:r}=e,{BASE:s,Fp:i,Fn:o}=t,a=o.ORDER,l=e.randomBytes||YE,u=e.adjustScalarBytes||(j=>j),d=e.domain||((j,F,P)=>{if(Bo("phflag",P),F.length||P)throw new Error("Contexts/pre-hash are not supported");return j});function f(j){return o.create(j)}function m(j){return f(cu(j))}function p(j){const F=i.BYTES;j=Yt("private key",j,F);const P=Yt("hashed private key",r(j),2*F),M=u(P.slice(0,F)),D=P.slice(F,2*F),L=m(M);return{head:M,prefix:D,scalar:L}}function y(j){const{head:F,prefix:P,scalar:M}=p(j),D=s.multiply(M),L=D.toBytes();return{head:F,prefix:P,scalar:M,point:D,pointBytes:L}}function w(j){return y(j).pointBytes}function v(j=Uint8Array.of(),...F){const P=$s(...F);return m(r(d(P,Yt("context",j),!!n)))}function x(j,F,P={}){j=Yt("message",j),n&&(j=n(j));const{prefix:M,scalar:D,pointBytes:L}=y(F),z=v(P.context,M,j),H=s.multiply(z).toBytes(),A=v(P.context,H,L,j),h=f(z+A*D);Ra("signature.s",h,ns,a);const g=i.BYTES,_=$s(H,Jf(h,g));return Yt("result",_,g*2)}const S=sM;function k(j,F,P,M=S){const{context:D,zip215:L}=M,z=i.BYTES;j=Yt("signature",j,2*z),F=Yt("message",F),P=Yt("publicKey",P,z),L!==void 0&&Bo("zip215",L),n&&(F=n(F));const H=cu(j.slice(z,2*z));let A,h,g;try{A=t.fromHex(P,L),h=t.fromHex(j.slice(0,z),L),g=s.multiplyUnsafe(H)}catch{return!1}if(!L&&A.isSmallOrder())return!1;const _=v(D,h.toBytes(),A.toBytes(),F);return h.add(A.multiplyUnsafe(_)).subtract(g).clearCofactor().is0()}return s.precompute(8),{getPublicKey:w,sign:x,verify:k,utils:{getExtendedPublicKey:y,randomPrivateKey:()=>l(i.BYTES),precompute(j=8,F=t.BASE){return F.precompute(j,!1)}},Point:t}}function lM(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=wl(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={hash:t.hash,randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,eddsaOpts:i}}function cM(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}function uM(t){const{CURVE:e,curveOpts:n,eddsaOpts:r}=lM(t),s=oM(e,n),i=aM(s,r);return cM(t,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const dM=BigInt(1),tv=BigInt(2);BigInt(3);const hM=BigInt(5),fM=BigInt(8),tp={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:fM,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function pM(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=tp.p,a=t*t%i*t%i,l=Wt(a,tv,i)*a%i,u=Wt(l,dM,i)*t%i,d=Wt(u,hM,i)*u%i,f=Wt(d,e,i)*d%i,m=Wt(f,n,i)*f%i,p=Wt(m,r,i)*m%i,y=Wt(p,s,i)*p%i,w=Wt(y,s,i)*p%i,v=Wt(w,e,i)*d%i;return{pow_p_5_8:Wt(v,tv,i)*t%i,b2:a}}function mM(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const nv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function gM(t,e){const n=tp.p,r=Xt(e*e*e,n),s=Xt(r*r*e,n),i=pM(t*s).pow_p_5_8;let o=Xt(t*r*i,n);const a=Xt(e*o*o,n),l=o,u=Xt(o*nv,n),d=a===t,f=a===Xt(-t,n),m=a===Xt(-t*nv,n);return d&&(o=l),(f||m)&&(o=u),qj(o,n)&&(o=Xt(-o,n)),{isValid:d||f,value:o}}const yM=wl(tp.p,void 0,!0),xM={...tp,Fp:yM,hash:Uj,adjustScalarBytes:mM,uvRatio:gM},vl=uM(xM);var ux={exports:{}};const wM={},vM=Object.freeze(Object.defineProperty({__proto__:null,default:wM},Symbol.toStringTag,{value:"Module"})),bM=Of(vM);ux.exports;(function(t){(function(e,n){function r(A,h){if(!A)throw new Error(h||"Assertion failed")}function s(A,h){A.super_=h;var g=function(){};g.prototype=h.prototype,A.prototype=new g,A.prototype.constructor=A}function i(A,h,g){if(i.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((h==="le"||h==="be")&&(g=h,h=10),this._init(A||0,h||10,g||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=bM.Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,g){return h.cmp(g)>0?h:g},i.min=function(h,g){return h.cmp(g)<0?h:g},i.prototype._init=function(h,g,_){if(typeof h=="number")return this._initNumber(h,g,_);if(typeof h=="object")return this._initArray(h,g,_);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),h=h.toString().replace(/\s+/g,"");var I=0;h[0]==="-"&&(I++,this.negative=1),I<h.length&&(g===16?this._parseHex(h,I,_):(this._parseBase(h,g,I),_==="le"&&this._initArray(this.toArray(),g,_)))},i.prototype._initNumber=function(h,g,_){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),g,_)},i.prototype._initArray=function(h,g,_){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T,C,$=0;if(_==="be")for(I=h.length-1,T=0;I>=0;I-=3)C=h[I]|h[I-1]<<8|h[I-2]<<16,this.words[T]|=C<<$&67108863,this.words[T+1]=C>>>26-$&67108863,$+=24,$>=26&&($-=26,T++);else if(_==="le")for(I=0,T=0;I<h.length;I+=3)C=h[I]|h[I+1]<<8|h[I+2]<<16,this.words[T]|=C<<$&67108863,this.words[T+1]=C>>>26-$&67108863,$+=24,$>=26&&($-=26,T++);return this._strip()};function a(A,h){var g=A.charCodeAt(h);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;r(!1,"Invalid character in "+A)}function l(A,h,g){var _=a(A,g);return g-1>=h&&(_|=a(A,g-1)<<4),_}i.prototype._parseHex=function(h,g,_){this.length=Math.ceil((h.length-g)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T=0,C=0,$;if(_==="be")for(I=h.length-1;I>=g;I-=2)$=l(h,g,I)<<T,this.words[C]|=$&67108863,T>=18?(T-=18,C+=1,this.words[C]|=$>>>26):T+=8;else{var O=h.length-g;for(I=O%2===0?g+1:g;I<h.length;I+=2)$=l(h,g,I)<<T,this.words[C]|=$&67108863,T>=18?(T-=18,C+=1,this.words[C]|=$>>>26):T+=8}this._strip()};function u(A,h,g,_){for(var I=0,T=0,C=Math.min(A.length,g),$=h;$<C;$++){var O=A.charCodeAt($)-48;I*=_,O>=49?T=O-49+10:O>=17?T=O-17+10:T=O,r(O>=0&&T<_,"Invalid character"),I+=T}return I}i.prototype._parseBase=function(h,g,_){this.words=[0],this.length=1;for(var I=0,T=1;T<=67108863;T*=g)I++;I--,T=T/g|0;for(var C=h.length-_,$=C%I,O=Math.min(C,C-$)+_,b=0,B=_;B<O;B+=I)b=u(h,B,B+I,g),this.imuln(T),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if($!==0){var G=1;for(b=u(h,B,h.length,g),B=0;B<$;B++)G*=g;this.imuln(G),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var g=0;g<this.length;g++)h.words[g]=this.words[g];h.length=this.length,h.negative=this.negative,h.red=this.red};function d(A,h){A.words=h.words,A.length=h.length,A.negative=h.negative,A.red=h.red}if(i.prototype._move=function(h){d(h,this)},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,g){h=h||10,g=g|0||1;var _;if(h===16||h==="hex"){_="";for(var I=0,T=0,C=0;C<this.length;C++){var $=this.words[C],O=(($<<I|T)&16777215).toString(16);T=$>>>24-I&16777215,I+=2,I>=26&&(I-=26,C--),T!==0||C!==this.length-1?_=m[6-O.length]+O+_:_=O+_}for(T!==0&&(_=T.toString(16)+_);_.length%g!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(h===(h|0)&&h>=2&&h<=36){var b=p[h],B=y[h];_="";var G=this.clone();for(G.negative=0;!G.isZero();){var Z=G.modrn(B).toString(h);G=G.idivn(B),G.isZero()?_=Z+_:_=m[b-Z.length]+Z+_}for(this.isZero()&&(_="0"+_);_.length%g!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(h,g){return this.toArrayLike(o,h,g)}),i.prototype.toArray=function(h,g){return this.toArrayLike(Array,h,g)};var w=function(h,g){return h.allocUnsafe?h.allocUnsafe(g):new h(g)};i.prototype.toArrayLike=function(h,g,_){this._strip();var I=this.byteLength(),T=_||Math.max(1,I);r(I<=T,"byte array longer than desired length"),r(T>0,"Requested array length <= 0");var C=w(h,T),$=g==="le"?"LE":"BE";return this["_toArrayLike"+$](C,I),C},i.prototype._toArrayLikeLE=function(h,g){for(var _=0,I=0,T=0,C=0;T<this.length;T++){var $=this.words[T]<<C|I;h[_++]=$&255,_<h.length&&(h[_++]=$>>8&255),_<h.length&&(h[_++]=$>>16&255),C===6?(_<h.length&&(h[_++]=$>>24&255),I=0,C=0):(I=$>>>24,C+=2)}if(_<h.length)for(h[_++]=I;_<h.length;)h[_++]=0},i.prototype._toArrayLikeBE=function(h,g){for(var _=h.length-1,I=0,T=0,C=0;T<this.length;T++){var $=this.words[T]<<C|I;h[_--]=$&255,_>=0&&(h[_--]=$>>8&255),_>=0&&(h[_--]=$>>16&255),C===6?(_>=0&&(h[_--]=$>>24&255),I=0,C=0):(I=$>>>24,C+=2)}if(_>=0)for(h[_--]=I;_>=0;)h[_--]=0},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var g=h,_=0;return g>=4096&&(_+=13,g>>>=13),g>=64&&(_+=7,g>>>=7),g>=8&&(_+=4,g>>>=4),g>=2&&(_+=2,g>>>=2),_+g},i.prototype._zeroBits=function(h){if(h===0)return 26;var g=h,_=0;return g&8191||(_+=13,g>>>=13),g&127||(_+=7,g>>>=7),g&15||(_+=4,g>>>=4),g&3||(_+=2,g>>>=2),g&1||_++,_},i.prototype.bitLength=function(){var h=this.words[this.length-1],g=this._countBits(h);return(this.length-1)*26+g};function v(A){for(var h=new Array(A.bitLength()),g=0;g<h.length;g++){var _=g/26|0,I=g%26;h[g]=A.words[_]>>>I&1}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,g=0;g<this.length;g++){var _=this._zeroBits(this.words[g]);if(h+=_,_!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]|h.words[g];return this._strip()},i.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var g;this.length>h.length?g=h:g=this;for(var _=0;_<g.length;_++)this.words[_]=this.words[_]&h.words[_];return this.length=g.length,this._strip()},i.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var g,_;this.length>h.length?(g=this,_=h):(g=h,_=this);for(var I=0;I<_.length;I++)this.words[I]=g.words[I]^_.words[I];if(this!==g)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=g.length,this._strip()},i.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var g=Math.ceil(h/26)|0,_=h%26;this._expand(g),_>0&&g--;for(var I=0;I<g;I++)this.words[I]=~this.words[I]&67108863;return _>0&&(this.words[I]=~this.words[I]&67108863>>26-_),this._strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,g){r(typeof h=="number"&&h>=0);var _=h/26|0,I=h%26;return this._expand(_+1),g?this.words[_]=this.words[_]|1<<I:this.words[_]=this.words[_]&~(1<<I),this._strip()},i.prototype.iadd=function(h){var g;if(this.negative!==0&&h.negative===0)return this.negative=0,g=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,g=this.isub(h),h.negative=1,g._normSign();var _,I;this.length>h.length?(_=this,I=h):(_=h,I=this);for(var T=0,C=0;C<I.length;C++)g=(_.words[C]|0)+(I.words[C]|0)+T,this.words[C]=g&67108863,T=g>>>26;for(;T!==0&&C<_.length;C++)g=(_.words[C]|0)+T,this.words[C]=g&67108863,T=g>>>26;if(this.length=_.length,T!==0)this.words[this.length]=T,this.length++;else if(_!==this)for(;C<_.length;C++)this.words[C]=_.words[C];return this},i.prototype.add=function(h){var g;return h.negative!==0&&this.negative===0?(h.negative=0,g=this.sub(h),h.negative^=1,g):h.negative===0&&this.negative!==0?(this.negative=0,g=h.sub(this),this.negative=1,g):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var g=this.iadd(h);return h.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var _=this.cmp(h);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,T;_>0?(I=this,T=h):(I=h,T=this);for(var C=0,$=0;$<T.length;$++)g=(I.words[$]|0)-(T.words[$]|0)+C,C=g>>26,this.words[$]=g&67108863;for(;C!==0&&$<I.length;$++)g=(I.words[$]|0)+C,C=g>>26,this.words[$]=g&67108863;if(C===0&&$<I.length&&I!==this)for(;$<I.length;$++)this.words[$]=I.words[$];return this.length=Math.max(this.length,$),I!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function x(A,h,g){g.negative=h.negative^A.negative;var _=A.length+h.length|0;g.length=_,_=_-1|0;var I=A.words[0]|0,T=h.words[0]|0,C=I*T,$=C&67108863,O=C/67108864|0;g.words[0]=$;for(var b=1;b<_;b++){for(var B=O>>>26,G=O&67108863,Z=Math.min(b,h.length-1),ne=Math.max(0,b-A.length+1);ne<=Z;ne++){var ae=b-ne|0;I=A.words[ae]|0,T=h.words[ne]|0,C=I*T+G,B+=C/67108864|0,G=C&67108863}g.words[b]=G|0,O=B|0}return O!==0?g.words[b]=O|0:g.length--,g._strip()}var S=function(h,g,_){var I=h.words,T=g.words,C=_.words,$=0,O,b,B,G=I[0]|0,Z=G&8191,ne=G>>>13,ae=I[1]|0,ce=ae&8191,me=ae>>>13,Ie=I[2]|0,Ce=Ie&8191,Be=Ie>>>13,ut=I[3]|0,Le=ut&8191,Pe=ut>>>13,re=I[4]|0,ge=re&8191,q=re>>>13,ye=I[5]|0,he=ye&8191,xe=ye>>>13,Me=I[6]|0,Oe=Me&8191,ze=Me>>>13,We=I[7]|0,Je=We&8191,U=We>>>13,E=I[8]|0,N=E&8191,W=E>>>13,K=I[9]|0,Y=K&8191,ee=K>>>13,De=T[0]|0,je=De&8191,Re=De>>>13,qe=T[1]|0,Ae=qe&8191,bt=qe>>>13,ri=T[2]|0,_t=ri&8191,kt=ri>>>13,Zr=T[3]|0,Ot=Zr&8191,jt=Zr>>>13,Yu=T[4]|0,Mt=Yu&8191,Pt=Yu>>>13,Xu=T[5]|0,Bt=Xu&8191,Lt=Xu>>>13,Zu=T[6]|0,Dt=Zu&8191,zt=Zu>>>13,Qu=T[7]|0,Ut=Qu&8191,$t=Qu>>>13,Ju=T[8]|0,Ft=Ju&8191,Nt=Ju>>>13,ed=T[9]|0,Ht=ed&8191,Vt=ed>>>13;_.negative=h.negative^g.negative,_.length=19,O=Math.imul(Z,je),b=Math.imul(Z,Re),b=b+Math.imul(ne,je)|0,B=Math.imul(ne,Re);var Tl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Tl>>>26)|0,Tl&=67108863,O=Math.imul(ce,je),b=Math.imul(ce,Re),b=b+Math.imul(me,je)|0,B=Math.imul(me,Re),O=O+Math.imul(Z,Ae)|0,b=b+Math.imul(Z,bt)|0,b=b+Math.imul(ne,Ae)|0,B=B+Math.imul(ne,bt)|0;var Il=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Il>>>26)|0,Il&=67108863,O=Math.imul(Ce,je),b=Math.imul(Ce,Re),b=b+Math.imul(Be,je)|0,B=Math.imul(Be,Re),O=O+Math.imul(ce,Ae)|0,b=b+Math.imul(ce,bt)|0,b=b+Math.imul(me,Ae)|0,B=B+Math.imul(me,bt)|0,O=O+Math.imul(Z,_t)|0,b=b+Math.imul(Z,kt)|0,b=b+Math.imul(ne,_t)|0,B=B+Math.imul(ne,kt)|0;var Cl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Cl>>>26)|0,Cl&=67108863,O=Math.imul(Le,je),b=Math.imul(Le,Re),b=b+Math.imul(Pe,je)|0,B=Math.imul(Pe,Re),O=O+Math.imul(Ce,Ae)|0,b=b+Math.imul(Ce,bt)|0,b=b+Math.imul(Be,Ae)|0,B=B+Math.imul(Be,bt)|0,O=O+Math.imul(ce,_t)|0,b=b+Math.imul(ce,kt)|0,b=b+Math.imul(me,_t)|0,B=B+Math.imul(me,kt)|0,O=O+Math.imul(Z,Ot)|0,b=b+Math.imul(Z,jt)|0,b=b+Math.imul(ne,Ot)|0,B=B+Math.imul(ne,jt)|0;var Ol=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Ol>>>26)|0,Ol&=67108863,O=Math.imul(ge,je),b=Math.imul(ge,Re),b=b+Math.imul(q,je)|0,B=Math.imul(q,Re),O=O+Math.imul(Le,Ae)|0,b=b+Math.imul(Le,bt)|0,b=b+Math.imul(Pe,Ae)|0,B=B+Math.imul(Pe,bt)|0,O=O+Math.imul(Ce,_t)|0,b=b+Math.imul(Ce,kt)|0,b=b+Math.imul(Be,_t)|0,B=B+Math.imul(Be,kt)|0,O=O+Math.imul(ce,Ot)|0,b=b+Math.imul(ce,jt)|0,b=b+Math.imul(me,Ot)|0,B=B+Math.imul(me,jt)|0,O=O+Math.imul(Z,Mt)|0,b=b+Math.imul(Z,Pt)|0,b=b+Math.imul(ne,Mt)|0,B=B+Math.imul(ne,Pt)|0;var jl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(jl>>>26)|0,jl&=67108863,O=Math.imul(he,je),b=Math.imul(he,Re),b=b+Math.imul(xe,je)|0,B=Math.imul(xe,Re),O=O+Math.imul(ge,Ae)|0,b=b+Math.imul(ge,bt)|0,b=b+Math.imul(q,Ae)|0,B=B+Math.imul(q,bt)|0,O=O+Math.imul(Le,_t)|0,b=b+Math.imul(Le,kt)|0,b=b+Math.imul(Pe,_t)|0,B=B+Math.imul(Pe,kt)|0,O=O+Math.imul(Ce,Ot)|0,b=b+Math.imul(Ce,jt)|0,b=b+Math.imul(Be,Ot)|0,B=B+Math.imul(Be,jt)|0,O=O+Math.imul(ce,Mt)|0,b=b+Math.imul(ce,Pt)|0,b=b+Math.imul(me,Mt)|0,B=B+Math.imul(me,Pt)|0,O=O+Math.imul(Z,Bt)|0,b=b+Math.imul(Z,Lt)|0,b=b+Math.imul(ne,Bt)|0,B=B+Math.imul(ne,Lt)|0;var Jo=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,O=Math.imul(Oe,je),b=Math.imul(Oe,Re),b=b+Math.imul(ze,je)|0,B=Math.imul(ze,Re),O=O+Math.imul(he,Ae)|0,b=b+Math.imul(he,bt)|0,b=b+Math.imul(xe,Ae)|0,B=B+Math.imul(xe,bt)|0,O=O+Math.imul(ge,_t)|0,b=b+Math.imul(ge,kt)|0,b=b+Math.imul(q,_t)|0,B=B+Math.imul(q,kt)|0,O=O+Math.imul(Le,Ot)|0,b=b+Math.imul(Le,jt)|0,b=b+Math.imul(Pe,Ot)|0,B=B+Math.imul(Pe,jt)|0,O=O+Math.imul(Ce,Mt)|0,b=b+Math.imul(Ce,Pt)|0,b=b+Math.imul(Be,Mt)|0,B=B+Math.imul(Be,Pt)|0,O=O+Math.imul(ce,Bt)|0,b=b+Math.imul(ce,Lt)|0,b=b+Math.imul(me,Bt)|0,B=B+Math.imul(me,Lt)|0,O=O+Math.imul(Z,Dt)|0,b=b+Math.imul(Z,zt)|0,b=b+Math.imul(ne,Dt)|0,B=B+Math.imul(ne,zt)|0;var Ml=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Ml>>>26)|0,Ml&=67108863,O=Math.imul(Je,je),b=Math.imul(Je,Re),b=b+Math.imul(U,je)|0,B=Math.imul(U,Re),O=O+Math.imul(Oe,Ae)|0,b=b+Math.imul(Oe,bt)|0,b=b+Math.imul(ze,Ae)|0,B=B+Math.imul(ze,bt)|0,O=O+Math.imul(he,_t)|0,b=b+Math.imul(he,kt)|0,b=b+Math.imul(xe,_t)|0,B=B+Math.imul(xe,kt)|0,O=O+Math.imul(ge,Ot)|0,b=b+Math.imul(ge,jt)|0,b=b+Math.imul(q,Ot)|0,B=B+Math.imul(q,jt)|0,O=O+Math.imul(Le,Mt)|0,b=b+Math.imul(Le,Pt)|0,b=b+Math.imul(Pe,Mt)|0,B=B+Math.imul(Pe,Pt)|0,O=O+Math.imul(Ce,Bt)|0,b=b+Math.imul(Ce,Lt)|0,b=b+Math.imul(Be,Bt)|0,B=B+Math.imul(Be,Lt)|0,O=O+Math.imul(ce,Dt)|0,b=b+Math.imul(ce,zt)|0,b=b+Math.imul(me,Dt)|0,B=B+Math.imul(me,zt)|0,O=O+Math.imul(Z,Ut)|0,b=b+Math.imul(Z,$t)|0,b=b+Math.imul(ne,Ut)|0,B=B+Math.imul(ne,$t)|0;var Pl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Pl>>>26)|0,Pl&=67108863,O=Math.imul(N,je),b=Math.imul(N,Re),b=b+Math.imul(W,je)|0,B=Math.imul(W,Re),O=O+Math.imul(Je,Ae)|0,b=b+Math.imul(Je,bt)|0,b=b+Math.imul(U,Ae)|0,B=B+Math.imul(U,bt)|0,O=O+Math.imul(Oe,_t)|0,b=b+Math.imul(Oe,kt)|0,b=b+Math.imul(ze,_t)|0,B=B+Math.imul(ze,kt)|0,O=O+Math.imul(he,Ot)|0,b=b+Math.imul(he,jt)|0,b=b+Math.imul(xe,Ot)|0,B=B+Math.imul(xe,jt)|0,O=O+Math.imul(ge,Mt)|0,b=b+Math.imul(ge,Pt)|0,b=b+Math.imul(q,Mt)|0,B=B+Math.imul(q,Pt)|0,O=O+Math.imul(Le,Bt)|0,b=b+Math.imul(Le,Lt)|0,b=b+Math.imul(Pe,Bt)|0,B=B+Math.imul(Pe,Lt)|0,O=O+Math.imul(Ce,Dt)|0,b=b+Math.imul(Ce,zt)|0,b=b+Math.imul(Be,Dt)|0,B=B+Math.imul(Be,zt)|0,O=O+Math.imul(ce,Ut)|0,b=b+Math.imul(ce,$t)|0,b=b+Math.imul(me,Ut)|0,B=B+Math.imul(me,$t)|0,O=O+Math.imul(Z,Ft)|0,b=b+Math.imul(Z,Nt)|0,b=b+Math.imul(ne,Ft)|0,B=B+Math.imul(ne,Nt)|0;var Bl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,O=Math.imul(Y,je),b=Math.imul(Y,Re),b=b+Math.imul(ee,je)|0,B=Math.imul(ee,Re),O=O+Math.imul(N,Ae)|0,b=b+Math.imul(N,bt)|0,b=b+Math.imul(W,Ae)|0,B=B+Math.imul(W,bt)|0,O=O+Math.imul(Je,_t)|0,b=b+Math.imul(Je,kt)|0,b=b+Math.imul(U,_t)|0,B=B+Math.imul(U,kt)|0,O=O+Math.imul(Oe,Ot)|0,b=b+Math.imul(Oe,jt)|0,b=b+Math.imul(ze,Ot)|0,B=B+Math.imul(ze,jt)|0,O=O+Math.imul(he,Mt)|0,b=b+Math.imul(he,Pt)|0,b=b+Math.imul(xe,Mt)|0,B=B+Math.imul(xe,Pt)|0,O=O+Math.imul(ge,Bt)|0,b=b+Math.imul(ge,Lt)|0,b=b+Math.imul(q,Bt)|0,B=B+Math.imul(q,Lt)|0,O=O+Math.imul(Le,Dt)|0,b=b+Math.imul(Le,zt)|0,b=b+Math.imul(Pe,Dt)|0,B=B+Math.imul(Pe,zt)|0,O=O+Math.imul(Ce,Ut)|0,b=b+Math.imul(Ce,$t)|0,b=b+Math.imul(Be,Ut)|0,B=B+Math.imul(Be,$t)|0,O=O+Math.imul(ce,Ft)|0,b=b+Math.imul(ce,Nt)|0,b=b+Math.imul(me,Ft)|0,B=B+Math.imul(me,Nt)|0,O=O+Math.imul(Z,Ht)|0,b=b+Math.imul(Z,Vt)|0,b=b+Math.imul(ne,Ht)|0,B=B+Math.imul(ne,Vt)|0;var Ll=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,O=Math.imul(Y,Ae),b=Math.imul(Y,bt),b=b+Math.imul(ee,Ae)|0,B=Math.imul(ee,bt),O=O+Math.imul(N,_t)|0,b=b+Math.imul(N,kt)|0,b=b+Math.imul(W,_t)|0,B=B+Math.imul(W,kt)|0,O=O+Math.imul(Je,Ot)|0,b=b+Math.imul(Je,jt)|0,b=b+Math.imul(U,Ot)|0,B=B+Math.imul(U,jt)|0,O=O+Math.imul(Oe,Mt)|0,b=b+Math.imul(Oe,Pt)|0,b=b+Math.imul(ze,Mt)|0,B=B+Math.imul(ze,Pt)|0,O=O+Math.imul(he,Bt)|0,b=b+Math.imul(he,Lt)|0,b=b+Math.imul(xe,Bt)|0,B=B+Math.imul(xe,Lt)|0,O=O+Math.imul(ge,Dt)|0,b=b+Math.imul(ge,zt)|0,b=b+Math.imul(q,Dt)|0,B=B+Math.imul(q,zt)|0,O=O+Math.imul(Le,Ut)|0,b=b+Math.imul(Le,$t)|0,b=b+Math.imul(Pe,Ut)|0,B=B+Math.imul(Pe,$t)|0,O=O+Math.imul(Ce,Ft)|0,b=b+Math.imul(Ce,Nt)|0,b=b+Math.imul(Be,Ft)|0,B=B+Math.imul(Be,Nt)|0,O=O+Math.imul(ce,Ht)|0,b=b+Math.imul(ce,Vt)|0,b=b+Math.imul(me,Ht)|0,B=B+Math.imul(me,Vt)|0;var Dl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Dl>>>26)|0,Dl&=67108863,O=Math.imul(Y,_t),b=Math.imul(Y,kt),b=b+Math.imul(ee,_t)|0,B=Math.imul(ee,kt),O=O+Math.imul(N,Ot)|0,b=b+Math.imul(N,jt)|0,b=b+Math.imul(W,Ot)|0,B=B+Math.imul(W,jt)|0,O=O+Math.imul(Je,Mt)|0,b=b+Math.imul(Je,Pt)|0,b=b+Math.imul(U,Mt)|0,B=B+Math.imul(U,Pt)|0,O=O+Math.imul(Oe,Bt)|0,b=b+Math.imul(Oe,Lt)|0,b=b+Math.imul(ze,Bt)|0,B=B+Math.imul(ze,Lt)|0,O=O+Math.imul(he,Dt)|0,b=b+Math.imul(he,zt)|0,b=b+Math.imul(xe,Dt)|0,B=B+Math.imul(xe,zt)|0,O=O+Math.imul(ge,Ut)|0,b=b+Math.imul(ge,$t)|0,b=b+Math.imul(q,Ut)|0,B=B+Math.imul(q,$t)|0,O=O+Math.imul(Le,Ft)|0,b=b+Math.imul(Le,Nt)|0,b=b+Math.imul(Pe,Ft)|0,B=B+Math.imul(Pe,Nt)|0,O=O+Math.imul(Ce,Ht)|0,b=b+Math.imul(Ce,Vt)|0,b=b+Math.imul(Be,Ht)|0,B=B+Math.imul(Be,Vt)|0;var zl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(zl>>>26)|0,zl&=67108863,O=Math.imul(Y,Ot),b=Math.imul(Y,jt),b=b+Math.imul(ee,Ot)|0,B=Math.imul(ee,jt),O=O+Math.imul(N,Mt)|0,b=b+Math.imul(N,Pt)|0,b=b+Math.imul(W,Mt)|0,B=B+Math.imul(W,Pt)|0,O=O+Math.imul(Je,Bt)|0,b=b+Math.imul(Je,Lt)|0,b=b+Math.imul(U,Bt)|0,B=B+Math.imul(U,Lt)|0,O=O+Math.imul(Oe,Dt)|0,b=b+Math.imul(Oe,zt)|0,b=b+Math.imul(ze,Dt)|0,B=B+Math.imul(ze,zt)|0,O=O+Math.imul(he,Ut)|0,b=b+Math.imul(he,$t)|0,b=b+Math.imul(xe,Ut)|0,B=B+Math.imul(xe,$t)|0,O=O+Math.imul(ge,Ft)|0,b=b+Math.imul(ge,Nt)|0,b=b+Math.imul(q,Ft)|0,B=B+Math.imul(q,Nt)|0,O=O+Math.imul(Le,Ht)|0,b=b+Math.imul(Le,Vt)|0,b=b+Math.imul(Pe,Ht)|0,B=B+Math.imul(Pe,Vt)|0;var ea=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(ea>>>26)|0,ea&=67108863,O=Math.imul(Y,Mt),b=Math.imul(Y,Pt),b=b+Math.imul(ee,Mt)|0,B=Math.imul(ee,Pt),O=O+Math.imul(N,Bt)|0,b=b+Math.imul(N,Lt)|0,b=b+Math.imul(W,Bt)|0,B=B+Math.imul(W,Lt)|0,O=O+Math.imul(Je,Dt)|0,b=b+Math.imul(Je,zt)|0,b=b+Math.imul(U,Dt)|0,B=B+Math.imul(U,zt)|0,O=O+Math.imul(Oe,Ut)|0,b=b+Math.imul(Oe,$t)|0,b=b+Math.imul(ze,Ut)|0,B=B+Math.imul(ze,$t)|0,O=O+Math.imul(he,Ft)|0,b=b+Math.imul(he,Nt)|0,b=b+Math.imul(xe,Ft)|0,B=B+Math.imul(xe,Nt)|0,O=O+Math.imul(ge,Ht)|0,b=b+Math.imul(ge,Vt)|0,b=b+Math.imul(q,Ht)|0,B=B+Math.imul(q,Vt)|0;var Ul=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,O=Math.imul(Y,Bt),b=Math.imul(Y,Lt),b=b+Math.imul(ee,Bt)|0,B=Math.imul(ee,Lt),O=O+Math.imul(N,Dt)|0,b=b+Math.imul(N,zt)|0,b=b+Math.imul(W,Dt)|0,B=B+Math.imul(W,zt)|0,O=O+Math.imul(Je,Ut)|0,b=b+Math.imul(Je,$t)|0,b=b+Math.imul(U,Ut)|0,B=B+Math.imul(U,$t)|0,O=O+Math.imul(Oe,Ft)|0,b=b+Math.imul(Oe,Nt)|0,b=b+Math.imul(ze,Ft)|0,B=B+Math.imul(ze,Nt)|0,O=O+Math.imul(he,Ht)|0,b=b+Math.imul(he,Vt)|0,b=b+Math.imul(xe,Ht)|0,B=B+Math.imul(xe,Vt)|0;var $l=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+($l>>>26)|0,$l&=67108863,O=Math.imul(Y,Dt),b=Math.imul(Y,zt),b=b+Math.imul(ee,Dt)|0,B=Math.imul(ee,zt),O=O+Math.imul(N,Ut)|0,b=b+Math.imul(N,$t)|0,b=b+Math.imul(W,Ut)|0,B=B+Math.imul(W,$t)|0,O=O+Math.imul(Je,Ft)|0,b=b+Math.imul(Je,Nt)|0,b=b+Math.imul(U,Ft)|0,B=B+Math.imul(U,Nt)|0,O=O+Math.imul(Oe,Ht)|0,b=b+Math.imul(Oe,Vt)|0,b=b+Math.imul(ze,Ht)|0,B=B+Math.imul(ze,Vt)|0;var Fl=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Fl>>>26)|0,Fl&=67108863,O=Math.imul(Y,Ut),b=Math.imul(Y,$t),b=b+Math.imul(ee,Ut)|0,B=Math.imul(ee,$t),O=O+Math.imul(N,Ft)|0,b=b+Math.imul(N,Nt)|0,b=b+Math.imul(W,Ft)|0,B=B+Math.imul(W,Nt)|0,O=O+Math.imul(Je,Ht)|0,b=b+Math.imul(Je,Vt)|0,b=b+Math.imul(U,Ht)|0,B=B+Math.imul(U,Vt)|0;var Ji=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,O=Math.imul(Y,Ft),b=Math.imul(Y,Nt),b=b+Math.imul(ee,Ft)|0,B=Math.imul(ee,Nt),O=O+Math.imul(N,Ht)|0,b=b+Math.imul(N,Vt)|0,b=b+Math.imul(W,Ht)|0,B=B+Math.imul(W,Vt)|0;var Up=($+O|0)+((b&8191)<<13)|0;$=(B+(b>>>13)|0)+(Up>>>26)|0,Up&=67108863,O=Math.imul(Y,Ht),b=Math.imul(Y,Vt),b=b+Math.imul(ee,Ht)|0,B=Math.imul(ee,Vt);var $p=($+O|0)+((b&8191)<<13)|0;return $=(B+(b>>>13)|0)+($p>>>26)|0,$p&=67108863,C[0]=Tl,C[1]=Il,C[2]=Cl,C[3]=Ol,C[4]=jl,C[5]=Jo,C[6]=Ml,C[7]=Pl,C[8]=Bl,C[9]=Ll,C[10]=Dl,C[11]=zl,C[12]=ea,C[13]=Ul,C[14]=$l,C[15]=Fl,C[16]=Ji,C[17]=Up,C[18]=$p,$!==0&&(C[19]=$,_.length++),_};Math.imul||(S=x);function k(A,h,g){g.negative=h.negative^A.negative,g.length=A.length+h.length;for(var _=0,I=0,T=0;T<g.length-1;T++){var C=I;I=0;for(var $=_&67108863,O=Math.min(T,h.length-1),b=Math.max(0,T-A.length+1);b<=O;b++){var B=T-b,G=A.words[B]|0,Z=h.words[b]|0,ne=G*Z,ae=ne&67108863;C=C+(ne/67108864|0)|0,ae=ae+$|0,$=ae&67108863,C=C+(ae>>>26)|0,I+=C>>>26,C&=67108863}g.words[T]=$,_=C,C=I}return _!==0?g.words[T]=_:g.length--,g._strip()}function R(A,h,g){return k(A,h,g)}i.prototype.mulTo=function(h,g){var _,I=this.length+h.length;return this.length===10&&h.length===10?_=S(this,h,g):I<63?_=x(this,h,g):I<1024?_=k(this,h,g):_=R(this,h,g),_},i.prototype.mul=function(h){var g=new i(null);return g.words=new Array(this.length+h.length),this.mulTo(h,g)},i.prototype.mulf=function(h){var g=new i(null);return g.words=new Array(this.length+h.length),R(this,h,g)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){var g=h<0;g&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var _=0,I=0;I<this.length;I++){var T=(this.words[I]|0)*h,C=(T&67108863)+(_&67108863);_>>=26,_+=T/67108864|0,_+=C>>>26,this.words[I]=C&67108863}return _!==0&&(this.words[I]=_,this.length++),this.length=h===0?1:this.length,g?this.ineg():this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var g=v(h);if(g.length===0)return new i(1);for(var _=this,I=0;I<g.length&&g[I]===0;I++,_=_.sqr());if(++I<g.length)for(var T=_.sqr();I<g.length;I++,T=T.sqr())g[I]!==0&&(_=_.mul(T));return _},i.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var g=h%26,_=(h-g)/26,I=67108863>>>26-g<<26-g,T;if(g!==0){var C=0;for(T=0;T<this.length;T++){var $=this.words[T]&I,O=(this.words[T]|0)-$<<g;this.words[T]=O|C,C=$>>>26-g}C&&(this.words[T]=C,this.length++)}if(_!==0){for(T=this.length-1;T>=0;T--)this.words[T+_]=this.words[T];for(T=0;T<_;T++)this.words[T]=0;this.length+=_}return this._strip()},i.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,g,_){r(typeof h=="number"&&h>=0);var I;g?I=(g-g%26)/26:I=0;var T=h%26,C=Math.min((h-T)/26,this.length),$=67108863^67108863>>>T<<T,O=_;if(I-=C,I=Math.max(0,I),O){for(var b=0;b<C;b++)O.words[b]=this.words[b];O.length=C}if(C!==0)if(this.length>C)for(this.length-=C,b=0;b<this.length;b++)this.words[b]=this.words[b+C];else this.words[0]=0,this.length=1;var B=0;for(b=this.length-1;b>=0&&(B!==0||b>=I);b--){var G=this.words[b]|0;this.words[b]=B<<26-T|G>>>T,B=G&$}return O&&B!==0&&(O.words[O.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(h,g,_){return r(this.negative===0),this.iushrn(h,g,_)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var g=h%26,_=(h-g)/26,I=1<<g;if(this.length<=_)return!1;var T=this.words[_];return!!(T&I)},i.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var g=h%26,_=(h-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(g!==0&&_++,this.length=Math.min(_,this.length),g!==0){var I=67108863^67108863>>>g<<g;this.words[this.length-1]&=I}return this._strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,g,_){var I=h.length+_,T;this._expand(I);var C,$=0;for(T=0;T<h.length;T++){C=(this.words[T+_]|0)+$;var O=(h.words[T]|0)*g;C-=O&67108863,$=(C>>26)-(O/67108864|0),this.words[T+_]=C&67108863}for(;T<this.length-_;T++)C=(this.words[T+_]|0)+$,$=C>>26,this.words[T+_]=C&67108863;if($===0)return this._strip();for(r($===-1),$=0,T=0;T<this.length;T++)C=-(this.words[T]|0)+$,$=C>>26,this.words[T]=C&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(h,g){var _=this.length-h.length,I=this.clone(),T=h,C=T.words[T.length-1]|0,$=this._countBits(C);_=26-$,_!==0&&(T=T.ushln(_),I.iushln(_),C=T.words[T.length-1]|0);var O=I.length-T.length,b;if(g!=="mod"){b=new i(null),b.length=O+1,b.words=new Array(b.length);for(var B=0;B<b.length;B++)b.words[B]=0}var G=I.clone()._ishlnsubmul(T,1,O);G.negative===0&&(I=G,b&&(b.words[O]=1));for(var Z=O-1;Z>=0;Z--){var ne=(I.words[T.length+Z]|0)*67108864+(I.words[T.length+Z-1]|0);for(ne=Math.min(ne/C|0,67108863),I._ishlnsubmul(T,ne,Z);I.negative!==0;)ne--,I.negative=0,I._ishlnsubmul(T,1,Z),I.isZero()||(I.negative^=1);b&&(b.words[Z]=ne)}return b&&b._strip(),I._strip(),g!=="div"&&_!==0&&I.iushrn(_),{div:b||null,mod:I}},i.prototype.divmod=function(h,g,_){if(r(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var I,T,C;return this.negative!==0&&h.negative===0?(C=this.neg().divmod(h,g),g!=="mod"&&(I=C.div.neg()),g!=="div"&&(T=C.mod.neg(),_&&T.negative!==0&&T.iadd(h)),{div:I,mod:T}):this.negative===0&&h.negative!==0?(C=this.divmod(h.neg(),g),g!=="mod"&&(I=C.div.neg()),{div:I,mod:C.mod}):this.negative&h.negative?(C=this.neg().divmod(h.neg(),g),g!=="div"&&(T=C.mod.neg(),_&&T.negative!==0&&T.isub(h)),{div:C.div,mod:T}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?g==="div"?{div:this.divn(h.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modrn(h.words[0]))}:this._wordDiv(h,g)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var g=this.divmod(h);if(g.mod.isZero())return g.div;var _=g.div.negative!==0?g.mod.isub(h):g.mod,I=h.ushrn(1),T=h.andln(1),C=_.cmp(I);return C<0||T===1&&C===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(h){var g=h<0;g&&(h=-h),r(h<=67108863);for(var _=(1<<26)%h,I=0,T=this.length-1;T>=0;T--)I=(_*I+(this.words[T]|0))%h;return g?-I:I},i.prototype.modn=function(h){return this.modrn(h)},i.prototype.idivn=function(h){var g=h<0;g&&(h=-h),r(h<=67108863);for(var _=0,I=this.length-1;I>=0;I--){var T=(this.words[I]|0)+_*67108864;this.words[I]=T/h|0,_=T%h}return this._strip(),g?this.ineg():this},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var g=this,_=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var I=new i(1),T=new i(0),C=new i(0),$=new i(1),O=0;g.isEven()&&_.isEven();)g.iushrn(1),_.iushrn(1),++O;for(var b=_.clone(),B=g.clone();!g.isZero();){for(var G=0,Z=1;!(g.words[0]&Z)&&G<26;++G,Z<<=1);if(G>0)for(g.iushrn(G);G-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(b),T.isub(B)),I.iushrn(1),T.iushrn(1);for(var ne=0,ae=1;!(_.words[0]&ae)&&ne<26;++ne,ae<<=1);if(ne>0)for(_.iushrn(ne);ne-- >0;)(C.isOdd()||$.isOdd())&&(C.iadd(b),$.isub(B)),C.iushrn(1),$.iushrn(1);g.cmp(_)>=0?(g.isub(_),I.isub(C),T.isub($)):(_.isub(g),C.isub(I),$.isub(T))}return{a:C,b:$,gcd:_.iushln(O)}},i.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var g=this,_=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var I=new i(1),T=new i(0),C=_.clone();g.cmpn(1)>0&&_.cmpn(1)>0;){for(var $=0,O=1;!(g.words[0]&O)&&$<26;++$,O<<=1);if($>0)for(g.iushrn($);$-- >0;)I.isOdd()&&I.iadd(C),I.iushrn(1);for(var b=0,B=1;!(_.words[0]&B)&&b<26;++b,B<<=1);if(b>0)for(_.iushrn(b);b-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);g.cmp(_)>=0?(g.isub(_),I.isub(T)):(_.isub(g),T.isub(I))}var G;return g.cmpn(1)===0?G=I:G=T,G.cmpn(0)<0&&G.iadd(h),G},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var g=this.clone(),_=h.clone();g.negative=0,_.negative=0;for(var I=0;g.isEven()&&_.isEven();I++)g.iushrn(1),_.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;_.isEven();)_.iushrn(1);var T=g.cmp(_);if(T<0){var C=g;g=_,_=C}else if(T===0||_.cmpn(1)===0)break;g.isub(_)}while(!0);return _.iushln(I)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){r(typeof h=="number");var g=h%26,_=(h-g)/26,I=1<<g;if(this.length<=_)return this._expand(_+1),this.words[_]|=I,this;for(var T=I,C=_;T!==0&&C<this.length;C++){var $=this.words[C]|0;$+=T,T=$>>>26,$&=67108863,this.words[C]=$}return T!==0&&(this.words[C]=T,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var g=h<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var _;if(this.length>1)_=1;else{g&&(h=-h),r(h<=67108863,"Number is too big");var I=this.words[0]|0;_=I===h?0:I<h?-1:1}return this.negative!==0?-_|0:_},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var g=this.ucmp(h);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var g=0,_=this.length-1;_>=0;_--){var I=this.words[_]|0,T=h.words[_]|0;if(I!==T){I<T?g=-1:I>T&&(g=1);break}}return g},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new z(h)},i.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var j={k256:null,p224:null,p192:null,p25519:null};function F(A,h){this.name=A,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},F.prototype.ireduce=function(h){var g=h,_;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),_=g.bitLength();while(_>this.n);var I=_<this.n?-1:g.ucmp(this.p);return I===0?(g.words[0]=0,g.length=1):I>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},F.prototype.split=function(h,g){h.iushrn(this.n,0,g)},F.prototype.imulK=function(h){return h.imul(this.k)};function P(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(P,F),P.prototype.split=function(h,g){for(var _=4194303,I=Math.min(h.length,9),T=0;T<I;T++)g.words[T]=h.words[T];if(g.length=I,h.length<=9){h.words[0]=0,h.length=1;return}var C=h.words[9];for(g.words[g.length++]=C&_,T=10;T<h.length;T++){var $=h.words[T]|0;h.words[T-10]=($&_)<<4|C>>>22,C=$}C>>>=22,h.words[T-10]=C,C===0&&h.length>10?h.length-=10:h.length-=9},P.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var g=0,_=0;_<h.length;_++){var I=h.words[_]|0;g+=I*977,h.words[_]=g&67108863,g=I*64+(g/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function M(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(M,F);function D(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(D,F);function L(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(L,F),L.prototype.imulK=function(h){for(var g=0,_=0;_<h.length;_++){var I=(h.words[_]|0)*19+g,T=I&67108863;I>>>=26,h.words[_]=T,g=I}return g!==0&&(h.words[h.length++]=g),h},i._prime=function(h){if(j[h])return j[h];var g;if(h==="k256")g=new P;else if(h==="p224")g=new M;else if(h==="p192")g=new D;else if(h==="p25519")g=new L;else throw new Error("Unknown prime "+h);return j[h]=g,g};function z(A){if(typeof A=="string"){var h=i._prime(A);this.m=h.p,this.prime=h}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}z.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},z.prototype._verify2=function(h,g){r((h.negative|g.negative)===0,"red works only with positives"),r(h.red&&h.red===g.red,"red works only with red numbers")},z.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(d(h,h.umod(this.m)._forceRed(this)),h)},z.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},z.prototype.add=function(h,g){this._verify2(h,g);var _=h.add(g);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},z.prototype.iadd=function(h,g){this._verify2(h,g);var _=h.iadd(g);return _.cmp(this.m)>=0&&_.isub(this.m),_},z.prototype.sub=function(h,g){this._verify2(h,g);var _=h.sub(g);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},z.prototype.isub=function(h,g){this._verify2(h,g);var _=h.isub(g);return _.cmpn(0)<0&&_.iadd(this.m),_},z.prototype.shl=function(h,g){return this._verify1(h),this.imod(h.ushln(g))},z.prototype.imul=function(h,g){return this._verify2(h,g),this.imod(h.imul(g))},z.prototype.mul=function(h,g){return this._verify2(h,g),this.imod(h.mul(g))},z.prototype.isqr=function(h){return this.imul(h,h.clone())},z.prototype.sqr=function(h){return this.mul(h,h)},z.prototype.sqrt=function(h){if(h.isZero())return h.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var _=this.m.add(new i(1)).iushrn(2);return this.pow(h,_)}for(var I=this.m.subn(1),T=0;!I.isZero()&&I.andln(1)===0;)T++,I.iushrn(1);r(!I.isZero());var C=new i(1).toRed(this),$=C.redNeg(),O=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,O).cmp($)!==0;)b.redIAdd($);for(var B=this.pow(b,I),G=this.pow(h,I.addn(1).iushrn(1)),Z=this.pow(h,I),ne=T;Z.cmp(C)!==0;){for(var ae=Z,ce=0;ae.cmp(C)!==0;ce++)ae=ae.redSqr();r(ce<ne);var me=this.pow(B,new i(1).iushln(ne-ce-1));G=G.redMul(me),B=me.redSqr(),Z=Z.redMul(B),ne=ce}return G},z.prototype.invm=function(h){var g=h._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},z.prototype.pow=function(h,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return h.clone();var _=4,I=new Array(1<<_);I[0]=new i(1).toRed(this),I[1]=h;for(var T=2;T<I.length;T++)I[T]=this.mul(I[T-1],h);var C=I[0],$=0,O=0,b=g.bitLength()%26;for(b===0&&(b=26),T=g.length-1;T>=0;T--){for(var B=g.words[T],G=b-1;G>=0;G--){var Z=B>>G&1;if(C!==I[0]&&(C=this.sqr(C)),Z===0&&$===0){O=0;continue}$<<=1,$|=Z,O++,!(O!==_&&(T!==0||G!==0))&&(C=this.mul(C,I[$]),O=0,$=0)}b=26}return C},z.prototype.convertTo=function(h){var g=h.umod(this.m);return g===h?g.clone():g},z.prototype.convertFrom=function(h){var g=h.clone();return g.red=null,g},i.mont=function(h){return new H(h)};function H(A){z.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(H,z),H.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},H.prototype.convertFrom=function(h){var g=this.imod(h.mul(this.rinv));return g.red=null,g},H.prototype.imul=function(h,g){if(h.isZero()||g.isZero())return h.words[0]=0,h.length=1,h;var _=h.imul(g),I=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=_.isub(I).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},H.prototype.mul=function(h,g){if(h.isZero()||g.isZero())return new i(0)._forceRed(this);var _=h.mul(g),I=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=_.isub(I).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},H.prototype.invm=function(h){var g=this.imod(h._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,lr)})(ux);var dx=ux.exports;const Wn=Js(dx);var fg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=be,r=n.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,l){return r(o,a,l)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},i.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(fg,fg.exports);var hx=fg.exports,_d=hx.Buffer;function _M(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=_d.from(p)),!_d.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var y=0,w=0,v=0,x=p.length;v!==x&&p[v]===0;)v++,y++;for(var S=(x-v)*u+1>>>0,k=new Uint8Array(S);v!==x;){for(var R=p[v],j=0,F=S-1;(R!==0||j<w)&&F!==-1;F--,j++)R+=256*k[F]>>>0,k[F]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");w=j,v++}for(var P=S-w;P!==S&&k[P]===0;)P++;for(var M=a.repeat(y);P<S;++P)M+=t.charAt(k[P]);return M}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return _d.alloc(0);for(var y=0,w=0,v=0;p[y]===a;)w++,y++;for(var x=(p.length-y)*l+1>>>0,S=new Uint8Array(x);y<p.length;){var k=p.charCodeAt(y);if(k>255)return;var R=e[k];if(R===255)return;for(var j=0,F=x-1;(R!==0||j<v)&&F!==-1;F--,j++)R+=o*S[F]>>>0,S[F]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");v=j,y++}for(var P=x-v;P!==x&&S[P]===0;)P++;var M=_d.allocUnsafe(w+(x-P));M.fill(0,0,w);for(var D=w;P!==x;)M[D++]=S[P++];return M}function m(p){var y=f(p);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:f,decode:m}}var SM=_M,EM=SM,kM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",NM=EM(kM);const gn=Js(NM),rv=JE;var mn={},Sd=hx.Buffer;function RM(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=Sd.from(p)),!Sd.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var y=0,w=0,v=0,x=p.length;v!==x&&p[v]===0;)v++,y++;for(var S=(x-v)*u+1>>>0,k=new Uint8Array(S);v!==x;){for(var R=p[v],j=0,F=S-1;(R!==0||j<w)&&F!==-1;F--,j++)R+=256*k[F]>>>0,k[F]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");w=j,v++}for(var P=S-w;P!==S&&k[P]===0;)P++;for(var M=a.repeat(y);P<S;++P)M+=t.charAt(k[P]);return M}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return Sd.alloc(0);for(var y=0,w=0,v=0;p[y]===a;)w++,y++;for(var x=(p.length-y)*l+1>>>0,S=new Uint8Array(x);y<p.length;){var k=p.charCodeAt(y);if(k>255)return;var R=e[k];if(R===255)return;for(var j=0,F=x-1;(R!==0||j<v)&&F!==-1;F--,j++)R+=o*S[F]>>>0,S[F]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");v=j,y++}for(var P=x-v;P!==x&&S[P]===0;)P++;var M=Sd.allocUnsafe(w+(x-P));M.fill(0,0,w);for(var D=w;P!==x;)M[D++]=S[P++];return M}function m(p){var y=f(p);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:f,decode:m}}var AM=RM,TM=AM,IM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",CM=TM(IM);function Bs(t,e,n){return e<=t&&t<=n}function np(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function OM(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,l=o&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function jM(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var ef=-1;function fx(t){this.tokens=[].slice.call(t)}fx.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ef},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var nl=-1;function _m(t,e){if(t)throw TypeError("Decoder error");return e||65533}var tf="utf-8";function nf(t,e){if(!(this instanceof nf))return new nf(t,e);if(t=t!==void 0?String(t).toLowerCase():tf,t!==tf)throw new Error("Encoding not supported. Only utf-8 is supported");e=np(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}nf.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=np(n),this._streaming||(this._decoder=new MM({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new fx(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==nl);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===nl)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),jM(i)}};function rf(t,e){if(!(this instanceof rf))return new rf(t,e);if(t=t!==void 0?String(t).toLowerCase():tf,t!==tf)throw new Error("Encoding not supported. Only utf-8 is supported");e=np(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}rf.prototype={encode:function(e,n){e=e?String(e):"",n=np(n),this._streaming||(this._encoder=new PM(this._options)),this._streaming=!!n.stream;for(var r=[],s=new fx(OM(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==nl);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==nl;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function MM(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,l){if(l===ef&&s!==0)return s=0,_m(e);if(l===ef)return nl;if(s===0){if(Bs(l,0,127))return l;if(Bs(l,194,223))s=1,n=l-192;else if(Bs(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,n=l-224;else if(Bs(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,n=l-240;else return _m(e);return n=n<<6*s,null}if(!Bs(l,i,o))return n=s=r=0,i=128,o=191,a.prepend(l),_m(e);if(i=128,o=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var u=n;return n=s=r=0,u}}function PM(t){t.fatal,this.handler=function(e,n){if(n===ef)return nl;if(Bs(n,0,127))return n;var r,s;Bs(n,128,2047)?(r=1,s=192):Bs(n,2048,65535)?(r=2,s=224):Bs(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const BM=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:nf,TextEncoder:rf},Symbol.toStringTag,{value:"Module"})),LM=Of(BM);var DM=lr&&lr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),zM=lr&&lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xs=lr&&lr.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},UM=lr&&lr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&DM(e,t,n);return zM(e,t),e},pk=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});var mk=mn.deserializeUnchecked=bk=mn.deserialize=vk=mn.serialize=mn.BinaryReader=mn.BinaryWriter=mn.BorshError=mn.baseDecode=mn.baseEncode=void 0;const Si=pk(dx),gk=pk(CM),$M=UM(LM),FM=typeof TextDecoder!="function"?$M.TextDecoder:TextDecoder,HM=new FM("utf-8",{fatal:!0});function VM(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),gk.default.encode(Buffer.from(t))}mn.baseEncode=VM;function WM(t){return Buffer.from(gk.default.decode(t))}mn.baseDecode=WM;const Sm=1024;class Bn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mn.BorshError=Bn;class yk{constructor(){this.buf=Buffer.alloc(Sm),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Sm)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Si.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Si.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Si.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Si.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Sm)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}mn.BinaryWriter=yk;function ws(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Bn("Reached the end of buffer when deserializing")}throw i}}}class fr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Si.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Si.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Si.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Si.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Bn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return HM.decode(n)}catch(r){throw new Bn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}xs([ws],fr.prototype,"readU8",null);xs([ws],fr.prototype,"readU16",null);xs([ws],fr.prototype,"readU32",null);xs([ws],fr.prototype,"readU64",null);xs([ws],fr.prototype,"readU128",null);xs([ws],fr.prototype,"readU256",null);xs([ws],fr.prototype,"readU512",null);xs([ws],fr.prototype,"readString",null);xs([ws],fr.prototype,"readFixedArray",null);xs([ws],fr.prototype,"readArray",null);mn.BinaryReader=fr;function xk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function co(t,e,n,r,s){try{if(typeof r=="string")s[`write${xk(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Bn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Bn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)co(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{co(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),co(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{co(t,e,o,r.key,s),co(t,e,i,r.value,s)});break}default:throw new Bn(`FieldType ${r} unrecognized`)}else wk(t,n,s)}catch(i){throw i instanceof Bn&&i.addToFieldPath(e),i}}function wk(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Bn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{co(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),co(t,o,e[o],a,n);break}}}else throw new Bn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function KM(t,e,n=yk){const r=new n;return wk(t,e,r),r.toArray()}var vk=mn.serialize=KM;function uo(t,e,n,r){try{if(typeof n=="string")return r[`read${xk(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(uo(t,null,n[0],r));return s}else return r.readArray(()=>uo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?uo(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=uo(t,e,n.key,r),l=uo(t,e,n.value,r);s.set(a,l)}return s}return px(t,n,r)}catch(s){throw s instanceof Bn&&s.addToFieldPath(e),s}}function px(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Bn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=uo(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Bn(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=uo(t,i,o,n);return new e({[i]:a})}throw new Bn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function GM(t,e,n,r=fr){const s=new r(n),i=px(t,e,s);if(s.offset<n.length)throw new Bn(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var bk=mn.deserialize=GM;function qM(t,e,n,r=fr){const s=new r(n);return px(t,e,s)}mk=mn.deserializeUnchecked=qM;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.s16=J.s8=J.nu64be=J.u48be=J.u40be=J.u32be=J.u24be=J.u16be=fn=J.nu64=J.u48=J.u40=_e=J.u32=J.u24=xr=J.u16=et=J.u8=Bi=J.offset=J.greedy=J.Constant=J.UTF8=J.CString=J.Blob=J.Boolean=J.BitField=J.BitStructure=J.VariantLayout=J.Union=J.UnionLayoutDiscriminator=J.UnionDiscriminator=J.Structure=J.Sequence=J.DoubleBE=J.Double=J.FloatBE=J.Float=J.NearInt64BE=J.NearInt64=J.NearUInt64BE=J.NearUInt64=J.IntBE=J.Int=J.UIntBE=J.UInt=J.OffsetLayout=J.GreedyCount=J.ExternalLayout=J.bindConstructorLayout=J.nameWithProperty=J.Layout=J.uint8ArrayToBuffer=J.checkUint8Array=void 0;J.constant=J.utf8=J.cstr=wt=J.blob=J.unionLayoutDiscriminator=J.union=yn=J.seq=J.bits=Se=J.struct=J.f64be=J.f64=J.f32be=J.f32=J.ns64be=J.s48be=J.s40be=J.s32be=J.s24be=J.s16be=sr=J.ns64=J.s48=J.s40=J.s32=J.s24=void 0;const mx=be;function bl(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}J.checkUint8Array=bl;function st(t){return bl(t),mx.Buffer.from(t.buffer,t.byteOffset,t.length)}J.uint8ArrayToBuffer=st;let lt=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};J.Layout=lt;function gx(t,e){return e.property?t+"["+e.property+"]":t}J.nameWithProperty=gx;function YM(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof lt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}J.bindConstructorLayout=YM;let Kn=class extends lt{isCount(){throw new Error("ExternalLayout is abstract")}};J.ExternalLayout=Kn;let _k=class extends Kn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){bl(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};J.GreedyCount=_k;let yx=class extends Kn{constructor(e,n=0,r){if(!(e instanceof lt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Rr||this.layout instanceof Vr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};J.OffsetLayout=yx;let Rr=class extends lt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readUIntLE(n,this.span)}encode(e,n,r=0){return st(n).writeUIntLE(e,r,this.span),this.span}};J.UInt=Rr;let Vr=class extends lt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readUIntBE(n,this.span)}encode(e,n,r=0){return st(n).writeUIntBE(e,r,this.span),this.span}};J.UIntBE=Vr;let Ko=class extends lt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readIntLE(n,this.span)}encode(e,n,r=0){return st(n).writeIntLE(e,r,this.span),this.span}};J.Int=Ko;let _l=class extends lt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return st(e).readIntBE(n,this.span)}encode(e,n,r=0){return st(n).writeIntBE(e,r,this.span),this.span}};J.IntBE=_l;const pg=Math.pow(2,32);function rp(t){const e=Math.floor(t/pg),n=t-e*pg;return{hi32:e,lo32:n}}function sp(t,e){return t*pg+e}let Sk=class extends lt{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return sp(i,s)}encode(e,n,r=0){const s=rp(e),i=st(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}};J.NearUInt64=Sk;let Ek=class extends lt{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return sp(s,i)}encode(e,n,r=0){const s=rp(e),i=st(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}};J.NearUInt64BE=Ek;let kk=class extends lt{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return sp(i,s)}encode(e,n,r=0){const s=rp(e),i=st(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}};J.NearInt64=kk;let Nk=class extends lt{constructor(e){super(8,e)}decode(e,n=0){const r=st(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return sp(s,i)}encode(e,n,r=0){const s=rp(e),i=st(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}};J.NearInt64BE=Nk;let Rk=class extends lt{constructor(e){super(4,e)}decode(e,n=0){return st(e).readFloatLE(n)}encode(e,n,r=0){return st(n).writeFloatLE(e,r),4}};J.Float=Rk;let Ak=class extends lt{constructor(e){super(4,e)}decode(e,n=0){return st(e).readFloatBE(n)}encode(e,n,r=0){return st(n).writeFloatBE(e,r),4}};J.FloatBE=Ak;let Tk=class extends lt{constructor(e){super(8,e)}decode(e,n=0){return st(e).readDoubleLE(n)}encode(e,n,r=0){return st(n).writeDoubleLE(e,r),8}};J.Double=Tk;let Ik=class extends lt{constructor(e){super(8,e)}decode(e,n=0){return st(e).readDoubleBE(n)}encode(e,n,r=0){return st(n).writeDoubleBE(e,r),8}};J.DoubleBE=Ik;let Ck=class extends lt{constructor(e,n,r){if(!(e instanceof lt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Kn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof Kn)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof Kn&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof Kn&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof Kn&&this.count.encode(e.length,n,r),i}};J.Sequence=Ck;let Ok=class extends lt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof lt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){bl(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};J.Structure=Ok;let xx=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};J.UnionDiscriminator=xx;let sf=class extends xx{constructor(e,n){if(!(e instanceof Kn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};J.UnionLayoutDiscriminator=sf;let wx=class extends lt{constructor(e,n,r){let s;if(e instanceof Rr||e instanceof Vr)s=new sf(new yx(e));else if(e instanceof Kn&&e.isCount())s=new sf(e);else if(e instanceof xx)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof lt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Rr||e instanceof Vr)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Rr||e instanceof Vr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new jk(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};J.Union=wx;let jk=class extends lt{constructor(e,n,r,s){if(!(e instanceof wx))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof lt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};J.VariantLayout=jk;function fa(t){return 0>t&&(t+=4294967296),t}let vx=class extends lt{constructor(e,n,r){if(!(e instanceof Rr||e instanceof Vr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=fa(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new bx(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Mk(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};J.BitStructure=vx;let bx=class{constructor(e,n,r){if(!(e instanceof vx))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=fa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return fa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fa(e&this.valueMask))throw new TypeError(gx("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=fa(e<<this.start);this.container._packedSetValue(fa(n&~this.wordMask)|r)}};J.BitField=bx;let Mk=class extends bx{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};J.Boolean=Mk;let Pk=class extends lt{constructor(e,n){if(!(e instanceof Kn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Kn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),st(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof Kn&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(gx("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=st(e);return st(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof Kn&&this.length.encode(s,n,r),s}};J.Blob=Pk;let Bk=class extends lt{constructor(e){super(-1,e)}getSpan(e,n=0){bl(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return st(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=mx.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=st(n);return s.copy(o,r),o[r+i]=0,i+1}};J.CString=Bk;let Lk=class extends lt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return bl(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return st(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=mx.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(st(n),r),i}};J.UTF8=Lk;let Dk=class extends lt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};J.Constant=Dk;J.greedy=(t,e)=>new _k(t,e);var Bi=J.offset=(t,e,n)=>new yx(t,e,n),et=J.u8=t=>new Rr(1,t),xr=J.u16=t=>new Rr(2,t);J.u24=t=>new Rr(3,t);var _e=J.u32=t=>new Rr(4,t);J.u40=t=>new Rr(5,t);J.u48=t=>new Rr(6,t);var fn=J.nu64=t=>new Sk(t);J.u16be=t=>new Vr(2,t);J.u24be=t=>new Vr(3,t);J.u32be=t=>new Vr(4,t);J.u40be=t=>new Vr(5,t);J.u48be=t=>new Vr(6,t);J.nu64be=t=>new Ek(t);J.s8=t=>new Ko(1,t);J.s16=t=>new Ko(2,t);J.s24=t=>new Ko(3,t);J.s32=t=>new Ko(4,t);J.s40=t=>new Ko(5,t);J.s48=t=>new Ko(6,t);var sr=J.ns64=t=>new kk(t);J.s16be=t=>new _l(2,t);J.s24be=t=>new _l(3,t);J.s32be=t=>new _l(4,t);J.s40be=t=>new _l(5,t);J.s48be=t=>new _l(6,t);J.ns64be=t=>new Nk(t);J.f32=t=>new Rk(t);J.f32be=t=>new Ak(t);J.f64=t=>new Tk(t);J.f64be=t=>new Ik(t);var Se=J.struct=(t,e,n)=>new Ok(t,e,n);J.bits=(t,e,n)=>new vx(t,e,n);var yn=J.seq=(t,e,n)=>new Ck(t,e,n);J.union=(t,e,n)=>new wx(t,e,n);J.unionLayoutDiscriminator=(t,e)=>new sf(t,e);var wt=J.blob=(t,e)=>new Pk(t,e);J.cstr=t=>new Bk(t);J.utf8=(t,e)=>new Lk(t,e);J.constant=(t,e)=>new Dk(t,e);var XM=8078e3,ZM=8078001,QM=8078004,JM=8078005,e6=8078006,t6=8078011;function zk(t){return Array.isArray(t)?"%5B"+t.map(zk).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function n6([t,e]){return`${t}=${zk(e)}`}function r6(t){const e=Object.entries(t).map(n6).join("&");return btoa(e)}function s6(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${r6(e)}'`),`${n}\``}}var Da=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=s6(e,r);super(i,s);Ee(this,"cause",this.cause);Ee(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function i6(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function o6(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(i6(e,t));return t.write(e,n,0),n}})}function a6(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function oa(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function l6(t,e){if(oa(t)!==oa(e))throw new Da(QM);if(oa(t)&&oa(e)&&t.fixedSize!==e.fixedSize)throw new Da(JM,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!oa(t)&&!oa(e)&&t.maxSize!==e.maxSize)throw new Da(e6,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function c6(t,e,n=0){if(e.length-n<=0)throw new Da(XM,{codecDescription:t})}function u6(t,e,n,r=0){const s=n.length-r;if(s<e)throw new Da(ZM,{bytesLength:s,codecDescription:t,expected:e})}function d6(t,e,n,r){if(r<e||r>n)throw new Da(t6,{codecDescription:t,max:n,min:e,value:r})}function Uk(t){return(t==null?void 0:t.endian)!==1}function h6(t){return o6({fixedSize:t.size,write(e,n,r){t.range&&d6(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,Uk(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function f6(t){return a6({fixedSize:t.size,read(e,n=0){c6(t.name,e,n),u6(t.name,t.size,e,n);const r=new DataView(p6(e,n,t.size));return[t.get(r,Uk(t.config)),n+t.size]}})}function p6(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var $k=(t={})=>h6({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),m6=(t={})=>f6({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),g6=(t={})=>l6($k(t),m6(t));let y6=class extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function x6(t){return Lu(t)&&typeof t[Symbol.iterator]=="function"}function Lu(t){return typeof t=="object"&&t!=null}function of(t){return Lu(t)&&!Array.isArray(t)}function qr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function w6(t){const{done:e,value:n}=t.next();return e?void 0:n}function v6(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${qr(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*sv(t,e,n,r){x6(t)||(t=[t]);for(const s of t){const i=v6(s,e,n,r);i&&(yield i)}}function*_x(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let l="valid";for(const u of e.validator(t,a))u.explanation=n.message,l="not_valid",yield[u,void 0];for(let[u,d,f]of e.entries(t,a)){const m=_x(d,f,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,d],coerce:i,mask:o,message:n.message});for(const p of m)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):i&&(d=p[1],u===void 0?t=d:t instanceof Map?t.set(u,d):t instanceof Set?t.add(d):Lu(t)&&(d!==void 0||u in t)&&(t[u]=d))}if(l!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,l="not_refined",yield[u,void 0];l==="valid"&&(yield[void 0,t])}let vs=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,u)=>{const d=s(l,u);return sv(d,u,this,l)}:this.validator=()=>[],i?this.refiner=(l,u)=>{const d=i(l,u);return sv(d,u,this,l)}:this.refiner=()=>[]}assert(e,n){return Fk(e,this,n)}create(e,n){return ue(e,this,n)}is(e){return Hk(e,this)}mask(e,n){return b6(e,this,n)}validate(e,n={}){return Du(e,this,n)}};function Fk(t,e,n){const r=Du(t,e,{message:n});if(r[0])throw r[0]}function ue(t,e,n){const r=Du(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function b6(t,e,n){const r=Du(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Hk(t,e){return!Du(t,e)[0]}function Du(t,e,n={}){const r=_x(t,e,n),s=w6(r);return s[0]?[new y6(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Go(t,e){return new vs({type:t,schema:null,validator:e})}function _6(){return Go("any",()=>!0)}function fe(t){return new vs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${qr(e)}`}})}function ys(){return Go("boolean",t=>typeof t=="boolean")}function Sx(t){return Go("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${qr(e)}`)}function At(t){const e=qr(t),n=typeof t;return new vs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${qr(r)}`}})}function S6(){return Go("never",()=>!1)}function pe(t){return new vs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function X(){return Go("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${qr(t)}`)}function Te(t){return new vs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Vk(t,e){return new vs({type:"record",schema:null,*entries(n){if(Lu(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return of(n)||`Expected an object, but received: ${qr(n)}`},coercer(n){return of(n)?{...n}:n}})}function le(){return Go("string",t=>typeof t=="string"||`Expected a string, but received: ${qr(t)}`)}function Ex(t){const e=S6();return new vs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${qr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function ie(t){const e=Object.keys(t);return new vs({type:"type",schema:t,*entries(n){if(Lu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return of(n)||`Expected an object, but received: ${qr(n)}`},coercer(n){return of(n)?{...n}:n}})}function Dn(t){const e=t.map(n=>n.type).join(" | ");return new vs({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=_x(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${qr(n)}`,...s]}})}function Sl(){return Go("unknown",()=>!0)}function zu(t,e,n){return new vs({...t,coercer:(r,s)=>Hk(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Ed,E6=new Uint8Array(16);function Wk(){if(!Ed&&(Ed=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ed))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ed(E6)}const k6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ip(t){return typeof t=="string"&&k6.test(t)}var hn=[];for(var Em=0;Em<256;++Em)hn.push((Em+256).toString(16).substr(1));function op(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(hn[t[e+0]]+hn[t[e+1]]+hn[t[e+2]]+hn[t[e+3]]+"-"+hn[t[e+4]]+hn[t[e+5]]+"-"+hn[t[e+6]]+hn[t[e+7]]+"-"+hn[t[e+8]]+hn[t[e+9]]+"-"+hn[t[e+10]]+hn[t[e+11]]+hn[t[e+12]]+hn[t[e+13]]+hn[t[e+14]]+hn[t[e+15]]).toLowerCase();if(!ip(n))throw TypeError("Stringified UUID is invalid");return n}var iv,km,Nm=0,Rm=0;function N6(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||iv,o=t.clockseq!==void 0?t.clockseq:km;if(i==null||o==null){var a=t.random||(t.rng||Wk)();i==null&&(i=iv=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=km=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:Rm+1,d=l-Nm+(u-Rm)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||l>Nm)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Nm=l,Rm=u,km=o,l+=122192928e5;var f=((l&268435455)*1e4+u)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var m=l/4294967296*1e4&268435455;s[r++]=m>>>8&255,s[r++]=m&255,s[r++]=m>>>24&15|16,s[r++]=m>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var p=0;p<6;++p)s[r+p]=i[p];return e||op(s)}function Kk(t){if(!ip(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function R6(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var A6="6ba7b810-9dad-11d1-80b4-00c04fd430c8",T6="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Gk(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=R6(s)),typeof i=="string"&&(i=Kk(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return op(l)}try{r.name=t}catch{}return r.DNS=A6,r.URL=T6,r}function I6(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return C6(O6(j6(t),t.length*8))}function C6(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function qk(t){return(t+64>>>9<<4)+14+1}function O6(t,e){t[e>>5]|=128<<e%32,t[qk(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,l=r,u=s,d=i;n=kn(n,r,s,i,t[o],7,-680876936),i=kn(i,n,r,s,t[o+1],12,-389564586),s=kn(s,i,n,r,t[o+2],17,606105819),r=kn(r,s,i,n,t[o+3],22,-1044525330),n=kn(n,r,s,i,t[o+4],7,-176418897),i=kn(i,n,r,s,t[o+5],12,1200080426),s=kn(s,i,n,r,t[o+6],17,-1473231341),r=kn(r,s,i,n,t[o+7],22,-45705983),n=kn(n,r,s,i,t[o+8],7,1770035416),i=kn(i,n,r,s,t[o+9],12,-1958414417),s=kn(s,i,n,r,t[o+10],17,-42063),r=kn(r,s,i,n,t[o+11],22,-1990404162),n=kn(n,r,s,i,t[o+12],7,1804603682),i=kn(i,n,r,s,t[o+13],12,-40341101),s=kn(s,i,n,r,t[o+14],17,-1502002290),r=kn(r,s,i,n,t[o+15],22,1236535329),n=Nn(n,r,s,i,t[o+1],5,-165796510),i=Nn(i,n,r,s,t[o+6],9,-1069501632),s=Nn(s,i,n,r,t[o+11],14,643717713),r=Nn(r,s,i,n,t[o],20,-373897302),n=Nn(n,r,s,i,t[o+5],5,-701558691),i=Nn(i,n,r,s,t[o+10],9,38016083),s=Nn(s,i,n,r,t[o+15],14,-660478335),r=Nn(r,s,i,n,t[o+4],20,-405537848),n=Nn(n,r,s,i,t[o+9],5,568446438),i=Nn(i,n,r,s,t[o+14],9,-1019803690),s=Nn(s,i,n,r,t[o+3],14,-187363961),r=Nn(r,s,i,n,t[o+8],20,1163531501),n=Nn(n,r,s,i,t[o+13],5,-1444681467),i=Nn(i,n,r,s,t[o+2],9,-51403784),s=Nn(s,i,n,r,t[o+7],14,1735328473),r=Nn(r,s,i,n,t[o+12],20,-1926607734),n=Rn(n,r,s,i,t[o+5],4,-378558),i=Rn(i,n,r,s,t[o+8],11,-2022574463),s=Rn(s,i,n,r,t[o+11],16,1839030562),r=Rn(r,s,i,n,t[o+14],23,-35309556),n=Rn(n,r,s,i,t[o+1],4,-1530992060),i=Rn(i,n,r,s,t[o+4],11,1272893353),s=Rn(s,i,n,r,t[o+7],16,-155497632),r=Rn(r,s,i,n,t[o+10],23,-1094730640),n=Rn(n,r,s,i,t[o+13],4,681279174),i=Rn(i,n,r,s,t[o],11,-358537222),s=Rn(s,i,n,r,t[o+3],16,-722521979),r=Rn(r,s,i,n,t[o+6],23,76029189),n=Rn(n,r,s,i,t[o+9],4,-640364487),i=Rn(i,n,r,s,t[o+12],11,-421815835),s=Rn(s,i,n,r,t[o+15],16,530742520),r=Rn(r,s,i,n,t[o+2],23,-995338651),n=An(n,r,s,i,t[o],6,-198630844),i=An(i,n,r,s,t[o+7],10,1126891415),s=An(s,i,n,r,t[o+14],15,-1416354905),r=An(r,s,i,n,t[o+5],21,-57434055),n=An(n,r,s,i,t[o+12],6,1700485571),i=An(i,n,r,s,t[o+3],10,-1894986606),s=An(s,i,n,r,t[o+10],15,-1051523),r=An(r,s,i,n,t[o+1],21,-2054922799),n=An(n,r,s,i,t[o+8],6,1873313359),i=An(i,n,r,s,t[o+15],10,-30611744),s=An(s,i,n,r,t[o+6],15,-1560198380),r=An(r,s,i,n,t[o+13],21,1309151649),n=An(n,r,s,i,t[o+4],6,-145523070),i=An(i,n,r,s,t[o+11],10,-1120210379),s=An(s,i,n,r,t[o+2],15,718787259),r=An(r,s,i,n,t[o+9],21,-343485551),n=Ei(n,a),r=Ei(r,l),s=Ei(s,u),i=Ei(i,d)}return[n,r,s,i]}function j6(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(qk(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ei(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function M6(t,e){return t<<e|t>>>32-e}function ap(t,e,n,r,s,i){return Ei(M6(Ei(Ei(e,t),Ei(r,i)),s),n)}function kn(t,e,n,r,s,i,o){return ap(e&n|~e&r,t,e,s,i,o)}function Nn(t,e,n,r,s,i,o){return ap(e&r|n&~r,t,e,s,i,o)}function Rn(t,e,n,r,s,i,o){return ap(e^n^r,t,e,s,i,o)}function An(t,e,n,r,s,i,o){return ap(n^(e|~r),t,e,s,i,o)}var P6=Gk("v3",48,I6);function B6(t,e,n){t=t||{};var r=t.random||(t.rng||Wk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return op(r)}function L6(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Am(t,e){return t<<e|t>>>32-e}function D6(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var m=new Uint32Array(80),p=0;p<16;++p)m[p]=a[f][p];for(var y=16;y<80;++y)m[y]=Am(m[y-3]^m[y-8]^m[y-14]^m[y-16],1);for(var w=n[0],v=n[1],x=n[2],S=n[3],k=n[4],R=0;R<80;++R){var j=Math.floor(R/20),F=Am(w,5)+L6(j,v,x,S)+k+e[j]+m[R]>>>0;k=S,S=x,x=Am(v,30)>>>0,v=w,w=F}n[0]=n[0]+w>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+S>>>0,n[4]=n[4]+k>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var z6=Gk("v5",80,D6);const U6="00000000-0000-0000-0000-000000000000";function $6(t){if(!ip(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const F6=Object.freeze(Object.defineProperty({__proto__:null,NIL:U6,parse:Kk,stringify:op,v1:N6,v3:P6,v4:B6,v5:z6,validate:ip,version:$6},Symbol.toStringTag,{value:"Module"})),Yk=Of(F6),H6=Yk.v4,V6=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return H6()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var W6=V6;const K6=Yk.v4,G6=W6,uu=function(t,e){if(!(this instanceof uu))return new uu(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return K6()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var q6=uu;uu.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{i=G6(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(u)return r(d);throw d}if(!u)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,d){s._parseResponse(u,d,r)}),i};uu.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const Y6=Js(q6);var Xk={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,m),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,m,p,y){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],x=arguments.length,S,k;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(k=1,S=new Array(x-1);k<x;k++)S[k-1]=arguments[k];v.fn.apply(v.context,S)}else{var R=v.length,j;for(k=0;k<R;k++)switch(v[k].once&&this.removeListener(u,v[k].fn,void 0,!0),x){case 1:v[k].fn.call(v[k].context);break;case 2:v[k].fn.call(v[k].context,d);break;case 3:v[k].fn.call(v[k].context,d,f);break;case 4:v[k].fn.call(v[k].context,d,f,m);break;default:if(!S)for(j=1,S=new Array(x-1);j<x;j++)S[j-1]=arguments[j];v[k].fn.apply(v[k].context,S)}}return!0},a.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var w=0,v=[],x=y.length;w<x;w++)(y[w].fn!==d||m&&!y[w].once||f&&y[w].context!==f)&&v.push(y[w]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Xk);var X6=Xk.exports;const Zk=Js(X6);var Z6=class extends Zk{constructor(e,n,r){super();Ee(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function Q6(t,e){return new Z6(t,e)}var J6=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},eP=class extends Zk{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},l,u){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new J6,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,u=>{if(u)return o(u);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=be.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const tP=BigInt(0),Zl=BigInt(1),nP=BigInt(2),rP=BigInt(7),sP=BigInt(256),iP=BigInt(113),Qk=[],Jk=[],eN=[];for(let t=0,e=Zl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Qk.push(2*(5*r+n)),Jk.push((t+1)*(t+2)/2%64);let s=tP;for(let i=0;i<7;i++)e=(e<<Zl^(e>>rP)*iP)%sP,e&nP&&(s^=Zl<<(Zl<<BigInt(i))-Zl);eN.push(s)}const tN=ZE(eN,!0),oP=tN[0],aP=tN[1],ov=(t,e,n)=>n>32?Rj(t,e,n):kj(t,e,n),av=(t,e,n)=>n>32?Aj(t,e,n):Nj(t,e,n);function lP(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=n[l],d=n[l+1],f=ov(u,d,1)^n[a],m=av(u,d,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=m}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Jk[o],l=ov(s,i,a),u=av(s,i,a),d=Qk[o];s=t[d],i=t[d+1],t[d]=l,t[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=oP[r],t[1]^=aP[r]}Hi(n)}class kx extends ox{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,lu(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=mj(this.state)}clone(){return this._cloneInto()}keccak(){Ww(this.state32),lP(this.state32,this.rounds),Ww(this.state32),this.posOut=0,this.pos=0}update(e){Ja(this),e=Zf(e),Ir(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ja(this,!1),Ir(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Hi(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new kx(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const cP=(t,e,n)=>ax(()=>new kx(e,t,n)),lv=cP(1,136,256/8);class nN extends ox{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,pj(e);const r=Zf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Hi(i)}update(e){return Ja(this),this.iHash.update(e),this}digestInto(e){Ja(this),Ir(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rN=(t,e,n)=>new nN(t,e).update(n).digest();rN.create=(t,e)=>new nN(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cv(t){t.lowS!==void 0&&Bo("lowS",t.lowS),t.prehash!==void 0&&Bo("prehash",t.prehash)}class uP extends Error{constructor(e=""){super(e)}}const js={Err:uP,_tlv:{encode:(t,e)=>{const{Err:n}=js;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=bd(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?bd(s.length/2|128):"";return bd(t)+i+s+e},decode(t,e){const{Err:n}=js;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=js;if(t<Cc)throw new e("integer: negative integers are not allowed");let n=bd(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=js;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Qf(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=js,s=Yt("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:u,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=js,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Cc=BigInt(0),Oc=BigInt(1),dP=BigInt(2),kd=BigInt(3),hP=BigInt(4);function fP(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function sN(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=Yt("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function pP(t,e={}){const{Fp:n,Fn:r}=fk("weierstrass",t,e),{h:s,n:i}=t;Bu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(M,D,L){const{x:z,y:H}=D.toAffine(),A=n.toBytes(z);if(Bo("isCompressed",L),L){a();const h=!n.isOdd(H);return $s(iN(h),A)}else return $s(Uint8Array.of(4),A,n.toBytes(H))}function u(M){Ir(M);const D=n.BYTES,L=D+1,z=2*D+1,H=M.length,A=M[0],h=M.subarray(1);if(H===L&&(A===2||A===3)){const g=n.fromBytes(h);if(!n.isValid(g))throw new Error("bad point: is not on curve, wrong x");const _=m(g);let I;try{I=n.sqrt(_)}catch($){const O=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}a();const T=n.isOdd(I);return(A&1)===1!==T&&(I=n.neg(I)),{x:g,y:I}}else if(H===z&&A===4){const g=n.fromBytes(h.subarray(D*0,D*1)),_=n.fromBytes(h.subarray(D*1,D*2));if(!p(g,_))throw new Error("bad point: is not on curve");return{x:g,y:_}}else throw new Error(`bad point: got length ${H}, expected compressed=${L} or uncompressed=${z}`)}const d=e.toBytes||l,f=e.fromBytes||u,m=fP(n,t.a,t.b);function p(M,D){const L=n.sqr(D),z=m(M);return n.eql(L,z)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const y=n.mul(n.pow(t.a,kd),hP),w=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(y,w)))throw new Error("bad curve params: a or b");function v(M,D,L=!1){if(!n.isValid(D)||L&&n.is0(D))throw new Error(`bad point coordinate ${M}`);return D}function x(M){if(!(M instanceof j))throw new Error("ProjectivePoint expected")}const S=Jh((M,D)=>{const{px:L,py:z,pz:H}=M;if(n.eql(H,n.ONE))return{x:L,y:z};const A=M.is0();D==null&&(D=A?n.ONE:n.inv(H));const h=n.mul(L,D),g=n.mul(z,D),_=n.mul(H,D);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:h,y:g}}),k=Jh(M=>{if(M.is0()){if(e.allowInfinityPoint&&!n.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:D,y:L}=M.toAffine();if(!n.isValid(D)||!n.isValid(L))throw new Error("bad point: x or y not field elements");if(!p(D,L))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(M,D,L,z,H){return L=new j(n.mul(L.px,M),L.py,L.pz),D=Ic(z,D),L=Ic(H,L),D.add(L)}class j{constructor(D,L,z){this.px=v("x",D),this.py=v("y",L,!0),this.pz=v("z",z),Object.freeze(this)}static fromAffine(D){const{x:L,y:z}=D||{};if(!D||!n.isValid(L)||!n.isValid(z))throw new Error("invalid affine point");if(D instanceof j)throw new Error("projective point not allowed");return n.is0(L)&&n.is0(z)?j.ZERO:new j(L,z,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){return lk(j,"pz",D)}static fromBytes(D){return Ir(D),j.fromHex(D)}static fromHex(D){const L=j.fromAffine(f(Yt("pointHex",D)));return L.assertValidity(),L}static fromPrivateKey(D){const L=sN(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return j.BASE.multiply(L(D))}static msm(D,L){return hk(j,r,D,L)}precompute(D=8,L=!0){return P.setWindowSize(this,D),L||this.multiply(kd),this}_setWindowSize(D){this.precompute(D)}assertValidity(){k(this)}hasEvenY(){const{y:D}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(D)}equals(D){x(D);const{px:L,py:z,pz:H}=this,{px:A,py:h,pz:g}=D,_=n.eql(n.mul(L,g),n.mul(A,H)),I=n.eql(n.mul(z,g),n.mul(h,H));return _&&I}negate(){return new j(this.px,n.neg(this.py),this.pz)}double(){const{a:D,b:L}=t,z=n.mul(L,kd),{px:H,py:A,pz:h}=this;let g=n.ZERO,_=n.ZERO,I=n.ZERO,T=n.mul(H,H),C=n.mul(A,A),$=n.mul(h,h),O=n.mul(H,A);return O=n.add(O,O),I=n.mul(H,h),I=n.add(I,I),g=n.mul(D,I),_=n.mul(z,$),_=n.add(g,_),g=n.sub(C,_),_=n.add(C,_),_=n.mul(g,_),g=n.mul(O,g),I=n.mul(z,I),$=n.mul(D,$),O=n.sub(T,$),O=n.mul(D,O),O=n.add(O,I),I=n.add(T,T),T=n.add(I,T),T=n.add(T,$),T=n.mul(T,O),_=n.add(_,T),$=n.mul(A,h),$=n.add($,$),T=n.mul($,O),g=n.sub(g,T),I=n.mul($,C),I=n.add(I,I),I=n.add(I,I),new j(g,_,I)}add(D){x(D);const{px:L,py:z,pz:H}=this,{px:A,py:h,pz:g}=D;let _=n.ZERO,I=n.ZERO,T=n.ZERO;const C=t.a,$=n.mul(t.b,kd);let O=n.mul(L,A),b=n.mul(z,h),B=n.mul(H,g),G=n.add(L,z),Z=n.add(A,h);G=n.mul(G,Z),Z=n.add(O,b),G=n.sub(G,Z),Z=n.add(L,H);let ne=n.add(A,g);return Z=n.mul(Z,ne),ne=n.add(O,B),Z=n.sub(Z,ne),ne=n.add(z,H),_=n.add(h,g),ne=n.mul(ne,_),_=n.add(b,B),ne=n.sub(ne,_),T=n.mul(C,Z),_=n.mul($,B),T=n.add(_,T),_=n.sub(b,T),T=n.add(b,T),I=n.mul(_,T),b=n.add(O,O),b=n.add(b,O),B=n.mul(C,B),Z=n.mul($,Z),b=n.add(b,B),B=n.sub(O,B),B=n.mul(C,B),Z=n.add(Z,B),O=n.mul(b,Z),I=n.add(I,O),O=n.mul(ne,Z),_=n.mul(G,_),_=n.sub(_,O),O=n.mul(G,b),T=n.mul(ne,T),T=n.add(T,O),new j(_,I,T)}subtract(D){return this.add(D.negate())}is0(){return this.equals(j.ZERO)}multiply(D){const{endo:L}=e;if(!r.isValidNot0(D))throw new Error("invalid scalar: out of range");let z,H;const A=h=>P.wNAFCached(this,h,j.normalizeZ);if(L){const{k1neg:h,k1:g,k2neg:_,k2:I}=L.splitScalar(D),{p:T,f:C}=A(g),{p:$,f:O}=A(I);H=C.add(O),z=R(L.beta,T,$,h,_)}else{const{p:h,f:g}=A(D);z=h,H=g}return j.normalizeZ([z,H])[0]}multiplyUnsafe(D){const{endo:L}=e,z=this;if(!r.isValid(D))throw new Error("invalid scalar: out of range");if(D===Cc||z.is0())return j.ZERO;if(D===Oc)return z;if(P.hasPrecomputes(this))return this.multiply(D);if(L){const{k1neg:H,k1:A,k2neg:h,k2:g}=L.splitScalar(D),{p1:_,p2:I}=nM(j,z,A,g);return R(L.beta,_,I,H,h)}else return P.wNAFCachedUnsafe(z,D)}multiplyAndAddUnsafe(D,L,z){const H=this.multiplyUnsafe(L).add(D.multiplyUnsafe(z));return H.is0()?void 0:H}toAffine(D){return S(this,D)}isTorsionFree(){const{isTorsionFree:D}=e;return s===Oc?!0:D?D(j,this):P.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:D}=e;return s===Oc?this:D?D(j,this):this.multiplyUnsafe(s)}toBytes(D=!0){return Bo("isCompressed",D),this.assertValidity(),d(j,this,D)}toRawBytes(D=!0){return this.toBytes(D)}toHex(D=!0){return el(this.toBytes(D))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}j.BASE=new j(t.Gx,t.Gy,n.ONE),j.ZERO=new j(n.ZERO,n.ONE,n.ZERO),j.Fp=n,j.Fn=r;const F=r.BITS,P=dk(j,e.endo?Math.ceil(F/2):F);return j}function iN(t){return Uint8Array.of(t?2:3)}function mP(t,e,n={}){Bu(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||YE,s=e.hmac||((z,...H)=>rN(e.hash,z,$s(...H))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:l}=o;function u(z){const H=a>>Oc;return z>H}function d(z){return u(z)?o.neg(z):z}function f(z,H){if(!o.isValidNot0(H))throw new Error(`invalid signature ${z}: out of range 1..CURVE.n`)}class m{constructor(H,A,h){f("r",H),f("s",A),this.r=H,this.s=A,h!=null&&(this.recovery=h),Object.freeze(this)}static fromCompact(H){const A=o.BYTES,h=Yt("compactSignature",H,A*2);return new m(o.fromBytes(h.subarray(0,A)),o.fromBytes(h.subarray(A,A*2)))}static fromDER(H){const{r:A,s:h}=js.toSig(Yt("DER",H));return new m(A,h)}assertValidity(){}addRecoveryBit(H){return new m(this.r,this.s,H)}recoverPublicKey(H){const A=i.ORDER,{r:h,s:g,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(a*dP<A&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=_===2||_===3?h+a:h;if(!i.isValid(T))throw new Error("recovery id 2 or 3 invalid");const C=i.toBytes(T),$=t.fromHex($s(iN((_&1)===0),C)),O=o.inv(T),b=k(Yt("msgHash",H)),B=o.create(-b*O),G=o.create(g*O),Z=t.BASE.multiplyUnsafe(B).add($.multiplyUnsafe(G));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o.neg(this.s),this.recovery):this}toBytes(H){if(H==="compact")return $s(o.toBytes(this.r),o.toBytes(this.s));if(H==="der")return ix(js.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return el(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return el(this.toBytes("compact"))}}const p=sN(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),y={isValidPrivateKey(z){try{return p(z),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const z=a;return Jj(r(ak(z)),z)},precompute(z=8,H=t.BASE){return H.precompute(z,!1)}};function w(z,H=!0){return t.fromPrivateKey(z).toBytes(H)}function v(z){if(typeof z=="bigint")return!1;if(z instanceof t)return!0;const A=Yt("key",z).length,h=i.BYTES,g=h+1,_=2*h+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===g))return A===g||A===_}function x(z,H,A=!0){if(v(z)===!0)throw new Error("first arg must be private key");if(v(H)===!1)throw new Error("second arg must be public key");return t.fromHex(H).multiply(p(z)).toBytes(A)}const S=e.bits2int||function(z){if(z.length>8192)throw new Error("input is too large");const H=Qf(z),A=z.length*8-l;return A>0?H>>BigInt(A):H},k=e.bits2int_modN||function(z){return o.create(S(z))},R=ep(l);function j(z){return Ra("num < 2^"+l,z,Cc,R),o.toBytes(z)}function F(z,H,A=P){if(["recovered","canonical"].some(G=>G in A))throw new Error("sign() legacy options not supported");const{hash:h}=e;let{lowS:g,prehash:_,extraEntropy:I}=A;g==null&&(g=!0),z=Yt("msgHash",z),cv(A),_&&(z=Yt("prehashed msgHash",h(z)));const T=k(z),C=p(H),$=[j(C),j(T)];if(I!=null&&I!==!1){const G=I===!0?r(i.BYTES):I;$.push(Yt("extraEntropy",G))}const O=$s(...$),b=T;function B(G){const Z=S(G);if(!o.isValidNot0(Z))return;const ne=o.inv(Z),ae=t.BASE.multiply(Z).toAffine(),ce=o.create(ae.x);if(ce===Cc)return;const me=o.create(ne*o.create(b+ce*C));if(me===Cc)return;let Ie=(ae.x===ce?0:2)|Number(ae.y&Oc),Ce=me;return g&&u(me)&&(Ce=d(me),Ie^=1),new m(ce,Ce,Ie)}return{seed:O,k2sig:B}}const P={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function D(z,H,A=P){const{seed:h,k2sig:g}=F(z,H,A);return Hj(e.hash.outputLen,o.BYTES,s)(h,g)}t.BASE.precompute(8);function L(z,H,A,h=M){const g=z;H=Yt("msgHash",H),A=Yt("publicKey",A),cv(h);const{lowS:_,prehash:I,format:T}=h;if("strict"in h)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&!["compact","der","js"].includes(T))throw new Error('format must be "compact", "der" or "js"');const C=typeof g=="string"||sx(g),$=!C&&!T&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!C&&!$)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,b;try{if($)if(T===void 0||T==="js")O=new m(g.r,g.s);else throw new Error("invalid format");if(C){try{T!=="compact"&&(O=m.fromDER(g))}catch(Ce){if(!(Ce instanceof js.Err))throw Ce}!O&&T!=="der"&&(O=m.fromCompact(g))}b=t.fromHex(A)}catch{return!1}if(!O||_&&O.hasHighS())return!1;I&&(H=e.hash(H));const{r:B,s:G}=O,Z=k(H),ne=o.inv(G),ae=o.create(Z*ne),ce=o.create(B*ne),me=t.BASE.multiplyUnsafe(ae).add(b.multiplyUnsafe(ce));return me.is0()?!1:o.create(me.x)===B}return Object.freeze({getPublicKey:w,getSharedSecret:x,sign:D,verify:L,utils:y,Point:t,Signature:m})}function gP(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=wl(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function yP(t){const{CURVE:e,curveOpts:n}=gP(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function xP(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function wP(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=yP(t),s=pP(e,n),i=mP(s,r,n);return xP(t,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vP(t,e){const n=r=>wP({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const af={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const bP=BigInt(1),mg=BigInt(2),uv=(t,e)=>(t+e/mg)/e;function _P(t){const e=af.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Wt(d,n,e)*d%e,m=Wt(f,n,e)*d%e,p=Wt(m,mg,e)*u%e,y=Wt(p,s,e)*p%e,w=Wt(y,i,e)*y%e,v=Wt(w,a,e)*w%e,x=Wt(v,l,e)*v%e,S=Wt(x,a,e)*w%e,k=Wt(S,n,e)*d%e,R=Wt(k,o,e)*y%e,j=Wt(R,r,e)*u%e,F=Wt(j,mg,e);if(!gg.eql(gg.sqr(F),t))throw new Error("Cannot find square root");return F}const gg=wl(af.p,void 0,void 0,{sqrt:_P}),Nx=vP({...af,Fp:gg,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=af.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bP*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=uv(i*t,e),l=uv(-r*t,e);let u=Xt(t-a*n-l*s,e),d=Xt(-a*r-l*i,e);const f=u>o,m=d>o;if(f&&(u=e-u),m&&(d=e-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:m,k2:d}}}},JE),SP=vl.utils.randomPrivateKey,dv=()=>{const t=vl.utils.randomPrivateKey(),e=lf(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},lf=vl.getPublicKey;function hv(t){try{return vl.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Rx=(t,e)=>vl.sign(t,e.slice(0,32)),EP=vl.verify,Fe=t=>be.Buffer.isBuffer(t)?t:t instanceof Uint8Array?be.Buffer.from(t.buffer,t.byteOffset,t.byteLength):be.Buffer.from(t);let Ax=class{constructor(e){Object.assign(this,e)}encode(){return be.Buffer.from(vk(jc,this))}static decode(e){return bk(jc,this,e)}static decodeUnchecked(e){return mk(jc,this,e)}};class kP extends Ax{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const jc=new Map;var oN;const aN=32,ms=32;function NP(t){return t._bn!==void 0}let fv=1;class se extends Ax{constructor(e){if(super({}),this._bn=void 0,NP(e))this._bn=e._bn;else{if(typeof e=="string"){const n=gn.decode(e);if(n.length!=ms)throw new Error("Invalid public key input");this._bn=new Wn(n)}else this._bn=new Wn(e);if(this._bn.byteLength()>ms)throw new Error("Invalid public key input")}}static unique(){const e=new se(fv);return fv+=1,new se(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(be.Buffer);if(e.length===ms)return e;const n=be.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=be.Buffer.concat([e.toBuffer(),be.Buffer.from(n),r.toBuffer()]),i=rv(s);return new se(i)}static createProgramAddressSync(e,n){let r=be.Buffer.alloc(0);e.forEach(function(i){if(i.length>aN)throw new TypeError("Max seed length exceeded");r=be.Buffer.concat([r,Fe(i)])}),r=be.Buffer.concat([r,n.toBuffer(),be.Buffer.from("ProgramDerivedAddress")]);const s=rv(r);if(hv(s))throw new Error("Invalid seeds, address must fall off the curve");return new se(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(be.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new se(e);return hv(n.toBytes())}}oN=se;se.default=new oN("11111111111111111111111111111111");jc.set(se,{kind:"struct",fields:[["_bn","u256"]]});class RP{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Fe(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Fe(SP()),this._publicKey=Fe(lf(this._secretKey))}get publicKey(){return new se(this._publicKey)}get secretKey(){return be.Buffer.concat([this._secretKey,this._publicKey],64)}}const AP=new se("BPFLoader1111111111111111111111111111111111"),Li=1232,lp=127,du=64;class Tx extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Tx.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ix extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ix.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Aa extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Aa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class hu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Ke=(t="publicKey")=>wt(32,t),TP=(t="signature")=>wt(64,t),xo=(t="string")=>{const e=Se([_e("length"),_e("lengthPadding"),wt(Bi(_e(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const l={chars:be.Buffer.from(i,"utf8")};return r(l,o,a)},s.alloc=i=>_e().span+_e().span+be.Buffer.from(i,"utf8").length,s},IP=(t="authorized")=>Se([Ke("staker"),Ke("withdrawer")],t),CP=(t="lockup")=>Se([sr("unixTimestamp"),sr("epoch"),Ke("custodian")],t),OP=(t="voteInit")=>Se([Ke("nodePubkey"),Ke("authorizedVoter"),Ke("authorizedWithdrawer"),et("commission")],t),jP=(t="voteAuthorizeWithSeedArgs")=>Se([_e("voteAuthorizationType"),Ke("currentAuthorityDerivedKeyOwnerPubkey"),xo("currentAuthorityDerivedKeySeed"),Ke("newAuthorized")],t);function lN(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return lN({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function Fn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function ir(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function rt(t,e){if(!t)throw new Error(e||"Assertion failed")}class cp{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new cp(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{rt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];rt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new se(l)),...r.map(([l])=>new se(l)),...s.map(([l])=>new se(l)),...i.map(([l])=>new se(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new se(i),l=e.findIndex(u=>u.equals(a));l>=0&&(rt(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const cN="Reached end of buffer unexpectedly";function us(t){if(t.length===0)throw new Error(cN);return t.shift()}function Hn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(cN);return t.splice(...e)}class Yr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new se(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new hu(this.staticAccountKeys)}static compile(e){const n=cp.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new hu(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gn.encode(a.data)}));return new Yr({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];ir(n,e);const r=this.instructions.map(f=>{const{accounts:m,programIdIndex:p}=f,y=Array.from(gn.decode(f.data));let w=[];ir(w,m.length);let v=[];return ir(v,y.length),{programIdIndex:p,keyIndicesCount:be.Buffer.from(w),keyIndices:m,dataLength:be.Buffer.from(v),data:y}});let s=[];ir(s,r.length);let i=be.Buffer.alloc(Li);be.Buffer.from(s).copy(i);let o=s.length;r.forEach(f=>{const p=Se([et("programIdIndex"),wt(f.keyIndicesCount.length,"keyIndicesCount"),yn(et("keyIndex"),f.keyIndices.length,"keyIndices"),wt(f.dataLength.length,"dataLength"),yn(et("userdatum"),f.data.length,"data")]).encode(f,i,o);o+=p}),i=i.slice(0,o);const a=Se([wt(1,"numRequiredSignatures"),wt(1,"numReadonlySignedAccounts"),wt(1,"numReadonlyUnsignedAccounts"),wt(n.length,"keyCount"),yn(Ke("key"),e,"keys"),Ke("recentBlockhash")]),l={numRequiredSignatures:be.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:be.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:be.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:be.Buffer.from(n),keys:this.accountKeys.map(f=>Fe(f.toBytes())),recentBlockhash:gn.decode(this.recentBlockhash)};let u=be.Buffer.alloc(2048);const d=a.encode(l,u);return i.copy(u,d),u.slice(0,d+i.length)}static from(e){let n=[...e];const r=us(n);if(r!==(r&lp))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=us(n),i=us(n),o=Fn(n);let a=[];for(let m=0;m<o;m++){const p=Hn(n,0,ms);a.push(new se(be.Buffer.from(p)))}const l=Hn(n,0,ms),u=Fn(n);let d=[];for(let m=0;m<u;m++){const p=us(n),y=Fn(n),w=Hn(n,0,y),v=Fn(n),x=Hn(n,0,v),S=gn.encode(be.Buffer.from(x));d.push({programIdIndex:p,accounts:w,data:S})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:gn.encode(be.Buffer.from(l)),accountKeys:a,instructions:d};return new Yr(f)}}class Lo{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new hu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=cp.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const d of i){const f=n.extractTableLookup(d);if(f!==void 0){const[m,{writable:p,readonly:y}]=f;r.push(m),s.writable.push(...p),s.readonly.push(...y)}}const[o,a]=n.getMessageComponents(),u=new hu(a,s).compileInstructions(e.instructions);return new Lo({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();ir(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ir(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();ir(i,this.addressTableLookups.length);const o=Se([et("prefix"),Se([et("numRequiredSignatures"),et("numReadonlySignedAccounts"),et("numReadonlyUnsignedAccounts")],"header"),wt(e.length,"staticAccountKeysLength"),yn(Ke(),this.staticAccountKeys.length,"staticAccountKeys"),Ke("recentBlockhash"),wt(r.length,"instructionsLength"),wt(n.length,"serializedInstructions"),wt(i.length,"addressTableLookupsLength"),wt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Li),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:gn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(Li);for(const r of this.compiledInstructions){const s=Array();ir(s,r.accountKeyIndexes.length);const i=Array();ir(i,r.data.length);const o=Se([et("programIdIndex"),wt(s.length,"encodedAccountKeyIndexesLength"),yn(et(),r.accountKeyIndexes.length,"accountKeyIndexes"),wt(i.length,"encodedDataLength"),wt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Li);for(const r of this.addressTableLookups){const s=Array();ir(s,r.writableIndexes.length);const i=Array();ir(i,r.readonlyIndexes.length);const o=Se([Ke("accountKey"),wt(s.length,"encodedWritableIndexesLength"),yn(et(),r.writableIndexes.length,"writableIndexes"),wt(i.length,"encodedReadonlyIndexesLength"),yn(et(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=us(n),s=r&lp;rt(r!==s,"Expected versioned message but received legacy message");const i=s;rt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:us(n),numReadonlySignedAccounts:us(n),numReadonlyUnsignedAccounts:us(n)},a=[],l=Fn(n);for(let y=0;y<l;y++)a.push(new se(Hn(n,0,ms)));const u=gn.encode(Hn(n,0,ms)),d=Fn(n),f=[];for(let y=0;y<d;y++){const w=us(n),v=Fn(n),x=Hn(n,0,v),S=Fn(n),k=new Uint8Array(Hn(n,0,S));f.push({programIdIndex:w,accountKeyIndexes:x,data:k})}const m=Fn(n),p=[];for(let y=0;y<m;y++){const w=new se(Hn(n,0,ms)),v=Fn(n),x=Hn(n,0,v),S=Fn(n),k=Hn(n,0,S);p.push({accountKey:w,writableIndexes:x,readonlyIndexes:k})}return new Lo({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:p})}}const Cx={deserializeMessageVersion(t){const e=t[0],n=e&lp;return n===e?"legacy":n},deserialize:t=>{const e=Cx.deserializeMessageVersion(t);if(e==="legacy")return Yr.from(t);if(e===0)return Lo.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let As=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const MP=be.Buffer.alloc(du).fill(0);class dt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=be.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class He{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new dt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let w=0;w<n.length;w++)if(n[w].programId===void 0)throw new Error(`Transaction instruction index ${w} has undefined program id`);const s=[],i=[];n.forEach(w=>{w.keys.forEach(x=>{i.push({...x})});const v=w.programId.toString();s.includes(v)||s.push(v)}),s.forEach(w=>{i.push({pubkey:new se(w),isSigner:!1,isWritable:!1})});const o=[];i.forEach(w=>{const v=w.pubkey.toString(),x=o.findIndex(S=>S.pubkey.toString()===v);x>-1?(o[x].isWritable=o[x].isWritable||w.isWritable,o[x].isSigner=o[x].isSigner||w.isSigner):o.push(w)}),o.sort(function(w,v){if(w.isSigner!==v.isSigner)return w.isSigner?-1:1;if(w.isWritable!==v.isWritable)return w.isWritable?-1:1;const x={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return w.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",x)});const a=o.findIndex(w=>w.pubkey.equals(r));if(a>-1){const[w]=o.splice(a,1);w.isSigner=!0,w.isWritable=!0,o.unshift(w)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const w of this.signatures){const v=o.findIndex(x=>x.pubkey.equals(w.publicKey));if(v>-1)o[v].isSigner||(o[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${w.publicKey.toString()}`)}let l=0,u=0,d=0;const f=[],m=[];o.forEach(({pubkey:w,isSigner:v,isWritable:x})=>{v?(f.push(w.toString()),l+=1,x||(u+=1)):(m.push(w.toString()),x||(d+=1))});const p=f.concat(m),y=n.map(w=>{const{data:v,programId:x}=w;return{programIdIndex:p.indexOf(x.toString()),accounts:w.keys.map(S=>p.indexOf(S.pubkey.toString())),data:gn.encode(v)}});return y.forEach(w=>{rt(w.programIdIndex>=0),w.accounts.forEach(v=>rt(v>=0))}),new Yr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:d},accountKeys:p,recentBlockhash:e,instructions:y})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=Rx(r,s.secretKey);this._addSignature(s.publicKey,Fe(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){rt(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=be.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):EP(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];ir(r,n.length);const s=r.length+n.length*64+e.length,i=be.Buffer.alloc(s);return rt(n.length<256),be.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(rt(o.length===64,"signature has invalid length"),be.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),rt(i.length<=Li,`Transaction too large: ${i.length} > ${Li}`),i}get keys(){return rt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return rt(this.instructions.length===1),this.instructions[0].programId}get data(){return rt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Fn(n);let s=[];for(let i=0;i<r;i++){const o=Hn(n,0,du);s.push(gn.encode(be.Buffer.from(o)))}return He.populate(Yr.from(n),s)}static populate(e,n=[]){const r=new He;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==gn.encode(MP)?null:gn.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new dt({keys:i,programId:e.accountKeys[s.programIdIndex],data:gn.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Ox{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,u=o-a;rt(u>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-l;rt(d>=0,"Message header is invalid");const f=e.getAccountKeys(n),m=f.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const y of s){const w=[];for(const x of y.accountKeyIndexes){const S=f.get(x);if(S===void 0)throw new Error(`Failed to find key for account key index ${x}`);const k=x<o;let R;k?R=x<u:x<f.staticAccountKeys.length?R=x-o<d:R=x-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,w.push({pubkey:S,isSigner:x<r.numRequiredSignatures,isWritable:R})}const v=f.get(y.programIdIndex);if(v===void 0)throw new Error(`Failed to find program id for program id index ${y.programIdIndex}`);p.push(new dt({programId:v,data:Fe(y.data),keys:w}))}return new Ox({payerKey:m,instructions:p,recentBlockhash:i})}compileToLegacyMessage(){return Yr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Lo.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class jx{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)rt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(du));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();ir(n,this.signatures.length);const r=Se([wt(n.length,"encodedSignaturesLength"),yn(TP(),this.signatures.length,"signatures"),wt(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=Fn(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Hn(n,0,du)));const i=Cx.deserialize(new Uint8Array(n));return new jx(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));rt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Rx(n,s.secretKey)}}addSignature(e,n){rt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));rt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const PP=160,BP=64,LP=PP/BP,uN=1e3/LP,as=new se("SysvarC1ock11111111111111111111111111111111"),DP=new se("SysvarEpochSchedu1e111111111111111111111111"),zP=new se("Sysvar1nstructions1111111111111111111111111"),gh=new se("SysvarRecentB1ockHashes11111111111111111111"),rl=new se("SysvarRent111111111111111111111111111111111"),UP=new se("SysvarRewards111111111111111111111111111111"),$P=new se("SysvarS1otHashes111111111111111111111111111"),FP=new se("SysvarS1otHistory11111111111111111111111111"),yh=new se("SysvarStakeHistory1111111111111111111111111");class Vi extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const HP={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ke extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function yg(t,e,n,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await t.sendTransaction(e,n,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new Vi({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function ho(t){return new Promise(e=>setTimeout(e,t))}function Ze(t,e){const n=t.layout.span>=0?t.layout.span:lN(t,e),r=be.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}function it(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const dN=fn("lamportsPerSignature"),hN=Se([_e("version"),_e("state"),Ke("authorizedPubkey"),Ke("nonce"),Se([dN],"feeCalculator")]),xg=hN.span;class up{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=hN.decode(Fe(e),0);return new up({authorizedPubkey:new se(n.authorizedPubkey),nonce:new se(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function sl(t){const e=wt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=g6();return s.decode=(o,a)=>{const l=n(o,a);return i.decode(l)},s.encode=(o,a,l)=>{const u=i.encode(o);return r(u,a,l)},s}class VP{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=_e("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ft))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:s}=it(ft.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new se(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=it(ft.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:s}=it(ft.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new se(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=it(ft.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:s,programId:i}=it(ft.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(n),seed:r,space:s,programId:new se(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=it(ft.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new se(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:s}=it(ft.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(n),seed:r,programId:new se(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:s,space:i,programId:o}=it(ft.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new se(n),seed:r,lamports:s,space:i,programId:new se(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=it(ft.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new se(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(ft.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=it(ft.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=it(ft.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new se(n)}}static checkProgramId(e){if(!e.equals(tt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const ft=Object.freeze({Create:{index:0,layout:Se([_e("instruction"),sr("lamports"),sr("space"),Ke("programId")])},Assign:{index:1,layout:Se([_e("instruction"),Ke("programId")])},Transfer:{index:2,layout:Se([_e("instruction"),sl("lamports")])},CreateWithSeed:{index:3,layout:Se([_e("instruction"),Ke("base"),xo("seed"),sr("lamports"),sr("space"),Ke("programId")])},AdvanceNonceAccount:{index:4,layout:Se([_e("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([_e("instruction"),sr("lamports")])},InitializeNonceAccount:{index:6,layout:Se([_e("instruction"),Ke("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([_e("instruction"),Ke("authorized")])},Allocate:{index:8,layout:Se([_e("instruction"),sr("space")])},AllocateWithSeed:{index:9,layout:Se([_e("instruction"),Ke("base"),xo("seed"),sr("space"),Ke("programId")])},AssignWithSeed:{index:10,layout:Se([_e("instruction"),Ke("base"),xo("seed"),Ke("programId")])},TransferWithSeed:{index:11,layout:Se([_e("instruction"),sl("lamports"),xo("seed"),Ke("programId")])},UpgradeNonceAccount:{index:12,layout:Se([_e("instruction")])}});class tt{constructor(){}static createAccount(e){const n=ft.Create,r=Ze(n,{lamports:e.lamports,space:e.space,programId:Fe(e.programId.toBuffer())});return new dt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=ft.TransferWithSeed;n=Ze(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Fe(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ft.Transfer;n=Ze(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new dt({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=ft.AssignWithSeed;n=Ze(s,{base:Fe(e.basePubkey.toBuffer()),seed:e.seed,programId:Fe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ft.Assign;n=Ze(s,{programId:Fe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new dt({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=ft.CreateWithSeed,r=Ze(n,{base:Fe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Fe(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new dt({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new He;"basePubkey"in e&&"seed"in e?n.add(tt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:xg,programId:this.programId})):n.add(tt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:xg,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=ft.InitializeNonceAccount,r=Ze(n,{authorized:Fe(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gh,isSigner:!1,isWritable:!1},{pubkey:rl,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new dt(s)}static nonceAdvance(e){const n=ft.AdvanceNonceAccount,r=Ze(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gh,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new dt(s)}static nonceWithdraw(e){const n=ft.WithdrawNonceAccount,r=Ze(n,{lamports:e.lamports});return new dt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gh,isSigner:!1,isWritable:!1},{pubkey:rl,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=ft.AuthorizeNonceAccount,r=Ze(n,{authorized:Fe(e.newAuthorizedPubkey.toBuffer())});return new dt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=ft.AllocateWithSeed;n=Ze(s,{base:Fe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Fe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ft.Allocate;n=Ze(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new dt({keys:r,programId:this.programId,data:n})}}tt.programId=new se("11111111111111111111111111111111");const WP=Li-300;class Do{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Do.chunkSize)+1+1)}static async load(e,n,r,s,i){{const f=await e.getMinimumBalanceForRentExemption(i.length),m=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==i.length&&(p=p||new He,p.add(tt.allocate({accountPubkey:r.publicKey,space:i.length}))),m.owner.equals(s)||(p=p||new He,p.add(tt.assign({accountPubkey:r.publicKey,programId:s}))),m.lamports<f&&(p=p||new He,p.add(tt.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:f-m.lamports})))}else p=new He().add(tt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:f>0?f:1,space:i.length,programId:s}));p!==null&&await yg(e,p,[n,r],{commitment:"confirmed"})}const o=Se([_e("instruction"),_e("offset"),_e("bytesLength"),_e("bytesLengthPadding"),yn(et("byte"),Bi(_e(),-8),"bytes")]),a=Do.chunkSize;let l=0,u=i,d=[];for(;u.length>0;){const f=u.slice(0,a),m=be.Buffer.alloc(a+16);o.encode({instruction:0,offset:l,bytes:f,bytesLength:0,bytesLengthPadding:0},m);const p=new He().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:m});d.push(yg(e,p,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ho(1e3/4),l+=a,u=u.slice(a)}await Promise.all(d);{const f=Se([_e("instruction")]),m=be.Buffer.alloc(f.span);f.encode({instruction:1},m);const p=new He().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:rl,isSigner:!1,isWritable:!1}],programId:s,data:m}),y="processed",w=await e.sendTransaction(p,[n,r],{preflightCommitment:y}),{context:v,value:x}=await e.confirmTransaction({signature:w,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},y);if(x.err)throw new Error(`Transaction ${w} failed (${JSON.stringify(x)})`);for(;;){try{if(await e.getSlot({commitment:y})>v.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(uN/2)))}}return!0}}Do.chunkSize=WP;const KP=new se("BPFLoader2111111111111111111111111111111111");class GP{static getMinNumSignatures(e){return Do.getMinNumSignatures(e)}static load(e,n,r,s,i){return Do.load(e,n,r,i,s)}}function qP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm,pv;function YP(){if(pv)return Tm;pv=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,l,u,d,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(f==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",i=0;i<o;)u=l[i],d=n(r[u],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+d),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Tm=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Tm}var XP=YP(),mv=qP(XP);const Ql=32;function Im(t){let e=0;for(;t>1;)t/=2,e++;return e}function ZP(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class fN{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Im(ZP(e+Ql+1))-Im(Ql)-1,r=this.getSlotsInEpoch(n),s=e-(r-Ql);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Ql:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Im(Ql)):this.slotsPerEpoch}}var QP=globalThis.fetch;class JP extends eP{constructor(e,n,r){const s=i=>{const o=Q6(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function e8(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const gv=56;class wg{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=e8(t8,e),r=e.length-gv;rt(r>=0,"lookup table is invalid"),rt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=Se([yn(Ke(),s,"addresses")]).decode(e.slice(gv));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new se(n.authority[0]):void 0,addresses:i.map(o=>new se(o))}}}const t8={index:1,layout:Se([_e("typeIndex"),sl("deactivationSlot"),fn("lastExtendedSlot"),et("lastExtendedStartIndex"),et(),yn(Ke(),Bi(et(),-1),"authority")])},n8=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function r8(t){const e=t.match(n8);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${i}`}const Ct=zu(Sx(se),le(),t=>new se(t)),pN=Ex([le(),At("base64")]),Mx=zu(Sx(be.Buffer),pN,t=>be.Buffer.from(t[0],"base64")),mN=30*1e3;function s8(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ht(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function yv(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function gN(t){return Dn([ie({jsonrpc:At("2.0"),id:le(),result:t}),ie({jsonrpc:At("2.0"),id:le(),error:ie({code:Sl(),message:le(),data:Te(_6())})})])}const i8=gN(Sl());function $e(t){return zu(gN(t),i8,e=>"error"in e?e:{...e,result:ue(e.result,t)})}function qt(t){return $e(ie({context:ie({slot:X()}),value:t}))}function dp(t){return ie({context:ie({slot:X()}),value:t})}function Cm(t,e){return t===0?new Lo({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new se(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:gn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Yr(e)}const o8=ie({foundation:X(),foundationTerm:X(),initial:X(),taper:X(),terminal:X()}),a8=$e(fe(pe(ie({epoch:X(),effectiveSlot:X(),amount:X(),postBalance:X(),commission:Te(pe(X()))})))),l8=fe(ie({slot:X(),prioritizationFee:X()})),c8=ie({total:X(),validator:X(),foundation:X(),epoch:X()}),u8=ie({epoch:X(),slotIndex:X(),slotsInEpoch:X(),absoluteSlot:X(),blockHeight:Te(X()),transactionCount:Te(X())}),d8=ie({slotsPerEpoch:X(),leaderScheduleSlotOffset:X(),warmup:ys(),firstNormalEpoch:X(),firstNormalSlot:X()}),h8=Vk(le(),fe(X())),qo=pe(Dn([ie({}),le()])),f8=ie({err:qo}),p8=At("receivedSignature"),m8=ie({"solana-core":le(),"feature-set":Te(X())}),g8=ie({program:le(),programId:Ct,parsed:Sl()}),y8=ie({programId:Ct,accounts:fe(Ct),data:le()}),xv=qt(ie({err:pe(Dn([ie({}),le()])),logs:pe(fe(le())),accounts:Te(pe(fe(pe(ie({executable:ys(),owner:le(),lamports:X(),data:fe(le()),rentEpoch:Te(X())}))))),unitsConsumed:Te(X()),returnData:Te(pe(ie({programId:le(),data:Ex([le(),At("base64")])}))),innerInstructions:Te(pe(fe(ie({index:X(),instructions:fe(Dn([g8,y8]))}))))})),x8=qt(ie({byIdentity:Vk(le(),fe(X())),range:ie({firstSlot:X(),lastSlot:X()})}));function w8(t,e,n,r,s,i){const o=n||QP;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,f)=>{const m=await new Promise((p,y)=>{try{r(d,f,(w,v)=>p([w,v]))}catch(w){y(w)}});return await o(...m)}),new Y6(async(d,f)=>{const m={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},w5)};try{let p=5,y,w=500;for(;l?y=await l(t,m):y=await o(t,m),!(y.status!==429||s===!0||(p-=1,p===0));)console.error(`Server responded with ${y.status} ${y.statusText}.  Retrying after ${w}ms delay...`),await ho(w),w*=2;const v=await y.text();y.ok?f(null,v):f(new Error(`${y.status} ${y.statusText}: ${v}`))}catch(p){p instanceof Error&&f(p)}},{})}function v8(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function b8(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const _8=$e(o8),S8=$e(c8),E8=$e(l8),k8=$e(u8),N8=$e(d8),R8=$e(h8),A8=$e(X()),T8=qt(ie({total:X(),circulating:X(),nonCirculating:X(),nonCirculatingAccounts:fe(Ct)})),vg=ie({amount:le(),uiAmount:pe(X()),decimals:X(),uiAmountString:Te(le())}),I8=qt(fe(ie({address:Ct,amount:le(),uiAmount:pe(X()),decimals:X(),uiAmountString:Te(le())}))),C8=qt(fe(ie({pubkey:Ct,account:ie({executable:ys(),owner:Ct,lamports:X(),data:Mx,rentEpoch:X()})}))),bg=ie({program:le(),parsed:Sl(),space:X()}),O8=qt(fe(ie({pubkey:Ct,account:ie({executable:ys(),owner:Ct,lamports:X(),data:bg,rentEpoch:X()})}))),j8=qt(fe(ie({lamports:X(),address:Ct}))),fu=ie({executable:ys(),owner:Ct,lamports:X(),data:Mx,rentEpoch:X()}),M8=ie({pubkey:Ct,account:fu}),P8=zu(Dn([Sx(be.Buffer),bg]),Dn([pN,bg]),t=>Array.isArray(t)?ue(t,Mx):t),_g=ie({executable:ys(),owner:Ct,lamports:X(),data:P8,rentEpoch:X()}),B8=ie({pubkey:Ct,account:_g}),L8=ie({state:Dn([At("active"),At("inactive"),At("activating"),At("deactivating")]),active:X(),inactive:X()}),D8=$e(fe(ie({signature:le(),slot:X(),err:qo,memo:pe(le()),blockTime:Te(pe(X()))}))),z8=$e(fe(ie({signature:le(),slot:X(),err:qo,memo:pe(le()),blockTime:Te(pe(X()))}))),U8=ie({subscription:X(),result:dp(fu)}),$8=ie({pubkey:Ct,account:fu}),F8=ie({subscription:X(),result:dp($8)}),H8=ie({parent:X(),slot:X(),root:X()}),V8=ie({subscription:X(),result:H8}),W8=Dn([ie({type:Dn([At("firstShredReceived"),At("completed"),At("optimisticConfirmation"),At("root")]),slot:X(),timestamp:X()}),ie({type:At("createdBank"),parent:X(),slot:X(),timestamp:X()}),ie({type:At("frozen"),slot:X(),timestamp:X(),stats:ie({numTransactionEntries:X(),numSuccessfulTransactions:X(),numFailedTransactions:X(),maxTransactionsPerEntry:X()})}),ie({type:At("dead"),slot:X(),timestamp:X(),err:le()})]),K8=ie({subscription:X(),result:W8}),G8=ie({subscription:X(),result:dp(Dn([f8,p8]))}),q8=ie({subscription:X(),result:X()}),Y8=ie({pubkey:le(),gossip:pe(le()),tpu:pe(le()),rpc:pe(le()),version:pe(le())}),wv=ie({votePubkey:le(),nodePubkey:le(),activatedStake:X(),epochVoteAccount:ys(),epochCredits:fe(Ex([X(),X(),X()])),commission:X(),lastVote:X(),rootSlot:pe(X())}),X8=$e(ie({current:fe(wv),delinquent:fe(wv)})),Z8=Dn([At("processed"),At("confirmed"),At("finalized")]),Q8=ie({slot:X(),confirmations:pe(X()),err:qo,confirmationStatus:Te(Z8)}),J8=qt(fe(pe(Q8))),e5=$e(X()),yN=ie({accountKey:Ct,writableIndexes:fe(X()),readonlyIndexes:fe(X())}),Px=ie({signatures:fe(le()),message:ie({accountKeys:fe(le()),header:ie({numRequiredSignatures:X(),numReadonlySignedAccounts:X(),numReadonlyUnsignedAccounts:X()}),instructions:fe(ie({accounts:fe(X()),data:le(),programIdIndex:X()})),recentBlockhash:le(),addressTableLookups:Te(fe(yN))})}),xN=ie({pubkey:Ct,signer:ys(),writable:ys(),source:Te(Dn([At("transaction"),At("lookupTable")]))}),wN=ie({accountKeys:fe(xN),signatures:fe(le())}),vN=ie({parsed:Sl(),program:le(),programId:Ct}),bN=ie({accounts:fe(Ct),data:le(),programId:Ct}),t5=Dn([bN,vN]),n5=Dn([ie({parsed:Sl(),program:le(),programId:le()}),ie({accounts:fe(le()),data:le(),programId:le()})]),_N=zu(t5,n5,t=>"accounts"in t?ue(t,bN):ue(t,vN)),SN=ie({signatures:fe(le()),message:ie({accountKeys:fe(xN),instructions:fe(_N),recentBlockhash:le(),addressTableLookups:Te(pe(fe(yN)))})}),cf=ie({accountIndex:X(),mint:le(),owner:Te(le()),programId:Te(le()),uiTokenAmount:vg}),EN=ie({writable:fe(Ct),readonly:fe(Ct)}),hp=ie({err:qo,fee:X(),innerInstructions:Te(pe(fe(ie({index:X(),instructions:fe(ie({accounts:fe(X()),data:le(),programIdIndex:X()}))})))),preBalances:fe(X()),postBalances:fe(X()),logMessages:Te(pe(fe(le()))),preTokenBalances:Te(pe(fe(cf))),postTokenBalances:Te(pe(fe(cf))),loadedAddresses:Te(EN),computeUnitsConsumed:Te(X()),costUnits:Te(X())}),Bx=ie({err:qo,fee:X(),innerInstructions:Te(pe(fe(ie({index:X(),instructions:fe(_N)})))),preBalances:fe(X()),postBalances:fe(X()),logMessages:Te(pe(fe(le()))),preTokenBalances:Te(pe(fe(cf))),postTokenBalances:Te(pe(fe(cf))),loadedAddresses:Te(EN),computeUnitsConsumed:Te(X()),costUnits:Te(X())}),El=Dn([At(0),At("legacy")]),Yo=ie({pubkey:le(),lamports:X(),postBalance:pe(X()),rewardType:pe(le()),commission:Te(pe(X()))}),r5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),transactions:fe(ie({transaction:Px,meta:pe(hp),version:Te(El)})),rewards:Te(fe(Yo)),blockTime:pe(X()),blockHeight:pe(X())}))),s5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),rewards:Te(fe(Yo)),blockTime:pe(X()),blockHeight:pe(X())}))),i5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),transactions:fe(ie({transaction:wN,meta:pe(hp),version:Te(El)})),rewards:Te(fe(Yo)),blockTime:pe(X()),blockHeight:pe(X())}))),o5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),transactions:fe(ie({transaction:SN,meta:pe(Bx),version:Te(El)})),rewards:Te(fe(Yo)),blockTime:pe(X()),blockHeight:pe(X())}))),a5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),transactions:fe(ie({transaction:wN,meta:pe(Bx),version:Te(El)})),rewards:Te(fe(Yo)),blockTime:pe(X()),blockHeight:pe(X())}))),l5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),rewards:Te(fe(Yo)),blockTime:pe(X()),blockHeight:pe(X())}))),c5=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),transactions:fe(ie({transaction:Px,meta:pe(hp)})),rewards:Te(fe(Yo)),blockTime:pe(X())}))),vv=$e(pe(ie({blockhash:le(),previousBlockhash:le(),parentSlot:X(),signatures:fe(le()),blockTime:pe(X())}))),Om=$e(pe(ie({slot:X(),meta:pe(hp),blockTime:Te(pe(X())),transaction:Px,version:Te(El)}))),Nd=$e(pe(ie({slot:X(),transaction:SN,meta:pe(Bx),blockTime:Te(pe(X())),version:Te(El)}))),u5=qt(ie({blockhash:le(),lastValidBlockHeight:X()})),d5=qt(ys()),h5=ie({slot:X(),numTransactions:X(),numSlots:X(),samplePeriodSecs:X()}),f5=$e(fe(h5)),p5=qt(pe(ie({feeCalculator:ie({lamportsPerSignature:X()})}))),m5=$e(le()),g5=$e(le()),y5=ie({err:qo,logs:fe(le()),signature:le()}),x5=ie({result:dp(y5),subscription:X()}),w5={"solana-client":"js/1.0.0-maintenance"};class fp{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async d=>{const{commitment:f,config:m}=ht(d),p=this._buildArgs([],f,void 0,m),y=mv(p);return u[y]=u[y]??(async()=>{try{const w=await this._rpcRequest("getBlockHeight",p),v=ue(w,$e(X()));if("error"in v)throw new ke(v.error,"failed to get block height information");return v.result}finally{delete u[y]}})(),await u[y]}})();let r,s,i,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=s8(e),this._rpcWsEndpoint=r||r8(e),this._rpcClient=w8(e,s,i,o,a,l),this._rpcRequest=v8(this._rpcClient),this._rpcBatchRequest=b8(this._rpcClient),this._rpcWebSocket=new JP(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ue(o,qt(X()));if("error"in a)throw new ke(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=ue(n,$e(pe(X())));if("error"in r)throw new ke(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=ue(e,$e(X()));if("error"in n)throw new ke(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=ue(e,A8);if("error"in n)throw new ke(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=ue(r,T8);if("error"in s)throw new ke(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=ue(s,qt(vg));if("error"in i)throw new ke(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=ue(s,qt(vg));if("error"in i)throw new ke(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=ht(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",a),u=ue(l,C8);if("error"in u)throw new ke(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ue(o,O8);if("error"in a)throw new ke(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ue(s,j8);if("error"in i)throw new ke(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ue(s,I8);if("error"in i)throw new ke(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ue(o,qt(pe(fu)));if("error"in a)throw new ke(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ue(o,qt(pe(_g)));if("error"in a)throw new ke(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=ht(n),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),l=ue(a,qt(fe(pe(_g))));if("error"in l)throw new ke(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=ht(n),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),l=ue(a,qt(fe(pe(fu))));if("error"in l)throw new ke(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=ht(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=ue(a,$e(L8));if("error"in l)throw new ke(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=ht(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:yv(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),u=fe(M8),d=o.withContext===!0?ue(l,qt(u)):ue(l,$e(u));if("error"in d)throw new ke(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ue(o,$e(fe(B8)));if("error"in a)throw new ke(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=gn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return rt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((l,u)=>{try{r=this.onSignature(n,(f,m)=>{r=void 0;const p={context:m,value:f};l({__type:As.PROCESSED,response:p})},e);const d=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,m=>{m==="subscribed"&&f()})});(async()=>{if(await d,i)return;const f=await this.getSignatureStatus(n);if(i||f==null)return;const{context:m,value:p}=f;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:As.PROCESSED,response:{context:m,value:p}})}})()}catch(d){u(d)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(f=>{const m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await m();if(!i){for(;p<=r;)if(await ho(1e3),i||(p=await m(),i))return;f({__type:As.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(n);let d;try{const f=await Promise.race([u,l,o]);if(f.__type===As.PROCESSED)d=f.response;else throw new Tx(s)}finally{i=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const l=new Promise(p=>{let y=i,w=null;const v=async()=>{try{const{context:x,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return w=x.slot,S==null?void 0:S.nonce}catch{return y}};(async()=>{if(y=await v(),!a)for(;;){if(i!==y){p({__type:As.NONCE_INVALID,slotInWhichNonceDidAdvance:w});return}if(await ho(2e3),a||(y=await v(),a))return}})()}),{abortConfirmation:u,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let m;try{const p=await Promise.race([f,d,l]);if(p.__type===As.PROCESSED)m=p.response;else{let y;for(;;){const w=await this.getSignatureStatus(o);if(w==null)break;if(w.context.slot<(p.slotInWhichNonceDidAdvance??r)){await ho(400);continue}y=w;break}if(y!=null&&y.value){const w=e||"finalized",{confirmationStatus:v}=y.value;switch(w){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new Aa(o);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new Aa(o);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new Aa(o);break;default:}m={context:y.context,value:{err:y.value.err}}}else throw new Aa(o)}}finally{a=!0,u()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:As.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,s]);if(l.__type===As.PROCESSED)a=l.response;else throw new Ix(n,l.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=ue(e,$e(fe(Y8)));if("error"in n)throw new ke(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=ue(r,X8);if("error"in s)throw new ke(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=ue(i,$e(X()));if("error"in o)throw new ke(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ue(i,$e(le()));if("error"in o)throw new ke(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=ue(s,$e(fe(Ct)));if("error"in i)throw new ke(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);rt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=ue(s,J8);if("error"in i)throw new ke(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ue(i,$e(X()));if("error"in o)throw new ke(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=ue(r,_8);if("error"in s)throw new ke(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=ht(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=ue(a,a8);if("error"in l)throw new ke(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=ue(e,S8);if("error"in n)throw new ke(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ue(i,k8);if("error"in o)throw new ke(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=ue(e,N8);if("error"in n)throw new ke(n.error,"failed to get epoch schedule");const r=n.result;return new fN(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=ue(e,R8);if("error"in n)throw new ke(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ue(s,e5);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ue(n,f5);if("error"in r)throw new ke(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ue(s,p5);if("error"in i)throw new ke(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Fe(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=ue(i,qt(pe(X())));if("error"in o)throw new ke(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ue(s,E8);if("error"in i)throw new ke(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ue(i,u5);if("error"in o)throw new ke(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ue(o,d5);if("error"in a)throw new ke(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=ue(e,$e(m8));if("error"in n)throw new ke(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=ue(e,$e(le()));if("error"in n)throw new ke(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ue(o,i5);if("error"in a)throw a.error;return a.result}case"none":{const a=ue(o,s5);if("error"in a)throw a.error;return a.result}default:{const a=ue(o,r5);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:u,meta:d,version:f})=>({meta:d,transaction:{...u,message:Cm(f,u.message)},version:f}))}:null}}}catch(a){throw new ke(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ue(o,a5);if("error"in a)throw a.error;return a.result}case"none":{const a=ue(o,l5);if("error"in a)throw a.error;return a.result}default:{const a=ue(o,o5);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ke(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=ue(i,x8);if("error"in o)throw new ke(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ue(o,Om);if("error"in a)throw new ke(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:Cm(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=ht(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ue(o,Nd);if("error"in a)throw new ke(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=ht(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const u=ue(l,Nd);if("error"in u)throw new ke(u.error,"failed to get transactions");return u.result})}async getTransactions(e,n){const{commitment:r,config:s}=ht(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const u=ue(l,Om);if("error"in u)throw new ke(u.error,"failed to get transactions");const d=u.result;return d&&{...d,transaction:{...d.transaction,message:Cm(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=ue(s,c5);if("error"in i)throw new ke(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:u})=>{const d=new Yr(l.message);return{meta:u,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:u})=>({meta:u,transaction:He.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ue(i,$e(fe(X())));if("error"in o)throw new ke(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ue(s,vv);if("error"in i)throw new ke(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ue(s,vv);if("error"in i)throw new ke(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=ue(s,Om);if("error"in i)throw new ke(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Yr(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:He.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=ue(s,Nd);if("error"in i)throw new ke(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=ue(o,Nd);if("error"in a)throw new ke(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ue(i,D8);if("error"in o)throw new ke(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=ue(i,z8);if("error"in o)throw new ke(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new wg({key:e,state:wg.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=up.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=ue(r,m5);if("error"in s)throw new ke(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ho(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mN;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await ho(uN/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ht(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ue(i,qt(X()));if("error"in o)throw new ke(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const w=e.serialize(),v=be.Buffer.from(w).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const x=n||{};x.encoding="base64","commitment"in x||(x.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(x.innerInstructions=n.innerInstructions);const S=[v,x],k=await this._rpcRequest("simulateTransaction",S),R=ue(k,xv);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let s;if(e instanceof He){let y=e;s=new He,s.feePayer=y.feePayer,s.instructions=e.instructions,s.nonceInfo=y.nonceInfo,s.signatures=y.signatures}else s=He.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let y=this._disableBlockhashCaching;for(;;){const w=await this._blockhashWithExpiryBlockHeight(y);if(s.lastValidBlockHeight=w.lastValidBlockHeight,s.recentBlockhash=w.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const v=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else y=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const y=(Array.isArray(r)?r:o.nonProgramIds()).map(w=>w.toBase58());d.accounts={encoding:"base64",addresses:y}}i&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const f=[u,d],m=await this._rpcRequest("simulateTransaction",f),p=ue(m,xv);if("error"in p){let y;if("data"in p.error&&(y=p.error.data.logs,y&&Array.isArray(y))){const w=`
    `,v=w+y.join(w);console.error(p.error.message,v)}throw new Vi({action:"simulate",signature:"",transactionMessage:p.error.message,logs:y})}return p.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=Fe(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=ue(a,g5);if("error"in l){let u;throw"data"in l.error&&(u=l.error.data.logs),new Vi({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:u})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=ue(e,U8);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=mv([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];rt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=ht(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=ue(e,F8);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=ht(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:yv(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=ue(e,x5);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=ue(e,V8);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=ue(e,K8);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=ue(e,G8);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(l,u)=>{n(l,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=ue(e,q8);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class za{constructor(e){this._keypair=void 0,this._keypair=e??dv()}static generate(){return new za(dv())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const s=e.slice(0,32),i=lf(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new za({publicKey:r,secretKey:e})}static fromSeed(e){const n=lf(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new za({publicKey:n,secretKey:r})}get publicKey(){return new se(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ls=Object.freeze({CreateLookupTable:{index:0,layout:Se([_e("instruction"),sl("recentSlot"),et("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([_e("instruction")])},ExtendLookupTable:{index:2,layout:Se([_e("instruction"),sl(),yn(Ke(),Bi(_e(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([_e("instruction")])},CloseLookupTable:{index:4,layout:Se([_e("instruction")])}});class v5{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=_e("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ls))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=it(Ls.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=it(Ls.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new se(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Lx.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class Lx{constructor(){}static createLookupTable(e){const[n,r]=se.findProgramAddressSync([e.authority.toBuffer(),$k().encode(e.recentSlot)],this.programId),s=Ls.CreateLookupTable,i=Ze(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tt.programId,isSigner:!1,isWritable:!1}];return[new dt({programId:this.programId,keys:o,data:i}),n]}static freezeLookupTable(e){const n=Ls.FreezeLookupTable,r=Ze(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new dt({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const n=Ls.ExtendLookupTable,r=Ze(n,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tt.programId,isSigner:!1,isWritable:!1}),new dt({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const n=Ls.DeactivateLookupTable,r=Ze(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new dt({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const n=Ls.CloseLookupTable,r=Ze(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new dt({programId:this.programId,keys:s,data:r})}}Lx.programId=new se("AddressLookupTab1e1111111111111111111111111");class b5{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=et("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ds))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=it(ds.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=it(ds.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=it(ds.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=it(ds.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(Dx.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ds=Object.freeze({RequestUnits:{index:0,layout:Se([et("instruction"),_e("units"),_e("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([et("instruction"),_e("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([et("instruction"),_e("units")])},SetComputeUnitPrice:{index:3,layout:Se([et("instruction"),sl("microLamports")])}});class Dx{constructor(){}static requestUnits(e){const n=ds.RequestUnits,r=Ze(n,e);return new dt({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=ds.RequestHeapFrame,r=Ze(n,e);return new dt({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=ds.SetComputeUnitLimit,r=Ze(n,e);return new dt({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=ds.SetComputeUnitPrice,r=Ze(n,{microLamports:BigInt(e.microLamports)});return new dt({keys:[],programId:this.programId,data:r})}}Dx.programId=new se("ComputeBudget111111111111111111111111111111");const bv=64,_v=32,Sv=64,Ev=Se([et("numSignatures"),et("padding"),xr("signatureOffset"),xr("signatureInstructionIndex"),xr("publicKeyOffset"),xr("publicKeyInstructionIndex"),xr("messageDataOffset"),xr("messageDataSize"),xr("messageInstructionIndex")]);class pp{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:s,instructionIndex:i}=e;rt(n.length===_v,`Public Key must be ${_v} bytes but received ${n.length} bytes`),rt(s.length===Sv,`Signature must be ${Sv} bytes but received ${s.length} bytes`);const o=Ev.span,a=o+n.length,l=a+s.length,u=1,d=be.Buffer.alloc(l+r.length),f=i??65535;return Ev.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:f,publicKeyOffset:o,publicKeyInstructionIndex:f,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:f},d),d.fill(n,o),d.fill(s,a),d.fill(r,l),new dt({keys:[],programId:pp.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:s}=e;rt(n.length===bv,`Private key must be ${bv} bytes but received ${n.length} bytes`);try{const i=za.fromSecretKey(n),o=i.publicKey.toBytes(),a=Rx(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}pp.programId=new se("Ed25519SigVerify111111111111111111111111111");const _5=(t,e)=>{const n=Nx.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};Nx.utils.isValidPrivateKey;const S5=Nx.getPublicKey,kv=32,jm=20,Nv=64,E5=11,Mm=Se([et("numSignatures"),xr("signatureOffset"),et("signatureInstructionIndex"),xr("ethAddressOffset"),et("ethAddressInstructionIndex"),xr("messageDataOffset"),xr("messageDataSize"),et("messageInstructionIndex"),wt(20,"ethAddress"),wt(64,"signature"),et("recoveryId")]);class Ua{constructor(){}static publicKeyToEthAddress(e){rt(e.length===Nv,`Public key must be ${Nv} bytes but received ${e.length} bytes`);try{return be.Buffer.from(lv(Fe(e))).slice(-jm)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Ua.createInstructionWithEthAddress({ethAddress:Ua.publicKeyToEthAddress(n),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=be.Buffer.from(n.substr(2),"hex"):a=be.Buffer.from(n,"hex"):a=n,rt(a.length===jm,`Address must be ${jm} bytes but received ${a.length} bytes`);const l=1+E5,u=l,d=l+a.length,f=d+s.length+1,m=1,p=be.Buffer.alloc(Mm.span+r.length);return Mm.encode({numSignatures:m,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:f,messageDataSize:r.length,messageInstructionIndex:o,signature:Fe(s),ethAddress:Fe(a),recoveryId:i},p),p.fill(Fe(r),Mm.span),new dt({keys:[],programId:Ua.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:s}=e;rt(n.length===kv,`Private key must be ${kv} bytes but received ${n.length} bytes`);try{const i=Fe(n),o=S5(i,!1).slice(1),a=be.Buffer.from(lv(Fe(r))),[l,u]=_5(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:l,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ua.programId=new se("KeccakSecp256k11111111111111111111111111111");var kN;const NN=new se("StakeConfig11111111111111111111111111111111");class RN{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Uu{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}kN=Uu;Uu.default=new kN(0,0,se.default);class k5{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=_e("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(an))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=it(an.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new RN(new se(n.staker),new se(n.withdrawer)),lockup:new Uu(r.unixTimestamp,r.epoch,new se(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),it(an.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=it(an.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=it(an.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new se(i),newAuthorizedPubkey:new se(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=it(an.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(an.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=it(an.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),it(an.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(mp.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const an=Object.freeze({Initialize:{index:0,layout:Se([_e("instruction"),IP(),CP()])},Authorize:{index:1,layout:Se([_e("instruction"),Ke("newAuthorized"),_e("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([_e("instruction")])},Split:{index:3,layout:Se([_e("instruction"),sr("lamports")])},Withdraw:{index:4,layout:Se([_e("instruction"),sr("lamports")])},Deactivate:{index:5,layout:Se([_e("instruction")])},Merge:{index:7,layout:Se([_e("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([_e("instruction"),Ke("newAuthorized"),_e("stakeAuthorizationType"),xo("authoritySeed"),Ke("authorityOwner")])}}),N5=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class mp{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:s}=e,i=s||Uu.default,o=an.Initialize,a=Ze(o,{authorized:{staker:Fe(r.staker.toBuffer()),withdrawer:Fe(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Fe(i.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rl,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new dt(l)}static createAccountWithSeed(e){const n=new He;n.add(tt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const n=new He;n.add(tt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:s}=e,i=an.Delegate,o=Ze(i);return new He().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:yh,isSigner:!1,isWritable:!1},{pubkey:NN,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=an.Authorize,l=Ze(a,{newAuthorized:Fe(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:as,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new He().add({keys:u,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:l}=e,u=an.AuthorizeWithSeed,d=Ze(u,{newAuthorized:Fe(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Fe(i.toBuffer())}),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:as,isSigner:!1,isWritable:!1}];return l&&f.push({pubkey:l,isSigner:!0,isWritable:!1}),new He().add({keys:f,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=an.Split,a=Ze(o,{lamports:i});return new dt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new He;return r.add(tt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:l}=e,u=new He;return u.add(tt.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),n&&n>0&&u.add(tt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:n})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:s}=e,i=an.Merge,o=Ze(i);return new He().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:yh,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=an.Withdraw,l=Ze(a,{lamports:i}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:yh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new He().add({keys:u,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,s=an.Deactivate,i=Ze(s);return new He().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}mp.programId=new se("Stake11111111111111111111111111111111111111");mp.space=200;class AN{constructor(e,n,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=s}}class R5{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=_e("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(hs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=it(hs.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new AN(new se(n.nodePubkey),new se(n.authorizedVoter),new se(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=it(hs.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=it(hs.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new se(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new se(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=it(hs.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(kl.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const hs=Object.freeze({InitializeAccount:{index:0,layout:Se([_e("instruction"),OP()])},Authorize:{index:1,layout:Se([_e("instruction"),Ke("newAuthorized"),_e("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([_e("instruction"),sr("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([_e("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([_e("instruction"),jP()])}}),A5=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class kl{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:s}=e,i=hs.InitializeAccount,o=Ze(i,{voteInit:{nodePubkey:Fe(s.nodePubkey.toBuffer()),authorizedVoter:Fe(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Fe(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rl,isSigner:!1,isWritable:!1},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new dt(a)}static createAccount(e){const n=new He;return n.add(tt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=hs.Authorize,a=Ze(o,{newAuthorized:Fe(s.toBuffer()),voteAuthorizationType:i.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new He().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,l=hs.AuthorizeWithSeed,u=Ze(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Fe(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Fe(i.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new He().add({keys:d,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=hs.Withdraw,a=Ze(o,{lamports:s}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new He().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return kl.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=hs.UpdateValidatorIdentity,o=Ze(i),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new He().add({keys:a,programId:this.programId,data:o})}}kl.programId=new se("Vote111111111111111111111111111111111111111");kl.space=3762;const TN=new se("Va1idator1nfo111111111111111111111111111111"),T5=ie({name:le(),website:Te(le()),details:Te(le()),iconUrl:Te(le()),keybaseUsername:Te(le())});class zx{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Fn(n)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new se(Hn(n,0,ms)),a=us(n)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(TN)&&s[1].isSigner){const i=xo().decode(be.Buffer.from(n)),o=JSON.parse(i);return Fk(o,T5),new zx(s[1].publicKey,o)}return null}}const I5=new se("Vote111111111111111111111111111111111111111"),C5=Se([Ke("nodePubkey"),Ke("authorizedWithdrawer"),et("commission"),fn(),yn(Se([fn("slot"),_e("confirmationCount")]),Bi(_e(),-8),"votes"),et("rootSlotValid"),fn("rootSlot"),fn(),yn(Se([fn("epoch"),Ke("authorizedVoter")]),Bi(_e(),-8),"authorizedVoters"),Se([yn(Se([Ke("authorizedPubkey"),fn("epochOfLastAuthorizedSwitch"),fn("targetEpoch")]),32,"buf"),fn("idx"),et("isEmpty")],"priorVoters"),fn(),yn(Se([fn("epoch"),fn("credits"),fn("prevCredits")]),Bi(_e(),-8),"epochCredits"),Se([fn("slot"),fn("timestamp")],"lastTimestamp")]);class Ux{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=C5.decode(Fe(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new Ux({nodePubkey:new se(r.nodePubkey),authorizedWithdrawer:new se(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(O5),priorVoters:j5(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function O5({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new se(t)}}function Rv({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new se(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function j5({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(Rv),...t.slice(0,e).map(Rv)]}const Av={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uf(t,e){const n=e===!1?"http":"https";if(!t)return Av[n].devnet;const r=Av[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function M5(t,e,n,r){let s,i;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,i=r):i=n;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await t.sendRawTransaction(e,o),l=i&&i.commitment,d=(await(s?t.confirmTransaction(s,l):t.confirmTransaction(a,l))).value;if(d.err)throw a!=null?new Vi({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const il=1e9,P5=Object.freeze(Object.defineProperty({__proto__:null,Account:RP,AddressLookupTableAccount:wg,AddressLookupTableInstruction:v5,AddressLookupTableProgram:Lx,Authorized:RN,BLOCKHASH_CACHE_TIMEOUT_MS:mN,BPF_LOADER_DEPRECATED_PROGRAM_ID:AP,BPF_LOADER_PROGRAM_ID:KP,BpfLoader:GP,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ds,ComputeBudgetInstruction:b5,ComputeBudgetProgram:Dx,Connection:fp,Ed25519Program:pp,Enum:kP,EpochSchedule:fN,FeeCalculatorLayout:dN,Keypair:za,LAMPORTS_PER_SOL:il,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ls,Loader:Do,Lockup:Uu,MAX_SEED_LENGTH:aN,Message:Yr,MessageAccountKeys:hu,MessageV0:Lo,NONCE_ACCOUNT_LENGTH:xg,NonceAccount:up,PACKET_DATA_SIZE:Li,PUBLIC_KEY_LENGTH:ms,PublicKey:se,SIGNATURE_LENGTH_IN_BYTES:du,SOLANA_SCHEMA:jc,STAKE_CONFIG_ID:NN,STAKE_INSTRUCTION_LAYOUTS:an,SYSTEM_INSTRUCTION_LAYOUTS:ft,SYSVAR_CLOCK_PUBKEY:as,SYSVAR_EPOCH_SCHEDULE_PUBKEY:DP,SYSVAR_INSTRUCTIONS_PUBKEY:zP,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:gh,SYSVAR_RENT_PUBKEY:rl,SYSVAR_REWARDS_PUBKEY:UP,SYSVAR_SLOT_HASHES_PUBKEY:$P,SYSVAR_SLOT_HISTORY_PUBKEY:FP,SYSVAR_STAKE_HISTORY_PUBKEY:yh,Secp256k1Program:Ua,SendTransactionError:Vi,SolanaJSONRPCError:ke,SolanaJSONRPCErrorCode:HP,StakeAuthorizationLayout:N5,StakeInstruction:k5,StakeProgram:mp,Struct:Ax,SystemInstruction:VP,SystemProgram:tt,Transaction:He,TransactionExpiredBlockheightExceededError:Tx,TransactionExpiredNonceInvalidError:Aa,TransactionExpiredTimeoutError:Ix,TransactionInstruction:dt,TransactionMessage:Ox,TransactionStatus:As,VALIDATOR_INFO_KEY:TN,VERSION_PREFIX_MASK:lp,VOTE_PROGRAM_ID:I5,ValidatorInfo:zx,VersionedMessage:Cx,VersionedTransaction:jx,VoteAccount:Ux,VoteAuthorizationLayout:A5,VoteInit:AN,VoteInstruction:R5,VoteProgram:kl,clusterApiUrl:uf,sendAndConfirmRawTransaction:M5,sendAndConfirmTransaction:yg},Symbol.toStringTag,{value:"Module"})),B5="devnet",L5=uf(B5),Pm=new fp(L5,"confirmed"),IN=V.createContext(void 0),gp=()=>{const t=V.useContext(IN);if(t===void 0)throw new Error("useSolanaWallet must be used within a SolanaWalletProvider");return t},D5=({children:t})=>{const[e,n]=V.useState(null),[r,s]=V.useState(null),[i,o]=V.useState(!1),[a,l]=V.useState(!1),p={wallet:e,publicKey:r,connected:i,connecting:a,connect:async y=>{l(!0);try{let w=null;switch(y){case"phantom":if(!window.solana||!window.solana.isPhantom)throw new Error("Phantom wallet is not installed!");w=window.solana;break;case"solflare":if(!window.solflare)throw new Error("Solflare wallet is not installed!");w=window.solflare;break;default:throw new Error(`Unsupported wallet type: ${y}`)}const v=await w.connect(),x=new se(v.publicKey.toString());n(w),s(x),o(!0),console.log("Connected to wallet:",y,"Public key:",x.toString())}catch(w){throw console.error("Failed to connect wallet:",w),w}finally{l(!1)}},disconnect:()=>{e&&e.disconnect(),n(null),s(null),o(!1)},sendTransaction:async y=>{if(!e||!r)throw new Error("Wallet not connected");try{const{blockhash:w}=await Pm.getLatestBlockhash();if(y.recentBlockhash=w,y.feePayer=r,e.signTransaction){const v=await e.signTransaction(y);return await Pm.sendRawTransaction(v.serialize())}else{if(e.signAndSendTransaction)return await e.signAndSendTransaction(y);throw new Error("Wallet does not support transaction signing")}}catch(w){throw console.error("Transaction failed:",w),w}},getBalance:async()=>{if(!r)return 0;try{return await Pm.getBalance(r)/il}catch(y){return console.error("Failed to get balance:",y),0}}};return c.jsx(IN.Provider,{value:p,children:t})},CN=V.createContext(void 0),ON=()=>{const t=V.useContext(CN);if(t===void 0)throw new Error("useTransactionContext must be used within a TransactionProvider");return t},z5=({children:t})=>{const[e,n]=V.useState([]),a={transactions:e,addTransaction:l=>{const u={...l,id:Date.now().toString(),timestamp:new Date};n(d=>[u,...d])},updateTransaction:(l,u)=>{n(d=>d.map(f=>f.id===l?{...f,...u}:f))},clearTransactions:()=>{n([])},clearOldTransactions:()=>{const l=new Date(Date.now()-36e5);n(u=>u.filter(d=>d.timestamp>l))}};return c.jsx(CN.Provider,{value:a,children:t})},U5=()=>{const{connected:t,connecting:e,publicKey:n,connect:r,disconnect:s,getBalance:i}=gp(),[o,a]=V.useState(!1),[l,u]=V.useState(0),d=V.useRef(null);V.useEffect(()=>{const y=w=>{d.current&&!d.current.contains(w.target)&&a(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),V.useEffect(()=>{t&&n&&i().then(u)},[t,n,i]);const f=async y=>{try{await r(y),a(!1)}catch(w){console.error("Failed to connect:",w),alert(`Failed to connect to ${y}: ${w instanceof Error?w.message:"Unknown error"}`)}},m=()=>{s(),a(!1)},p=y=>`${y.slice(0,4)}...${y.slice(-4)}`;return t&&n?c.jsxs("div",{className:"wallet-connected",children:[c.jsxs("div",{className:"wallet-info",children:[c.jsxs("span",{className:"wallet-balance",children:[l.toFixed(4)," SOL"]}),c.jsx("span",{className:"wallet-address",children:p(n.toString())})]}),c.jsx("button",{className:"disconnect-button",onClick:m,children:"Disconnect"})]}):c.jsxs("div",{className:"wallet-connect-container",ref:d,children:[c.jsx("button",{className:"connect-wallet-button",onClick:()=>a(!o),disabled:e,children:e?"Connecting...":"Connect Wallet"}),o&&c.jsxs("div",{className:"wallet-dropdown",children:[c.jsxs("div",{className:"dropdown-header",children:[c.jsx("h4",{children:"Connect a wallet"}),c.jsx("button",{className:"close-button",onClick:()=>a(!1),children:"×"})]}),c.jsxs("div",{className:"wallet-options",children:[c.jsxs("button",{className:"wallet-option",onClick:()=>f("phantom"),disabled:e,children:[c.jsx("div",{className:"wallet-icon",children:"👻"}),c.jsxs("div",{className:"wallet-details",children:[c.jsx("div",{className:"wallet-name",children:"Phantom"}),c.jsx("div",{className:"wallet-description",children:"Popular Solana wallet"})]})]}),c.jsxs("button",{className:"wallet-option",onClick:()=>f("solflare"),disabled:e,children:[c.jsx("div",{className:"wallet-icon",children:"🔥"}),c.jsxs("div",{className:"wallet-details",children:[c.jsx("div",{className:"wallet-name",children:"Solflare"}),c.jsx("div",{className:"wallet-description",children:"Professional Solana wallet"})]})]})]})]})]})},$5=()=>{const t=Wo(),{accentColor:e}=sj(),[n,r]=V.useState(!1),s=V.useRef(null);V.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const i=[{name:"DISCOVER",path:"/discover"},{name:"TERMINAL",path:"/pro-terminal"},{name:"STRATEGY",path:"/strategy-builder"},{name:"INSIGHTS",path:"/tracker"},{name:"PERPETUALS",path:"/perpetuals"},{name:"PORTFOLIO",path:"/portfolio"}],o=()=>{r(!n)},a=()=>{r(!1)};return c.jsx("header",{className:"header",children:c.jsxs("div",{className:"header-content",children:[c.jsxs("div",{className:"header-left",children:[c.jsx(Tc,{to:"/",className:"logo-link",children:c.jsx("div",{className:"logo-container",children:c.jsx("img",{src:"/assets/logos/White 3d Logo.png",alt:"Cyphr Logo",className:"logo-image",onLoad:()=>console.log("Logo loaded successfully"),onError:l=>console.error("Logo failed to load:",l)})})}),c.jsx("nav",{className:"navigation desktop-nav",children:i.map(l=>c.jsx(Tc,{to:l.path,className:`nav-link ${t.pathname===l.path?"active":""}`,children:l.name},l.name))})]}),c.jsxs("div",{className:"header-right",children:[c.jsx(U5,{}),c.jsxs("button",{className:"action-button star-button",children:[c.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),c.jsx("span",{className:"notification-badge",children:"1"})]}),c.jsxs("div",{className:"money-bag",children:[c.jsx("svg",{className:"money-icon",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"})}),c.jsx("span",{className:"money-amount",children:"$0.07"})]}),c.jsxs("div",{className:"profile-dropdown-container",ref:s,children:[c.jsx("button",{className:`action-button profile-button ${n?"active":""}`,onClick:o,children:c.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),c.jsxs("div",{className:`profile-dropdown ${n?"open":""}`,children:[c.jsxs(Tc,{to:"/dashboard",className:"dropdown-item",onClick:a,children:[c.jsx("svg",{className:"dropdown-icon",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),"Dashboard"]}),c.jsxs("button",{className:"dropdown-item",children:[c.jsx("svg",{className:"dropdown-icon",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})}),"Settings"]})]})]})]})]})})},F5=()=>c.jsx("footer",{className:"footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsx("div",{className:"footer-left",children:c.jsxs("div",{className:"footer-brand",children:[c.jsx("span",{className:"brand-name",children:"Cyphr"}),c.jsx("span",{className:"brand-version",children:"v1.0"})]})}),c.jsxs("div",{className:"footer-center",children:[c.jsxs("button",{className:"footer-button",children:[c.jsx("img",{src:"/assets/icons/WalletIcon.png",alt:"Wallet",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Wallet Tracker"]}),c.jsxs("button",{className:"footer-button",children:[c.jsx("img",{src:"/assets/icons/PhoneIcon.png",alt:"Phone",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Twitter Tracker"]}),c.jsxs("button",{className:"footer-button",children:[c.jsx("img",{src:"/assets/icons/PulseIcon.png",alt:"Pulse",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"Pulse Tracker"]}),c.jsxs("button",{className:"footer-button",children:[c.jsx("img",{src:"/assets/icons/PNLIcon.png",alt:"PnL",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}}),"PnL Tracker"]})]}),c.jsxs("div",{className:"footer-right",children:[c.jsx("div",{className:"footer-balance",children:c.jsx("span",{className:"balance-amount",children:"$186.9"})}),c.jsxs("div",{className:"connection-status",children:[c.jsx("div",{className:"status-indicator"}),c.jsx("span",{className:"status-text",children:"Connection is stable"})]}),c.jsxs("div",{className:"server-location",children:[c.jsx("span",{className:"location-text",children:"US-W"}),c.jsx("span",{className:"location-arrow",children:"▼"})]}),c.jsxs("div",{className:"footer-actions",children:[c.jsx("button",{className:"action-button",children:c.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}),c.jsx("button",{className:"action-button",children:c.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),c.jsx("button",{className:"action-button",children:c.jsxs("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),c.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),c.jsx("button",{className:"action-button",children:c.jsx("svg",{className:"action-icon",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})}),H5=()=>{const{transactions:t,clearTransactions:e,clearOldTransactions:n}=ON();if(t.length===0)return null;const r=a=>{switch(a){case"pending":return"⏳";case"confirmed":return"✅";case"failed":return"❌";default:return"❓"}},s=a=>{switch(a){case"pending":return"var(--accent-color)";case"confirmed":return"#10b981";case"failed":return"#ef4444";default:return"#6b7280"}},i=a=>a.toLocaleTimeString(),o=a=>{navigator.clipboard.writeText(a)};return c.jsxs("div",{className:"transaction-status-container",children:[c.jsxs("div",{className:"transaction-status-header",children:[c.jsx("h3",{children:"Transaction Status"}),c.jsxs("div",{className:"transaction-status-actions",children:[c.jsx("button",{className:"clear-old-btn",onClick:n,title:"Clear old transactions",children:"Clear Old"}),c.jsx("button",{className:"clear-all-btn",onClick:e,title:"Clear all transactions",children:"Clear All"})]})]}),c.jsx("div",{className:"transaction-list",children:t.map(a=>c.jsxs("div",{className:`transaction-item ${a.status}`,children:[c.jsxs("div",{className:"transaction-header",children:[c.jsxs("div",{className:"transaction-status",children:[c.jsx("span",{className:"status-icon",style:{color:s(a.status)},children:r(a.status)}),c.jsx("span",{className:"transaction-type",children:a.type})]}),c.jsx("span",{className:"transaction-time",children:i(a.timestamp)})]}),c.jsx("div",{className:"transaction-description",children:a.description}),a.status==="pending"&&c.jsxs("div",{className:"transaction-pending",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("span",{children:"Processing transaction..."})]}),a.status==="confirmed"&&a.signature&&c.jsxs("div",{className:"transaction-confirmed",children:[c.jsxs("div",{className:"transaction-signature",children:[c.jsx("span",{className:"signature-label",children:"Signature:"}),c.jsxs("span",{className:"signature-value",children:[a.signature.slice(0,8),"...",a.signature.slice(-8)]}),c.jsx("button",{className:"copy-btn",onClick:()=>o(a.signature),title:"Copy signature",children:"📋"})]}),a.explorerUrl&&c.jsx("a",{href:a.explorerUrl,target:"_blank",rel:"noopener noreferrer",className:"explorer-link",children:"🔍 View on Explorer"})]}),a.status==="failed"&&a.error&&c.jsx("div",{className:"transaction-failed",children:c.jsxs("div",{className:"error-message",children:[c.jsx("span",{className:"error-label",children:"Error:"}),c.jsx("span",{className:"error-value",children:a.error})]})})]},a.id))})]})},Ro=({token:t,size:e="md",className:n=""})=>{const r={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"},s=i=>({CO:"https://picsum.photos/40/40?random=1",RIB:"https://picsum.photos/40/40?random=2",PER:"https://picsum.photos/40/40?random=3",PAC:"https://picsum.photos/40/40?random=4",MU:"https://picsum.photos/40/40?random=5",PR:"https://picsum.photos/40/40?random=6",DX:"https://picsum.photos/40/40?random=7",NY:"https://picsum.photos/40/40?random=8",SOL:"https://picsum.photos/40/40?random=9",ETH:"https://picsum.photos/40/40?random=10",BTC:"https://picsum.photos/40/40?random=11",PEPE:"https://picsum.photos/40/40?random=12",DOGE:"https://picsum.photos/40/40?random=13",SHIB:"https://picsum.photos/40/40?random=14",BONK:"https://picsum.photos/40/40?random=15",GNOME:"https://picsum.photos/40/40?random=16",GONK:"https://picsum.photos/40/40?random=17"})[i]||`https://picsum.photos/40/40?random=${i.charCodeAt(0)}`;return c.jsx("div",{className:`${r[e]} ${n}`,children:c.jsxs("div",{className:`${r[e]} rounded-full bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold shadow-lg border-2 border-cyphr-gray/20 overflow-hidden`,children:[t.icon?c.jsx("img",{src:t.icon,alt:t.name,className:"w-full h-full object-cover rounded-full"}):c.jsx("img",{src:s(t.symbol||t.name),alt:t.name,className:"w-full h-full object-cover rounded-full",onError:i=>{var o;i.currentTarget.style.display="none",(o=i.currentTarget.nextElementSibling)==null||o.classList.remove("hidden")}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyphr-teal to-cyphr-pink flex items-center justify-center text-cyphr-black font-bold text-sm hidden",children:(t.symbol||t.name).charAt(0)})]})})},jN=({address:t,className:e=""})=>{const n=s=>s.length<=7?s:`${s.slice(0,4)}...${s.slice(-3)}`,r=async()=>{try{await navigator.clipboard.writeText(t)}catch(s){console.error("Failed to copy address:",s)}};return c.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[c.jsx("span",{className:"text-cyphr-gray font-sf-pro",children:n(t)}),c.jsx("img",{src:"/assets/icons/CopyIcon.png",alt:"Copy",width:"10",height:"10",onClick:r,className:"opacity-60 hover:opacity-80 transition-all duration-200 cursor-pointer",title:"Copy address"})]})},V5=()=>{const[t,e]=V.useState("trending"),[n,r]=V.useState("1m"),s=["1m","5m","30m","1h"],i=[{id:1,name:"CO",symbol:"CO",fullName:"AWZy",address:"0xAWZy123456789abcdef123456789abcdef123456",time:"8s",marketCap:"$64.3K",marketCapChange:"-2.45%",liquidity:"$19.8K",volume:"$19.2K",txns:"169",buyTxns:"100",sellTxns:"69",buyTax:"22.2%",sellTax:"1.53%",totalTax:"4.18%",paid:!1,paidAmount:"0.14%",holders:"389",supply:"214",badgeType:"swap"},{id:2,name:"RIB",symbol:"RIB",fullName:"3RxT",address:"0x3RxT456789abcdef123456789abcdef12345678",time:"19h",marketCap:"$1.29M",marketCapChange:"+2.062%",liquidity:"$74.6K",volume:"$26K",txns:"124",buyTxns:"68",sellTxns:"56",buyTax:"16.3%",sellTax:"6.27%",totalTax:"4.77%",paid:!0,paidAmount:"0%",holders:"3925",supply:"833",badgeType:"swap"},{id:3,name:"PER",symbol:"PER",fullName:"5mEC",address:"0x5mEC789abcdef123456789abcdef123456789ab",time:"5m",marketCap:"$57.5K",marketCapChange:"-24.2%",liquidity:"$15.9K",volume:"$12.9K",txns:"181",buyTxns:"91",sellTxns:"90",buyTax:"28.79%",sellTax:"0.07%",totalTax:"2.02%",paid:!1,paidAmount:"0%",holders:"442",supply:"221",badgeType:"trending"},{id:4,name:"PAC",symbol:"PAC",fullName:"24xh",address:"0x24xh456789abcdef123456789abcdef12345678",time:"17s",marketCap:"$12.9K",marketCapChange:"+7.893%",liquidity:"$8.6K",volume:"$6.38K",txns:"36",buyTxns:"28",sellTxns:"8",buyTax:"27.74%",sellTax:"0%",totalTax:"23.14%",paid:!1,paidAmount:"23.14%",holders:"23",supply:"14",badgeType:"trending"},{id:5,name:"MU",symbol:"MU",fullName:"5bqe",address:"0x5bqe456789abcdef123456789abcdef12345678",time:"11m",marketCap:"$34.1K",marketCapChange:"+8.368%",liquidity:"$13.7K",volume:"$1.34K",txns:"24",buyTxns:"18",sellTxns:"6",buyTax:"25.74%",sellTax:"0%",totalTax:"25.74%",paid:!1,paidAmount:"25.74%",holders:"89",supply:"45",badgeType:"swap"},{id:6,name:"PR",symbol:"PR",fullName:"22nF",address:"0x22nF456789abcdef123456789abcdef12345678",time:"3h",marketCap:"$1.8M",marketCapChange:"-5.2%",liquidity:"$95K",volume:"$67K",txns:"178",buyTxns:"92",sellTxns:"86",buyTax:"15.8%",sellTax:"9.1%",totalTax:"4.12%",paid:!1,paidAmount:"0.25%",holders:"3456",supply:"987",badgeType:"trending"},{id:7,name:"DX",symbol:"DX",fullName:"EZut",address:"0xEZut456789abcdef123456789abcdef12345678",time:"45m",marketCap:"$890K",marketCapChange:"+12.3%",liquidity:"$67K",volume:"$45K",txns:"123",buyTxns:"78",sellTxns:"45",buyTax:"8.9%",sellTax:"5.4%",totalTax:"2.78%",paid:!0,paidAmount:"0%",holders:"2345",supply:"567",badgeType:"trending"},{id:8,name:"NY",symbol:"NY",fullName:"FUrE",address:"0xFUrE456789abcdef123456789abcdef12345678",time:"1h",marketCap:"$1.2M",marketCapChange:"+7.8%",liquidity:"$89K",volume:"$67K",txns:"156",buyTxns:"89",sellTxns:"67",buyTax:"11.2%",sellTax:"7.1%",totalTax:"3.45%",paid:!1,paidAmount:"0.18%",holders:"3456",supply:"789",badgeType:"swap"}];return c.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Discover"}),c.jsx("p",{className:"text-cyphr-gray",children:"Find the latest trending tokens and opportunities"})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["trending","new","top","watchlist"].map(o=>c.jsx("button",{onClick:()=>e(o),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===o?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:o})},o))}),c.jsx("div",{className:"flex gap-2",children:s.map(o=>c.jsx("button",{onClick:()=>r(o),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===o?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:o},o))}),c.jsx("div",{className:"flex gap-2 ml-4",children:c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),c.jsx("span",{children:"Filter"}),c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("img",{src:"/assets/icons/SearchIcon.png",alt:"Search",className:"w-4 h-4",style:{marginRight:"8px"}}),"Search"]}),c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("img",{src:"/assets/icons/WatchlistStar.png",alt:"Watchlist",className:"w-4 h-4",style:{marginRight:"8px"}}),"Watchlist"]})]})]}),c.jsx("div",{className:"ultra-premium-glass overflow-hidden animate-slide-up shadow-elite-lg",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-cyphr-gray/20",children:[c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Token"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Market Cap"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Liquidity"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Volume"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Txns"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Tax"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Paid"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-semibold text-sm",children:"Actions"})]})}),c.jsx("tbody",{children:i.map(o=>c.jsxs("tr",{className:"border-b border-cyphr-gray/10 hover:bg-cyphr-gray/5 transition-colors duration-300",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(Ro,{token:{name:o.name,symbol:o.symbol||o.name},size:"md"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"text-cyphr-white font-semibold text-base mb-1",children:["$",o.name]}),c.jsx("div",{className:"text-cyphr-gray text-sm mb-1",children:o.fullName}),c.jsx("div",{className:"mb-1",children:c.jsx(jN,{address:o.address,className:"text-xs"})}),c.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.time," ago"]})]})]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:o.marketCap}),c.jsx("div",{className:`text-xs ${o.marketCapChange.startsWith("+")?"text-green-500":"text-red-500"}`,children:o.marketCapChange})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-cyphr-white text-sm",children:o.liquidity})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-cyphr-white text-sm",children:o.volume})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-cyphr-white text-sm",children:o.txns}),c.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.buyTxns," buy / ",o.sellTxns," sell"]})]}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-cyphr-white text-sm",children:o.totalTax}),c.jsxs("div",{className:"text-cyphr-gray text-xs",children:[o.buyTax," / ",o.sellTax]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o.paid?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[o.paid?"✓":"✗"," ",o.paidAmount]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Tc,{to:`/token/${o.id}`,className:"cyphr-button-primary px-3 py-1 text-xs font-semibold transition-all duration-300 hover:scale-105 no-underline",children:"View"}),c.jsx("button",{className:"cyphr-button px-3 py-1 text-xs font-semibold transition-all duration-300 hover:scale-105 flex items-center justify-center",children:c.jsx("img",{src:"/assets/icons/WatchlistStar.png",alt:"Watchlist",className:"w-4 h-4"})})]})})]},o.id))})]})})})]})},W5=()=>{const t=[{day:1,value:1e4},{day:2,value:10200},{day:3,value:10150},{day:4,value:10300},{day:5,value:10500},{day:6,value:10700},{day:7,value:11e3},{day:8,value:11200},{day:9,value:11500},{day:10,value:11800},{day:11,value:12e3},{day:12,value:12200},{day:13,value:12500},{day:14,value:12847}],e=400,n=120,r=20,s=e-r*2,i=n-r*2,o=Math.min(...t.map(f=>f.value)),l=Math.max(...t.map(f=>f.value))-o,u=t.map((f,m)=>{const p=r+m/(t.length-1)*s,y=r+i-(f.value-o)/l*i;return`${p},${y}`}).join(" "),d=[...u.split(" ").map(f=>f.replace(","," ")),`${e-r} ${n-r}`,`${r} ${n-r}`].join(" L ");return c.jsx("div",{className:"w-full h-32 relative",children:c.jsxs("svg",{width:e,height:n,className:"w-full h-full",viewBox:`0 0 ${e} ${n}`,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),c.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.1"})]}),c.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#6D8FC7"}),c.jsx("stop",{offset:"100%",stopColor:"#BD496F"})]})]}),c.jsx("path",{d:`M ${d}`,fill:"url(#chartGradient)",opacity:"0.3"}),c.jsx("polyline",{points:u,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((f,m)=>{const p=r+m/(t.length-1)*s,y=r+i-(f.value-o)/l*i;return m>=t.length-3?c.jsx("circle",{cx:p,cy:y,r:"3",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"1"},m):null}),c.jsx("text",{x:e-r-5,y:r+15,textAnchor:"end",fill:"#6D8FC7",fontSize:"12",fontWeight:"600",fontFamily:"system-ui",children:"+$2,847"})]})})},K5=()=>{const[t,e]=V.useState("SOL"),[n,r]=V.useState("100"),s={totalValue:"$12,847.32",change24h:"+$1,234.56",changePercent:"+10.6%",tokens:[{name:"SOL",amount:"45.2",value:"$8,456.32",change:"+15.2%",color:"#6D8FC7"},{name:"ETH",amount:"2.1",value:"$3,234.00",change:"+8.7%",color:"#bd496f"},{name:"BTC",amount:"0.12",value:"$1,157.00",change:"+5.4%",color:"#a6a6a6"}]},i=[{token:"PEPE",signal:"BUY",strength:"Strong",price:"$0.00001234",change:"+23.4%",time:"2m ago"},{token:"DOGE",signal:"SELL",strength:"Medium",price:"$0.0789",change:"-5.2%",time:"5m ago"},{token:"SHIB",signal:"HOLD",strength:"Weak",price:"$0.00002345",change:"+1.8%",time:"8m ago"},{token:"BONK",signal:"BUY",strength:"Strong",price:"$0.00004567",change:"+45.6%",time:"12m ago"}],o=[{name:"SOL",price:"$187.23",change:"+2.4%"},{name:"ETH",price:"$1,540.00",change:"+1.8%"},{name:"BTC",price:"$9,641.67",change:"+0.9%"},{name:"PEPE",price:"$0.00001234",change:"+23.4%"}];return c.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Dashboard"}),c.jsx("p",{className:"text-cyphr-gray",children:"Your trading overview and portfolio"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-cyphr-gray font-sf-pro text-sm font-semibold tracking-wide",children:"TOTAL PORTFOLIO"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),c.jsx("path",{d:"M8 12h4a2 2 0 100-4h-1a2 2 0 110-4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})]})})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("div",{className:"text-2xl font-bold text-cyphr-white font-nulshock",children:s.totalValue}),c.jsx("div",{className:"text-cyphr-teal font-semibold text-base",children:s.change24h})]}),c.jsxs("div",{className:"text-cyphr-teal font-sf-pro text-sm font-semibold",children:[s.changePercent," today"]})]}),c.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-2 shadow-elite-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Portfolio Performance"}),c.jsx("div",{className:"flex gap-2",children:["1D","1W","1M","3M","1Y"].map(a=>c.jsx("button",{className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:a},a))})]}),c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(W5,{})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Live Signals"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[c.jsx("polyline",{points:"13 2 13 9 20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("polyline",{points:"11 22 11 15 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("polyline",{points:"20 9 20 20 4 20 4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),c.jsx("div",{className:"space-y-3",children:i.map((a,l)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${a.signal==="BUY"?"bg-cyphr-teal":a.signal==="SELL"?"bg-cyphr-pink":"bg-cyphr-gray"}`}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-cyphr-white text-sm",children:a.token}),c.jsxs("div",{className:"text-cyphr-gray text-xs",children:[a.strength," ",a.signal]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.price}),c.jsx("div",{className:`text-xs font-semibold ${a.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.change}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:a.time})]})]},l))})]}),c.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Quick Trade"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M13 2L13 9L20 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M11 22L11 15L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M20 9L20 20L4 20L4 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Select Token"}),c.jsx("select",{value:t,onChange:a=>e(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:o.map(a=>c.jsxs("option",{value:a.name,children:[a.name," - ",a.price," (",a.change,")"]},a.name))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),c.jsx("input",{type:"number",value:n,onChange:a=>r(a.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(a=>c.jsxs("button",{onClick:()=>r(a),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",a]},a))}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{className:"px-4 py-2 bg-cyphr-teal text-cyphr-black rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Buy"}),c.jsx("button",{className:"px-4 py-2 bg-cyphr-pink text-cyphr-white rounded-lg font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-200",children:"Sell"})]})]}),c.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Token Holdings"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[c.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),c.jsx("path",{d:"M16 3v4M8 3v4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]}),c.jsx("div",{className:"space-y-3",children:s.tokens.map((a,l)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-cyphr-black/30 border border-cyphr-gray/20",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ro,{token:{name:a.name,symbol:a.name},size:"md"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:a.name}),c.jsxs("div",{className:"text-cyphr-gray text-sm",children:[a.amount," tokens"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:a.value}),c.jsx("div",{className:"text-cyphr-teal text-xs font-semibold",children:a.change})]})]},l))})]})]})]})},G5=({pair:t,timeframe:e})=>{const[n,r]=V.useState([]),s=(P,M)=>{const D=[],L=Date.now(),z=e==="1m"?6e4:e==="5m"?3e5:e==="15m"?9e5:e==="1h"?36e5:e==="4h"?144e5:864e5;let H=P;for(let A=50;A>=0;A--){const h=L-A*z,g=H,_=(Math.random()-.5)*M*H,I=Math.max(g+_,P*.8),T=Math.abs(I-g)*(1+Math.random()*2),C=Math.max(g,I)+T*Math.random(),$=Math.min(g,I)-T*Math.random(),O=Math.random()*1e6+1e5;D.push({time:h,open:g,high:C,low:$,close:I,volume:O}),H=I}return D};V.useEffect(()=>{const M={"SOL/USD":{basePrice:187.23,volatility:.02},"ETH/USD":{basePrice:1540,volatility:.015},"BTC/USD":{basePrice:9641.67,volatility:.012},"PEPE/USD":{basePrice:1234e-8,volatility:.08}}[t];M&&r(s(M.basePrice,M.volatility))},[t,e]);const i=800,o=500,a=60,l=80;if(n.length===0)return null;const u=i-a*2,d=o-a*2-l,f=n.flatMap(P=>[P.high,P.low]),m=Math.min(...f),p=Math.max(...f),y=p-m,w=Math.max(...n.map(P=>P.volume));Math.min(...n.map(P=>P.volume));const v=u/n.length*.8,x=u/n.length,S=n[n.length-1],k=n[n.length-2],R=S.close-((k==null?void 0:k.close)||S.open),j=R/((k==null?void 0:k.close)||S.open)*100,F=n.slice(-20).reduce((P,M)=>P+M.close,0)/Math.min(20,n.length);return n.slice(-50).reduce((P,M)=>P+M.close,0)/Math.min(50,n.length),c.jsx("div",{className:"w-full",children:c.jsxs("svg",{width:i,height:o,className:"w-full h-full",viewBox:`0 0 ${i} ${o}`,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:`candleGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.8"}),c.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.3"})]}),c.jsxs("linearGradient",{id:`volumeGradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#6D8FC7",stopOpacity:"0.6"}),c.jsx("stop",{offset:"100%",stopColor:"#6D8FC7",stopOpacity:"0.2"})]})]}),[0,1,2,3,4].map(P=>c.jsx("line",{x1:a,y1:a+P*d/4,x2:i-a,y2:a+P*d/4,stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},`grid-${P}`)),[0,1,2,3,4].map(P=>{const M=p-P*y/4;return c.jsxs("text",{x:a-10,y:a+P*d/4+4,textAnchor:"end",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["$",M.toFixed(t==="PEPE/USD"?8:2)]},`price-${P}`)}),n.map((P,M)=>{if(M<19)return null;const D=a+M*x+x/2,L=a+d-(F-m)/y*d;return c.jsx("circle",{cx:D,cy:L,r:"1",fill:"#FFD700",opacity:"0.8"},`sma20-${M}`)}),n.map((P,M)=>{const D=a+M*x+(x-v)/2,L=P.close>=P.open,z=a+d-(Math.max(P.open,P.close)-m)/y*d,A=a+d-(Math.min(P.open,P.close)-m)/y*d-z,h=a+d-(P.high-m)/y*d,g=a+d-(P.low-m)/y*d;return c.jsxs("g",{children:[c.jsx("line",{x1:D+v/2,y1:h,x2:D+v/2,y2:g,stroke:L?"#6D8FC7":"#BD496F",strokeWidth:"1"}),c.jsx("rect",{x:D,y:z,width:v,height:Math.max(A,1),fill:L?"#6D8FC7":"#BD496F",stroke:L?"#6D8FC7":"#BD496F",strokeWidth:"1"})]},M)}),n.map((P,M)=>{const D=a+M*x+(x-v)/2,L=P.volume/w*60,z=o-a-L,H=P.close>=P.open;return c.jsx("rect",{x:D,y:z,width:v,height:L,fill:H?"#6D8FC7":"#BD496F",opacity:"0.3"},`volume-${M}`)}),c.jsx("line",{x1:a,y1:a+d-(S.close-m)/y*d,x2:i-a,y2:a+d-(S.close-m)/y*d,stroke:"rgba(109, 146, 203, 0.5)",strokeWidth:"1",strokeDasharray:"5,5"}),c.jsx("circle",{cx:i-a,cy:a+d-(S.close-m)/y*d,r:"4",fill:"#6D8FC7",stroke:"#1a1a1a",strokeWidth:"2"}),c.jsxs("text",{x:i-a+10,y:a+d-(S.close-m)/y*d,textAnchor:"start",fill:"#6D8FC7",fontSize:"14",fontWeight:"600",fontFamily:"system-ui",children:["$",S.close.toFixed(t==="PEPE/USD"?8:2)]}),c.jsxs("text",{x:i-a+10,y:a+d-(S.close-m)/y*d+20,textAnchor:"start",fill:R>=0?"#6D8FC7":"#BD496F",fontSize:"12",fontWeight:"500",fontFamily:"system-ui",children:[R>=0?"+":"",j.toFixed(2),"%"]}),c.jsxs("text",{x:i-a+10,y:o-a-40,textAnchor:"start",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:["Vol: ",S.volume.toLocaleString()]}),[0,12,25,37,50].map(P=>{var L;const D=new Date(((L=n[P])==null?void 0:L.time)||Date.now()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return c.jsx("text",{x:a+P*x+x/2,y:o-a+15,textAnchor:"middle",fill:"rgba(255,255,255,0.6)",fontSize:"10",fontFamily:"system-ui",children:D},`time-${P}`)})]})})},q5=()=>{const[t,e]=V.useState("SOL/USD"),[n,r]=V.useState("market"),[s,i]=V.useState("buy"),[o,a]=V.useState("100"),[l,u]=V.useState("10x"),[d,f]=V.useState("1m"),[m,p]=V.useState(!1),y=[{pair:"SOL/USD",price:"$187.23",change:"+2.4%",volume:"$45.2M"},{pair:"ETH/USD",price:"$1,540.00",change:"+1.8%",volume:"$23.1M"},{pair:"BTC/USD",price:"$9,641.67",change:"+0.9%",volume:"$67.8M"},{pair:"PEPE/USD",price:"$0.00001234",change:"+23.4%",volume:"$12.8M"}],w=[{price:"187.25",size:"1,234",total:"1,234",side:"sell"},{price:"187.24",size:"2,156",total:"3,390",side:"sell"},{price:"187.23",size:"3,421",total:"6,811",side:"sell"},{price:"187.22",size:"892",total:"7,703",side:"sell"},{price:"187.21",size:"1,567",total:"9,270",side:"sell"},{price:"187.20",size:"2,345",total:"11,615",side:"buy"},{price:"187.19",size:"1,789",total:"13,404",side:"buy"},{price:"187.18",size:"3,156",total:"16,560",side:"buy"},{price:"187.17",size:"2,234",total:"18,794",side:"buy"},{price:"187.16",size:"1,567",total:"20,361",side:"buy"}],v=[{price:"187.23",size:"45.2",side:"buy",time:"12:34:56"},{price:"187.22",size:"23.1",side:"sell",time:"12:34:52"},{price:"187.24",size:"67.8",side:"buy",time:"12:34:48"},{price:"187.21",size:"12.8",side:"sell",time:"12:34:44"},{price:"187.25",size:"34.5",side:"buy",time:"12:34:40"}];return c.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Perpetuals"}),c.jsx("p",{className:"text-cyphr-gray",children:"Trade with leverage and advanced order types"})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(x=>c.jsx("button",{onClick:()=>e(x.pair),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===x.pair?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-bold",children:x.pair}),c.jsx("div",{className:"text-xs",children:x.price}),c.jsx("div",{className:`text-xs ${x.change.startsWith("+")?"text-cyphr-teal":"text-cyphr-pink"}`,children:x.change})]})},x.pair))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Indicators"]}),c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{style:{width:"16px",height:"16px",marginRight:"12px"},fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Settings"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[c.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl lg:col-span-3 shadow-elite-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:[t," Chart"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-cyphr-gray",children:[c.jsx("span",{children:"MA20"}),c.jsx("div",{className:"w-3 h-0.5 bg-yellow-400"}),c.jsx("span",{children:"Volume"}),c.jsx("div",{className:"w-3 h-0.5 bg-cyphr-teal opacity-30"})]})]}),c.jsx("div",{className:"flex gap-2",children:["1m","5m","15m","1h","4h","1d"].map(x=>c.jsx("button",{onClick:()=>f(x),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${d===x?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:x},x))})]}),c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(G5,{pair:t,timeframe:d})})]}),c.jsxs("div",{className:"ultra-premium-glass p-4 rounded-xl shadow-elite-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order Form"}),c.jsx("button",{onClick:()=>p(!m),className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs",children:m?"Simple":"Advanced"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Order Type"}),c.jsx("div",{className:"flex gap-2",children:["market","limit","stop"].map(x=>c.jsx("button",{onClick:()=>r(x),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 premium-nav-button ${n===x?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Side"}),c.jsx("div",{className:"flex gap-2",children:["buy","sell"].map(x=>c.jsx("button",{onClick:()=>i(x),className:`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${s===x?x==="buy"?"bg-green-600 text-white":"bg-red-600 text-white":"premium-nav-button text-cyphr-gray hover:text-cyphr-white"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Amount (USD)"}),c.jsx("input",{type:"number",value:o,onChange:x=>a(x.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",placeholder:"Enter amount"})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["100","500","1000"].map(x=>c.jsxs("button",{onClick:()=>a(x),className:"px-2 py-1 rounded-md text-xs font-semibold premium-nav-button text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:["$",x]},x))}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-2",children:"Leverage"}),c.jsx("select",{value:l,onChange:x=>u(x.target.value),className:"w-full elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm",children:["1x","2x","5x","10x","20x","50x","100x"].map(x=>c.jsx("option",{value:x,children:x},x))})]}),m&&c.jsxs("div",{className:"mb-4 space-y-3 p-3 rounded-lg bg-cyphr-black/20 border border-cyphr-gray/20",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Stop Loss"}),c.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Stop loss price"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyphr-gray text-xs font-semibold mb-1",children:"Take Profit"}),c.jsx("input",{type:"number",className:"w-full elite-input px-2 py-1 rounded text-xs border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white",placeholder:"Take profit price"})]})]}),c.jsxs("button",{className:"w-full elite-button px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-white bg-gradient-to-r from-cyphr-teal to-cyphr-pink",children:["Execute ",s.charAt(0).toUpperCase()+s.slice(1)," Order"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:c.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Market Stats"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:"📊"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h High"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"$192.45"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Low"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"$181.20"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray text-sm",children:"24h Volume"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"$45.2M"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray text-sm",children:"Open Interest"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"$12.8M"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray text-sm",children:"Funding Rate"}),c.jsx("span",{className:"text-cyphr-teal font-semibold",children:"+0.0125%"})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Order Book"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:"📋"})]}),c.jsx("div",{className:"space-y-1",children:w.map((x,S)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:`font-mono ${x.side==="sell"?"text-red-400":"text-green-400"}`,children:x.price}),c.jsx("span",{className:"text-cyphr-white",children:x.size}),c.jsx("span",{className:"text-cyphr-gray",children:x.total})]},S))})]}),c.jsxs("div",{className:"crystal-glass p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Recent Trades"}),c.jsx("span",{className:"text-cyphr-teal text-base",children:"🔄"})]}),c.jsx("div",{className:"space-y-1",children:v.map((x,S)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:`font-mono ${x.side==="sell"?"text-red-400":"text-green-400"}`,children:x.price}),c.jsx("span",{className:"text-cyphr-white",children:x.size}),c.jsx("span",{className:"text-cyphr-gray",children:x.time})]},S))})]})]})]})},Y5=()=>{var P;const[t,e]=V.useState("ai-insights"),[n,r]=V.useState("USDC"),[s,i]=V.useState(""),[o,a]=V.useState(!1),[l,u]=V.useState(""),[d,f]=V.useState(!1),[m,p]=V.useState([]),y=[{name:"Trades",icon:"☰",path:"trades"},{name:"My Holdings",icon:"💰",path:"holdings"},{name:"Token Details",icon:"⭐",path:"details"},{name:"AI Insights",icon:"🤖",path:"ai-insights"},{name:"Bubble Map",icon:"🌐",path:"bubble"}],w={USDC:{name:"USD Coin",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDtlv",bubbleConfig:{centralSize:80,clusters:{yellow:{count:8,sizeRange:[20,45],position:{x:[20,80],y:[30,70]}},purple:{count:6,sizeRange:[18,40],position:{x:[60,90],y:[10,50]}},pink:{count:4,sizeRange:[15,35],position:{x:[10,40],y:[60,90]}},blue:{count:5,sizeRange:[16,38],position:{x:[70,95],y:[60,90]}}},scattered:{count:35,sizeRange:[6,18]}}},SOL:{name:"Solana",address:"So11111111111111111111111111111111111111112",bubbleConfig:{centralSize:85,clusters:{yellow:{count:10,sizeRange:[22,48],position:{x:[15,85],y:[25,75]}},purple:{count:7,sizeRange:[20,42],position:{x:[55,95],y:[5,55]}},pink:{count:6,sizeRange:[18,38],position:{x:[5,45],y:[55,95]}},blue:{count:6,sizeRange:[19,40],position:{x:[65,95],y:[55,95]}}},scattered:{count:40,sizeRange:[6,20]}}},ETH:{name:"Ethereum",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",bubbleConfig:{centralSize:90,clusters:{yellow:{count:12,sizeRange:[25,50],position:{x:[10,90],y:[20,80]}},purple:{count:8,sizeRange:[22,45],position:{x:[50,95],y:[5,60]}},pink:{count:7,sizeRange:[20,42],position:{x:[5,50],y:[50,95]}},blue:{count:8,sizeRange:[21,44],position:{x:[55,95],y:[50,95]}}},scattered:{count:45,sizeRange:[6,22]}}},BONK:{name:"Bonk",address:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",bubbleConfig:{centralSize:70,clusters:{yellow:{count:6,sizeRange:[18,38],position:{x:[30,70],y:[35,65]}},purple:{count:4,sizeRange:[16,32],position:{x:[65,85],y:[20,50]}},pink:{count:3,sizeRange:[14,30],position:{x:[20,50],y:[65,85]}},blue:{count:4,sizeRange:[15,34],position:{x:[65,85],y:[65,85]}}},scattered:{count:25,sizeRange:[6,16]}}},PEPE:{name:"Pepe",address:"0x6982508145454Ce325dDbE47a25d4ec3d2311933",bubbleConfig:{centralSize:75,clusters:{yellow:{count:7,sizeRange:[20,40],position:{x:[25,75],y:[30,70]}},purple:{count:5,sizeRange:[18,35],position:{x:[60,90],y:[15,55]}},pink:{count:4,sizeRange:[16,32],position:{x:[15,50],y:[60,90]}},blue:{count:5,sizeRange:[17,36],position:{x:[65,90],y:[60,90]}}},scattered:{count:30,sizeRange:[6,18]}}},DOGE:{name:"Dogecoin",address:"0x3832d2F059E559F2088cd4e4d0d24290818Bbe3B",bubbleConfig:{centralSize:65,clusters:{yellow:{count:5,sizeRange:[16,32],position:{x:[35,65],y:[40,60]}},purple:{count:3,sizeRange:[14,28],position:{x:[65,85],y:[25,55]}},pink:{count:3,sizeRange:[12,26],position:{x:[25,55],y:[65,85]}},blue:{count:3,sizeRange:[15,30],position:{x:[65,85],y:[65,85]}}},scattered:{count:20,sizeRange:[6,14]}}}},v=M=>{r(M),i(""),a(!1)},x=async M=>{if(M.length<2){p([]);return}f(!0),await new Promise(L=>setTimeout(L,800));const D=[{name:`${M.toUpperCase()} Token`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:M.toUpperCase()},{name:`${M.toUpperCase()} Protocol`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${M.toUpperCase()}P`},{name:`${M.toUpperCase()} Finance`,address:`0x${Math.random().toString(16).substr(2,40)}`,symbol:`${M.toUpperCase()}F`}];p(D),f(!1)},S=M=>{const D={centralSize:70+Math.random()*30,clusters:{yellow:{count:5+Math.floor(Math.random()*8),sizeRange:[15,40],position:{x:[20,80],y:[25,75]}},purple:{count:4+Math.floor(Math.random()*6),sizeRange:[12,35],position:{x:[60,90],y:[10,60]}},pink:{count:3+Math.floor(Math.random()*5),sizeRange:[10,30],position:{x:[10,50],y:[60,90]}},blue:{count:4+Math.floor(Math.random()*6),sizeRange:[12,32],position:{x:[65,95],y:[60,90]}}},scattered:{count:20+Math.floor(Math.random()*30),sizeRange:[5,18]}};return k(D)},k=(M,D)=>{const L=[];let z=1;L.push({id:z++,x:50,y:50,size:M.centralSize,color:"#6D8FC7",type:"central",isCentral:!0}),Object.entries(M.clusters).forEach(([H,A])=>{for(let h=0;h<A.count;h++){const g=A.position.x[0]+Math.random()*(A.position.x[1]-A.position.x[0]),_=A.position.y[0]+Math.random()*(A.position.y[1]-A.position.y[0]),I=A.sizeRange[0]+Math.random()*(A.sizeRange[1]-A.sizeRange[0]);L.push({id:z++,x:g,y:_,size:I,color:j(H),type:"connected",isCentral:!1})}});for(let H=0;H<M.scattered.count;H++)L.push({id:z++,x:Math.random()*100,y:Math.random()*100,size:M.scattered.sizeRange[0]+Math.random()*(M.scattered.sizeRange[1]-M.scattered.sizeRange[0]),color:j(["yellow","purple","pink","blue"][Math.floor(Math.random()*4)]),type:"scattered",isCentral:!1});return L},R=M=>{const D=w[M];return D?k(D.bubbleConfig):S()},j=M=>{var L;return((L={yellow:["#facc15","#fde047","#fef08a"],purple:["#c084fc","#d8b4fe","#e9d5ff"],pink:["#f472b6","#f9a8d4","#fbcfe8"],blue:["#60a5fa","#93c5fd","#bfdbfe"]}[M])==null?void 0:L[Math.floor(Math.random()*3)])||"#ffffff"};V.useEffect(()=>{r("USDC")},[]);const F=R(n);return console.log("Generated bubbles:",F),console.log("Bubble count:",F.length),console.log("Connected bubbles:",F.filter(M=>M.type==="connected").length),c.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-32 animate-fade-in min-h-screen",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Insights"}),c.jsx("p",{className:"text-cyphr-gray",children:"AI-powered analysis and market insights"})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:y.map(M=>c.jsx("button",{onClick:()=>e(M.path),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===M.path?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsx("span",{className:"transition-transform duration-300 hover:scale-105",children:M.name})},M.path))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"AI Summary"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("p",{className:"text-cyphr-white text-xs leading-relaxed",children:["This token shows ",c.jsx("span",{className:"text-cyphr-teal font-medium",children:"medium risk"}),". Liquidity is mostly unlocked, and deployer has a 60% migration rate. 40% of supply is held by 3 wallets, 2 of which are new."]})]}),c.jsxs("div",{className:"elite-glass-card p-4 rounded-lg mb-6 flex items-center gap-3 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-cyphr-teal",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-cyphr-teal font-mono text-sm font-semibold",children:"Risk Level:"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-cyphr-teal rounded-full animate-pulse"}),c.jsx("span",{className:"text-cyphr-white text-sm font-medium font-mono",children:"Medium"})]})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Pool Overview"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Liquidity:"}),c.jsx("span",{className:"text-cyphr-white",children:"$2.4M"})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Volume 24h:"}),c.jsx("span",{className:"text-cyphr-white",children:"$890K"})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Holders:"}),c.jsx("span",{className:"text-cyphr-white",children:"1,247"})]})]})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Liquidity Events"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Recent Add:"}),c.jsx("span",{className:"text-green-500",children:"+$450K"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Recent Remove:"}),c.jsx("span",{className:"text-red-500",children:"-$120K"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Net Change:"}),c.jsx("span",{className:"text-cyphr-teal",children:"+$330K"})]})]})]})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),"Who's In"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Top Holder:"}),c.jsx("span",{className:"text-cyphr-white",children:"15.2%"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Top 10:"}),c.jsx("span",{className:"text-cyphr-white",children:"42.8%"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"New Wallets:"}),c.jsx("span",{className:"text-cyphr-teal",children:"67%"})]})]})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deployer Insights"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Migration Rate:"}),c.jsx("span",{className:"text-cyphr-white",children:"60%"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Success Rate:"}),c.jsx("span",{className:"text-green-500",children:"78%"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Avg Hold Time:"}),c.jsx("span",{className:"text-cyphr-white",children:"3.2 days"})]})]})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg mb-6 animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Historical Liquidity Events"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"space-y-2 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray",children:"2h ago:"}),c.jsx("span",{className:"text-green-500",children:"+$120K"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray",children:"4h ago:"}),c.jsx("span",{className:"text-red-500",children:"-$80K"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray",children:"6h ago:"}),c.jsx("span",{className:"text-green-500",children:"+$200K"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray",children:"8h ago:"}),c.jsx("span",{className:"text-red-500",children:"-$150K"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-cyphr-gray",children:"12h ago:"}),c.jsx("span",{className:"text-green-500",children:"+$300K"})]})]})]})]})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-lg animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-sm font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M10 2a8 8 0 00-8 8c0 1.5.4 2.9 1.1 4.1a1 1 0 00.8.3h13.4a1 1 0 00.8-.3C17.6 13.9 18 12.5 18 11a8 8 0 00-8-8zm0 14a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"})}),"Interactive Bubble Map"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"1H"}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"24H"}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-xs hover:scale-110",children:"7D"})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:s,onChange:M=>{i(M.target.value),x(M.target.value)},placeholder:"Search any token for holder distribution...",className:"w-full elite-input px-4 py-3 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm"}),d&&c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyphr-teal"})}),m.length>0&&s.length>0&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-cyphr-black/90 border border-cyphr-gray/30 rounded-lg z-50 max-h-48 overflow-y-auto",children:m.map((M,D)=>c.jsx("button",{onClick:()=>{u(M.symbol),i(M.name),p([]),r(M.symbol)},className:"w-full px-4 py-3 text-left hover:bg-cyphr-gray/20 transition-colors duration-200 border-b border-cyphr-gray/20 last:border-b-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:M.name}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:M.symbol})]}),c.jsxs("div",{className:"text-cyphr-gray text-xs font-mono",children:[M.address.slice(0,8),"..."]})]})},D))})]})}),c.jsx("div",{className:"flex items-center gap-4 mb-4",children:c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Object.keys(w).slice(0,6).map(M=>c.jsxs("button",{onClick:()=>v(M),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===M?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-gray/20 text-cyphr-gray hover:text-cyphr-white hover:bg-cyphr-gray/30"}`,children:[c.jsx(Ro,{token:{name:M,symbol:M},size:"md"}),M]},M)),l&&c.jsxs("button",{onClick:()=>r(l),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-2 ${n===l?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink/20 text-cyphr-pink hover:bg-cyphr-pink/30 border border-cyphr-pink/30"}`,children:[c.jsx(Ro,{token:{name:l,symbol:l},size:"md"}),l," 🔍"]})]})}),c.jsxs("div",{className:"relative w-full h-96 rounded-lg overflow-hidden",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.08) 0%, rgba(189,73,111,0.08) 100%)",border:"1px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.08)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[c.jsx("div",{className:"absolute top-4 left-4 z-20 bg-cyphr-black/80 backdrop-blur-md rounded-lg p-3 border border-cyphr-gray/30",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ro,{token:{name:n,symbol:n},size:"md"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-white text-sm font-semibold",children:n}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:(P=w[n])==null?void 0:P.name})]})]})}),c.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2",children:[c.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"1H"}),c.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"24H"}),c.jsx("button",{className:"px-3 py-1 bg-cyphr-black/80 backdrop-blur-md rounded-lg text-xs text-cyphr-white border border-cyphr-gray/30 hover:bg-cyphr-gray/20 transition-all duration-300",children:"7D"})]}),c.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[c.jsxs("defs",{children:[c.jsxs("filter",{id:"glow",children:[c.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsxs("linearGradient",{id:"connectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.9)"}),c.jsx("stop",{offset:"50%",stopColor:"rgba(109,143,199,0.5)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0.1)"})]}),c.jsxs("radialGradient",{id:"bubbleGlow",cx:"50%",cy:"50%",r:"50%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(109,143,199,0.4)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(109,143,199,0)"})]})]}),(()=>{const M=F.find(D=>D.isCentral);return M?c.jsx("circle",{cx:`${M.x}%`,cy:`${M.y}%`,r:"80",fill:"url(#bubbleGlow)",opacity:"0.7"}):null})(),(()=>{const M=F.find(L=>L.isCentral),D=F.filter(L=>L.type==="connected"&&!L.isCentral);return M?D.slice(0,6).map((L,z)=>c.jsxs("g",{children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:`connection-glow-${z}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(45,186,161,0.3)"}),c.jsx("stop",{offset:"50%",stopColor:"rgba(45,186,161,0.1)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(45,186,161,0)"})]})}),c.jsx("line",{x1:`${M.x}%`,y1:`${M.y}%`,x2:`${L.x}%`,y2:`${L.y}%`,stroke:`url(#connection-glow-${z})`,strokeWidth:"8",opacity:"0.4"}),c.jsx("line",{x1:`${M.x}%`,y1:`${M.y}%`,x2:`${L.x}%`,y2:`${L.y}%`,stroke:"rgba(45,186,161,0.2)",strokeWidth:"1",opacity:"0.6"})]},`connection-indicator-${z}`)):null})()]}),F.map((M,D)=>c.jsxs("div",{className:"absolute rounded-full flex items-center justify-center text-white text-xs font-medium transition-all duration-700 hover:scale-125 cursor-pointer",style:{left:`${M.x}%`,top:`${M.y}%`,width:`${M.size}px`,height:`${M.size}px`,background:M.type==="central"?"radial-gradient(circle, rgba(45,186,161,1) 0%, rgba(45,186,161,0.9) 40%, rgba(45,186,161,0.6) 70%, rgba(45,186,161,0.2) 100%)":M.type==="connected"?`radial-gradient(circle, ${M.color} 0%, ${M.color}90 40%, ${M.color}60 70%, ${M.color}20 100%)`:`radial-gradient(circle, ${M.color} 0%, ${M.color}80 50%, ${M.color}40 80%, ${M.color}10 100%)`,transform:"translate(-50%, -50%)",boxShadow:M.type==="central"?"0 0 60px rgba(45,186,161,0.8), 0 0 120px rgba(45,186,161,0.4), 0 0 180px rgba(45,186,161,0.2)":M.type==="connected"?`0 0 ${M.size*1.5}px ${M.color}60, 0 0 ${M.size*2.2}px ${M.color}40`:`0 0 ${M.size*.8}px ${M.color}40`,opacity:M.type==="scattered"?.85:1,zIndex:M.type==="central"?50:M.type==="connected"?25:10,animation:`fadeInUp ${.3+D*.05}s ease-out forwards`,position:"absolute",pointerEvents:"auto"},children:[M.type==="central"&&c.jsxs("div",{className:"absolute inset-0 rounded-full flex items-center justify-center",children:[c.jsx("div",{className:"w-8 h-8 bg-white rounded-full opacity-95 shadow-lg"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/50 animate-pulse"}),c.jsx("div",{className:"absolute inset-0 rounded-full border border-white/30 animate-ping",style:{animationDelay:"0.5s"}})]}),M.type==="connected"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 rounded-full border border-white/40 animate-ping",style:{animationDelay:`${D*.3}s`}}),c.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${D*.2}s`}})]}),M.type==="scattered"&&c.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20 animate-pulse",style:{animationDelay:`${D*.4}s`}})]},M.id))]})]})]})]})},X5=()=>{const{id:t}=IO(),[e,n]=V.useState("overview"),[r,s]=V.useState("100"),[i,o]=V.useState("buy"),a={name:"PEPE",symbol:"PEPE",address:"0x6982508145454ce325ddbe47a25d4ec3d2311933",price:"$0.00001234",change24h:"+23.4%",marketCap:"$1.2B",volume24h:"$45.2M",liquidity:"$23.1M",holders:"125,432",totalSupply:"420,690,000,000,000",circulatingSupply:"420,690,000,000,000",buyTax:"2%",sellTax:"3%",description:"PEPE is a meme token inspired by the popular internet frog character. It has gained significant traction in the crypto community and continues to show strong momentum.",socialLinks:{website:"https://pepe.vip",telegram:"https://t.me/pepecoin",twitter:"https://twitter.com/pepecoineth",discord:"https://discord.gg/pepe"}},l=["1m","5m","15m","1h","4h","1d","1w"],u=[{time:"12:34:56",price:"0.00001234",amount:"1,234,567",side:"buy"},{time:"12:34:52",price:"0.00001233",amount:"2,345,678",side:"sell"},{time:"12:34:48",price:"0.00001235",amount:"3,456,789",side:"buy"},{time:"12:34:44",price:"0.00001232",amount:"4,567,890",side:"sell"},{time:"12:34:40",price:"0.00001236",amount:"5,678,901",side:"buy"}],d=[{range:"0-1K",count:"45,234",percentage:"36.1%"},{range:"1K-10K",count:"32,156",percentage:"25.7%"},{range:"10K-100K",count:"28,945",percentage:"23.1%"},{range:"100K-1M",count:"15,678",percentage:"12.5%"},{range:"1M+",count:"3,419",percentage:"2.7%"}];return console.log("Token ID:",t),c.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[c.jsx(Ro,{token:{name:a.name,symbol:a.symbol},size:"lg"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-cyphr-white mb-2 font-nulshock",children:a.name}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-cyphr-gray font-sf-pro",children:[a.symbol," •"]}),c.jsx(jN,{address:a.address,className:"text-sm"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.15) 0%, rgba(189,73,111,0.15) 100%)",border:"2px solid rgba(109,143,199,0.3)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.12)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Price"}),c.jsx("div",{className:"text-2xl font-bold text-cyphr-white mb-1",children:a.price}),c.jsx("div",{className:"text-cyphr-blue font-semibold",children:a.change24h})]}),c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Market Cap"}),c.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.marketCap})]}),c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Volume 24h"}),c.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.volume24h})]}),c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Holders"}),c.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:a.holders})]})]})]}),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","trading","holders"].map(f=>c.jsx("button",{onClick:()=>n(f),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${e===f?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})}),e==="overview"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Token Information"}),c.jsx("span",{className:"text-cyphr-blue text-lg",children:"ℹ️"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Total Supply"}),c.jsx("span",{className:"text-cyphr-white font-mono",children:a.totalSupply})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Circulating Supply"}),c.jsx("span",{className:"text-cyphr-white font-mono",children:a.circulatingSupply})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Buy Tax"}),c.jsx("span",{className:"text-cyphr-blue font-semibold",children:a.buyTax})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Sell Tax"}),c.jsx("span",{className:"text-cyphr-pink font-semibold",children:a.sellTax})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsx("span",{className:"text-cyphr-gray",children:"Liquidity"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:a.liquidity})]})]})]}),c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["About ",a.name]}),c.jsx("span",{className:"text-cyphr-blue text-lg",children:"📝"})]}),c.jsx("p",{className:"text-cyphr-gray leading-relaxed mb-6",children:a.description}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-cyphr-white font-semibold mb-3",children:"Social Links"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a.socialLinks).map(([f,m])=>c.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"elite-button flex items-center gap-2 p-3 rounded-lg transition-all duration-300 hover:scale-105 text-cyphr-gray",children:[c.jsx("span",{className:"text-cyphr-blue",children:f==="website"?"🌐":f==="telegram"?"📱":f==="twitter"?"🐦":"💬"}),c.jsx("span",{className:"text-cyphr-white capitalize",children:f})]},f))})]})]})]}),e==="chart"&&c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:[a.name," Price Chart"]}),c.jsx("div",{className:"flex gap-2",children:l.map(f=>c.jsx("button",{className:"elite-button px-3 py-1 rounded-lg text-xs font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:f},f))})]}),c.jsx("div",{className:"h-96 bg-gradient-to-br from-cyphr-blue/10 to-cyphr-pink/10 rounded-xl flex items-center justify-center border border-cyphr-gray/30",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-cyphr-gray text-6xl mb-4",children:"📈"}),c.jsx("div",{className:"text-cyphr-gray font-sf-pro text-xl",children:"Price Chart"}),c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Interactive trading chart"})]})})]}),e==="trading"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:["Trade ",a.name]}),c.jsx("span",{className:"text-cyphr-blue text-lg",children:"⚡"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:["buy","sell"].map(f=>c.jsx("button",{onClick:()=>o(f),className:`px-4 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${i===f?f==="buy"?"cyphr-button-primary":"cyphr-button-secondary":"elite-button text-cyphr-gray"}`,children:f.toUpperCase()},f))}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-cyphr-gray text-sm font-semibold mb-2",children:"Amount (USD)"}),c.jsx("input",{type:"number",value:r,onChange:f=>s(f.target.value),className:"w-full elite-input px-4 py-3 rounded-xl border border-cyphr-gray/30 focus:border-cyphr-blue text-cyphr-white bg-cyphr-black/50",placeholder:"Enter amount"})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:["100","500","1000"].map(f=>c.jsxs("button",{onClick:()=>s(f),className:"elite-button px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",children:["$",f]},f))}),c.jsxs("button",{className:`w-full py-4 rounded-xl font-bold text-xl transition-all duration-300 hover:scale-105 ${i==="buy"?"cyphr-button-primary":"cyphr-button-secondary"}`,children:[i.toUpperCase()," ",a.name]})]}),c.jsxs("div",{className:"lg:col-span-2 cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Recent Trades"}),c.jsx("span",{className:"text-cyphr-blue text-lg",children:"📋"})]}),c.jsx("div",{className:"space-y-2",children:u.map((f,m)=>c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${f.side==="buy"?"bg-cyphr-blue":"bg-cyphr-pink"}`}),c.jsx("span",{className:`font-mono font-semibold ${f.side==="buy"?"text-cyphr-blue":"text-cyphr-pink"}`,children:f.price})]}),c.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:f.amount}),c.jsx("span",{className:"text-cyphr-gray font-mono text-sm",children:f.time})]},m))})]})]}),e==="holders"&&c.jsxs("div",{className:"cyphr-card p-6 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(109,143,199,0.12) 0%, rgba(189,73,111,0.12) 100%)",border:"2px solid rgba(109,143,199,0.25)",boxShadow:"0 8px 32px 0 rgba(109,143,199,0.10)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-cyphr-blue font-nulshock text-lg font-semibold",children:"Holder Distribution"}),c.jsx("span",{className:"text-cyphr-blue text-lg",children:"👥"})]}),c.jsx("div",{className:"space-y-4",children:d.map((f,m)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${m*60}, 70%, 60%)`}}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:f.range})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-bold text-cyphr-white",children:f.count}),c.jsx("div",{className:"text-cyphr-gray text-sm",children:f.percentage})]})]},m))})]})]})},Z5=()=>{const[t,e]=V.useState("active"),[n,r]=V.useState(null),s=[{id:"ORD-001",token:"PEPE",type:"BUY",amount:"1000",price:"$0.00001234",status:"pending",time:"2 minutes ago",progress:75},{id:"ORD-002",token:"DOGE",type:"SELL",amount:"500",price:"$0.0789",status:"executing",time:"5 minutes ago",progress:45},{id:"ORD-003",token:"SHIB",type:"BUY",amount:"2000",price:"$0.00002345",status:"pending",time:"8 minutes ago",progress:20}],i=[{id:"ORD-004",token:"PEPE",type:"BUY",amount:"500",price:"$0.00001230",status:"completed",time:"1 hour ago",executedPrice:"$0.00001232"},{id:"ORD-005",token:"DOGE",type:"SELL",amount:"1000",price:"$0.0790",status:"cancelled",time:"2 hours ago",executedPrice:null},{id:"ORD-006",token:"BONK",type:"BUY",amount:"1500",price:"$0.00004500",status:"completed",time:"3 hours ago",executedPrice:"$0.00004567"}],o={totalOrders:156,pendingOrders:8,totalVolume:"$45,234.56",successRate:"91.0%"};return c.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Orders"}),c.jsx("p",{className:"text-cyphr-gray",children:"Manage your trading orders and view order history"})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[c.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Orders"}),c.jsx("div",{className:"text-2xl font-bold text-cyphr-white",children:o.totalOrders})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Success Rate"}),c.jsx("div",{className:"text-2xl font-bold text-cyphr-teal",children:o.successRate})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Total Volume"}),c.jsx("div",{className:"text-xl font-bold text-cyphr-white",children:o.totalVolume})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold mb-2",children:"Pending"}),c.jsx("div",{className:"text-2xl font-bold text-cyphr-pink",children:o.pendingOrders})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active","history"].map(a=>c.jsx("button",{onClick:()=>e(a),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===a?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:a})},a))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),t==="active"&&c.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Active Orders"}),c.jsx("span",{className:"text-cyphr-teal text-lg",children:"⚡"})]}),s.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-cyphr-gray text-4xl mb-4",children:"📋"}),c.jsx("div",{className:"text-cyphr-gray font-sf-pro text-lg",children:"No active orders"}),c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Your active orders will appear here"})]}):c.jsx("div",{className:"space-y-4",children:s.map(a=>c.jsxs("div",{className:"p-6 rounded-xl bg-cyphr-black/50 border border-cyphr-gray/30",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(Ro,{token:{name:a.token,symbol:a.token},size:"md"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-bold text-cyphr-white text-lg mb-1",children:a.token}),c.jsxs("div",{className:"text-cyphr-gray text-sm",children:["Order #",a.id]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-lg font-bold ${a.type==="BUY"?"text-cyphr-teal":"text-cyphr-pink"}`,children:a.type}),c.jsx("div",{className:"text-cyphr-gray text-sm",children:a.time})]})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Amount"}),c.jsxs("div",{className:"font-bold text-cyphr-white",children:["$",a.amount]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Price"}),c.jsx("div",{className:"font-bold text-cyphr-white",children:a.price})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Status"}),c.jsx("div",{className:`font-semibold ${a.status==="pending"?"text-cyphr-pink":"text-cyphr-teal"}`,children:a.status.toUpperCase()})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Progress"}),c.jsxs("div",{className:"font-bold text-cyphr-white",children:[a.progress,"%"]})]})]}),c.jsx("div",{className:"w-full bg-cyphr-dark-gray rounded-full h-2 mb-4",children:c.jsx("div",{className:"bg-gradient-to-r from-cyphr-teal to-cyphr-pink h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Cancel Order"}),c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Modify"}),c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"View Details"})]})]},a.id))})]}),t==="history"&&c.jsxs("div",{className:"elite-glass-card p-6 rounded-2xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold",children:"Order History"}),c.jsx("span",{className:"text-cyphr-teal text-lg",children:"📊"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-cyphr-gray",children:[c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Order ID"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Token"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Amount"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Price"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Executed Price"}),c.jsx("th",{className:"px-6 py-4 text-left text-cyphr-teal font-bold text-sm tracking-wide",children:"Time"})]})}),c.jsx("tbody",{children:i.map(a=>c.jsxs("tr",{className:"border-b border-cyphr-gray/30 hover:bg-cyphr-black/30 transition-all duration-200",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"font-mono text-cyphr-white text-sm",children:a.id})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-lg flex items-center justify-center text-cyphr-black font-bold text-sm shadow-lg",children:a.token.charAt(0)}),c.jsx("span",{className:"font-bold text-cyphr-white",children:a.token})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.type==="BUY"?"bg-cyphr-teal text-cyphr-black":"bg-cyphr-pink text-cyphr-white"}`,children:a.type})}),c.jsxs("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:["$",a.amount]}),c.jsx("td",{className:"px-6 py-4 font-bold text-cyphr-white",children:a.price}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.status==="completed"?"bg-cyphr-teal text-cyphr-black":a.status==="cancelled"?"bg-cyphr-pink text-cyphr-white":"bg-cyphr-gray text-cyphr-black"}`,children:a.status.toUpperCase()})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"font-mono text-cyphr-gray text-sm",children:a.executedPrice||"N/A"})}),c.jsx("td",{className:"px-6 py-4 text-cyphr-gray text-sm",children:a.time})]},a.id))})]})})]})]})},Q5=()=>{const[t,e]=V.useState("wallets"),[n,r]=V.useState(""),s=[{id:1,name:"Axiom Main",address:"TzKG...h4W9",balance:"2.47",holdings:"12",color:"#ff6b35"},{id:2,name:"Trading Wallet",address:"Ax7K...mN3P",balance:"1.23",holdings:"8",color:"#6D8FC7"},{id:3,name:"Staking Pool",address:"Bx9L...qR5T",balance:"0.89",holdings:"5",color:"#bd496f"}];return c.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Portfolio"}),c.jsx("p",{className:"text-cyphr-gray",children:"Manage your wallets and track your investments"})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(i=>c.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"Axiom Main"}),c.jsx("img",{src:"/assets/icons/DepositIcon.png",alt:"Deposit",style:{width:"20px",height:"20px"}}),c.jsx("span",{className:"text-cyphr-white font-sf-pro text-base font-semibold",children:"2.47 SOL"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),c.jsxs("button",{className:"cyphr-button-primary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",children:[c.jsx("span",{className:"mr-2",children:"+"}),"Add Wallet"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[c.jsx("img",{src:"/assets/icons/WalletIcon.png",alt:"Wallet",style:{width:"20px",height:"20px"}}),"Wallets"]})}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",placeholder:"Search by name or address...",value:n,onChange:i=>r(i.target.value),className:"elite-input w-full text-sm"})})}),c.jsx("div",{className:"space-y-4",children:s.map(i=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-cyphr-gray/20 hover:border-cyphr-teal/30 transition-all duration-300 cursor-pointer group",style:{background:"linear-gradient(135deg, rgba(45,186,161,0.05) 0%, rgba(189,73,111,0.05) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:i.color},children:i.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-white font-semibold text-sm",children:i.name}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:i.address})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-cyphr-white font-semibold text-sm",children:[i.balance," SOL"]}),c.jsxs("div",{className:"text-cyphr-gray text-xs",children:[i.holdings," holdings"]})]})]},i.id))})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:"📊"}),"Total Value"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),c.jsx("div",{className:"text-3xl font-bold text-cyphr-white mb-2",children:"$4.59"}),c.jsx("div",{className:"text-green-500 text-sm",children:"+12.5% (24h)"})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:"⚡"}),"Recent Activity"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full flex items-center justify-center text-white text-xs font-bold",children:"B"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-white font-medium",children:"Bought BONK"}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:"2 hours ago"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-cyphr-white font-medium",children:"+$0.23"}),c.jsx("div",{className:"text-green-500 text-xs",children:"+15.2%"})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyphr-pink to-cyphr-teal rounded-full flex items-center justify-center text-white text-xs font-bold",children:"S"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-white font-medium",children:"Sold PEPE"}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:"5 hours ago"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-cyphr-white font-medium",children:"-$0.12"}),c.jsx("div",{className:"text-red-500 text-xs",children:"-8.7%"})]})]})]})]}),c.jsxs("div",{className:"elite-glass-card p-6 rounded-xl animate-slide-up shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-cyphr-teal font-nulshock text-lg font-semibold flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:"📈"}),"Performance"]}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-all duration-300 text-sm hover:scale-110",children:"▼"})]}),c.jsx("div",{className:"h-32 bg-gradient-to-r from-cyphr-teal/20 to-cyphr-pink/20 rounded-lg flex items-center justify-center",children:c.jsx("div",{className:"text-cyphr-gray text-sm",children:"Chart placeholder"})})]})]})]})]})},J5=()=>{const[t,e]=V.useState("active"),[n,r]=V.useState("max"),s=["1d","7d","30d","max"];return c.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Spot Trading"}),c.jsx("p",{className:"text-cyphr-gray",children:"Manage your spot positions and trading history"})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["spot","wallets","perpetuals"].map(i=>c.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),c.jsx("div",{className:"flex gap-2",children:s.map(i=>c.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:i.toUpperCase()},i))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]}),c.jsxs("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-6.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-cyphr-white text-base mb-1",children:"Axiom Main"}),c.jsx("div",{className:"text-cyphr-gray text-sm",children:"2.47"})]}),c.jsx("span",{className:"text-cyphr-gray",children:"▼"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-cyphr-gray text-sm mb-1 font-semibold",children:"Balance"}),c.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total Value: ",c.jsx("span",{className:"text-cyphr-teal",children:"$89.47"})]})]}),c.jsx("div",{children:c.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Unrealized PNL: ",c.jsx("span",{className:"text-cyphr-teal",children:"+$12.34"})]})}),c.jsx("div",{children:c.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Available Balance: ",c.jsx("span",{className:"text-cyphr-teal",children:"$77.13"})]})})]})]}),c.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Realized PNL"})}),c.jsxs("div",{className:"h-40 bg-gradient-to-br from-cyphr-pink/5 to-cyphr-teal/5 rounded-lg flex items-center justify-center relative border border-cyphr-gray/20",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full h-full bg-gradient-to-br from-cyphr-pink/20 via-cyphr-pink/10 to-transparent transform rotate-12 rounded-lg"})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-cyphr-pink to-transparent transform rotate-12"})}),c.jsx("div",{className:"absolute bottom-3 left-3 text-cyphr-gray text-xl",children:"📊"})]})]}),c.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Performance"}),c.jsx("button",{className:"text-cyphr-gray hover:text-cyphr-teal transition-colors p-1 rounded hover:bg-cyphr-black/30",children:"📤"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{children:c.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total PNL: ",c.jsx("span",{className:"text-cyphr-teal",children:"+$23.67"})]})}),c.jsx("div",{children:c.jsxs("div",{className:"text-cyphr-white font-bold text-base",children:["Total TXNS: ",c.jsx("span",{className:"text-cyphr-teal",children:"47 / 23"})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-cyphr-gray text-sm font-semibold",children:"PNL Distribution"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"🟢 >500%"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"3"})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"🟢 200% ~ 500%"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"8"})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"🟢 0% ~ 200%"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"12"})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"🔴 0% ~ -50%"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"4"})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-cyphr-gray",children:"🔴 < -50%"}),c.jsx("span",{className:"text-cyphr-white font-semibold",children:"2"})]})]}),c.jsx("div",{className:"w-full h-1 bg-cyphr-black/30 rounded-full mt-2 border border-cyphr-gray/20",children:c.jsx("div",{className:"w-4/5 h-1 bg-gradient-to-r from-cyphr-teal to-cyphr-pink rounded-full shadow-lg"})})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["active positions","history","top 100"].map(i=>c.jsx("button",{onClick:()=>e(i),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${t===i?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,children:c.jsx("span",{className:"capitalize transition-transform duration-300 hover:scale-105",children:i})},i))}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsx("input",{type:"text",placeholder:"Search by name or address",className:"elite-input px-3 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white placeholder-cyphr-gray"}),c.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"Show Hidden"}),c.jsx("button",{className:"elite-button px-3 py-2 rounded-lg text-xs font-semibold text-cyphr-gray hover:text-cyphr-white transition-all duration-200",children:"↑↓ USD"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsx("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:c.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Bought"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Sold"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Remaining ↓"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"PNL"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Action"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[c.jsx("td",{className:"px-3 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-teal to-cyphr-pink rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"S"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"SOL"}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:"Solana"})]})]})}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$22.10"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$12.34"}),c.jsx("td",{className:"px-3 py-2",children:c.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]}),c.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[c.jsx("td",{className:"px-3 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyphr-pink to-cyphr-teal rounded-md flex items-center justify-center text-cyphr-black font-bold text-xs",children:"B"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-cyphr-white text-xs",children:"BONK"}),c.jsx("div",{className:"text-cyphr-gray text-xs",children:"Bonk"})]})]})}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$0"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-teal text-xs font-semibold",children:"+$8.90"}),c.jsx("td",{className:"px-3 py-2",children:c.jsx("button",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal text-cyphr-black",children:"Close"})})]})]})]})})}),c.jsxs("div",{className:"elite-glass-card p-4 rounded-xl shadow-elite",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("h3",{className:"text-cyphr-teal font-nulshock text-base font-semibold",children:"Activity"})}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-cyphr-gray/20",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-cyphr-gray/20 bg-cyphr-black/30",children:[c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Type"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Token"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Amount ⓘ"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Market Cap ⓘ"}),c.jsx("th",{className:"px-3 py-2 text-left text-cyphr-teal font-bold text-xs tracking-wide",children:"Age"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[c.jsx("td",{className:"px-3 py-2",children:c.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"SOL"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$45.20"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.5B"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"2h ago"})]}),c.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[c.jsx("td",{className:"px-3 py-2",children:c.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-pink/20 text-cyphr-pink",children:"SELL"})}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$23.10"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"4h ago"})]}),c.jsxs("tr",{className:"border-b border-cyphr-gray/10",children:[c.jsx("td",{className:"px-3 py-2",children:c.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyphr-teal/20 text-cyphr-teal",children:"BUY"})}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"BONK"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$12.50"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-white text-xs",children:"$890M"}),c.jsx("td",{className:"px-3 py-2 text-cyphr-gray text-xs",children:"6h ago"})]})]})]})})]})]})]})]})},eB=()=>{const[t,e]=V.useState(null),[n,r]=V.useState("overview"),[s,i]=V.useState("1D"),[o,a]=V.useState([]),[l,u]=V.useState(""),[d,f]=V.useState(!1),[m,p]=V.useState([]),[y,w]=V.useState(!1),[v,x]=V.useState(""),[S,k]=V.useState(!0);V.useEffect(()=>{const h="Cyphr Terminal";let g=0;const _=setInterval(()=>{g<h.length?(x(h.slice(0,g+1)),g++):(k(!1),clearInterval(_))},150);return()=>clearInterval(_)},[]);const R=[{symbol:"SOL",name:"Solana",price:177.45,change24h:5.67,volume24h:284e7,marketCap:45e9,holders:125e4,riskLevel:"Medium",liquidityEvents:[{type:"Large Buy",amount:5e5,timestamp:"2h ago",impact:"Positive"},{type:"Whale Movement",amount:12e5,timestamp:"6h ago",impact:"Neutral"},{type:"Liquidity Added",amount:8e5,timestamp:"12h ago",impact:"Positive"},{type:"Institutional Inflow",amount:25e5,timestamp:"1h ago",impact:"Positive"}],aiInsights:[{type:"Bullish",confidence:78,analysis:"Strong momentum with increasing volume and institutional buying pressure. RSI showing bullish divergence.",recommendation:"Consider long position with tight stop loss at $95.20"},{type:"Neutral",confidence:65,analysis:"Technical indicators show consolidation near resistance. MACD histogram flattening.",recommendation:"Wait for breakout confirmation above $100 resistance"},{type:"Bullish",confidence:82,analysis:"On-chain metrics show strong accumulation by smart money. Network activity increasing.",recommendation:"Accumulate on dips, target $110-115 range"}]}],j=async h=>{if(!h.trim())return[];f(!0);try{const _=await(await fetch(`https://api.coingecko.com/api/v3/search?query=${encodeURIComponent(h)}`)).json();if(_.coins&&_.coins.length>0){const I=_.coins.slice(0,5),T=I.map(b=>b.id).join(","),$=await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${T}&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true&include_market_cap=true`)).json();return I.map(b=>{const B=$[b.id];return{id:b.id,symbol:b.symbol.toUpperCase(),name:b.name,price:(B==null?void 0:B.usd)||0,change24h:(B==null?void 0:B.usd_24h_change)||0,volume24h:(B==null?void 0:B.usd_24h_vol)||0,marketCap:(B==null?void 0:B.usd_market_cap)||0,image:b.large,contractAddress:b.contract_address||null}})}}catch(g){console.log("API error, using mock data:",g)}return f(!1),[]},F=async h=>{if(u(h),h.trim().length>=2){w(!0);const g=await j(h);p(g)}else p([]),w(!1);f(!1)},P=()=>{u(""),p([]),w(!1)},M=async h=>{f(!0);try{const g={symbol:h.symbol,name:h.name,price:h.price,change24h:h.change24h,volume24h:h.volume24h,marketCap:h.marketCap,holders:Math.floor(Math.random()*1e6)+1e5,riskLevel:h.change24h>10?"High":h.change24h>5?"Medium":"Low",liquidityEvents:[{type:"Recent Trade",amount:h.volume24h*.01,timestamp:"5m ago",impact:"Positive"},{type:"Volume Spike",amount:h.volume24h*.02,timestamp:"15m ago",impact:"Neutral"}],aiInsights:[{type:h.change24h>0?"Bullish":"Bearish",confidence:Math.abs(h.change24h)>10?85:65,analysis:`Price showing ${h.change24h>0?"strong upward":"downward"} momentum with ${h.volume24h>1e6?"high":"moderate"} volume.`,recommendation:h.change24h>0?"Consider long position with stop loss":"Monitor for reversal signals"}]};e(g),a(D(h.symbol,s)),u(h.symbol),p([]),w(!1),setTimeout(()=>{a(D(h.symbol,s))},100)}catch(g){console.log("Error selecting token:",g)}f(!1)},D=(h,g)=>{const _=[];let C=100,$=15*60*1e3;switch(g){case"1H":C=60,$=1*60*1e3;break;case"4H":C=240,$=1*60*1e3;break;case"1D":C=144,$=10*60*1e3;break;case"1W":C=168,$=1*60*60*1e3;break;case"1M":C=30,$=24*60*60*1e3;break}let O=98;const b=Date.now();for(let B=0;B<C;B++){const G=b-(C-B)*$,Z=(Math.random()-.5)*.05*O,ne=O,ae=O+Z,ce=Math.max(ne,ae)+Math.random()*.05*O*.5,me=Math.min(ne,ae)-Math.random()*.05*O*.5,Ie=Math.random()*1e6+5e5;_.push({timestamp:G,open:ne,high:ce,low:me,close:ae,volume:Ie}),O=ae}return _};V.useEffect(()=>{const h=R.find(g=>g.symbol==="SOL");h&&(e(h),a(D("SOL",s)))},[]),V.useEffect(()=>{t&&a(D(t.symbol,s))},[s,t]),V.useEffect(()=>{const h=setTimeout(()=>{l&&l!==(t==null?void 0:t.symbol)&&l.trim().length>=2&&F(l)},500);return()=>clearTimeout(h)},[l]);const L=h=>h>=1e9?(h/1e9).toFixed(2)+"B":h>=1e6?(h/1e6).toFixed(2)+"M":h>=1e3?(h/1e3).toFixed(2)+"K":h.toFixed(2),z=h=>{switch(h){case"Low":return"text-green-400";case"Medium":return"text-yellow-400";case"High":return"text-red-400";default:return"text-gray-400"}},H=h=>{switch(h){case"Bullish":return"text-green-400";case"Bearish":return"text-red-400";case"Neutral":return"text-blue-400";default:return"text-gray-400"}},A=({data:h})=>{const[g,_]=te.useState(1),[I,T]=te.useState(!1),[C,$]=te.useState(!1);if(!h||h.length===0)return c.jsx("div",{className:"chart-placeholder",children:"Loading chart..."});const O=800,b=400,B={top:40,right:40,bottom:60,left:60},G=O-B.left-B.right,Z=b-B.top-B.bottom,ne=h.map(re=>[re.low,re.high,re.open,re.close]).flat(),ae=Math.min(...ne)*.995,ce=Math.max(...ne)*1.005,me=re=>B.left+re/(h.length-1)*G,Ie=re=>B.top+Z-(re-ae)/(ce-ae)*Z,Ce=re=>{re.preventDefault();const ge=re.deltaY>0?.9:1.1;_(q=>Math.max(.5,Math.min(5,q*ge)))},Be=re=>re>=1e9?(re/1e9).toFixed(2)+"B":re>=1e6?(re/1e6).toFixed(2)+"M":re>=1e3?(re/1e3).toFixed(2)+"K":re.toFixed(0),Le=[...h.map(re=>re.volume)].sort((re,ge)=>ge-re),Pe=Le[Math.floor(Le.length*.2)];return c.jsxs("div",{className:"interactive-chart-container",onWheel:Ce,children:[c.jsxs("div",{className:"chart-controls",children:[c.jsxs("div",{className:"chart-control-group",children:[c.jsx("button",{className:`chart-control-btn ${I?"active":""}`,onClick:re=>{re.preventDefault(),re.stopPropagation(),T(!I)},title:"Highlight Large Buys",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),$(!0)},title:"Zoom Chart",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M15 3l6 6-6 6M9 21l-6-6 6-6"})})})]}),c.jsx("div",{className:"chart-control-divider"}),c.jsxs("div",{className:"chart-control-group",children:[c.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),_(ge=>Math.min(5,ge*1.2))},title:"Zoom In",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 4v16m8-8H4"})})}),c.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),_(ge=>Math.max(.5,ge*.8))},title:"Zoom Out",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M4 12h16"})})}),c.jsx("button",{className:"chart-control-btn",onClick:re=>{re.preventDefault(),re.stopPropagation(),_(1)},title:"Reset Zoom",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16M8 12h8"})})})]})]}),c.jsxs("svg",{width:O,height:b,className:"candlestick-chart",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]}),c.jsxs("filter",{id:"glow",children:[c.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[0,1,2,3,4,5].map(re=>c.jsx("g",{children:c.jsx("line",{x1:B.left,y1:B.top+re*Z/5,x2:O-B.right,y2:B.top+re*Z/5,stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})},`grid-h-${re}`)),[0,1,2,3,4,5,6,7,8].map(re=>c.jsx("g",{children:c.jsx("line",{x1:B.left+re*G/8,y1:B.top,x2:B.left+re*G/8,y2:b-B.bottom,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-v-${re}`)),[0,1,2,3,4,5].map(re=>{const ge=ce-re*(ce-ae)/5;return c.jsxs("text",{x:B.left-10,y:B.top+re*Z/5+4,textAnchor:"end",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:["$",ge.toFixed(2)]},`price-${re}`)}),[0,1,2,3,4,5,6,7,8].map(re=>c.jsx("text",{x:B.left+re*G/8,y:b-B.bottom+15,textAnchor:"middle",fill:"rgba(255, 255, 255, 0.6)",fontSize:"10",fontFamily:"Courier New",children:re===0?"9:30":re===8?"16:00":`${10+re}:00`},`time-${re}`)),h.map((re,ge)=>{const q=me(ge),ye=Ie(re.open),he=Ie(re.close),xe=Ie(re.high),Me=Ie(re.low),Oe=re.close>=re.open,ze=Math.abs(he-ye)||1,We=I&&re.volume>=Pe;return c.jsxs("g",{children:[c.jsx("line",{x1:q,y1:xe,x2:q,y2:Me,stroke:Oe?"#10b981":"#ef4444",strokeWidth:We?"3":"2",opacity:We?1:.9,filter:We?"url(#glow)":"none"}),c.jsx("rect",{x:q-2,y:Oe?he:ye,width:"4",height:ze,fill:Oe?"#10b981":"#ef4444",stroke:Oe?"#059669":"#dc2626",strokeWidth:We?"2":"1",opacity:We?1:.9,filter:We?"url(#glow)":"none"}),We&&c.jsxs("g",{children:[c.jsx("circle",{cx:q,cy:Ie(re.close),r:"8",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2"}),c.jsxs("text",{x:q,y:Ie(re.close)-15,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"10",fontWeight:"bold",fontFamily:"Courier New",children:["$",Be(re.volume)]})]})]},ge)})]}),C&&c.jsx("div",{className:"zoom-popup-overlay",onClick:()=>$(!1),children:c.jsxs("div",{className:"zoom-popup-content",onClick:re=>re.stopPropagation(),children:[c.jsxs("div",{className:"zoom-popup-header",children:[c.jsx("h3",{children:"Chart Zoom View"}),c.jsx("button",{className:"zoom-popup-close",onClick:()=>$(!1),children:"×"})]}),c.jsx("div",{className:"zoom-popup-chart",children:c.jsxs("svg",{width:"1200",height:"800",className:"candlestick-chart",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"volumeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0.6)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.1)"})]})}),[0,1,2,3,4,5].map(re=>c.jsx("g",{children:c.jsx("line",{x1:B.left,y1:B.top+re*Z/5,x2:1200-B.right,y2:B.top+re*Z/5,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"})},`grid-${re}`)),h.map((re,ge)=>{const q=B.left+ge/(h.length-1)*(1200-B.left-B.right),ye=B.top+Z-(re.open-ae)/(ce-ae)*Z,he=B.top+Z-(re.close-ae)/(ce-ae)*Z,xe=B.top+Z-(re.high-ae)/(ce-ae)*Z,Me=B.top+Z-(re.low-ae)/(ce-ae)*Z,Oe=re.close>=re.open,ze=Math.abs(he-ye)||1,We=I&&re.volume>=Pe;return c.jsxs("g",{children:[c.jsx("line",{x1:q,y1:xe,x2:q,y2:Me,stroke:Oe?"#10b981":"#ef4444",strokeWidth:We?"4":"3",opacity:We?1:.9,filter:We?"url(#glow)":"none"}),c.jsx("rect",{x:q-4,y:Oe?he:ye,width:"8",height:ze,fill:Oe?"#10b981":"#ef4444",stroke:Oe?"#059669":"#dc2626",strokeWidth:We?"3":"2",opacity:We?1:.9,filter:We?"url(#glow)":"none"}),We&&c.jsxs("g",{children:[c.jsx("circle",{cx:q,cy:he,r:"12",fill:"rgba(34, 197, 94, 0.2)",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"3"}),c.jsxs("text",{x:q,y:he-20,textAnchor:"middle",fill:"rgba(34, 197, 94, 1)",fontSize:"14",fontWeight:"bold",fontFamily:"Courier New",children:["$",Be(re.volume)]})]})]},ge)})]})})]})})]})};return t?c.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Cyphr Terminal"}),c.jsx("p",{className:"text-cyphr-gray",children:"Professional Trading Intelligence Platform"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"status-indicator"}),c.jsx("span",{className:"text-green-400 text-sm font-semibold bg-green-400/10 border border-green-400/30 px-2 py-1 rounded-md",children:"LIVE"})]}),c.jsxs("div",{className:"w-64",children:[c.jsxs("div",{className:"search-container",children:[c.jsx("input",{type:"text",placeholder:"Search tokens...",value:l,onChange:h=>u(h.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),200),className:"pro-search-input"}),l&&c.jsx("button",{onClick:P,className:"clear-search-btn",title:"Clear search",children:"✕"}),d&&c.jsx("div",{className:"search-spinner",children:c.jsx("div",{className:"spinner"})})]}),y&&m.length>0&&c.jsx("div",{className:"search-results",children:m.map(h=>c.jsxs("div",{className:"search-result-item",onClick:()=>M(h),children:[c.jsx("div",{className:"result-symbol",children:h.symbol}),c.jsx("div",{className:"result-name",children:h.name}),c.jsxs("div",{className:`result-change ${h.change24h>=0?"text-green-400":"text-red-400"}`,children:[h.change24h>=0?"+":"",h.change24h.toFixed(2),"%"]})]},h.id))})]})]}),c.jsxs("div",{className:"pro-terminal-content",children:[c.jsxs("div",{className:"token-info-bar",children:[c.jsxs("div",{className:"token-basic-info",children:[c.jsx("h2",{className:"token-symbol",children:t.symbol}),c.jsx("span",{className:"token-name",children:t.name})]}),c.jsxs("div",{className:"token-price-info",children:[c.jsxs("div",{className:"current-price",children:["$",t.price.toLocaleString()]}),c.jsxs("div",{className:`price-change ${t.change24h>=0?"positive":"negative"}`,children:[t.change24h>=0?"+":"",t.change24h.toFixed(2),"%"]})]}),c.jsxs("div",{className:"token-stats",children:[c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Volume 24h"}),c.jsxs("span",{className:"stat-value",children:["$",L(t.volume24h)]})]}),c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Market Cap"}),c.jsxs("span",{className:"stat-value",children:["$",L(t.marketCap)]})]}),c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Holders"}),c.jsx("span",{className:"stat-value",children:L(t.holders)})]}),c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Risk Level"}),c.jsx("span",{className:`stat-value ${z(t.riskLevel)}`,children:t.riskLevel})]})]})]}),c.jsx("div",{className:"flex rounded-2xl p-2 border border-cyphr-gray/30 premium-nav",children:["overview","chart","insights","holders","liquidity"].map(h=>c.jsx("button",{className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300 premium-nav-button ${n===h?"text-cyphr-black active":"text-cyphr-gray hover:text-cyphr-white"}`,onClick:()=>r(h),children:h.charAt(0).toUpperCase()+h.slice(1)},h))}),c.jsxs("div",{className:"pro-tab-content",children:[n==="overview"&&c.jsxs("div",{className:"overview-grid",children:[c.jsxs("div",{className:"chart-section",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"section-title",children:"Price Chart"}),c.jsx("div",{className:"flex gap-2",children:["1H","4H","1D","1W","1M"].map(h=>c.jsx("button",{className:`timeframe-btn flex-1 lg:flex-none ${s===h?"active":""}`,onClick:()=>i(h),children:h},h))})]}),c.jsx("div",{className:"chart-container",children:c.jsx(A,{data:o})})]}),c.jsxs("div",{className:"insights-section",children:[c.jsx("h3",{className:"section-title",children:"AI Insights"}),c.jsx("div",{className:"insights-list",children:t.aiInsights.map((h,g)=>c.jsxs("div",{className:"insight-card",children:[c.jsxs("div",{className:"insight-header",children:[c.jsx("span",{className:`insight-type ${H(h.type)}`,children:h.type}),c.jsxs("span",{className:"insight-confidence",children:[h.confidence,"% confidence"]})]}),c.jsx("p",{className:"insight-analysis",children:h.analysis}),c.jsx("p",{className:"insight-recommendation",children:h.recommendation})]},g))})]}),c.jsxs("div",{className:"quick-stats",children:[c.jsx("h3",{className:"section-title",children:"AI Asset Overview"}),c.jsxs("div",{className:"ai-overview-grid",children:[c.jsxs("div",{className:"ai-overview-card",children:[c.jsxs("div",{className:"ai-card-header",children:[c.jsx("div",{className:"ai-card-icon",children:"📊"}),c.jsx("div",{className:"ai-card-title",children:"Holder Distribution"})]}),c.jsxs("div",{className:"ai-card-content",children:[c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"Top 10%"}),c.jsx("span",{className:"ai-stat-value",children:"45% of supply"})]}),c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"Smart Money"}),c.jsx("span",{className:"ai-stat-value",children:"32% increase"})]})]})]}),c.jsxs("div",{className:"ai-overview-card",children:[c.jsxs("div",{className:"ai-card-header",children:[c.jsx("div",{className:"ai-card-icon",children:"💰"}),c.jsx("div",{className:"ai-card-title",children:"Smart Money Flow"})]}),c.jsxs("div",{className:"ai-card-content",children:[c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"Net Flow"}),c.jsx("span",{className:"ai-stat-value positive",children:"+$2.4M"})]}),c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"Whale Activity"}),c.jsx("span",{className:"ai-stat-value",children:"High"})]})]})]}),c.jsxs("div",{className:"ai-overview-card",children:[c.jsxs("div",{className:"ai-card-header",children:[c.jsx("div",{className:"ai-card-icon",children:"👥"}),c.jsx("div",{className:"ai-card-title",children:"Notorious Wallets"})]}),c.jsxs("div",{className:"ai-card-content",children:[c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"Tracked"}),c.jsx("span",{className:"ai-stat-value",children:"1,247 wallets"})]}),c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"Risk Level"}),c.jsx("span",{className:"ai-stat-value",children:"Medium"})]})]})]}),c.jsxs("div",{className:"ai-overview-card",children:[c.jsxs("div",{className:"ai-card-header",children:[c.jsx("div",{className:"ai-card-icon",children:"📈"}),c.jsx("div",{className:"ai-card-title",children:"Key Metrics"})]}),c.jsxs("div",{className:"ai-card-content",children:[c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"RSI"}),c.jsx("span",{className:"ai-stat-value",children:"68.5"})]}),c.jsxs("div",{className:"ai-stat",children:[c.jsx("span",{className:"ai-stat-label",children:"MACD"}),c.jsx("span",{className:"ai-stat-value positive",children:"Bullish"})]})]})]})]})]})]}),n==="chart"&&c.jsxs("div",{className:"chart-section",children:[c.jsx("h3",{className:"section-title",children:"Advanced Chart"}),c.jsx("div",{className:"chart-container",children:c.jsx(A,{data:o})})]}),n==="insights"&&c.jsxs("div",{className:"insights-section",children:[c.jsx("h3",{className:"section-title",children:"Detailed AI Insights"}),c.jsx("div",{className:"insights-list",children:t.aiInsights.map((h,g)=>c.jsxs("div",{className:"insight-card",children:[c.jsxs("div",{className:"insight-header",children:[c.jsx("span",{className:`insight-type ${H(h.type)}`,children:h.type}),c.jsxs("span",{className:"insight-confidence",children:[h.confidence,"% confidence"]})]}),c.jsx("p",{className:"insight-analysis",children:h.analysis}),c.jsx("p",{className:"insight-recommendation",children:h.recommendation})]},g))})]}),n==="holders"&&c.jsxs("div",{className:"holders-section",children:[c.jsx("h3",{className:"section-title",children:"Holder Distribution"}),c.jsxs("div",{className:"holders-content",children:[c.jsxs("div",{className:"holder-stat",children:[c.jsx("span",{className:"holder-label",children:"Total Holders"}),c.jsx("span",{className:"holder-value",children:L(t.holders)})]}),c.jsxs("div",{className:"holder-stat",children:[c.jsx("span",{className:"holder-label",children:"Average Holding"}),c.jsxs("span",{className:"holder-value",children:["$",L(t.marketCap/t.holders)]})]})]})]}),n==="liquidity"&&c.jsxs("div",{className:"liquidity-section",children:[c.jsx("h3",{className:"section-title",children:"Liquidity Events"}),c.jsx("div",{className:"liquidity-list",children:t.liquidityEvents.map((h,g)=>c.jsxs("div",{className:"liquidity-card",children:[c.jsxs("div",{className:"liquidity-header",children:[c.jsx("span",{className:"liquidity-type",children:h.type}),c.jsxs("span",{className:"liquidity-amount",children:["$",L(h.amount)]})]}),c.jsxs("div",{className:"liquidity-details",children:[c.jsx("span",{className:"liquidity-time",children:h.timestamp}),c.jsx("span",{className:`liquidity-impact ${h.impact.toLowerCase()}`,children:h.impact})]})]},g))})]})]})]})]}):c.jsx("div",{className:"pro-terminal-container",children:c.jsx("div",{className:"terminal-loading",children:c.jsxs("div",{className:"loading-content",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("h2",{children:"Loading Terminal..."}),c.jsx("p",{children:"Initializing trading intelligence platform"})]})})})};function bn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=bn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var MN={exports:{}},PN={},BN={exports:{}},LN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=V;function tB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nB=typeof Object.is=="function"?Object.is:tB,rB=ol.useState,sB=ol.useEffect,iB=ol.useLayoutEffect,oB=ol.useDebugValue;function aB(t,e){var n=e(),r=rB({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return iB(function(){s.value=n,s.getSnapshot=e,Bm(s)&&i({inst:s})},[t,n,e]),sB(function(){return Bm(s)&&i({inst:s}),t(function(){Bm(s)&&i({inst:s})})},[t]),oB(n),n}function Bm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nB(t,n)}catch{return!0}}function lB(t,e){return e()}var cB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lB:aB;LN.useSyncExternalStore=ol.useSyncExternalStore!==void 0?ol.useSyncExternalStore:cB;BN.exports=LN;var uB=BN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=V,dB=uB;function hB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fB=typeof Object.is=="function"?Object.is:hB,pB=dB.useSyncExternalStore,mB=yp.useRef,gB=yp.useEffect,yB=yp.useMemo,xB=yp.useDebugValue;PN.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=mB(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=yB(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var y=o.value;if(s(y,p))return f=y}return f=p}if(y=f,fB(d,p))return y;var w=r(p);return s!==void 0&&s(y,w)?(d=p,y):(d=p,f=w)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,s]);var a=pB(t,i[0],i[1]);return gB(function(){o.hasValue=!0,o.value=a},[a]),xB(a),a};MN.exports=PN;var wB=MN.exports;const vB=Js(wB),bB={},Tv=t=>{let e;const n=new Set,r=(d,f)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const p=e;e=f??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,p))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(bB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,l);return l},_B=t=>t?Tv(t):Tv,{useDebugValue:SB}=te,{useSyncExternalStoreWithSelector:EB}=vB,kB=t=>t;function DN(t,e=kB,n){const r=EB(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return SB(r),r}const Iv=(t,e)=>{const n=_B(t),r=(s,i=e)=>DN(n,s,i);return Object.assign(r,n),r},NB=(t,e)=>t?Iv(t,e):Iv;function dn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var RB={value:()=>{}};function xp(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xh(n)}function xh(t){this._=t}function AB(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xh.prototype=xp.prototype={constructor:xh,on:function(t,e){var n=this._,r=AB(t+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(t=r[i]).type)&&(s=TB(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(s=(t=r[i]).type)n[s]=Cv(n[s],t.name,e);else if(e==null)for(s in n)n[s]=Cv(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xh(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function TB(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function Cv(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=RB,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Sg="http://www.w3.org/1999/xhtml";const Ov={svg:"http://www.w3.org/2000/svg",xhtml:Sg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wp(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ov.hasOwnProperty(e)?{space:Ov[e],local:t}:t}function IB(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Sg&&e.documentElement.namespaceURI===Sg?e.createElement(t):e.createElementNS(n,t)}}function CB(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zN(t){var e=wp(t);return(e.local?CB:IB)(e)}function OB(){}function $x(t){return t==null?OB:function(){return this.querySelector(t)}}function jB(t){typeof t!="function"&&(t=$x(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=new Array(o),l,u,d=0;d<o;++d)(l=i[d])&&(u=t.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),a[d]=u);return new ur(r,this._parents)}function MB(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function PB(){return[]}function UN(t){return t==null?PB:function(){return this.querySelectorAll(t)}}function BB(t){return function(){return MB(t.apply(this,arguments))}}function LB(t){typeof t=="function"?t=BB(t):t=UN(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var o=e[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),s.push(l));return new ur(r,s)}function $N(t){return function(){return this.matches(t)}}function FN(t){return function(e){return e.matches(t)}}var DB=Array.prototype.find;function zB(t){return function(){return DB.call(this.children,t)}}function UB(){return this.firstElementChild}function $B(t){return this.select(t==null?UB:zB(typeof t=="function"?t:FN(t)))}var FB=Array.prototype.filter;function HB(){return Array.from(this.children)}function VB(t){return function(){return FB.call(this.children,t)}}function WB(t){return this.selectAll(t==null?HB:VB(typeof t=="function"?t:FN(t)))}function KB(t){typeof t!="function"&&(t=$N(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&a.push(l);return new ur(r,this._parents)}function HN(t){return new Array(t.length)}function GB(){return new ur(this._enter||this._groups.map(HN),this._parents)}function df(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}df.prototype={constructor:df,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qB(t){return function(){return t}}function YB(t,e,n,r,s,i){for(var o=0,a,l=e.length,u=i.length;o<u;++o)(a=e[o])?(a.__data__=i[o],r[o]=a):n[o]=new df(t,i[o]);for(;o<l;++o)(a=e[o])&&(s[o]=a)}function XB(t,e,n,r,s,i,o){var a,l,u=new Map,d=e.length,f=i.length,m=new Array(d),p;for(a=0;a<d;++a)(l=e[a])&&(m[a]=p=o.call(l,l.__data__,a,e)+"",u.has(p)?s[a]=l:u.set(p,l));for(a=0;a<f;++a)p=o.call(t,i[a],a,i)+"",(l=u.get(p))?(r[a]=l,l.__data__=i[a],u.delete(p)):n[a]=new df(t,i[a]);for(a=0;a<d;++a)(l=e[a])&&u.get(m[a])===l&&(s[a]=l)}function ZB(t){return t.__data__}function QB(t,e){if(!arguments.length)return Array.from(this,ZB);var n=e?XB:YB,r=this._parents,s=this._groups;typeof t!="function"&&(t=qB(t));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],f=s[u],m=f.length,p=JB(t.call(d,d&&d.__data__,u,r)),y=p.length,w=a[u]=new Array(y),v=o[u]=new Array(y),x=l[u]=new Array(m);n(d,f,w,v,x,p,e);for(var S=0,k=0,R,j;S<y;++S)if(R=w[S]){for(S>=k&&(k=S+1);!(j=v[k])&&++k<y;);R._next=j||null}}return o=new ur(o,r),o._enter=a,o._exit=l,o}function JB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eL(){return new ur(this._exit||this._groups.map(HN),this._parents)}function tL(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function nL(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var u=n[l],d=r[l],f=u.length,m=a[l]=new Array(f),p,y=0;y<f;++y)(p=u[y]||d[y])&&(m[y]=p);for(;l<s;++l)a[l]=n[l];return new ur(a,this._parents)}function rL(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function sL(t){t||(t=iL);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(l[d]=u);l.sort(e)}return new ur(s,this._parents).order()}function iL(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function oL(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function aL(){return Array.from(this)}function lL(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function cL(){let t=0;for(const e of this)++t;return t}function uL(){return!this.node()}function dL(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&t.call(a,a.__data__,i,s);return this}function hL(t){return function(){this.removeAttribute(t)}}function fL(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pL(t,e){return function(){this.setAttribute(t,e)}}function mL(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function gL(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yL(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xL(t,e){var n=wp(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?fL:hL:typeof e=="function"?n.local?yL:gL:n.local?mL:pL)(n,e))}function VN(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wL(t){return function(){this.style.removeProperty(t)}}function vL(t,e,n){return function(){this.style.setProperty(t,e,n)}}function bL(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _L(t,e,n){return arguments.length>1?this.each((e==null?wL:typeof e=="function"?bL:vL)(t,e,n??"")):al(this.node(),t)}function al(t,e){return t.style.getPropertyValue(e)||VN(t).getComputedStyle(t,null).getPropertyValue(e)}function SL(t){return function(){delete this[t]}}function EL(t,e){return function(){this[t]=e}}function kL(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function NL(t,e){return arguments.length>1?this.each((e==null?SL:typeof e=="function"?kL:EL)(t,e)):this.node()[t]}function WN(t){return t.trim().split(/^|\s+/)}function Fx(t){return t.classList||new KN(t)}function KN(t){this._node=t,this._names=WN(t.getAttribute("class")||"")}KN.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function GN(t,e){for(var n=Fx(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function qN(t,e){for(var n=Fx(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function RL(t){return function(){GN(this,t)}}function AL(t){return function(){qN(this,t)}}function TL(t,e){return function(){(e.apply(this,arguments)?GN:qN)(this,t)}}function IL(t,e){var n=WN(t+"");if(arguments.length<2){for(var r=Fx(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?TL:e?RL:AL)(n,e))}function CL(){this.textContent=""}function OL(t){return function(){this.textContent=t}}function jL(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ML(t){return arguments.length?this.each(t==null?CL:(typeof t=="function"?jL:OL)(t)):this.node().textContent}function PL(){this.innerHTML=""}function BL(t){return function(){this.innerHTML=t}}function LL(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function DL(t){return arguments.length?this.each(t==null?PL:(typeof t=="function"?LL:BL)(t)):this.node().innerHTML}function zL(){this.nextSibling&&this.parentNode.appendChild(this)}function UL(){return this.each(zL)}function $L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function FL(){return this.each($L)}function HL(t){var e=typeof t=="function"?t:zN(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function VL(){return null}function WL(t,e){var n=typeof t=="function"?t:zN(t),r=e==null?VL:typeof e=="function"?e:$x(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function KL(){var t=this.parentNode;t&&t.removeChild(this)}function GL(){return this.each(KL)}function qL(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function YL(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function XL(t){return this.select(t?YL:qL)}function ZL(t){return arguments.length?this.property("__data__",t):this.node().__data__}function QL(t){return function(e){t.call(this,e,this.__data__)}}function JL(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function eD(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function tD(t,e,n){return function(){var r=this.__on,s,i=QL(e);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function nD(t,e,n){var r=JL(t+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,d;l<u;++l)for(s=0,d=a[l];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?tD:eD,s=0;s<i;++s)this.each(a(r[s],e,n));return this}function YN(t,e,n){var r=VN(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function rD(t,e){return function(){return YN(this,t,e)}}function sD(t,e){return function(){return YN(this,t,e.apply(this,arguments))}}function iD(t,e){return this.each((typeof e=="function"?sD:rD)(t,e))}function*oD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var XN=[null];function ur(t,e){this._groups=t,this._parents=e}function $u(){return new ur([[document.documentElement]],XN)}function aD(){return this}ur.prototype=$u.prototype={constructor:ur,select:jB,selectAll:LB,selectChild:$B,selectChildren:WB,filter:KB,data:QB,enter:GB,exit:eL,join:tL,merge:nL,selection:aD,order:rL,sort:sL,call:oL,nodes:aL,node:lL,size:cL,empty:uL,each:dL,attr:xL,style:_L,property:NL,classed:IL,text:ML,html:DL,raise:UL,lower:FL,append:HL,insert:WL,remove:GL,clone:XL,datum:ZL,on:nD,dispatch:iD,[Symbol.iterator]:oD};function br(t){return typeof t=="string"?new ur([[document.querySelector(t)]],[document.documentElement]):new ur([[t]],XN)}function lD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Lr(t,e){if(t=lD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const cD={passive:!1},pu={capture:!0,passive:!1};function Lm(t){t.stopImmediatePropagation()}function $a(t){t.preventDefault(),t.stopImmediatePropagation()}function ZN(t){var e=t.document.documentElement,n=br(t).on("dragstart.drag",$a,pu);"onselectstart"in e?n.on("selectstart.drag",$a,pu):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function QN(t,e){var n=t.document.documentElement,r=br(t).on("dragstart.drag",null);e&&(r.on("click.drag",$a,pu),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Rd=t=>()=>t;function Eg(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Eg.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function uD(t){return!t.ctrlKey&&!t.button}function dD(){return this.parentNode}function hD(t,e){return e??{x:t.x,y:t.y}}function fD(){return navigator.maxTouchPoints||"ontouchstart"in this}function pD(){var t=uD,e=dD,n=hD,r=fD,s={},i=xp("start","drag","end"),o=0,a,l,u,d,f=0;function m(R){R.on("mousedown.drag",p).filter(r).on("touchstart.drag",v).on("touchmove.drag",x,cD).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(R,j){if(!(d||!t.call(this,R,j))){var F=k(this,e.call(this,R,j),R,j,"mouse");F&&(br(R.view).on("mousemove.drag",y,pu).on("mouseup.drag",w,pu),ZN(R.view),Lm(R),u=!1,a=R.clientX,l=R.clientY,F("start",R))}}function y(R){if($a(R),!u){var j=R.clientX-a,F=R.clientY-l;u=j*j+F*F>f}s.mouse("drag",R)}function w(R){br(R.view).on("mousemove.drag mouseup.drag",null),QN(R.view,u),$a(R),s.mouse("end",R)}function v(R,j){if(t.call(this,R,j)){var F=R.changedTouches,P=e.call(this,R,j),M=F.length,D,L;for(D=0;D<M;++D)(L=k(this,P,R,j,F[D].identifier,F[D]))&&(Lm(R),L("start",R,F[D]))}}function x(R){var j=R.changedTouches,F=j.length,P,M;for(P=0;P<F;++P)(M=s[j[P].identifier])&&($a(R),M("drag",R,j[P]))}function S(R){var j=R.changedTouches,F=j.length,P,M;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),P=0;P<F;++P)(M=s[j[P].identifier])&&(Lm(R),M("end",R,j[P]))}function k(R,j,F,P,M,D){var L=i.copy(),z=Lr(D||F,j),H,A,h;if((h=n.call(R,new Eg("beforestart",{sourceEvent:F,target:m,identifier:M,active:o,x:z[0],y:z[1],dx:0,dy:0,dispatch:L}),P))!=null)return H=h.x-z[0]||0,A=h.y-z[1]||0,function g(_,I,T){var C=z,$;switch(_){case"start":s[M]=g,$=o++;break;case"end":delete s[M],--o;case"drag":z=Lr(T||I,j),$=o;break}L.call(_,R,new Eg(_,{sourceEvent:I,subject:h,target:m,identifier:M,active:$,x:z[0]+H,y:z[1]+A,dx:z[0]-C[0],dy:z[1]-C[1],dispatch:L}),P)}}return m.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Rd(!!R),m):t},m.container=function(R){return arguments.length?(e=typeof R=="function"?R:Rd(R),m):e},m.subject=function(R){return arguments.length?(n=typeof R=="function"?R:Rd(R),m):n},m.touchable=function(R){return arguments.length?(r=typeof R=="function"?R:Rd(!!R),m):r},m.on=function(){var R=i.on.apply(i,arguments);return R===i?m:R},m.clickDistance=function(R){return arguments.length?(f=(R=+R)*R,m):Math.sqrt(f)},m}function Hx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fu(){}var mu=.7,hf=1/mu,Fa="\\s*([+-]?\\d+)\\s*",gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mD=/^#([0-9a-f]{3,8})$/,gD=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),yD=new RegExp(`^rgb\\(${gs},${gs},${gs}\\)$`),xD=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${gu}\\)$`),wD=new RegExp(`^rgba\\(${gs},${gs},${gs},${gu}\\)$`),vD=new RegExp(`^hsl\\(${gu},${gs},${gs}\\)$`),bD=new RegExp(`^hsla\\(${gu},${gs},${gs},${gu}\\)$`),jv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hx(Fu,yu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mv,formatHex:Mv,formatHex8:_D,formatHsl:SD,formatRgb:Pv,toString:Pv});function Mv(){return this.rgb().formatHex()}function _D(){return this.rgb().formatHex8()}function SD(){return eR(this).formatHsl()}function Pv(){return this.rgb().formatRgb()}function yu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Bv(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ad(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ad(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gD.exec(t))?new Zn(e[1],e[2],e[3],1):(e=yD.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xD.exec(t))?Ad(e[1],e[2],e[3],e[4]):(e=wD.exec(t))?Ad(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vD.exec(t))?zv(e[1],e[2]/100,e[3]/100,1):(e=bD.exec(t))?zv(e[1],e[2]/100,e[3]/100,e[4]):jv.hasOwnProperty(t)?Bv(jv[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function Bv(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Ad(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function ED(t){return t instanceof Fu||(t=yu(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function kg(t,e,n,r){return arguments.length===1?ED(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Hx(Zn,kg,JN(Fu,{brighter(t){return t=t==null?hf:Math.pow(hf,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mu:Math.pow(mu,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(Ao(this.r),Ao(this.g),Ao(this.b),ff(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lv,formatHex:Lv,formatHex8:kD,formatRgb:Dv,toString:Dv}));function Lv(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function kD(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dv(){const t=ff(this.opacity);return`${t===1?"rgb(":"rgba("}${Ao(this.r)}, ${Ao(this.g)}, ${Ao(this.b)}${t===1?")":`, ${t})`}`}function ff(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ao(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wo(t){return t=Ao(t),(t<16?"0":"")+t.toString(16)}function zv(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zr(t,e,n,r)}function eR(t){if(t instanceof zr)return new zr(t.h,t.s,t.l,t.opacity);if(t instanceof Fu||(t=yu(t)),!t)return new zr;if(t instanceof zr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(e===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new zr(o,a,l,t.opacity)}function ND(t,e,n,r){return arguments.length===1?eR(t):new zr(t,e,n,r??1)}function zr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Hx(zr,ND,JN(Fu,{brighter(t){return t=t==null?hf:Math.pow(hf,t),new zr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mu:Math.pow(mu,t),new zr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Zn(Dm(t>=240?t-240:t+120,s,r),Dm(t,s,r),Dm(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new zr(Uv(this.h),Td(this.s),Td(this.l),ff(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ff(this.opacity);return`${t===1?"hsl(":"hsla("}${Uv(this.h)}, ${Td(this.s)*100}%, ${Td(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Uv(t){return t=(t||0)%360,t<0?t+360:t}function Td(t){return Math.max(0,Math.min(1,t||0))}function Dm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const tR=t=>()=>t;function RD(t,e){return function(n){return t+n*e}}function AD(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function TD(t){return(t=+t)==1?nR:function(e,n){return n-e?AD(e,n,t):tR(isNaN(e)?n:e)}}function nR(t,e){var n=e-t;return n?RD(t,n):tR(isNaN(t)?e:t)}const $v=function t(e){var n=TD(e);function r(s,i){var o=n((s=kg(s)).r,(i=kg(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),u=nR(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function pi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zm=new RegExp(Ng.source,"g");function ID(t){return function(){return t}}function CD(t){return function(e){return t(e)+""}}function OD(t,e){var n=Ng.lastIndex=zm.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Ng.exec(t))&&(s=zm.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:pi(r,s)})),n=zm.lastIndex;return n<e.length&&(i=e.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?CD(l[0].x):ID(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(u);return a.join("")})}var Fv=180/Math.PI,Rg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rR(t,e,n,r,s,i){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*Fv,skewX:Math.atan(l)*Fv,scaleX:o,scaleY:a}}var Id;function jD(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Rg:rR(e.a,e.b,e.c,e.d,e.e,e.f)}function MD(t){return t==null||(Id||(Id=document.createElementNS("http://www.w3.org/2000/svg","g")),Id.setAttribute("transform",t),!(t=Id.transform.baseVal.consolidate()))?Rg:(t=t.matrix,rR(t.a,t.b,t.c,t.d,t.e,t.f))}function sR(t,e,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,f,m,p,y){if(u!==f||d!==m){var w=p.push("translate(",null,e,null,n);y.push({i:w-4,x:pi(u,f)},{i:w-2,x:pi(d,m)})}else(f||m)&&p.push("translate("+f+e+m+n)}function o(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(s(f)+"rotate(",null,r)-2,x:pi(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(u,d,f,m){u!==d?m.push({i:f.push(s(f)+"skewX(",null,r)-2,x:pi(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function l(u,d,f,m,p,y){if(u!==f||d!==m){var w=p.push(s(p)+"scale(",null,",",null,")");y.push({i:w-4,x:pi(u,f)},{i:w-2,x:pi(d,m)})}else(f!==1||m!==1)&&p.push(s(p)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=t(u),d=t(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,m),o(u.rotate,d.rotate,f,m),a(u.skewX,d.skewX,f,m),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(p){for(var y=-1,w=m.length,v;++y<w;)f[(v=m[y]).i]=v.x(p);return f.join("")}}}var PD=sR(jD,"px, ","px)","deg)"),BD=sR(MD,", ",")",")"),LD=1e-12;function Hv(t){return((t=Math.exp(t))+1/t)/2}function DD(t){return((t=Math.exp(t))-1/t)/2}function zD(t){return((t=Math.exp(2*t))-1)/(t+1)}const UD=function t(e,n,r){function s(i,o){var a=i[0],l=i[1],u=i[2],d=o[0],f=o[1],m=o[2],p=d-a,y=f-l,w=p*p+y*y,v,x;if(w<LD)x=Math.log(m/u)/e,v=function(P){return[a+P*p,l+P*y,u*Math.exp(e*P*x)]};else{var S=Math.sqrt(w),k=(m*m-u*u+r*w)/(2*u*n*S),R=(m*m-u*u-r*w)/(2*m*n*S),j=Math.log(Math.sqrt(k*k+1)-k),F=Math.log(Math.sqrt(R*R+1)-R);x=(F-j)/e,v=function(P){var M=P*x,D=Hv(j),L=u/(n*S)*(D*zD(e*M+j)-DD(j));return[a+L*p,l+L*y,u*D/Hv(e*M+j)]}}return v.duration=x*1e3*e/Math.SQRT2,v}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return t(o,a,l)},s}(Math.SQRT2,2,4);var ll=0,pc=0,Jl=0,iR=1e3,pf,mc,mf=0,zo=0,vp=0,xu=typeof performance=="object"&&performance.now?performance:Date,oR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vx(){return zo||(oR($D),zo=xu.now()+vp)}function $D(){zo=0}function gf(){this._call=this._time=this._next=null}gf.prototype=aR.prototype={constructor:gf,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Vx():+n)+(e==null?0:+e),!this._next&&mc!==this&&(mc?mc._next=this:pf=this,mc=this),this._call=t,this._time=n,Ag()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ag())}};function aR(t,e,n){var r=new gf;return r.restart(t,e,n),r}function FD(){Vx(),++ll;for(var t=pf,e;t;)(e=zo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ll}function Vv(){zo=(mf=xu.now())+vp,ll=pc=0;try{FD()}finally{ll=0,VD(),zo=0}}function HD(){var t=xu.now(),e=t-mf;e>iR&&(vp-=e,mf=t)}function VD(){for(var t,e=pf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:pf=n);mc=t,Ag(r)}function Ag(t){if(!ll){pc&&(pc=clearTimeout(pc));var e=t-zo;e>24?(t<1/0&&(pc=setTimeout(Vv,t-xu.now()-vp)),Jl&&(Jl=clearInterval(Jl))):(Jl||(mf=xu.now(),Jl=setInterval(HD,iR)),ll=1,oR(Vv))}}function Wv(t,e,n){var r=new gf;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var WD=xp("start","end","cancel","interrupt"),KD=[],lR=0,Kv=1,Tg=2,wh=3,Gv=4,Ig=5,vh=6;function bp(t,e,n,r,s,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;GD(t,n,{name:e,index:r,group:s,on:WD,tween:KD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:lR})}function Wx(t,e){var n=Xr(t,e);if(n.state>lR)throw new Error("too late; already scheduled");return n}function bs(t,e){var n=Xr(t,e);if(n.state>wh)throw new Error("too late; already running");return n}function Xr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function GD(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=aR(i,0,n.time);function i(u){n.state=Kv,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,m,p;if(n.state!==Kv)return l();for(d in r)if(p=r[d],p.name===n.name){if(p.state===wh)return Wv(o);p.state===Gv?(p.state=vh,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[d]):+d<e&&(p.state=vh,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[d])}if(Wv(function(){n.state===wh&&(n.state=Gv,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Tg,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tg){for(n.state=wh,s=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(p=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(s[++f]=p);s.length=f+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Ig,1),f=-1,m=s.length;++f<m;)s[f].call(t,d);n.state===Ig&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=vh,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function bh(t,e){var n=t.__transition,r,s,i=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}s=r.state>Tg&&r.state<Ig,r.state=vh,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function qD(t){return this.each(function(){bh(this,t)})}function YD(t,e){var n,r;return function(){var s=bs(this,t),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function XD(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=bs(this,t),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:e,value:n},l=0,u=s.length;l<u;++l)if(s[l].name===e){s[l]=a;break}l===u&&s.push(a)}i.tween=s}}function ZD(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Xr(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===t)return o.value;return null}return this.each((e==null?YD:XD)(n,t,e))}function Kx(t,e,n){var r=t._id;return t.each(function(){var s=bs(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Xr(s,r).value[e]}}function cR(t,e){var n;return(typeof e=="number"?pi:e instanceof yu?$v:(n=yu(e))?(e=n,$v):OD)(t,e)}function QD(t){return function(){this.removeAttribute(t)}}function JD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ez(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function tz(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function nz(t,e,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a)))}}function rz(t,e,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a)))}}function sz(t,e){var n=wp(t),r=n==="transform"?BD:cR;return this.attrTween(t,typeof e=="function"?(n.local?rz:nz)(n,r,Kx(this,"attr."+t,e)):e==null?(n.local?JD:QD)(n):(n.local?tz:ez)(n,r,e))}function iz(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function oz(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function az(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&oz(t,i)),n}return s._value=e,s}function lz(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&iz(t,i)),n}return s._value=e,s}function cz(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wp(t);return this.tween(n,(r.local?az:lz)(r,e))}function uz(t,e){return function(){Wx(this,t).delay=+e.apply(this,arguments)}}function dz(t,e){return e=+e,function(){Wx(this,t).delay=e}}function hz(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uz:dz)(e,t)):Xr(this.node(),e).delay}function fz(t,e){return function(){bs(this,t).duration=+e.apply(this,arguments)}}function pz(t,e){return e=+e,function(){bs(this,t).duration=e}}function mz(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fz:pz)(e,t)):Xr(this.node(),e).duration}function gz(t,e){if(typeof e!="function")throw new Error;return function(){bs(this,t).ease=e}}function yz(t){var e=this._id;return arguments.length?this.each(gz(e,t)):Xr(this.node(),e).ease}function xz(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;bs(this,t).ease=n}}function wz(t){if(typeof t!="function")throw new Error;return this.each(xz(this._id,t))}function vz(t){typeof t!="function"&&(t=$N(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&a.push(l);return new Ys(r,this._parents,this._name,this._id)}function bz(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=e[a],u=n[a],d=l.length,f=o[a]=new Array(d),m,p=0;p<d;++p)(m=l[p]||u[p])&&(f[p]=m);for(;a<r;++a)o[a]=e[a];return new Ys(o,this._parents,this._name,this._id)}function _z(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Sz(t,e,n){var r,s,i=_z(e)?Wx:bs;return function(){var o=i(this,t),a=o.on;a!==r&&(s=(r=a).copy()).on(e,n),o.on=s}}function Ez(t,e){var n=this._id;return arguments.length<2?Xr(this.node(),n).on.on(t):this.each(Sz(n,t,e))}function kz(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Nz(){return this.on("end.remove",kz(this._id))}function Rz(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$x(t));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,u=i[o]=new Array(l),d,f,m=0;m<l;++m)(d=a[m])&&(f=t.call(d,d.__data__,m,a))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,bp(u[m],e,n,m,u,Xr(d,n)));return new Ys(i,this._parents,e,n)}function Az(t){var e=this._name,n=this._id;typeof t!="function"&&(t=UN(t));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],u=l.length,d,f=0;f<u;++f)if(d=l[f]){for(var m=t.call(d,d.__data__,f,l),p,y=Xr(d,n),w=0,v=m.length;w<v;++w)(p=m[w])&&bp(p,e,n,w,m,y);i.push(m),o.push(d)}return new Ys(i,o,e,n)}var Tz=$u.prototype.constructor;function Iz(){return new Tz(this._groups,this._parents)}function Cz(t,e){var n,r,s;return function(){var i=al(this,t),o=(this.style.removeProperty(t),al(this,t));return i===o?null:i===n&&o===r?s:s=e(n=i,r=o)}}function uR(t){return function(){this.style.removeProperty(t)}}function Oz(t,e,n){var r,s=n+"",i;return function(){var o=al(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}function jz(t,e,n){var r,s,i;return function(){var o=al(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),al(this,t))),o===l?null:o===r&&l===s?i:(s=l,i=e(r=o,a))}}function Mz(t,e){var n,r,s,i="style."+e,o="end."+i,a;return function(){var l=bs(this,t),u=l.on,d=l.value[i]==null?a||(a=uR(e)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),l.on=r}}function Pz(t,e,n){var r=(t+="")=="transform"?PD:cR;return e==null?this.styleTween(t,Cz(t,r)).on("end.style."+t,uR(t)):typeof e=="function"?this.styleTween(t,jz(t,r,Kx(this,"style."+t,e))).each(Mz(this._id,t)):this.styleTween(t,Oz(t,r,e),n).on("end.style."+t,null)}function Bz(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Lz(t,e,n){var r,s;function i(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&Bz(t,o,n)),r}return i._value=e,i}function Dz(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Lz(t,e,n??""))}function zz(t){return function(){this.textContent=t}}function Uz(t){return function(){var e=t(this);this.textContent=e??""}}function $z(t){return this.tween("text",typeof t=="function"?Uz(Kx(this,"text",t)):zz(t==null?"":t+""))}function Fz(t){return function(e){this.textContent=t.call(this,e)}}function Hz(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&Fz(s)),e}return r._value=t,r}function Vz(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Hz(t))}function Wz(){for(var t=this._name,e=this._id,n=dR(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var d=Xr(l,e);bp(l,t,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ys(r,this._parents,t,n)}function Kz(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var u=bs(this,r),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),s===0&&i()})}var Gz=0;function Ys(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function dR(){return++Gz}var ks=$u.prototype;Ys.prototype={constructor:Ys,select:Rz,selectAll:Az,selectChild:ks.selectChild,selectChildren:ks.selectChildren,filter:vz,merge:bz,selection:Iz,transition:Wz,call:ks.call,nodes:ks.nodes,node:ks.node,size:ks.size,empty:ks.empty,each:ks.each,on:Ez,attr:sz,attrTween:cz,style:Pz,styleTween:Dz,text:$z,textTween:Vz,remove:Nz,tween:ZD,delay:hz,duration:mz,ease:yz,easeVarying:wz,end:Kz,[Symbol.iterator]:ks[Symbol.iterator]};function qz(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Yz={time:null,delay:0,duration:250,ease:qz};function Xz(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Zz(t){var e,n;t instanceof Ys?(e=t._id,t=t._name):(e=dR(),(n=Yz).time=Vx(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&bp(l,t,e,u,o,n||Xz(l,e));return new Ys(r,this._parents,t,e)}$u.prototype.interrupt=qD;$u.prototype.transition=Zz;const Cd=t=>()=>t;function Qz(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Fs(t,e,n){this.k=t,this.x=e,this.y=n}Fs.prototype={constructor:Fs,scale:function(t){return t===1?this:new Fs(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Fs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vs=new Fs(1,0,0);Fs.prototype;function Um(t){t.stopImmediatePropagation()}function ec(t){t.preventDefault(),t.stopImmediatePropagation()}function Jz(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function eU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function qv(){return this.__zoom||Vs}function tU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nU(){return navigator.maxTouchPoints||"ontouchstart"in this}function rU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function hR(){var t=Jz,e=eU,n=rU,r=tU,s=nU,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=UD,u=xp("start","zoom","end"),d,f,m,p=500,y=150,w=0,v=10;function x(h){h.property("__zoom",qv).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",L).filter(s).on("touchstart.zoom",z).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(h,g,_,I){var T=h.selection?h.selection():h;T.property("__zoom",qv),h!==T?j(h,g,_,I):T.interrupt().each(function(){F(this,arguments).event(I).start().zoom(null,typeof g=="function"?g.apply(this,arguments):g).end()})},x.scaleBy=function(h,g,_,I){x.scaleTo(h,function(){var T=this.__zoom.k,C=typeof g=="function"?g.apply(this,arguments):g;return T*C},_,I)},x.scaleTo=function(h,g,_,I){x.transform(h,function(){var T=e.apply(this,arguments),C=this.__zoom,$=_==null?R(T):typeof _=="function"?_.apply(this,arguments):_,O=C.invert($),b=typeof g=="function"?g.apply(this,arguments):g;return n(k(S(C,b),$,O),T,o)},_,I)},x.translateBy=function(h,g,_,I){x.transform(h,function(){return n(this.__zoom.translate(typeof g=="function"?g.apply(this,arguments):g,typeof _=="function"?_.apply(this,arguments):_),e.apply(this,arguments),o)},null,I)},x.translateTo=function(h,g,_,I,T){x.transform(h,function(){var C=e.apply(this,arguments),$=this.__zoom,O=I==null?R(C):typeof I=="function"?I.apply(this,arguments):I;return n(Vs.translate(O[0],O[1]).scale($.k).translate(typeof g=="function"?-g.apply(this,arguments):-g,typeof _=="function"?-_.apply(this,arguments):-_),C,o)},I,T)};function S(h,g){return g=Math.max(i[0],Math.min(i[1],g)),g===h.k?h:new Fs(g,h.x,h.y)}function k(h,g,_){var I=g[0]-_[0]*h.k,T=g[1]-_[1]*h.k;return I===h.x&&T===h.y?h:new Fs(h.k,I,T)}function R(h){return[(+h[0][0]+ +h[1][0])/2,(+h[0][1]+ +h[1][1])/2]}function j(h,g,_,I){h.on("start.zoom",function(){F(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(I).end()}).tween("zoom",function(){var T=this,C=arguments,$=F(T,C).event(I),O=e.apply(T,C),b=_==null?R(O):typeof _=="function"?_.apply(T,C):_,B=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),G=T.__zoom,Z=typeof g=="function"?g.apply(T,C):g,ne=l(G.invert(b).concat(B/G.k),Z.invert(b).concat(B/Z.k));return function(ae){if(ae===1)ae=Z;else{var ce=ne(ae),me=B/ce[2];ae=new Fs(me,b[0]-ce[0]*me,b[1]-ce[1]*me)}$.zoom(null,ae)}})}function F(h,g,_){return!_&&h.__zooming||new P(h,g)}function P(h,g){this.that=h,this.args=g,this.active=0,this.sourceEvent=null,this.extent=e.apply(h,g),this.taps=0}P.prototype={event:function(h){return h&&(this.sourceEvent=h),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(h,g){return this.mouse&&h!=="mouse"&&(this.mouse[1]=g.invert(this.mouse[0])),this.touch0&&h!=="touch"&&(this.touch0[1]=g.invert(this.touch0[0])),this.touch1&&h!=="touch"&&(this.touch1[1]=g.invert(this.touch1[0])),this.that.__zoom=g,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(h){var g=br(this.that).datum();u.call(h,this.that,new Qz(h,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),g)}};function M(h,...g){if(!t.apply(this,arguments))return;var _=F(this,g).event(h),I=this.__zoom,T=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),C=Lr(h);if(_.wheel)(_.mouse[0][0]!==C[0]||_.mouse[0][1]!==C[1])&&(_.mouse[1]=I.invert(_.mouse[0]=C)),clearTimeout(_.wheel);else{if(I.k===T)return;_.mouse=[C,I.invert(C)],bh(this),_.start()}ec(h),_.wheel=setTimeout($,y),_.zoom("mouse",n(k(S(I,T),_.mouse[0],_.mouse[1]),_.extent,o));function $(){_.wheel=null,_.end()}}function D(h,...g){if(m||!t.apply(this,arguments))return;var _=h.currentTarget,I=F(this,g,!0).event(h),T=br(h.view).on("mousemove.zoom",b,!0).on("mouseup.zoom",B,!0),C=Lr(h,_),$=h.clientX,O=h.clientY;ZN(h.view),Um(h),I.mouse=[C,this.__zoom.invert(C)],bh(this),I.start();function b(G){if(ec(G),!I.moved){var Z=G.clientX-$,ne=G.clientY-O;I.moved=Z*Z+ne*ne>w}I.event(G).zoom("mouse",n(k(I.that.__zoom,I.mouse[0]=Lr(G,_),I.mouse[1]),I.extent,o))}function B(G){T.on("mousemove.zoom mouseup.zoom",null),QN(G.view,I.moved),ec(G),I.event(G).end()}}function L(h,...g){if(t.apply(this,arguments)){var _=this.__zoom,I=Lr(h.changedTouches?h.changedTouches[0]:h,this),T=_.invert(I),C=_.k*(h.shiftKey?.5:2),$=n(k(S(_,C),I,T),e.apply(this,g),o);ec(h),a>0?br(this).transition().duration(a).call(j,$,I,h):br(this).call(x.transform,$,I,h)}}function z(h,...g){if(t.apply(this,arguments)){var _=h.touches,I=_.length,T=F(this,g,h.changedTouches.length===I).event(h),C,$,O,b;for(Um(h),$=0;$<I;++$)O=_[$],b=Lr(O,this),b=[b,this.__zoom.invert(b),O.identifier],T.touch0?!T.touch1&&T.touch0[2]!==b[2]&&(T.touch1=b,T.taps=0):(T.touch0=b,C=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),C&&(T.taps<2&&(f=b[0],d=setTimeout(function(){d=null},p)),bh(this),T.start())}}function H(h,...g){if(this.__zooming){var _=F(this,g).event(h),I=h.changedTouches,T=I.length,C,$,O,b;for(ec(h),C=0;C<T;++C)$=I[C],O=Lr($,this),_.touch0&&_.touch0[2]===$.identifier?_.touch0[0]=O:_.touch1&&_.touch1[2]===$.identifier&&(_.touch1[0]=O);if($=_.that.__zoom,_.touch1){var B=_.touch0[0],G=_.touch0[1],Z=_.touch1[0],ne=_.touch1[1],ae=(ae=Z[0]-B[0])*ae+(ae=Z[1]-B[1])*ae,ce=(ce=ne[0]-G[0])*ce+(ce=ne[1]-G[1])*ce;$=S($,Math.sqrt(ae/ce)),O=[(B[0]+Z[0])/2,(B[1]+Z[1])/2],b=[(G[0]+ne[0])/2,(G[1]+ne[1])/2]}else if(_.touch0)O=_.touch0[0],b=_.touch0[1];else return;_.zoom("touch",n(k($,O,b),_.extent,o))}}function A(h,...g){if(this.__zooming){var _=F(this,g).event(h),I=h.changedTouches,T=I.length,C,$;for(Um(h),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),C=0;C<T;++C)$=I[C],_.touch0&&_.touch0[2]===$.identifier?delete _.touch0:_.touch1&&_.touch1[2]===$.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&($=Lr($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<v)){var O=br(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return x.wheelDelta=function(h){return arguments.length?(r=typeof h=="function"?h:Cd(+h),x):r},x.filter=function(h){return arguments.length?(t=typeof h=="function"?h:Cd(!!h),x):t},x.touchable=function(h){return arguments.length?(s=typeof h=="function"?h:Cd(!!h),x):s},x.extent=function(h){return arguments.length?(e=typeof h=="function"?h:Cd([[+h[0][0],+h[0][1]],[+h[1][0],+h[1][1]]]),x):e},x.scaleExtent=function(h){return arguments.length?(i[0]=+h[0],i[1]=+h[1],x):[i[0],i[1]]},x.translateExtent=function(h){return arguments.length?(o[0][0]=+h[0][0],o[1][0]=+h[1][0],o[0][1]=+h[0][1],o[1][1]=+h[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(h){return arguments.length?(n=h,x):n},x.duration=function(h){return arguments.length?(a=+h,x):a},x.interpolate=function(h){return arguments.length?(l=h,x):l},x.on=function(){var h=u.on.apply(u,arguments);return h===u?x:h},x.clickDistance=function(h){return arguments.length?(w=(h=+h)*h,x):Math.sqrt(w)},x.tapDistance=function(h){return arguments.length?(v=+h,x):v},x}const _p=V.createContext(null),sU=_p.Provider,Xs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},fR=Xs.error001();function gt(t,e){const n=V.useContext(_p);if(n===null)throw new Error(fR);return DN(n,t,e)}const on=()=>{const t=V.useContext(_p);if(t===null)throw new Error(fR);return V.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},iU=t=>t.userSelectionActive?"none":"all";function Gx({position:t,children:e,className:n,style:r,...s}){const i=gt(iU),o=`${t}`.split("-");return te.createElement("div",{className:bn(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},e)}function oU({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:te.createElement(Gx,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},te.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const aU=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...d})=>{const f=V.useRef(null),[m,p]=V.useState({x:0,y:0,width:0,height:0}),y=bn(["react-flow__edge-textwrapper",u]);return V.useEffect(()=>{if(f.current){const w=f.current.getBBox();p({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:te.createElement("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...d},s&&te.createElement("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),te.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:r},n),l)};var lU=V.memo(aU);const qx=t=>({width:t.offsetWidth,height:t.offsetHeight}),cl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Yx=(t={x:0,y:0},e)=>({x:cl(t.x,e[0][0],e[1][0]),y:cl(t.y,e[0][1],e[1][1])}),Yv=(t,e,n)=>t<e?cl(Math.abs(t-e),1,50)/50:t>n?-cl(Math.abs(t-n),1,50)/50:0,pR=(t,e)=>{const n=Yv(t.x,35,e.width-35)*20,r=Yv(t.y,35,e.height-35)*20;return[n,r]},mR=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},gR=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),wu=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),yR=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Xv=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),cU=(t,e)=>yR(gR(wu(t),wu(e))),Cg=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},uU=t=>Sr(t.width)&&Sr(t.height)&&Sr(t.x)&&Sr(t.y),Sr=t=>!isNaN(t)&&isFinite(t),Gt=Symbol.for("internals"),xR=["Enter"," ","Escape"],dU=(t,e)=>{},hU=t=>"nativeEvent"in t;function Og(t){var s,i;const e=hU(t)?t.nativeEvent:t,n=((i=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:i[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const wR=t=>"clientX"in t,Di=(t,e)=>{var i,o;const n=wR(t),r=n?t.clientX:(i=t.touches)==null?void 0:i[0].clientX,s=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},yf=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Hu=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:p=20})=>te.createElement(te.Fragment,null,te.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),p&&te.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&Sr(n)&&Sr(r)?te.createElement(lU,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Hu.displayName="BaseEdge";function tc(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(i=>i.id===t);s&&n(r,{...s})}}function vR({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,i=n<t?n+s:n-s,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[i,a,s,o]}function bR({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=t*.125+s*.375+o*.375+n*.125,u=e*.125+i*.375+a*.375+r*.125,d=Math.abs(l-t),f=Math.abs(u-e);return[l,u,d,f]}var Uo;(function(t){t.Strict="strict",t.Loose="loose"})(Uo||(Uo={}));var vo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(vo||(vo={}));var vu;(function(t){t.Partial="partial",t.Full="full"})(vu||(vu={}));var wi;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(wi||(wi={}));var xf;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(xf||(xf={}));var Ne;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ne||(Ne={}));function Zv({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===Ne.Left||t===Ne.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function _R({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top}){const[o,a]=Zv({pos:n,x1:t,y1:e,x2:r,y2:s}),[l,u]=Zv({pos:i,x1:r,y1:s,x2:t,y2:e}),[d,f,m,p]=bR({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${o},${a} ${l},${u} ${r},${s}`,d,f,m,p]}const Xx=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ne.Bottom,targetPosition:i=Ne.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:y,interactionWidth:w})=>{const[v,x,S]=_R({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return te.createElement(Hu,{path:v,labelX:x,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:y,interactionWidth:w})});Xx.displayName="SimpleBezierEdge";const Qv={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}},fU=({source:t,sourcePosition:e=Ne.Bottom,target:n})=>e===Ne.Left||e===Ne.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Jv=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function pU({source:t,sourcePosition:e=Ne.Bottom,target:n,targetPosition:r=Ne.Top,center:s,offset:i}){const o=Qv[e],a=Qv[r],l={x:t.x+o.x*i,y:t.y+o.y*i},u={x:n.x+a.x*i,y:n.y+a.y*i},d=fU({source:l,sourcePosition:e,target:u}),f=d.x!==0?"x":"y",m=d[f];let p=[],y,w;const v={x:0,y:0},x={x:0,y:0},[S,k,R,j]=vR({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[f]*a[f]===-1){y=s.x??S,w=s.y??k;const P=[{x:y,y:l.y},{x:y,y:u.y}],M=[{x:l.x,y:w},{x:u.x,y:w}];o[f]===m?p=f==="x"?P:M:p=f==="x"?M:P}else{const P=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(f==="x"?p=o.x===m?M:P:p=o.y===m?P:M,e===r){const A=Math.abs(t[f]-n[f]);if(A<=i){const h=Math.min(i-1,i-A);o[f]===m?v[f]=(l[f]>t[f]?-1:1)*h:x[f]=(u[f]>n[f]?-1:1)*h}}if(e!==r){const A=f==="x"?"y":"x",h=o[f]===a[A],g=l[A]>u[A],_=l[A]<u[A];(o[f]===1&&(!h&&g||h&&_)||o[f]!==1&&(!h&&_||h&&g))&&(p=f==="x"?P:M)}const D={x:l.x+v.x,y:l.y+v.y},L={x:u.x+x.x,y:u.y+x.y},z=Math.max(Math.abs(D.x-p[0].x),Math.abs(L.x-p[0].x)),H=Math.max(Math.abs(D.y-p[0].y),Math.abs(L.y-p[0].y));z>=H?(y=(D.x+L.x)/2,w=p[0].y):(y=p[0].x,w=(D.y+L.y)/2)}return[[t,{x:l.x+v.x,y:l.y+v.y},...p,{x:u.x+x.x,y:u.y+x.y},n],y,w,R,j]}function mU(t,e,n,r){const s=Math.min(Jv(t,e)/2,Jv(e,n)/2,r),{x:i,y:o}=e;if(t.x===i&&i===n.x||t.y===o&&o===n.y)return`L${i} ${o}`;if(t.y===o){const u=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function jg({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[d,f,m,p,y]=pU({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:u});return[d.reduce((v,x,S)=>{let k="";return S>0&&S<d.length-1?k=mU(d[S-1],x,d[S+1],o):k=`${S===0?"M":"L"}${x.x} ${x.y}`,v+=k,v},""),f,m,p,y]}const Sp=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:f=Ne.Bottom,targetPosition:m=Ne.Top,markerEnd:p,markerStart:y,pathOptions:w,interactionWidth:v})=>{const[x,S,k]=jg({sourceX:t,sourceY:e,sourcePosition:f,targetX:n,targetY:r,targetPosition:m,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return te.createElement(Hu,{path:x,labelX:S,labelY:k,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:y,interactionWidth:v})});Sp.displayName="SmoothStepEdge";const Zx=V.memo(t=>{var e;return te.createElement(Sp,{...t,pathOptions:V.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});Zx.displayName="StepEdge";function gU({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,i,o,a]=vR({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,i,o,a]}const Qx=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:p})=>{const[y,w,v]=gU({sourceX:t,sourceY:e,targetX:n,targetY:r});return te.createElement(Hu,{path:y,labelX:w,labelY:v,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:p})});Qx.displayName="StraightEdge";function Od(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function eb({pos:t,x1:e,y1:n,x2:r,y2:s,c:i}){switch(t){case Ne.Left:return[e-Od(e-r,i),n];case Ne.Right:return[e+Od(r-e,i),n];case Ne.Top:return[e,n-Od(n-s,i)];case Ne.Bottom:return[e,n+Od(s-n,i)]}}function SR({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top,curvature:o=.25}){const[a,l]=eb({pos:n,x1:t,y1:e,x2:r,y2:s,c:o}),[u,d]=eb({pos:i,x1:r,y1:s,x2:t,y2:e,c:o}),[f,m,p,y]=bR({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${e} C${a},${l} ${u},${d} ${r},${s}`,f,m,p,y]}const wf=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ne.Bottom,targetPosition:i=Ne.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:y,pathOptions:w,interactionWidth:v})=>{const[x,S,k]=SR({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:w==null?void 0:w.curvature});return te.createElement(Hu,{path:x,labelX:S,labelY:k,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:y,interactionWidth:v})});wf.displayName="BezierEdge";const Jx=V.createContext(null),yU=Jx.Provider;Jx.Consumer;const xU=()=>V.useContext(Jx),wU=t=>"id"in t&&"source"in t&&"target"in t,vU=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,Mg=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,bU=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),ER=(t,e)=>{if(!t.source||!t.target)return e;let n;return wU(t)?n={...t}:n={...t,id:vU(t)},bU(n,e)?e:e.concat(n)},Pg=({x:t,y:e},[n,r,s],i,[o,a])=>{const l={x:(t-n)/s,y:(e-r)/s};return i?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},kR=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),To=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},Ep=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:i,y:o}=To(s,e).positionAbsolute;return gR(r,wu({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return yR(n)},NR=(t,e,[n,r,s]=[0,0,1],i=!1,o=!1,a=[0,0])=>{const l={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},u=[];return t.forEach(d=>{const{width:f,height:m,selectable:p=!0,hidden:y=!1}=d;if(o&&!p||y)return!1;const{positionAbsolute:w}=To(d,a),v={x:w.x,y:w.y,width:f||0,height:m||0},x=Cg(l,v),S=typeof f>"u"||typeof m>"u"||f===null||m===null,k=i&&x>0,R=(f||0)*(m||0);(S||k||x>=R||d.dragging)&&u.push(d)}),u},RR=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},AR=(t,e,n,r,s,i=.1)=>{const o=e/(t.width*(1+i)),a=n/(t.height*(1+i)),l=Math.min(o,a),u=cl(l,r,s),d=t.x+t.width/2,f=t.y+t.height/2,m=e/2-d*u,p=n/2-f*u;return{x:m,y:p,zoom:u}},oo=(t,e=0)=>t.transition().duration(e);function tb(t,e,n,r){return(e[n]||[]).reduce((s,i)=>{var o,a;return`${t.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((a=t.positionAbsolute)==null?void 0:a.y)??0)+i.y+i.height/2}),s},[])}function _U(t,e,n,r,s,i){const{x:o,y:a}=Di(t),u=e.elementsFromPoint(o,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const w=e1(void 0,u),v=u.getAttribute("data-handleid"),x=i({nodeId:y,id:v,type:w});if(x){const S=s.find(k=>k.nodeId===y&&k.type===w&&k.id===v);return{handle:{id:v,type:w,nodeId:y,x:(S==null?void 0:S.x)||n.x,y:(S==null?void 0:S.y)||n.y},validHandleResult:x}}}}let d=[],f=1/0;if(s.forEach(y=>{const w=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(w<=r){const v=i(y);w<=f&&(w<f?d=[{handle:y,validHandleResult:v}]:w===f&&d.push({handle:y,validHandleResult:v}),f=w)}}),!d.length)return{handle:null,validHandleResult:TR()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:y})=>y.isValid),p=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:w})=>p?y.type==="target":m?w.isValid:!0)||d[0]}const SU={source:null,target:null,sourceHandle:null,targetHandle:null},TR=()=>({handleDomNode:null,isValid:!1,connection:SU,endHandle:null});function IR(t,e,n,r,s,i,o){const a=s==="target",l=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),u={...TR(),handleDomNode:l};if(l){const d=e1(void 0,l),f=l.getAttribute("data-nodeid"),m=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),w={source:a?f:n,sourceHandle:a?m:r,target:a?n:f,targetHandle:a?r:m};u.connection=w,p&&y&&(e===Uo.Strict?a&&d==="source"||!a&&d==="target":f!==n||m!==r)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=i(w))}return u}function EU({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,i)=>{if(i[Gt]){const{handleBounds:o}=i[Gt];let a=[],l=[];o&&(a=tb(i,o,"source",`${e}-${n}-${r}`),l=tb(i,o,"target",`${e}-${n}-${r}`)),s.push(...a,...l)}return s},[])}function e1(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function $m(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function kU(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function CR({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const d=mR(t.target),{connectionMode:f,domNode:m,autoPanOnConnect:p,connectionRadius:y,onConnectStart:w,panBy:v,getNodes:x,cancelConnection:S}=i();let k=0,R;const{x:j,y:F}=Di(t),P=d==null?void 0:d.elementFromPoint(j,F),M=e1(l,P),D=m==null?void 0:m.getBoundingClientRect();if(!D||!M)return;let L,z=Di(t,D),H=!1,A=null,h=!1,g=null;const _=EU({nodes:x(),nodeId:n,handleId:e,handleType:M}),I=()=>{if(!p)return;const[$,O]=pR(z,D);v({x:$,y:O}),k=requestAnimationFrame(I)};o({connectionPosition:z,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:M,connectionStartHandle:{nodeId:n,handleId:e,type:M},connectionEndHandle:null}),w==null||w(t,{nodeId:n,handleId:e,handleType:M});function T($){const{transform:O}=i();z=Di($,D);const{handle:b,validHandleResult:B}=_U($,d,Pg(z,O,!1,[1,1]),y,_,G=>IR(G,f,n,e,s?"target":"source",a,d));if(R=b,H||(I(),H=!0),g=B.handleDomNode,A=B.connection,h=B.isValid,o({connectionPosition:R&&h?kR({x:R.x,y:R.y},O):z,connectionStatus:kU(!!R,h),connectionEndHandle:B.endHandle}),!R&&!h&&!g)return $m(L);A.source!==A.target&&g&&($m(L),L=g,g.classList.add("connecting","react-flow__handle-connecting"),g.classList.toggle("valid",h),g.classList.toggle("react-flow__handle-valid",h))}function C($){var O,b;(R||g)&&A&&h&&(r==null||r(A)),(b=(O=i()).onConnectEnd)==null||b.call(O,$),l&&(u==null||u($)),$m(L),S(),cancelAnimationFrame(k),H=!1,h=!1,A=null,g=null,d.removeEventListener("mousemove",T),d.removeEventListener("mouseup",C),d.removeEventListener("touchmove",T),d.removeEventListener("touchend",C)}d.addEventListener("mousemove",T),d.addEventListener("mouseup",C),d.addEventListener("touchmove",T),d.addEventListener("touchend",C)}const nb=()=>!0,NU=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),RU=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n}},OR=V.forwardRef(({type:t="source",position:e=Ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:d,onTouchStart:f,...m},p)=>{var D,L;const y=o||null,w=t==="target",v=on(),x=xU(),{connectOnClick:S,noPanClassName:k}=gt(NU,dn),{connecting:R,clickConnecting:j}=gt(RU(x,y,t),dn);x||(L=(D=v.getState()).onError)==null||L.call(D,"010",Xs.error010());const F=z=>{const{defaultEdgeOptions:H,onConnect:A,hasDefaultEdges:h}=v.getState(),g={...H,...z};if(h){const{edges:_,setEdges:I}=v.getState();I(ER(g,_))}A==null||A(g),a==null||a(g)},P=z=>{if(!x)return;const H=wR(z);s&&(H&&z.button===0||!H)&&CR({event:z,handleId:y,nodeId:x,onConnect:F,isTarget:w,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||nb}),H?d==null||d(z):f==null||f(z)},M=z=>{const{onClickConnectStart:H,onClickConnectEnd:A,connectionClickStartHandle:h,connectionMode:g,isValidConnection:_}=v.getState();if(!x||!h&&!s)return;if(!h){H==null||H(z,{nodeId:x,handleId:y,handleType:t}),v.setState({connectionClickStartHandle:{nodeId:x,type:t,handleId:y}});return}const I=mR(z.target),T=n||_||nb,{connection:C,isValid:$}=IR({nodeId:x,id:y,type:t},g,h.nodeId,h.handleId||null,h.type,T,I);$&&F(C),A==null||A(z),v.setState({connectionClickStartHandle:null})};return te.createElement("div",{"data-handleid":y,"data-nodeid":x,"data-handlepos":e,"data-id":`${x}-${y}-${t}`,className:bn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",k,u,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,connecting:j,connectionindicator:r&&(s&&!R||i&&R)}]),onMouseDown:P,onTouchStart:P,onClick:S?M:void 0,ref:p,...m},l)});OR.displayName="Handle";var Wi=V.memo(OR);const jR=({data:t,isConnectable:e,targetPosition:n=Ne.Top,sourcePosition:r=Ne.Bottom})=>te.createElement(te.Fragment,null,te.createElement(Wi,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,te.createElement(Wi,{type:"source",position:r,isConnectable:e}));jR.displayName="DefaultNode";var Bg=V.memo(jR);const MR=({data:t,isConnectable:e,sourcePosition:n=Ne.Bottom})=>te.createElement(te.Fragment,null,t==null?void 0:t.label,te.createElement(Wi,{type:"source",position:n,isConnectable:e}));MR.displayName="InputNode";var PR=V.memo(MR);const BR=({data:t,isConnectable:e,targetPosition:n=Ne.Top})=>te.createElement(te.Fragment,null,te.createElement(Wi,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);BR.displayName="OutputNode";var LR=V.memo(BR);const t1=()=>null;t1.displayName="GroupNode";const AU=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),jd=t=>t.id;function TU(t,e){return dn(t.selectedNodes.map(jd),e.selectedNodes.map(jd))&&dn(t.selectedEdges.map(jd),e.selectedEdges.map(jd))}const DR=V.memo(({onSelectionChange:t})=>{const e=on(),{selectedNodes:n,selectedEdges:r}=gt(AU,TU);return V.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(i=>i(s))},[n,r,t]),null});DR.displayName="SelectionListener";const IU=t=>!!t.onSelectionChange;function CU({onSelectionChange:t}){const e=gt(IU);return t||e?te.createElement(DR,{onSelectionChange:t}):null}const OU=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function aa(t,e){V.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Ve(t,e,n){V.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const jU=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:w,maxZoom:v,nodeExtent:x,onNodesChange:S,onEdgesChange:k,elementsSelectable:R,connectionMode:j,snapGrid:F,snapToGrid:P,translateExtent:M,connectOnClick:D,defaultEdgeOptions:L,fitView:z,fitViewOptions:H,onNodesDelete:A,onEdgesDelete:h,onNodeDrag:g,onNodeDragStart:_,onNodeDragStop:I,onSelectionDrag:T,onSelectionDragStart:C,onSelectionDragStop:$,noPanClassName:O,nodeOrigin:b,rfId:B,autoPanOnConnect:G,autoPanOnNodeDrag:Z,onError:ne,connectionRadius:ae,isValidConnection:ce,nodeDragThreshold:me})=>{const{setNodes:Ie,setEdges:Ce,setDefaultNodesAndEdges:Be,setMinZoom:ut,setMaxZoom:Le,setTranslateExtent:Pe,setNodeExtent:re,reset:ge}=gt(OU,dn),q=on();return V.useEffect(()=>{const ye=r==null?void 0:r.map(he=>({...he,...L}));return Be(n,ye),()=>{ge()}},[]),Ve("defaultEdgeOptions",L,q.setState),Ve("connectionMode",j,q.setState),Ve("onConnect",s,q.setState),Ve("onConnectStart",i,q.setState),Ve("onConnectEnd",o,q.setState),Ve("onClickConnectStart",a,q.setState),Ve("onClickConnectEnd",l,q.setState),Ve("nodesDraggable",u,q.setState),Ve("nodesConnectable",d,q.setState),Ve("nodesFocusable",f,q.setState),Ve("edgesFocusable",m,q.setState),Ve("edgesUpdatable",p,q.setState),Ve("elementsSelectable",R,q.setState),Ve("elevateNodesOnSelect",y,q.setState),Ve("snapToGrid",P,q.setState),Ve("snapGrid",F,q.setState),Ve("onNodesChange",S,q.setState),Ve("onEdgesChange",k,q.setState),Ve("connectOnClick",D,q.setState),Ve("fitViewOnInit",z,q.setState),Ve("fitViewOnInitOptions",H,q.setState),Ve("onNodesDelete",A,q.setState),Ve("onEdgesDelete",h,q.setState),Ve("onNodeDrag",g,q.setState),Ve("onNodeDragStart",_,q.setState),Ve("onNodeDragStop",I,q.setState),Ve("onSelectionDrag",T,q.setState),Ve("onSelectionDragStart",C,q.setState),Ve("onSelectionDragStop",$,q.setState),Ve("noPanClassName",O,q.setState),Ve("nodeOrigin",b,q.setState),Ve("rfId",B,q.setState),Ve("autoPanOnConnect",G,q.setState),Ve("autoPanOnNodeDrag",Z,q.setState),Ve("onError",ne,q.setState),Ve("connectionRadius",ae,q.setState),Ve("isValidConnection",ce,q.setState),Ve("nodeDragThreshold",me,q.setState),aa(t,Ie),aa(e,Ce),aa(w,ut),aa(v,Le),aa(M,Pe),aa(x,re),null},rb={display:"none"},MU={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},zR="react-flow__node-desc",UR="react-flow__edge-desc",PU="react-flow__aria-live",BU=t=>t.ariaLiveMessage;function LU({rfId:t}){const e=gt(BU);return te.createElement("div",{id:`${PU}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:MU},e)}function DU({rfId:t,disableKeyboardA11y:e}){return te.createElement(te.Fragment,null,te.createElement("div",{id:`${zR}-${t}`,style:rb},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),te.createElement("div",{id:`${UR}-${t}`,style:rb},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&te.createElement(LU,{rfId:t}))}var bu=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=V.useState(!1),s=V.useRef(!1),i=V.useRef(new Set([])),[o,a]=V.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[t]);return V.useEffect(()=>{const l=typeof document<"u"?document:null,u=(e==null?void 0:e.target)||l;if(t!==null){const d=p=>{if(s.current=p.ctrlKey||p.metaKey||p.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&Og(p))return!1;const w=ib(p.code,a);i.current.add(p[w]),sb(o,i.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&Og(p))return!1;const w=ib(p.code,a);sb(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(p[w]),p.key==="Meta"&&i.current.clear(),s.current=!1},m=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[t,r]),n};function sb(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function ib(t,e){return e.includes(t)?"code":"key"}function $R(t,e,n,r){var a,l;const s=t.parentNode||t.parentId;if(!s)return n;const i=e.get(s),o=To(i,r);return $R(i,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[Gt])==null?void 0:a.z)??0)>(n.z??0)?((l=i[Gt])==null?void 0:l.z)??0:n.z??0},r)}function FR(t,e,n){t.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:a,z:l}=$R(r,t,{...r.position,z:((i=r[Gt])==null?void 0:i.z)??0},e);r.positionAbsolute={x:o,y:a},r[Gt].z=l,n!=null&&n[r.id]&&(r[Gt].isParent=!0)}})}function Fm(t,e,n,r){const s=new Map,i={},o=r?1e3:0;return t.forEach(a=>{var p;const l=(Sr(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=e.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(i[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,Gt,{enumerable:!1,value:{handleBounds:m||(p=u==null?void 0:u[Gt])==null?void 0:p.handleBounds,z:l}}),s.set(a.id,d)}),FR(s,n,i),s}function HR(t,e={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=t(),m=e.initial&&!u&&d;if(a&&l&&(m||!e.initial)){const y=n().filter(v=>{var S;const x=e.includeHiddenNodes?v.width&&v.height:!v.hidden;return(S=e.nodes)!=null&&S.length?x&&e.nodes.some(k=>k.id===v.id):x}),w=y.every(v=>v.width&&v.height);if(y.length>0&&w){const v=Ep(y,f),{x,y:S,zoom:k}=AR(v,r,s,e.minZoom??i,e.maxZoom??o,e.padding??.1),R=Vs.translate(x,S).scale(k);return typeof e.duration=="number"&&e.duration>0?a.transform(oo(l,e.duration),R):a.transform(l,R),!0}}return!1}function zU(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Gt]:r[Gt],selected:n.selected})}),new Map(e)}function UU(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Md({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();t!=null&&t.length&&(l&&r({nodeInternals:zU(t,s)}),o==null||o(t)),e!=null&&e.length&&(u&&r({edges:UU(e,i)}),a==null||a(e))}const la=()=>{},$U={zoomIn:la,zoomOut:la,zoomTo:la,getZoom:()=>1,setViewport:la,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:la,fitBounds:la,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},FU=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),HU=()=>{const t=on(),{d3Zoom:e,d3Selection:n}=gt(FU,dn);return V.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(oo(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(oo(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>e.scaleTo(oo(n,i==null?void 0:i.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,i)=>{const[o,a,l]=t.getState().transform,u=Vs.translate(s.x??o,s.y??a).scale(s.zoom??l);e.transform(oo(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=t.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>HR(t.getState,s),setCenter:(s,i,o)=>{const{width:a,height:l,maxZoom:u}=t.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=a/2-s*d,m=l/2-i*d,p=Vs.translate(f,m).scale(d);e.transform(oo(n,o==null?void 0:o.duration),p)},fitBounds:(s,i)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=t.getState(),{x:d,y:f,zoom:m}=AR(s,o,a,l,u,(i==null?void 0:i.padding)??.1),p=Vs.translate(d,f).scale(m);e.transform(oo(n,i==null?void 0:i.duration),p)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:a}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Pg(s,i,o,a)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:a,domNode:l}=t.getState();if(!l)return s;const{x:u,y:d}=l.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return Pg(f,i,o,a)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=t.getState();if(!o)return s;const{x:a,y:l}=o.getBoundingClientRect(),u=kR(s,i);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:$U,[e,n])};function n1(){const t=HU(),e=on(),n=V.useCallback(()=>e.getState().getNodes().map(w=>({...w})),[]),r=V.useCallback(w=>e.getState().nodeInternals.get(w),[]),s=V.useCallback(()=>{const{edges:w=[]}=e.getState();return w.map(v=>({...v}))},[]),i=V.useCallback(w=>{const{edges:v=[]}=e.getState();return v.find(x=>x.id===w)},[]),o=V.useCallback(w=>{const{getNodes:v,setNodes:x,hasDefaultNodes:S,onNodesChange:k}=e.getState(),R=v(),j=typeof w=="function"?w(R):w;if(S)x(j);else if(k){const F=j.length===0?R.map(P=>({type:"remove",id:P.id})):j.map(P=>({item:P,type:"reset"}));k(F)}},[]),a=V.useCallback(w=>{const{edges:v=[],setEdges:x,hasDefaultEdges:S,onEdgesChange:k}=e.getState(),R=typeof w=="function"?w(v):w;if(S)x(R);else if(k){const j=R.length===0?v.map(F=>({type:"remove",id:F.id})):R.map(F=>({item:F,type:"reset"}));k(j)}},[]),l=V.useCallback(w=>{const v=Array.isArray(w)?w:[w],{getNodes:x,setNodes:S,hasDefaultNodes:k,onNodesChange:R}=e.getState();if(k){const F=[...x(),...v];S(F)}else if(R){const j=v.map(F=>({item:F,type:"add"}));R(j)}},[]),u=V.useCallback(w=>{const v=Array.isArray(w)?w:[w],{edges:x=[],setEdges:S,hasDefaultEdges:k,onEdgesChange:R}=e.getState();if(k)S([...x,...v]);else if(R){const j=v.map(F=>({item:F,type:"add"}));R(j)}},[]),d=V.useCallback(()=>{const{getNodes:w,edges:v=[],transform:x}=e.getState(),[S,k,R]=x;return{nodes:w().map(j=>({...j})),edges:v.map(j=>({...j})),viewport:{x:S,y:k,zoom:R}}},[]),f=V.useCallback(({nodes:w,edges:v})=>{const{nodeInternals:x,getNodes:S,edges:k,hasDefaultNodes:R,hasDefaultEdges:j,onNodesDelete:F,onEdgesDelete:P,onNodesChange:M,onEdgesChange:D}=e.getState(),L=(w||[]).map(g=>g.id),z=(v||[]).map(g=>g.id),H=S().reduce((g,_)=>{const I=_.parentNode||_.parentId,T=!L.includes(_.id)&&I&&g.find($=>$.id===I);return(typeof _.deletable=="boolean"?_.deletable:!0)&&(L.includes(_.id)||T)&&g.push(_),g},[]),A=k.filter(g=>typeof g.deletable=="boolean"?g.deletable:!0),h=A.filter(g=>z.includes(g.id));if(H||h){const g=RR(H,A),_=[...h,...g],I=_.reduce((T,C)=>(T.includes(C.id)||T.push(C.id),T),[]);if((j||R)&&(j&&e.setState({edges:k.filter(T=>!I.includes(T.id))}),R&&(H.forEach(T=>{x.delete(T.id)}),e.setState({nodeInternals:new Map(x)}))),I.length>0&&(P==null||P(_),D&&D(I.map(T=>({id:T,type:"remove"})))),H.length>0&&(F==null||F(H),M)){const T=H.map(C=>({id:C.id,type:"remove"}));M(T)}}},[]),m=V.useCallback(w=>{const v=uU(w),x=v?null:e.getState().nodeInternals.get(w.id);return!v&&!x?[null,null,v]:[v?w:Xv(x),x,v]},[]),p=V.useCallback((w,v=!0,x)=>{const[S,k,R]=m(w);return S?(x||e.getState().getNodes()).filter(j=>{if(!R&&(j.id===k.id||!j.positionAbsolute))return!1;const F=Xv(j),P=Cg(F,S);return v&&P>0||P>=S.width*S.height}):[]},[]),y=V.useCallback((w,v,x=!0)=>{const[S]=m(w);if(!S)return!1;const k=Cg(S,v);return x&&k>0||k>=S.width*S.height},[]);return V.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[t,n,r,s,i,o,a,l,u,d,f,p,y])}const VU={actInsideInputWithModifier:!1};var WU=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=on(),{deleteElements:r}=n1(),s=bu(t,VU),i=bu(e);V.useEffect(()=>{if(s){const{edges:o,getNodes:a}=n.getState(),l=a().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),V.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function KU(t){const e=on();V.useEffect(()=>{let n;const r=()=>{var i,o;if(!t.current)return;const s=qx(t.current);(s.height===0||s.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",Xs.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const r1={position:"absolute",width:"100%",height:"100%",top:0,left:0},GU=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Pd=t=>({x:t.x,y:t.y,zoom:t.k}),ca=(t,e)=>t.target.closest(`.${e}`),ob=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),ab=t=>{const e=t.ctrlKey&&yf()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},qU=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),YU=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=vo.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:p,minZoom:y,maxZoom:w,zoomActivationKeyCode:v,preventScrolling:x=!0,children:S,noWheelClassName:k,noPanClassName:R})=>{const j=V.useRef(),F=on(),P=V.useRef(!1),M=V.useRef(!1),D=V.useRef(null),L=V.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:H,d3ZoomHandler:A,userSelectionActive:h}=gt(qU,dn),g=bu(v),_=V.useRef(0),I=V.useRef(!1),T=V.useRef();return KU(D),V.useEffect(()=>{if(D.current){const C=D.current.getBoundingClientRect(),$=hR().scaleExtent([y,w]).translateExtent(p),O=br(D.current).call($),b=Vs.translate(m.x,m.y).scale(cl(m.zoom,y,w)),B=[[0,0],[C.width,C.height]],G=$.constrain()(b,B,p);$.transform(O,G),$.wheelDelta(ab),F.setState({d3Zoom:$,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:D.current.closest(".react-flow")})}},[]),V.useEffect(()=>{H&&z&&(o&&!g&&!h?H.on("wheel.zoom",C=>{if(ca(C,k))return!1;C.preventDefault(),C.stopImmediatePropagation();const $=H.property("__zoom").k||1;if(C.ctrlKey&&i){const ce=Lr(C),me=ab(C),Ie=$*Math.pow(2,me);z.scaleTo(H,Ie,ce,C);return}const O=C.deltaMode===1?20:1;let b=l===vo.Vertical?0:C.deltaX*O,B=l===vo.Horizontal?0:C.deltaY*O;!yf()&&C.shiftKey&&l!==vo.Vertical&&(b=C.deltaY*O,B=0),z.translateBy(H,-(b/$)*a,-(B/$)*a,{internal:!0});const G=Pd(H.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:ne,onViewportChangeEnd:ae}=F.getState();clearTimeout(T.current),I.current||(I.current=!0,e==null||e(C,G),Z==null||Z(G)),I.current&&(t==null||t(C,G),ne==null||ne(G),T.current=setTimeout(()=>{n==null||n(C,G),ae==null||ae(G),I.current=!1},150))},{passive:!1}):typeof A<"u"&&H.on("wheel.zoom",function(C,$){if(!x&&C.type==="wheel"&&!C.ctrlKey||ca(C,k))return null;C.preventDefault(),A.call(this,C,$)},{passive:!1}))},[h,o,l,H,z,A,g,i,x,k,e,t,n]),V.useEffect(()=>{z&&z.on("start",C=>{var b,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;_.current=(b=C.sourceEvent)==null?void 0:b.button;const{onViewportChangeStart:$}=F.getState(),O=Pd(C.transform);P.current=!0,L.current=O,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&F.setState({paneDragging:!0}),$==null||$(O),e==null||e(C.sourceEvent,O)})},[z,e]),V.useEffect(()=>{z&&(h&&!P.current?z.on("zoom",null):h||z.on("zoom",C=>{var O;const{onViewportChange:$}=F.getState();if(F.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),M.current=!!(r&&ob(f,_.current??0)),(t||$)&&!((O=C.sourceEvent)!=null&&O.internal)){const b=Pd(C.transform);$==null||$(b),t==null||t(C.sourceEvent,b)}}))},[h,z,t,f,r]),V.useEffect(()=>{z&&z.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=F.getState();if(P.current=!1,F.setState({paneDragging:!1}),r&&ob(f,_.current??0)&&!M.current&&r(C.sourceEvent),M.current=!1,(n||$)&&GU(L.current,C.transform)){const O=Pd(C.transform);L.current=O,clearTimeout(j.current),j.current=setTimeout(()=>{$==null||$(O),n==null||n(C.sourceEvent,O)},o?150:0)}})},[z,o,f,n,r]),V.useEffect(()=>{z&&z.filter(C=>{const $=g||s,O=i&&C.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&C.button===1&&C.type==="mousedown"&&(ca(C,"react-flow__node")||ca(C,"react-flow__edge")))return!0;if(!f&&!$&&!o&&!u&&!i||h||!u&&C.type==="dblclick"||ca(C,k)&&C.type==="wheel"||ca(C,R)&&(C.type!=="wheel"||o&&C.type==="wheel"&&!g)||!i&&C.ctrlKey&&C.type==="wheel"||!$&&!o&&!O&&C.type==="wheel"||!f&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(f)&&!f.includes(C.button)&&C.type==="mousedown")return!1;const b=Array.isArray(f)&&f.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&b})},[h,z,s,i,o,u,f,d,g]),te.createElement("div",{className:"react-flow__renderer",ref:D,style:r1},S)},XU=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function ZU(){const{userSelectionActive:t,userSelectionRect:e}=gt(XU,dn);return t&&e?te.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function lb(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(s>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),e.position.x<0){const o=Math.abs(e.position.x);r.position.x=r.position.x-o,r.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);r.position.y=r.position.y-o,r.style.height+=o,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function VR(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const i=t.filter(a=>a.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const a of i)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&lb(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&lb(r,o);break}case"remove":return r}return r.push(o),r},n)}function WR(t,e){return VR(t,e)}function QU(t,e){return VR(t,e)}const mi=(t,e)=>({id:t,type:"select",selected:e});function Ta(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(mi(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(mi(r.id,!1))),n},[])}const Hm=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},JU=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),KR=V.memo(({isSelecting:t,selectionMode:e=vu.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=V.useRef(null),p=on(),y=V.useRef(0),w=V.useRef(0),v=V.useRef(),{userSelectionActive:x,elementsSelectable:S,dragging:k}=gt(JU,dn),R=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,w.current=0},j=A=>{i==null||i(A),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},F=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}o==null||o(A)},P=a?A=>a(A):void 0,M=A=>{const{resetSelectedElements:h,domNode:g}=p.getState();if(v.current=g==null?void 0:g.getBoundingClientRect(),!S||!t||A.button!==0||A.target!==m.current||!v.current)return;const{x:_,y:I}=Di(A,v.current);h(),p.setState({userSelectionRect:{width:0,height:0,startX:_,startY:I,x:_,y:I}}),r==null||r(A)},D=A=>{const{userSelectionRect:h,nodeInternals:g,edges:_,transform:I,onNodesChange:T,onEdgesChange:C,nodeOrigin:$,getNodes:O}=p.getState();if(!t||!v.current||!h)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const b=Di(A,v.current),B=h.startX??0,G=h.startY??0,Z={...h,x:b.x<B?b.x:B,y:b.y<G?b.y:G,width:Math.abs(b.x-B),height:Math.abs(b.y-G)},ne=O(),ae=NR(g,Z,I,e===vu.Partial,!0,$),ce=RR(ae,_).map(Ie=>Ie.id),me=ae.map(Ie=>Ie.id);if(y.current!==me.length){y.current=me.length;const Ie=Ta(ne,me);Ie.length&&(T==null||T(Ie))}if(w.current!==ce.length){w.current=ce.length;const Ie=Ta(_,ce);Ie.length&&(C==null||C(Ie))}p.setState({userSelectionRect:Z})},L=A=>{if(A.button!==0)return;const{userSelectionRect:h}=p.getState();!x&&h&&A.target===m.current&&(j==null||j(A)),p.setState({nodesSelectionActive:y.current>0}),R(),s==null||s(A)},z=A=>{x&&(p.setState({nodesSelectionActive:y.current>0}),s==null||s(A)),R()},H=S&&(t||x);return te.createElement("div",{className:bn(["react-flow__pane",{dragging:k,selection:t}]),onClick:H?void 0:Hm(j,m),onContextMenu:Hm(F,m),onWheel:Hm(P,m),onMouseEnter:H?void 0:l,onMouseDown:H?M:void 0,onMouseMove:H?D:u,onMouseUp:H?L:void 0,onMouseLeave:H?z:d,ref:m,style:r1},f,te.createElement(ZU,null))});KR.displayName="Pane";function GR(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:GR(r,e):!1}function cb(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function e$(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!GR(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function t$(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function qR(t,e,n,r,s=[0,0],i){const o=t$(t,t.extent||r);let a=o;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const f=n.get(l),{x:m,y:p}=To(f,s).positionAbsolute;a=f&&Sr(m)&&Sr(p)&&Sr(f.width)&&Sr(f.height)?[[m+t.width*s[0],p+t.height*s[1]],[m+f.width-t.width+t.width*s[0],p+f.height-t.height+t.height*s[1]]]:a}else i==null||i("005",Xs.error005()),a=o;else if(t.extent&&l&&t.extent!=="parent"){const f=n.get(l),{x:m,y:p}=To(f,s).positionAbsolute;a=[[t.extent[0][0]+m,t.extent[0][1]+p],[t.extent[1][0]+m,t.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=To(f,s).positionAbsolute}const d=a&&a!=="parent"?Yx(e,a):e;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Vm({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const ub=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const i=Array.from(s),o=e.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return i.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...qx(l)}})};function nc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function Lg({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",Xs.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([t])}function n$(){const t=on();return V.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:i?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function Wm(t){return(e,n,r)=>t==null?void 0:t(e,r)}function YR({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const a=on(),[l,u]=V.useState(!1),d=V.useRef([]),f=V.useRef({x:null,y:null}),m=V.useRef(0),p=V.useRef(null),y=V.useRef({x:0,y:0}),w=V.useRef(null),v=V.useRef(!1),x=V.useRef(!1),S=V.useRef(!1),k=n$();return V.useEffect(()=>{if(t!=null&&t.current){const R=br(t.current),j=({x:M,y:D})=>{const{nodeInternals:L,onNodeDrag:z,onSelectionDrag:H,updateNodePositions:A,nodeExtent:h,snapGrid:g,snapToGrid:_,nodeOrigin:I,onError:T}=a.getState();f.current={x:M,y:D};let C=!1,$={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&h){const b=Ep(d.current,I);$=wu(b)}if(d.current=d.current.map(b=>{const B={x:M-b.distance.x,y:D-b.distance.y};_&&(B.x=g[0]*Math.round(B.x/g[0]),B.y=g[1]*Math.round(B.y/g[1]));const G=[[h[0][0],h[0][1]],[h[1][0],h[1][1]]];d.current.length>1&&h&&!b.extent&&(G[0][0]=b.positionAbsolute.x-$.x+h[0][0],G[1][0]=b.positionAbsolute.x+(b.width??0)-$.x2+h[1][0],G[0][1]=b.positionAbsolute.y-$.y+h[0][1],G[1][1]=b.positionAbsolute.y+(b.height??0)-$.y2+h[1][1]);const Z=qR(b,B,L,G,I,T);return C=C||b.position.x!==Z.position.x||b.position.y!==Z.position.y,b.position=Z.position,b.positionAbsolute=Z.positionAbsolute,b}),!C)return;A(d.current,!0,!0),u(!0);const O=s?z:Wm(H);if(O&&w.current){const[b,B]=Vm({nodeId:s,dragItems:d.current,nodeInternals:L});O(w.current,b,B)}},F=()=>{if(!p.current)return;const[M,D]=pR(y.current,p.current);if(M!==0||D!==0){const{transform:L,panBy:z}=a.getState();f.current.x=(f.current.x??0)-M/L[2],f.current.y=(f.current.y??0)-D/L[2],z({x:M,y:D})&&j(f.current)}m.current=requestAnimationFrame(F)},P=M=>{var I;const{nodeInternals:D,multiSelectionActive:L,nodesDraggable:z,unselectNodesAndEdges:H,onNodeDragStart:A,onSelectionDragStart:h}=a.getState();x.current=!0;const g=s?A:Wm(h);(!o||!i)&&!L&&s&&((I=D.get(s))!=null&&I.selected||H()),s&&i&&o&&Lg({id:s,store:a,nodeRef:t});const _=k(M);if(f.current=_,d.current=e$(D,z,_,s),g&&d.current){const[T,C]=Vm({nodeId:s,dragItems:d.current,nodeInternals:D});g(M.sourceEvent,T,C)}};if(e)R.on(".drag",null);else{const M=pD().on("start",D=>{const{domNode:L,nodeDragThreshold:z}=a.getState();z===0&&P(D),S.current=!1;const H=k(D);f.current=H,p.current=(L==null?void 0:L.getBoundingClientRect())||null,y.current=Di(D.sourceEvent,p.current)}).on("drag",D=>{var A,h;const L=k(D),{autoPanOnNodeDrag:z,nodeDragThreshold:H}=a.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(S.current=!0),!S.current){if(!v.current&&x.current&&z&&(v.current=!0,F()),!x.current){const g=L.xSnapped-(((A=f==null?void 0:f.current)==null?void 0:A.x)??0),_=L.ySnapped-(((h=f==null?void 0:f.current)==null?void 0:h.y)??0);Math.sqrt(g*g+_*_)>H&&P(D)}(f.current.x!==L.xSnapped||f.current.y!==L.ySnapped)&&d.current&&x.current&&(w.current=D.sourceEvent,y.current=Di(D.sourceEvent,p.current),j(L))}}).on("end",D=>{if(!(!x.current||S.current)&&(u(!1),v.current=!1,x.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:L,nodeInternals:z,onNodeDragStop:H,onSelectionDragStop:A}=a.getState(),h=s?H:Wm(A);if(L(d.current,!1,!1),h){const[g,_]=Vm({nodeId:s,dragItems:d.current,nodeInternals:z});h(D.sourceEvent,g,_)}}}).filter(D=>{const L=D.target;return!D.button&&(!n||!cb(L,`.${n}`,t))&&(!r||cb(L,r,t))});return R.call(M),()=>{R.on(".drag",null)}}}},[t,e,n,r,i,a,s,o,k]),l}function XR(){const t=on();return V.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:d}=t.getState(),f=o().filter(S=>S.selected&&(S.draggable||d&&typeof S.draggable>"u")),m=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,w=n.x*m*y,v=n.y*p*y,x=f.map(S=>{if(S.positionAbsolute){const k={x:S.positionAbsolute.x+w,y:S.positionAbsolute.y+v};a&&(k.x=l[0]*Math.round(k.x/l[0]),k.y=l[1]*Math.round(k.y/l[1]));const{positionAbsolute:R,position:j}=qR(S,k,r,s,void 0,u);S.position=j,S.positionAbsolute=R}return S});i(x,!0,!1)},[])}const Ha={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var rc=t=>{const e=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:p,onContextMenu:y,onDoubleClick:w,style:v,className:x,isDraggable:S,isSelectable:k,isConnectable:R,isFocusable:j,selectNodesOnDrag:F,sourcePosition:P,targetPosition:M,hidden:D,resizeObserver:L,dragHandle:z,zIndex:H,isParent:A,noDragClassName:h,noPanClassName:g,initialized:_,disableKeyboardA11y:I,ariaLabel:T,rfId:C,hasHandleBounds:$})=>{const O=on(),b=V.useRef(null),B=V.useRef(null),G=V.useRef(P),Z=V.useRef(M),ne=V.useRef(r),ae=k||S||d||f||m||p,ce=XR(),me=nc(n,O.getState,f),Ie=nc(n,O.getState,m),Ce=nc(n,O.getState,p),Be=nc(n,O.getState,y),ut=nc(n,O.getState,w),Le=ge=>{const{nodeDragThreshold:q}=O.getState();if(k&&(!F||!S||q>0)&&Lg({id:n,store:O,nodeRef:b}),d){const ye=O.getState().nodeInternals.get(n);ye&&d(ge,{...ye})}},Pe=ge=>{if(!Og(ge)&&!I)if(xR.includes(ge.key)&&k){const q=ge.key==="Escape";Lg({id:n,store:O,unselect:q,nodeRef:b})}else S&&u&&Object.prototype.hasOwnProperty.call(Ha,ge.key)&&(O.setState({ariaLiveMessage:`Moved selected node ${ge.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),ce({x:Ha[ge.key].x,y:Ha[ge.key].y,isShiftPressed:ge.shiftKey}))};V.useEffect(()=>()=>{B.current&&(L==null||L.unobserve(B.current),B.current=null)},[]),V.useEffect(()=>{if(b.current&&!D){const ge=b.current;(!_||!$||B.current!==ge)&&(B.current&&(L==null||L.unobserve(B.current)),L==null||L.observe(ge),B.current=ge)}},[D,_,$]),V.useEffect(()=>{const ge=ne.current!==r,q=G.current!==P,ye=Z.current!==M;b.current&&(ge||q||ye)&&(ge&&(ne.current=r),q&&(G.current=P),ye&&(Z.current=M),O.getState().updateNodeDimensions([{id:n,nodeElement:b.current,forceUpdate:!0}]))},[n,r,P,M]);const re=YR({nodeRef:b,disabled:D||!S,noDragClassName:h,handleSelector:z,nodeId:n,isSelectable:k,selectNodesOnDrag:F});return D?null:te.createElement("div",{className:bn(["react-flow__node",`react-flow__node-${r}`,{[g]:S},x,{selected:u,selectable:k,parent:A,dragging:re}]),ref:b,style:{zIndex:H,transform:`translate(${a}px,${l}px)`,pointerEvents:ae?"all":"none",visibility:_?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:Ie,onMouseLeave:Ce,onContextMenu:Be,onClick:Le,onDoubleClick:ut,onKeyDown:j?Pe:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":I?void 0:`${zR}-${C}`,"aria-label":T},te.createElement(yU,{value:n},te.createElement(t,{id:n,data:s,type:r,xPos:i,yPos:o,selected:u,isConnectable:R,sourcePosition:P,targetPosition:M,dragging:re,dragHandle:z,zIndex:H})))};return e.displayName="NodeWrapper",V.memo(e)};const r$=t=>{const e=t.getNodes().filter(n=>n.selected);return{...Ep(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function s$({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=on(),{width:s,height:i,x:o,y:a,transformString:l,userSelectionActive:u}=gt(r$,dn),d=XR(),f=V.useRef(null);if(V.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),YR({nodeRef:f}),u||!s||!i)return null;const m=t?y=>{const w=r.getState().getNodes().filter(v=>v.selected);t(y,w)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(Ha,y.key)&&d({x:Ha[y.key].x,y:Ha[y.key].y,isShiftPressed:y.shiftKey})};return te.createElement("div",{className:bn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},te.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:s,height:i,top:a,left:o}}))}var i$=V.memo(s$);const o$=t=>t.nodesSelectionActive,ZR=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:S,elementsSelectable:k,zoomOnScroll:R,zoomOnPinch:j,panOnScroll:F,panOnScrollSpeed:P,panOnScrollMode:M,zoomOnDoubleClick:D,panOnDrag:L,defaultViewport:z,translateExtent:H,minZoom:A,maxZoom:h,preventScrolling:g,onSelectionContextMenu:_,noWheelClassName:I,noPanClassName:T,disableKeyboardA11y:C})=>{const $=gt(o$),O=bu(f),b=bu(x),B=b||L,G=b||F,Z=O||m&&B!==!0;return WU({deleteKeyCode:a,multiSelectionKeyCode:v}),te.createElement(YU,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:R,zoomOnPinch:j,panOnScroll:G,panOnScrollSpeed:P,panOnScrollMode:M,zoomOnDoubleClick:D,panOnDrag:!O&&B,defaultViewport:z,translateExtent:H,minZoom:A,maxZoom:h,zoomActivationKeyCode:S,preventScrolling:g,noWheelClassName:I,noPanClassName:T},te.createElement(KR,{onSelectionStart:y,onSelectionEnd:w,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:B,isSelecting:!!Z,selectionMode:p},t,$&&te.createElement(i$,{onSelectionContextMenu:_,noPanClassName:T,disableKeyboardA11y:C})))};ZR.displayName="FlowRenderer";var a$=V.memo(ZR);function l$(t){return gt(V.useCallback(n=>t?NR(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function c$(t){const e={input:rc(t.input||PR),default:rc(t.default||Bg),output:rc(t.output||LR),group:rc(t.group||t1)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=rc(t[i]||Bg),s),n);return{...e,...r}}const u$=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},d$=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),QR=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=gt(d$,dn),a=l$(t.onlyRenderVisibleElements),l=V.useRef(),u=V.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(m)});return l.current=d,d},[]);return V.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),te.createElement("div",{className:"react-flow__nodes",style:r1},a.map(d=>{var j,F,P;let f=d.type||"default";t.nodeTypes[f]||(o==null||o("003",Xs.error003(f)),f="default");const m=t.nodeTypes[f]||t.nodeTypes.default,p=!!(d.draggable||e&&typeof d.draggable>"u"),y=!!(d.selectable||s&&typeof d.selectable>"u"),w=!!(d.connectable||n&&typeof d.connectable>"u"),v=!!(d.focusable||r&&typeof d.focusable>"u"),x=t.nodeExtent?Yx(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,S=(x==null?void 0:x.x)??0,k=(x==null?void 0:x.y)??0,R=u$({x:S,y:k,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return te.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||Ne.Bottom,targetPosition:d.targetPosition||Ne.Top,hidden:d.hidden,xPos:S,yPos:k,xPosOrigin:R.x,yPosOrigin:R.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:y,isConnectable:w,isFocusable:v,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((j=d[Gt])==null?void 0:j.z)??0,isParent:!!((F=d[Gt])!=null&&F.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((P=d[Gt])!=null&&P.handleBounds)})}))};QR.displayName="NodeRenderer";var h$=V.memo(QR);const f$=(t,e,n)=>n===Ne.Left?t-e:n===Ne.Right?t+e:t,p$=(t,e,n)=>n===Ne.Top?t-e:n===Ne.Bottom?t+e:t,db="react-flow__edgeupdater",hb=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a})=>te.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:bn([db,`${db}-${a}`]),cx:f$(e,r,t),cy:p$(n,r,t),r,stroke:"transparent",fill:"transparent"}),m$=()=>!0;var ua=t=>{const e=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:w,style:v,source:x,target:S,sourceX:k,sourceY:R,targetX:j,targetY:F,sourcePosition:P,targetPosition:M,elementsSelectable:D,hidden:L,sourceHandleId:z,targetHandleId:H,onContextMenu:A,onMouseEnter:h,onMouseMove:g,onMouseLeave:_,reconnectRadius:I,onReconnect:T,onReconnectStart:C,onReconnectEnd:$,markerEnd:O,markerStart:b,rfId:B,ariaLabel:G,isFocusable:Z,isReconnectable:ne,pathOptions:ae,interactionWidth:ce,disableKeyboardA11y:me})=>{const Ie=V.useRef(null),[Ce,Be]=V.useState(!1),[ut,Le]=V.useState(!1),Pe=on(),re=V.useMemo(()=>`url('#${Mg(b,B)}')`,[b,B]),ge=V.useMemo(()=>`url('#${Mg(O,B)}')`,[O,B]);if(L)return null;const q=K=>{var qe;const{edges:Y,addSelectedEdges:ee,unselectNodesAndEdges:De,multiSelectionActive:je}=Pe.getState(),Re=Y.find(Ae=>Ae.id===n);Re&&(D&&(Pe.setState({nodesSelectionActive:!1}),Re.selected&&je?(De({nodes:[],edges:[Re]}),(qe=Ie.current)==null||qe.blur()):ee([n])),o&&o(K,Re))},ye=tc(n,Pe.getState,a),he=tc(n,Pe.getState,A),xe=tc(n,Pe.getState,h),Me=tc(n,Pe.getState,g),Oe=tc(n,Pe.getState,_),ze=(K,Y)=>{if(K.button!==0)return;const{edges:ee,isValidConnection:De}=Pe.getState(),je=Y?S:x,Re=(Y?H:z)||null,qe=Y?"target":"source",Ae=De||m$,bt=Y,ri=ee.find(Zr=>Zr.id===n);Le(!0),C==null||C(K,ri,qe);const _t=Zr=>{Le(!1),$==null||$(Zr,ri,qe)};CR({event:K,handleId:Re,nodeId:je,onConnect:Zr=>T==null?void 0:T(ri,Zr),isTarget:bt,getState:Pe.getState,setState:Pe.setState,isValidConnection:Ae,edgeUpdaterType:qe,onReconnectEnd:_t})},We=K=>ze(K,!0),Je=K=>ze(K,!1),U=()=>Be(!0),E=()=>Be(!1),N=!D&&!o,W=K=>{var Y;if(!me&&xR.includes(K.key)&&D){const{unselectNodesAndEdges:ee,addSelectedEdges:De,edges:je}=Pe.getState();K.key==="Escape"?((Y=Ie.current)==null||Y.blur(),ee({edges:[je.find(qe=>qe.id===n)]})):De([n])}};return te.createElement("g",{className:bn(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:l,animated:u,inactive:N,updating:Ce}]),onClick:q,onDoubleClick:ye,onContextMenu:he,onMouseEnter:xe,onMouseMove:Me,onMouseLeave:Oe,onKeyDown:Z?W:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":G===null?void 0:G||`Edge from ${x} to ${S}`,"aria-describedby":Z?`${UR}-${B}`:void 0,ref:Ie},!ut&&te.createElement(t,{id:n,source:x,target:S,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:w,data:i,style:v,sourceX:k,sourceY:R,targetX:j,targetY:F,sourcePosition:P,targetPosition:M,sourceHandleId:z,targetHandleId:H,markerStart:re,markerEnd:ge,pathOptions:ae,interactionWidth:ce}),ne&&te.createElement(te.Fragment,null,(ne==="source"||ne===!0)&&te.createElement(hb,{position:P,centerX:k,centerY:R,radius:I,onMouseDown:We,onMouseEnter:U,onMouseOut:E,type:"source"}),(ne==="target"||ne===!0)&&te.createElement(hb,{position:M,centerX:j,centerY:F,radius:I,onMouseDown:Je,onMouseEnter:U,onMouseOut:E,type:"target"})))};return e.displayName="EdgeWrapper",V.memo(e)};function g$(t){const e={default:ua(t.default||wf),straight:ua(t.bezier||Qx),step:ua(t.step||Zx),smoothstep:ua(t.step||Sp),simplebezier:ua(t.simplebezier||Xx)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=ua(t[i]||wf),s),n);return{...e,...r}}function fb(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,i=(n==null?void 0:n.width)||e.width,o=(n==null?void 0:n.height)||e.height;switch(t){case Ne.Top:return{x:r+i/2,y:s};case Ne.Right:return{x:r+i,y:s+o/2};case Ne.Bottom:return{x:r+i/2,y:s+o};case Ne.Left:return{x:r,y:s+o/2}}}function pb(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const y$=(t,e,n,r,s,i)=>{const o=fb(n,t,e),a=fb(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function x$({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:a,transform:l}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=wu({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function mb(t){var r,s,i,o,a;const e=((r=t==null?void 0:t[Gt])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const w$=[{level:0,isMaxLevel:!0,edges:[]}];function v$(t,e,n=!1){let r=-1;const s=t.reduce((o,a)=>{var d,f;const l=Sr(a.zIndex);let u=l?a.zIndex:0;if(n){const m=e.get(a.target),p=e.get(a.source),y=a.selected||(m==null?void 0:m.selected)||(p==null?void 0:p.selected),w=Math.max(((d=p==null?void 0:p[Gt])==null?void 0:d.z)||0,((f=m==null?void 0:m[Gt])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?w:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),i=Object.entries(s).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return i.length===0?w$:i}function b$(t,e,n){const r=gt(V.useCallback(s=>t?s.edges.filter(i=>{const o=e.get(i.source),a=e.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&x$({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return v$(r,e,n)}const _$=({color:t="none",strokeWidth:e=1})=>te.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),S$=({color:t="none",strokeWidth:e=1})=>te.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),gb={[xf.Arrow]:_$,[xf.ArrowClosed]:S$};function E$(t){const e=on();return V.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(gb,t)?gb[t]:((i=(s=e.getState()).onError)==null||i.call(s,"009",Xs.error009(t)),null)},[t])}const k$=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=E$(e);return l?te.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},te.createElement(l,{color:n,strokeWidth:o})):null},N$=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Mg(o,e);r.includes(a)||(s.push({id:a,color:o.color||t,...o}),r.push(a))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},JR=({defaultColor:t,rfId:e})=>{const n=gt(V.useCallback(N$({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return te.createElement("defs",null,n.map(r=>te.createElement(k$,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};JR.displayName="MarkerDefinitions";var R$=V.memo(JR);const A$=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),eA=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:w,children:v,disableKeyboardA11y:x})=>{const{edgesFocusable:S,edgesUpdatable:k,elementsSelectable:R,width:j,height:F,connectionMode:P,nodeInternals:M,onError:D}=gt(A$,dn),L=b$(e,M,n);return j?te.createElement(te.Fragment,null,L.map(({level:z,edges:H,isMaxLevel:A})=>te.createElement("svg",{key:z,style:{zIndex:z},width:j,height:F,className:"react-flow__edges react-flow__container"},A&&te.createElement(R$,{defaultColor:t,rfId:r}),te.createElement("g",null,H.map(h=>{const[g,_,I]=mb(M.get(h.source)),[T,C,$]=mb(M.get(h.target));if(!I||!$)return null;let O=h.type||"default";s[O]||(D==null||D("011",Xs.error011(O)),O="default");const b=s[O]||s.default,B=P===Uo.Strict?C.target:(C.target??[]).concat(C.source??[]),G=pb(_.source,h.sourceHandle),Z=pb(B,h.targetHandle),ne=(G==null?void 0:G.position)||Ne.Bottom,ae=(Z==null?void 0:Z.position)||Ne.Top,ce=!!(h.focusable||S&&typeof h.focusable>"u"),me=h.reconnectable||h.updatable,Ie=typeof m<"u"&&(me||k&&typeof me>"u");if(!G||!Z)return D==null||D("008",Xs.error008(G,h)),null;const{sourceX:Ce,sourceY:Be,targetX:ut,targetY:Le}=y$(g,G,ne,T,Z,ae);return te.createElement(b,{key:h.id,id:h.id,className:bn([h.className,i]),type:O,data:h.data,selected:!!h.selected,animated:!!h.animated,hidden:!!h.hidden,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,style:h.style,source:h.source,target:h.target,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerEnd:h.markerEnd,markerStart:h.markerStart,sourceX:Ce,sourceY:Be,targetX:ut,targetY:Le,sourcePosition:ne,targetPosition:ae,elementsSelectable:R,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:w,rfId:r,ariaLabel:h.ariaLabel,isFocusable:ce,isReconnectable:Ie,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth,disableKeyboardA11y:x})})))),v):null};eA.displayName="EdgeRenderer";var T$=V.memo(eA);const I$=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function C$({children:t}){const e=gt(I$);return te.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function O$(t){const e=n1(),n=V.useRef(!1);V.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const j$={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top},tA=({nodeId:t,handleType:e,style:n,type:r=wi.Bezier,CustomComponent:s,connectionStatus:i})=>{var F,P,M;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:d}=gt(V.useCallback(D=>({fromNode:D.nodeInternals.get(t),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[t]),dn),f=(F=o==null?void 0:o[Gt])==null?void 0:F.handleBounds;let m=f==null?void 0:f[e];if(d===Uo.Loose&&(m=m||(f==null?void 0:f[e==="source"?"target":"source"])),!o||!m)return null;const p=a?m.find(D=>D.id===a):m[0],y=p?p.x+p.width/2:(o.width??0)/2,w=p?p.y+p.height/2:o.height??0,v=(((P=o.positionAbsolute)==null?void 0:P.x)??0)+y,x=(((M=o.positionAbsolute)==null?void 0:M.y)??0)+w,S=p==null?void 0:p.position,k=S?j$[S]:null;if(!S||!k)return null;if(s)return te.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:p,fromX:v,fromY:x,toX:l,toY:u,fromPosition:S,toPosition:k,connectionStatus:i});let R="";const j={sourceX:v,sourceY:x,sourcePosition:S,targetX:l,targetY:u,targetPosition:k};return r===wi.Bezier?[R]=SR(j):r===wi.Step?[R]=jg({...j,borderRadius:0}):r===wi.SmoothStep?[R]=jg(j):r===wi.SimpleBezier?[R]=_R(j):R=`M${v},${x} ${l},${u}`,te.createElement("path",{d:R,fill:"none",className:"react-flow__connection-path",style:n})};tA.displayName="ConnectionLine";const M$=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function P$({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:a,height:l,connectionStatus:u}=gt(M$,dn);return!(s&&i&&a&&o)?null:te.createElement("svg",{style:t,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},te.createElement("g",{className:bn(["react-flow__connection",u])},te.createElement(tA,{nodeId:s,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:u})))}function yb(t,e){return V.useRef(null),on(),V.useMemo(()=>e(t),[t])}const nA=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:w,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:S,connectionLineComponent:k,connectionLineContainerStyle:R,selectionKeyCode:j,selectionOnDrag:F,selectionMode:P,multiSelectionKeyCode:M,panActivationKeyCode:D,zoomActivationKeyCode:L,deleteKeyCode:z,onlyRenderVisibleElements:H,elementsSelectable:A,selectNodesOnDrag:h,defaultViewport:g,translateExtent:_,minZoom:I,maxZoom:T,preventScrolling:C,defaultMarkerColor:$,zoomOnScroll:O,zoomOnPinch:b,panOnScroll:B,panOnScrollSpeed:G,panOnScrollMode:Z,zoomOnDoubleClick:ne,panOnDrag:ae,onPaneClick:ce,onPaneMouseEnter:me,onPaneMouseMove:Ie,onPaneMouseLeave:Ce,onPaneScroll:Be,onPaneContextMenu:ut,onEdgeContextMenu:Le,onEdgeMouseEnter:Pe,onEdgeMouseMove:re,onEdgeMouseLeave:ge,onReconnect:q,onReconnectStart:ye,onReconnectEnd:he,reconnectRadius:xe,noDragClassName:Me,noWheelClassName:Oe,noPanClassName:ze,elevateEdgesOnSelect:We,disableKeyboardA11y:Je,nodeOrigin:U,nodeExtent:E,rfId:N})=>{const W=yb(t,c$),K=yb(e,g$);return O$(i),te.createElement(a$,{onPaneClick:ce,onPaneMouseEnter:me,onPaneMouseMove:Ie,onPaneMouseLeave:Ce,onPaneContextMenu:ut,onPaneScroll:Be,deleteKeyCode:z,selectionKeyCode:j,selectionOnDrag:F,selectionMode:P,onSelectionStart:w,onSelectionEnd:v,multiSelectionKeyCode:M,panActivationKeyCode:D,zoomActivationKeyCode:L,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:O,zoomOnPinch:b,zoomOnDoubleClick:ne,panOnScroll:B,panOnScrollSpeed:G,panOnScrollMode:Z,panOnDrag:ae,defaultViewport:g,translateExtent:_,minZoom:I,maxZoom:T,onSelectionContextMenu:y,preventScrolling:C,noDragClassName:Me,noWheelClassName:Oe,noPanClassName:ze,disableKeyboardA11y:Je},te.createElement(C$,null,te.createElement(T$,{edgeTypes:K,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:H,onEdgeContextMenu:Le,onEdgeMouseEnter:Pe,onEdgeMouseMove:re,onEdgeMouseLeave:ge,onReconnect:q,onReconnectStart:ye,onReconnectEnd:he,reconnectRadius:xe,defaultMarkerColor:$,noPanClassName:ze,elevateEdgesOnSelect:!!We,disableKeyboardA11y:Je,rfId:N},te.createElement(P$,{style:S,type:x,component:k,containerStyle:R})),te.createElement("div",{className:"react-flow__edgelabel-renderer"}),te.createElement(h$,{nodeTypes:W,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:h,onlyRenderVisibleElements:H,noPanClassName:ze,noDragClassName:Me,disableKeyboardA11y:Je,nodeOrigin:U,nodeExtent:E,rfId:N})))};nA.displayName="GraphView";var B$=V.memo(nA);const Dg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ci={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Dg,nodeExtent:Dg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Uo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:dU,isValidConnection:void 0},L$=()=>NB((t,e)=>({...ci,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=e();t({nodeInternals:Fm(n,r,s,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Fm(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=e(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((w,v)=>{const x=s.get(v.id);if(x!=null&&x.hidden)s.set(x.id,{...x,[Gt]:{...x[Gt],handleBounds:void 0}});else if(x){const S=qx(v.nodeElement);!!(S.width&&S.height&&(x.width!==S.width||x.height!==S.height||v.forceUpdate))&&(s.set(x.id,{...x,[Gt]:{...x[Gt],handleBounds:{source:ub(".source",v.nodeElement,m,u),target:ub(".target",v.nodeElement,m,u)}},...S}),w.push({id:x.id,type:"dimensions",dimensions:S}))}return w},[]);FR(s,u);const y=o||i&&!o&&HR(e,{initial:!0,...a});t({nodeInternals:new Map(s),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=e(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:s};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(i){const u=WR(n,a()),d=Fm(u,s,o,l);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let o,a=null;r?o=n.map(l=>mi(l,!0)):(o=Ta(i(),n),a=Ta(s,[])),Md({changedNodes:o,changedEdges:a,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let o,a=null;r?o=n.map(l=>mi(l,!0)):(o=Ta(s,n),a=Ta(i(),[])),Md({changedNodes:a,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=e(),o=n||i(),a=r||s,l=o.map(d=>(d.selected=!1,mi(d.id,!1))),u=a.map(d=>mi(d.id,!1));Md({changedNodes:l,changedEdges:u,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(a=>a.selected).map(a=>mi(a.id,!1)),o=n.filter(a=>a.selected).map(a=>mi(a.id,!1));Md({changedNodes:i,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=Yx(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:a,translateExtent:l}=e();if(!o||!a||!n.x&&!n.y)return!1;const u=Vs.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],f=o==null?void 0:o.constrain()(u,d,l);return o.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>t({connectionNodeId:ci.connectionNodeId,connectionHandleId:ci.connectionHandleId,connectionHandleType:ci.connectionHandleType,connectionStatus:ci.connectionStatus,connectionStartHandle:ci.connectionStartHandle,connectionEndHandle:ci.connectionEndHandle}),reset:()=>t({...ci})}),Object.is),rA=({children:t})=>{const e=V.useRef(null);return e.current||(e.current=L$()),te.createElement(sU,{value:e.current},t)};rA.displayName="ReactFlowProvider";const sA=({children:t})=>V.useContext(_p)?te.createElement(te.Fragment,null,t):te.createElement(rA,null,t);sA.displayName="ReactFlowWrapper";const D$={input:PR,default:Bg,output:LR,group:t1},z$={default:wf,straight:Qx,step:Zx,smoothstep:Sp,simplebezier:Xx},U$=[0,0],$$=[15,15],F$={x:0,y:0,zoom:1},H$={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},iA=V.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=D$,edgeTypes:o=z$,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:p,onConnectStart:y,onConnectEnd:w,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:S,onNodeMouseMove:k,onNodeMouseLeave:R,onNodeContextMenu:j,onNodeDoubleClick:F,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:D,onNodesDelete:L,onEdgesDelete:z,onSelectionChange:H,onSelectionDragStart:A,onSelectionDrag:h,onSelectionDragStop:g,onSelectionContextMenu:_,onSelectionStart:I,onSelectionEnd:T,connectionMode:C=Uo.Strict,connectionLineType:$=wi.Bezier,connectionLineStyle:O,connectionLineComponent:b,connectionLineContainerStyle:B,deleteKeyCode:G="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:ne=!1,selectionMode:ae=vu.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:me=yf()?"Meta":"Control",zoomActivationKeyCode:Ie=yf()?"Meta":"Control",snapToGrid:Ce=!1,snapGrid:Be=$$,onlyRenderVisibleElements:ut=!1,selectNodesOnDrag:Le=!0,nodesDraggable:Pe,nodesConnectable:re,nodesFocusable:ge,nodeOrigin:q=U$,edgesFocusable:ye,edgesUpdatable:he,elementsSelectable:xe,defaultViewport:Me=F$,minZoom:Oe=.5,maxZoom:ze=2,translateExtent:We=Dg,preventScrolling:Je=!0,nodeExtent:U,defaultMarkerColor:E="#b1b1b7",zoomOnScroll:N=!0,zoomOnPinch:W=!0,panOnScroll:K=!1,panOnScrollSpeed:Y=.5,panOnScrollMode:ee=vo.Free,zoomOnDoubleClick:De=!0,panOnDrag:je=!0,onPaneClick:Re,onPaneMouseEnter:qe,onPaneMouseMove:Ae,onPaneMouseLeave:bt,onPaneScroll:ri,onPaneContextMenu:_t,children:kt,onEdgeContextMenu:Zr,onEdgeDoubleClick:Ot,onEdgeMouseEnter:jt,onEdgeMouseMove:Yu,onEdgeMouseLeave:Mt,onEdgeUpdate:Pt,onEdgeUpdateStart:Xu,onEdgeUpdateEnd:Bt,onReconnect:Lt,onReconnectStart:Zu,onReconnectEnd:Dt,reconnectRadius:zt=10,edgeUpdaterRadius:Qu=10,onNodesChange:Ut,onEdgesChange:$t,noDragClassName:Ju="nodrag",noWheelClassName:Ft="nowheel",noPanClassName:Nt="nopan",fitView:ed=!1,fitViewOptions:Ht,connectOnClick:Vt=!0,attributionPosition:Tl,proOptions:Il,defaultEdgeOptions:Cl,elevateNodesOnSelect:Ol=!0,elevateEdgesOnSelect:jl=!1,disableKeyboardA11y:Jo=!1,autoPanOnConnect:Ml=!0,autoPanOnNodeDrag:Pl=!0,connectionRadius:Bl=20,isValidConnection:Ll,onError:Dl,style:zl,id:ea,nodeDragThreshold:Ul,...$l},Fl)=>{const Ji=ea||"1";return te.createElement("div",{...$l,style:{...zl,...H$},ref:Fl,className:bn(["react-flow",s]),"data-testid":"rf__wrapper",id:ea},te.createElement(sA,null,te.createElement(B$,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:S,onNodeMouseMove:k,onNodeMouseLeave:R,onNodeContextMenu:j,onNodeDoubleClick:F,nodeTypes:i,edgeTypes:o,connectionLineType:$,connectionLineStyle:O,connectionLineComponent:b,connectionLineContainerStyle:B,selectionKeyCode:Z,selectionOnDrag:ne,selectionMode:ae,deleteKeyCode:G,multiSelectionKeyCode:me,panActivationKeyCode:ce,zoomActivationKeyCode:Ie,onlyRenderVisibleElements:ut,selectNodesOnDrag:Le,defaultViewport:Me,translateExtent:We,minZoom:Oe,maxZoom:ze,preventScrolling:Je,zoomOnScroll:N,zoomOnPinch:W,zoomOnDoubleClick:De,panOnScroll:K,panOnScrollSpeed:Y,panOnScrollMode:ee,panOnDrag:je,onPaneClick:Re,onPaneMouseEnter:qe,onPaneMouseMove:Ae,onPaneMouseLeave:bt,onPaneScroll:ri,onPaneContextMenu:_t,onSelectionContextMenu:_,onSelectionStart:I,onSelectionEnd:T,onEdgeContextMenu:Zr,onEdgeDoubleClick:Ot,onEdgeMouseEnter:jt,onEdgeMouseMove:Yu,onEdgeMouseLeave:Mt,onReconnect:Lt??Pt,onReconnectStart:Zu??Xu,onReconnectEnd:Dt??Bt,reconnectRadius:zt??Qu,defaultMarkerColor:E,noDragClassName:Ju,noWheelClassName:Ft,noPanClassName:Nt,elevateEdgesOnSelect:jl,rfId:Ji,disableKeyboardA11y:Jo,nodeOrigin:q,nodeExtent:U}),te.createElement(jU,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:w,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:Pe,nodesConnectable:re,nodesFocusable:ge,edgesFocusable:ye,edgesUpdatable:he,elementsSelectable:xe,elevateNodesOnSelect:Ol,minZoom:Oe,maxZoom:ze,nodeExtent:U,onNodesChange:Ut,onEdgesChange:$t,snapToGrid:Ce,snapGrid:Be,connectionMode:C,translateExtent:We,connectOnClick:Vt,defaultEdgeOptions:Cl,fitView:ed,fitViewOptions:Ht,onNodesDelete:L,onEdgesDelete:z,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:D,onSelectionDrag:h,onSelectionDragStart:A,onSelectionDragStop:g,noPanClassName:Nt,nodeOrigin:q,rfId:Ji,autoPanOnConnect:Ml,autoPanOnNodeDrag:Pl,onError:Dl,connectionRadius:Bl,isValidConnection:Ll,nodeDragThreshold:Ul}),te.createElement(CU,{onSelectionChange:H}),kt,te.createElement(oU,{proOptions:Il,position:Tl}),te.createElement(DU,{rfId:Ji,disableKeyboardA11y:Jo})))});iA.displayName="ReactFlow";function oA(t){return e=>{const[n,r]=V.useState(e),s=V.useCallback(i=>r(o=>t(i,o)),[]);return[n,r,s]}}const V$=oA(WR),W$=oA(QU),aA=({id:t,x:e,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:d,shapeRendering:f,onClick:m,selected:p})=>{const{background:y,backgroundColor:w}=i||{},v=o||y||w;return te.createElement("rect",{className:bn(["react-flow__minimap-node",{selected:p},u]),x:e,y:n,rx:d,ry:d,width:r,height:s,fill:v,stroke:a,strokeWidth:l,shapeRendering:f,onClick:m?x=>m(x,t):void 0})};aA.displayName="MiniMapNode";var K$=V.memo(aA);const G$=t=>t.nodeOrigin,q$=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Km=t=>t instanceof Function?t:()=>t;function Y$({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=K$,onClick:o}){const a=gt(q$,dn),l=gt(G$),u=Km(e),d=Km(t),f=Km(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return te.createElement(te.Fragment,null,a.map(p=>{const{x:y,y:w}=To(p,l).positionAbsolute;return te.createElement(i,{key:p.id,x:y,y:w,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:d(p),strokeWidth:s,shapeRendering:m,onClick:o,id:p.id})}))}var X$=V.memo(Y$);const Z$=200,Q$=150,J$=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?cU(Ep(e,t.nodeOrigin),n):n,rfId:t.rfId}},eF="react-flow__minimap-desc";function lA({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:m,onNodeClick:p,pannable:y=!1,zoomable:w=!1,ariaLabel:v="React Flow mini map",inversePan:x=!1,zoomStep:S=10,offsetScale:k=5}){const R=on(),j=V.useRef(null),{boundingRect:F,viewBB:P,rfId:M}=gt(J$,dn),D=(t==null?void 0:t.width)??Z$,L=(t==null?void 0:t.height)??Q$,z=F.width/D,H=F.height/L,A=Math.max(z,H),h=A*D,g=A*L,_=k*A,I=F.x-(h-F.width)/2-_,T=F.y-(g-F.height)/2-_,C=h+_*2,$=g+_*2,O=`${eF}-${M}`,b=V.useRef(0);b.current=A,V.useEffect(()=>{if(j.current){const Z=br(j.current),ne=me=>{const{transform:Ie,d3Selection:Ce,d3Zoom:Be}=R.getState();if(me.sourceEvent.type!=="wheel"||!Ce||!Be)return;const ut=-me.sourceEvent.deltaY*(me.sourceEvent.deltaMode===1?.05:me.sourceEvent.deltaMode?1:.002)*S,Le=Ie[2]*Math.pow(2,ut);Be.scaleTo(Ce,Le)},ae=me=>{const{transform:Ie,d3Selection:Ce,d3Zoom:Be,translateExtent:ut,width:Le,height:Pe}=R.getState();if(me.sourceEvent.type!=="mousemove"||!Ce||!Be)return;const re=b.current*Math.max(1,Ie[2])*(x?-1:1),ge={x:Ie[0]-me.sourceEvent.movementX*re,y:Ie[1]-me.sourceEvent.movementY*re},q=[[0,0],[Le,Pe]],ye=Vs.translate(ge.x,ge.y).scale(Ie[2]),he=Be.constrain()(ye,q,ut);Be.transform(Ce,he)},ce=hR().on("zoom",y?ae:null).on("zoom.wheel",w?ne:null);return Z.call(ce),()=>{Z.on("zoom",null)}}},[y,w,x,S]);const B=m?Z=>{const ne=Lr(Z);m(Z,{x:ne[0],y:ne[1]})}:void 0,G=p?(Z,ne)=>{const ae=R.getState().nodeInternals.get(ne);p(Z,ae)}:void 0;return te.createElement(Gx,{position:f,style:t,className:bn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},te.createElement("svg",{width:D,height:L,viewBox:`${I} ${T} ${C} ${$}`,role:"img","aria-labelledby":O,ref:j,onClick:B},v&&te.createElement("title",{id:O},v),te.createElement(X$,{onClick:G,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),te.createElement("path",{className:"react-flow__minimap-mask",d:`M${I-_},${T-_}h${C+_*2}v${$+_*2}h${-C-_*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}lA.displayName="MiniMap";var tF=V.memo(lA);function nF(){return te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},te.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function rF(){return te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},te.createElement("path",{d:"M0 0h32v4.2H0z"}))}function sF(){return te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},te.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function iF(){return te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},te.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function oF(){return te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},te.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const gc=({children:t,className:e,...n})=>te.createElement("button",{type:"button",className:bn(["react-flow__controls-button",e]),...n},t);gc.displayName="ControlButton";const aF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),cA=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:d,position:f="bottom-left"})=>{const m=on(),[p,y]=V.useState(!1),{isInteractive:w,minZoomReached:v,maxZoomReached:x}=gt(aF,dn),{zoomIn:S,zoomOut:k,fitView:R}=n1();if(V.useEffect(()=>{y(!0)},[]),!p)return null;const j=()=>{S(),i==null||i()},F=()=>{k(),o==null||o()},P=()=>{R(s),a==null||a()},M=()=>{m.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)};return te.createElement(Gx,{className:bn(["react-flow__controls",u]),position:f,style:t,"data-testid":"rf__controls"},e&&te.createElement(te.Fragment,null,te.createElement(gc,{onClick:j,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},te.createElement(nF,null)),te.createElement(gc,{onClick:F,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},te.createElement(rF,null))),n&&te.createElement(gc,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},te.createElement(sF,null)),r&&te.createElement(gc,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},w?te.createElement(oF,null):te.createElement(iF,null)),d)};cA.displayName="Controls";var lF=V.memo(cA),Wr;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Wr||(Wr={}));function cF({color:t,dimensions:e,lineWidth:n}){return te.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function uF({color:t,radius:e}){return te.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const dF={[Wr.Dots]:"#91919a",[Wr.Lines]:"#eee",[Wr.Cross]:"#e2e2e2"},hF={[Wr.Dots]:1,[Wr.Lines]:1,[Wr.Cross]:6},fF=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function uA({id:t,variant:e=Wr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:a,className:l}){const u=V.useRef(null),{transform:d,patternId:f}=gt(fF,dn),m=o||dF[e],p=r||hF[e],y=e===Wr.Dots,w=e===Wr.Cross,v=Array.isArray(n)?n:[n,n],x=[v[0]*d[2]||1,v[1]*d[2]||1],S=p*d[2],k=w?[S,S]:x,R=y?[S/i,S/i]:[k[0]/i,k[1]/i];return te.createElement("svg",{className:bn(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},te.createElement("pattern",{id:f+t,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R[0]},-${R[1]})`},y?te.createElement(uF,{color:m,radius:S/i}):te.createElement(cF,{dimensions:k,color:m,lineWidth:s})),te.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+t})`}))}uA.displayName="Background";var pF=V.memo(uA);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vu(t){return t+.5|0}const ki=(t,e,n)=>Math.max(Math.min(t,n),e);function yc(t){return ki(Vu(t*2.55),0,255)}function zi(t){return ki(Vu(t*255),0,255)}function Ms(t){return ki(Vu(t/2.55)/100,0,1)}function xb(t){return ki(Vu(t*100),0,100)}const mr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zg=[..."0123456789ABCDEF"],mF=t=>zg[t&15],gF=t=>zg[(t&240)>>4]+zg[t&15],Bd=t=>(t&240)>>4===(t&15),yF=t=>Bd(t.r)&&Bd(t.g)&&Bd(t.b)&&Bd(t.a);function xF(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&mr[t[1]]*17,g:255&mr[t[2]]*17,b:255&mr[t[3]]*17,a:e===5?mr[t[4]]*17:255}:(e===7||e===9)&&(n={r:mr[t[1]]<<4|mr[t[2]],g:mr[t[3]]<<4|mr[t[4]],b:mr[t[5]]<<4|mr[t[6]],a:e===9?mr[t[7]]<<4|mr[t[8]]:255})),n}const wF=(t,e)=>t<255?e(t):"";function vF(t){var e=yF(t)?mF:gF;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wF(t.a,e):void 0}const bF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dA(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function _F(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function SF(t,e,n){const r=dA(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function EF(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function s1(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=EF(n,r,s,d,i),l=l*60+.5),[l|0,u||0,a]}function i1(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(zi)}function o1(t,e,n){return i1(dA,t,e,n)}function kF(t,e,n){return i1(SF,t,e,n)}function NF(t,e,n){return i1(_F,t,e,n)}function hA(t){return(t%360+360)%360}function RF(t){const e=bF.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?yc(+e[5]):zi(+e[5]));const s=hA(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=kF(s,i,o):e[1]==="hsv"?r=NF(s,i,o):r=o1(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function AF(t,e){var n=s1(t);n[0]=hA(n[0]+e),n=o1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function TF(t){if(!t)return;const e=s1(t),n=e[0],r=xb(e[1]),s=xb(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ms(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const wb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IF(){const t={},e=Object.keys(vb),n=Object.keys(wb);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,wb[i]);i=parseInt(vb[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Ld;function CF(t){Ld||(Ld=IF(),Ld.transparent=[0,0,0,0]);const e=Ld[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const OF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jF(t){const e=OF.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?yc(o):ki(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?yc(r):ki(r,0,255)),s=255&(e[4]?yc(s):ki(s,0,255)),i=255&(e[6]?yc(i):ki(i,0,255)),{r,g:s,b:i,a:n}}}function MF(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ms(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,da=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function PF(t,e,n){const r=da(Ms(t.r)),s=da(Ms(t.g)),i=da(Ms(t.b));return{r:zi(Gm(r+n*(da(Ms(e.r))-r))),g:zi(Gm(s+n*(da(Ms(e.g))-s))),b:zi(Gm(i+n*(da(Ms(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Dd(t,e,n){if(t){let r=s1(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=o1(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function fA(t,e){return t&&Object.assign(e||{},t)}function bb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=zi(t[3]))):(e=fA(t,{r:0,g:0,b:0,a:1}),e.a=zi(e.a)),e}function BF(t){return t.charAt(0)==="r"?jF(t):RF(t)}class _u{constructor(e){if(e instanceof _u)return e;const n=typeof e;let r;n==="object"?r=bb(e):n==="string"&&(r=xF(e)||CF(e)||BF(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=fA(this._rgb);return e&&(e.a=Ms(e.a)),e}set rgb(e){this._rgb=bb(e)}rgbString(){return this._valid?MF(this._rgb):void 0}hexString(){return this._valid?vF(this._rgb):void 0}hslString(){return this._valid?TF(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=PF(this._rgb,e._rgb,n)),this}clone(){return new _u(this.rgb)}alpha(e){return this._rgb.a=zi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dd(this._rgb,2,e),this}darken(e){return Dd(this._rgb,2,-e),this}saturate(e){return Dd(this._rgb,1,e),this}desaturate(e){return Dd(this._rgb,1,-e),this}rotate(e){return AF(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ns(){}const LF=(()=>{let t=0;return()=>t++})();function mt(t){return t==null}function nn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function jn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function es(t,e){return jn(t)?t:e}function Ye(t,e){return typeof t>"u"?e:t}const DF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ot(t,e,n,r){let s,i,o;if(nn(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Qe(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function vf(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function bf(t){if(nn(t))return t.map(bf);if(Qe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=bf(t[n[s]]);return e}return t}function pA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zF(t,e,n,r){if(!pA(t))return;const s=e[t],i=n[t];Qe(s)&&Qe(i)?Su(s,i,r):e[t]=bf(i)}function Su(t,e,n){const r=nn(e)?e:[e],s=r.length;if(!Qe(t))return t;n=n||{};const i=n.merger||zF;let o;for(let a=0;a<s;++a){if(o=r[a],!Qe(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function Mc(t,e){return Su(t,e,{merger:UF})}function UF(t,e,n){if(!pA(t))return;const r=e[t],s=n[t];Qe(r)&&Qe(s)?Mc(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=bf(s))}const _b={"":t=>t,x:t=>t.x,y:t=>t.y};function $F(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function FF(t){const e=$F(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function _f(t,e){return(_b[e]||(_b[e]=FF(e)))(t)}function a1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Sf=t=>typeof t<"u",Ki=t=>typeof t=="function",Sb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function HF(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const un=Math.PI,Kr=2*un,VF=Kr+un,Ef=Number.POSITIVE_INFINITY,WF=un/180,Ur=un/2,eo=un/4,Eb=un*2/3,mA=Math.log10,ul=Math.sign;function Pc(t,e,n){return Math.abs(t-e)<n}function kb(t){const e=Math.round(t);t=Pc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(mA(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function KF(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function GF(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Eu(t){return!GF(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function qF(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function YF(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function bo(t){return t*(un/180)}function XF(t){return t*(180/un)}function Nb(t){if(!jn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ZF(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*un&&(i+=Kr),{angle:i,distance:s}}function Ug(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function QF(t,e){return(t-e+VF)%Kr-un}function os(t){return(t%Kr+Kr)%Kr}function gA(t,e,n,r){const s=os(t),i=os(e),o=os(n),a=os(i-s),l=os(o-s),u=os(s-i),d=os(s-o);return s===i||s===o||r&&i===o||a>l&&u<d}function Er(t,e,n){return Math.max(e,Math.min(n,t))}function JF(t){return Er(t,-32768,32767)}function Ia(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function l1(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const _o=(t,e,n,r)=>l1(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),e9=(t,e,n)=>l1(t,n,r=>t[r][e]>=n);function t9(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const yA=["push","pop","shift","splice","unshift"];function n9(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yA.forEach(n=>{const r="_onData"+a1(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Rb(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(yA.forEach(i=>{delete t[i]}),delete t._chartjs)}function r9(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const xA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function wA(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,xA.call(window,()=>{r=!1,t.apply(e,n)}))}}function s9(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const c1=t=>t==="start"?"left":t==="end"?"right":"center",Tn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,i9=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function o9(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:m,minDefined:p,maxDefined:y}=o.getUserBounds();if(p){if(s=Math.min(_o(l,d,f).lo,n?r:_o(e,d,o.getPixelForValue(f)).lo),u){const w=l.slice(0,s+1).reverse().findIndex(v=>!mt(v[a.axis]));s-=Math.max(0,w)}s=Er(s,0,r-1)}if(y){let w=Math.max(_o(l,o.axis,m,!0).hi+1,n?0:_o(e,d,o.getPixelForValue(m),!0).hi+1);if(u){const v=l.slice(w-1).findIndex(x=>!mt(x[a.axis]));w+=Math.max(0,v)}i=Er(w,s,r)-s}else i=r-s}return{start:s,count:i}}function a9(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const zd=t=>t===0||t===1,Ab=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Kr/n)),Tb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Kr/n)+1,Bc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ur)+1,easeOutSine:t=>Math.sin(t*Ur),easeInOutSine:t=>-.5*(Math.cos(un*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zd(t)?t:Ab(t,.075,.3),easeOutElastic:t=>zd(t)?t:Tb(t,.075,.3),easeInOutElastic(t){return zd(t)?t:t<.5?.5*Ab(t*2,.1125,.45):.5+.5*Tb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Bc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Bc.easeInBounce(t*2)*.5:Bc.easeOutBounce(t*2-1)*.5+.5};function u1(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ib(t){return u1(t)?t:new _u(t)}function qm(t){return u1(t)?t:new _u(t).saturate(.5).darken(.1).hexString()}const l9=["x","y","borderWidth","radius","tension"],c9=["color","borderColor","backgroundColor"];function u9(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:c9},numbers:{type:"number",properties:l9}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function d9(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cb=new Map;function h9(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Cb.get(n);return r||(r=new Intl.NumberFormat(t,e),Cb.set(n,r)),r}function vA(t,e,n){return h9(e,n).format(t)}const f9={values(t){return nn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=p9(t,n)}const o=mA(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),vA(t,r,l)}};function p9(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var bA={formatters:f9};function m9(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const $o=Object.create(null),$g=Object.create(null);function Lc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Ym(t,e,n){return typeof e=="string"?Su(Lc(t,e),n):Su(Lc(t,""),e)}class g9{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>qm(s.backgroundColor),this.hoverBorderColor=(r,s)=>qm(s.borderColor),this.hoverColor=(r,s)=>qm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ym(this,e,n)}get(e){return Lc(this,e)}describe(e,n){return Ym($g,e,n)}override(e,n){return Ym($o,e,n)}route(e,n,r,s){const i=Lc(this,e),o=Lc(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return Qe(l)?Object.assign({},u,l):Ye(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Qt=new g9({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[u9,d9,m9]);function y9(t){return!t||mt(t.size)||mt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ob(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function to(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function jb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Fg(t,e,n,r){_A(t,e,n,r,null)}function _A(t,e,n,r,s){let i,o,a,l,u,d,f,m;const p=e.pointStyle,y=e.rotation,w=e.radius;let v=(y||0)*WF;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(v),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,r,s/2,w,0,0,Kr):t.arc(n,r,w,0,Kr),t.closePath();break;case"triangle":d=s?s/2:w,t.moveTo(n+Math.sin(v)*d,r-Math.cos(v)*w),v+=Eb,t.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*w),v+=Eb,t.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*w),t.closePath();break;case"rectRounded":u=w*.516,l=w-u,o=Math.cos(v+eo)*l,f=Math.cos(v+eo)*(s?s/2-u:l),a=Math.sin(v+eo)*l,m=Math.sin(v+eo)*(s?s/2-u:l),t.arc(n-f,r-a,u,v-un,v-Ur),t.arc(n+m,r-o,u,v-Ur,v),t.arc(n+f,r+a,u,v,v+Ur),t.arc(n-m,r+o,u,v+Ur,v+un),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*w,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}v+=eo;case"rectRot":f=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,a=Math.sin(v)*w,m=Math.sin(v)*(s?s/2:w),t.moveTo(n-f,r-a),t.lineTo(n+m,r-o),t.lineTo(n+f,r+a),t.lineTo(n-m,r+o),t.closePath();break;case"crossRot":v+=eo;case"cross":f=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,a=Math.sin(v)*w,m=Math.sin(v)*(s?s/2:w),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+m,r-o),t.lineTo(n-m,r+o);break;case"star":f=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,a=Math.sin(v)*w,m=Math.sin(v)*(s?s/2:w),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+m,r-o),t.lineTo(n-m,r+o),v+=eo,f=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,a=Math.sin(v)*w,m=Math.sin(v)*(s?s/2:w),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+m,r-o),t.lineTo(n-m,r+o);break;case"line":o=s?s/2:Math.cos(v)*w,a=Math.sin(v)*w,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(v)*(s?s/2:w),r+Math.sin(v)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ku(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function kp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Np(t){t.restore()}function x9(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function w9(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function v9(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),mt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function b9(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function _9(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Nu(t,e,n,r,s,i={}){const o=nn(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,v9(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&_9(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),mt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),b9(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function Hg(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*un,un,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,un,Ur,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Ur,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Ur,!0),t.lineTo(n+o.topLeft,r)}const S9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,E9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function k9(t,e){const n=(""+t).match(S9);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const N9=t=>+t||0;function SA(t,e){const n={},r=Qe(e),s=r?Object.keys(e):e,i=Qe(t)?r?o=>Ye(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=N9(i(o));return n}function R9(t){return SA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dc(t){return SA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Cr(t){const e=R9(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cn(t,e){t=t||{},e=e||Qt.font;let n=Ye(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ye(t.style,e.style);r&&!(""+r).match(E9)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ye(t.family,e.family),lineHeight:k9(Ye(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ye(t.weight,e.weight),string:""};return s.string=y9(s),s}function Ud(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function A9(t,e,n){const{min:r,max:s}=t,i=DF(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Xo(t,e){return Object.assign(Object.create(t),e)}function d1(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=RA("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>d1([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return kA(a,l,()=>B9(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Pb(a).includes(l)},ownKeys(a){return Pb(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function dl(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:EA(t,r),setContext:i=>dl(t,i,n,r),override:i=>dl(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return kA(i,o,()=>I9(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function EA(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ki(n)?n:()=>n,isIndexable:Ki(r)?r:()=>r}}const T9=(t,e)=>t?t+a1(e):e,h1=(t,e)=>Qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function I9(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Ki(a)&&o.isScriptable(e)&&(a=C9(e,a,t,n)),nn(a)&&a.length&&(a=O9(e,a,t,o.isIndexable)),h1(e,a)&&(a=dl(a,s,i&&i[e],o)),a}function C9(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),h1(t,l)&&(l=f1(s._scopes,s,t,l)),l}function O9(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Qe(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=f1(u,s,t,d);e.push(dl(f,i,o&&o[t],a))}}return e}function NA(t,e,n){return Ki(t)?t(e,n):t}const j9=(t,e)=>t===!0?e:typeof t=="string"?_f(e,t):void 0;function M9(t,e,n,r,s){for(const i of e){const o=j9(n,i);if(o){t.add(o);const a=NA(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function f1(t,e,n,r){const s=e._rootScopes,i=NA(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Mb(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Mb(a,o,i,l,r),l===null)?!1:d1(Array.from(a),[""],s,i,()=>P9(e,n,r))}function Mb(t,e,n,r,s){for(;n;)n=M9(t,e,n,r,s);return n}function P9(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return nn(s)&&Qe(n)?n:s||{}}function B9(t,e,n,r){let s;for(const i of e)if(s=RA(T9(i,t),n),typeof s<"u")return h1(t,s)?f1(n,r,t,s):s}function RA(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Pb(t){let e=t._keys;return e||(e=t._keys=L9(t._scopes)),e}function L9(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const D9=Number.EPSILON||1e-14,hl=(t,e)=>e<t.length&&!t[e].skip&&t[e],AA=t=>t==="x"?"y":"x";function z9(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=Ug(i,s),l=Ug(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,m=r*d;return{previous:{x:i.x-f*(o.x-s.x),y:i.y-f*(o.y-s.y)},next:{x:i.x+m*(o.x-s.x),y:i.y+m*(o.y-s.y)}}}function U9(t,e,n){const r=t.length;let s,i,o,a,l,u=hl(t,0);for(let d=0;d<r-1;++d)if(l=u,u=hl(t,d+1),!(!l||!u)){if(Pc(e[d],0,D9)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function $9(t,e,n="x"){const r=AA(n),s=t.length;let i,o,a,l=hl(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=hl(t,u+1),!a)continue;const d=a[n],f=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=f-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=f+i*e[u])}}function F9(t,e="x"){const n=AA(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,u=hl(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=hl(t,o+1),!!l){if(u){const d=u[e]-l[e];s[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?ul(s[o-1])!==ul(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}U9(t,s,i),$9(t,i,e)}function $d(t,e,n){return Math.max(Math.min(t,n),e)}function H9(t,e){let n,r,s,i,o,a=ku(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&ku(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=$d(s.cp1x,e.left,e.right),s.cp1y=$d(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=$d(s.cp2x,e.left,e.right),s.cp2y=$d(s.cp2y,e.top,e.bottom)))}function V9(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")F9(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=z9(u,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&H9(t,n)}function p1(){return typeof window<"u"&&typeof document<"u"}function m1(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Rp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function W9(t,e){return Rp(t).getPropertyValue(e)}const K9=["top","right","bottom","left"];function Io(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=K9[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const G9=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function q9(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(G9(s,i,t.target))a=s,l=i;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ao(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Rp(n),i=s.boxSizing==="border-box",o=Io(s,"padding"),a=Io(s,"border","width"),{x:l,y:u,box:d}=q9(t,n),f=o.left+(d&&a.left),m=o.top+(d&&a.top);let{width:p,height:y}=e;return i&&(p-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((u-m)/y*n.height/r)}}function Y9(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&m1(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Rp(i),l=Io(a,"border","width"),u=Io(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=kf(a.maxWidth,i,"clientWidth"),s=kf(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ef,maxHeight:s||Ef}}const Fd=t=>Math.round(t*10)/10;function X9(t,e,n,r){const s=Rp(t),i=Io(s,"margin"),o=kf(s.maxWidth,t,"clientWidth")||Ef,a=kf(s.maxHeight,t,"clientHeight")||Ef,l=Y9(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const m=Io(s,"border","width"),p=Io(s,"padding");u-=p.width+m.width,d-=p.height+m.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Fd(Math.min(u,o,l.maxWidth)),d=Fd(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Fd(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=Fd(Math.floor(d*r))),{width:u,height:d}}function Bb(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Z9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};p1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Lb(t,e){const n=W9(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function lo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Q9(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function J9(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=lo(t,s,n),a=lo(s,i,n),l=lo(i,e,n),u=lo(o,a,n),d=lo(a,l,n);return lo(u,d,n)}const e7=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},t7=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Va(t,e,n){return t?e7(e,n):t7()}function TA(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function IA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function CA(t){return t==="angle"?{between:gA,compare:QF,normalize:os}:{between:Ia,compare:(e,n)=>e-n,normalize:e=>e}}function Db({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function n7(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=CA(r),l=e.length;let{start:u,end:d,loop:f}=t,m,p;if(f){for(u+=l,d+=l,m=0,p=l;m<p&&o(a(e[u%l][r]),s,i);++m)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function OA(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=CA(r),{start:d,end:f,loop:m,style:p}=n7(t,e,n),y=[];let w=!1,v=null,x,S,k;const R=()=>l(s,k,x)&&a(s,k)!==0,j=()=>a(i,x)===0||l(i,k,x),F=()=>w||R(),P=()=>!w||j();for(let M=d,D=d;M<=f;++M)S=e[M%o],!S.skip&&(x=u(S[r]),x!==k&&(w=l(x,s,i),v===null&&F()&&(v=a(x,s)===0?M:D),v!==null&&P()&&(y.push(Db({start:v,end:M,loop:m,count:o,style:p})),v=null),D=M,k=x));return v!==null&&y.push(Db({start:v,end:f,loop:m,count:o,style:p})),y}function jA(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=OA(r[s],t.points,e);i.length&&n.push(...i)}return n}function r7(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function s7(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function i7(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=r7(n,s,i,r);if(r===!0)return zb(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return zb(t,s7(n,o,l,u),n,e)}function zb(t,e,n,r){return!r||!r.setContext||!n?e:o7(t,e,n,r)}function o7(t,e,n,r){const s=t._chart.getContext(),i=Ub(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,f=e[0].start,m=f;function p(y,w,v,x){const S=a?-1:1;if(y!==w){for(y+=l;n[y%l].skip;)y-=S;for(;n[w%l].skip;)w+=S;y%l!==w%l&&(u.push({start:y%l,end:w%l,loop:v,style:x}),d=x,f=w%l)}}for(const y of e){f=a?f:y.start;let w=n[f%l],v;for(m=f+1;m<=y.end;m++){const x=n[m%l];v=Ub(r.setContext(Xo(s,{type:"segment",p0:w,p1:x,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:o}))),a7(v,d)&&p(f,m-1,y.loop,d),w=x,d=v}f<m-1&&p(f,m-1,y.loop,d)}return u}function Ub(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function a7(t,e){if(!e)return!1;const n=[],r=function(s,i){return u1(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Hd(t,e,n){return t.options.clip?t[n]:e[n]}function l7(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Hd(n,e,"left"),right:Hd(n,e,"right"),top:Hd(r,e,"top"),bottom:Hd(r,e,"bottom")}:e}function MA(t,e){const n=e._clip;if(n.disabled)return!1;const r=l7(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class c7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=xA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ts=new c7;const $b="transparent",u7={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Ib(t||$b),s=r.valid&&Ib(e||$b);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class d7{constructor(e,n,r,s){const i=n[r];s=Ud([e.to,s,i,e.from]);const o=Ud([e.from,i,s]);this._active=!0,this._fn=e.fn||u7[e.type||typeof o],this._easing=Bc[e.easing]||Bc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ud([e.to,n,s,e.from]),this._from=Ud([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class PA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Qe(e))return;const n=Object.keys(Qt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Qe(i))return;const o={};for(const a of n)o[a]=i[a];(nn(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=f7(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&h7(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const m=r.get(u);if(f)if(m&&f.active()){f.update(m,d,a);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}i[u]=f=new d7(m,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ts.add(this._chart,r),!0}}function h7(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function f7(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fb(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function p7(t,e,n){if(n===!1)return!1;const r=Fb(t,n),s=Fb(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function m7(t){let e,n,r,s;return Qe(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function BA(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Hb(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}u=t.values[l],jn(u)&&(i||e===0||ul(e)===ul(u))&&(e+=u)}return!d&&!r.all?0:e}function g7(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function Xm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function y7(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function x7(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function w7(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Vb(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Wb(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,d=y7(i,o,r),f=e.length;let m;for(let p=0;p<f;++p){const y=e[p],{[l]:w,[u]:v}=y,x=y._stacks||(y._stacks={});m=x[u]=w7(s,d,w),m[a]=v,m._top=Vb(m,o,!0,r.type),m._bottom=Vb(m,o,!1,r.type);const S=m._visualValues||(m._visualValues={});S[a]=v}}function Zm(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function v7(t,e){return Xo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function b7(t,e,n){return Xo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function sc(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Qm=t=>t==="reset"||t==="none",Kb=(t,e)=>e?t:Object.assign({},t),_7=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:BA(n,!0),values:null};class zc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,m,p,y)=>f==="x"?m:f==="r"?y:p,i=n.xAxisID=Ye(r.xAxisID,Zm(e,"x")),o=n.yAxisID=Ye(r.yAxisID,Zm(e,"y")),a=n.rAxisID=Ye(r.rAxisID,Zm(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rb(this._data,this),e._stacked&&sc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Qe(n)){const s=this._cachedMeta;this._data=g7(n,s)}else if(r!==n){if(r){Rb(r,this);const s=this._cachedMeta;sc(s),s._parsed=[]}n&&Object.isExtensible(n)&&n9(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Xm(n.vScale,n),n.stack!==r.stack&&(s=!0,sc(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(Wb(this,n._parsed),n._stacked=Xm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{nn(s[e])?m=this.parseArrayData(r,s,e,n):Qe(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);const p=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<n;++d)r._parsed[d+e]=f=m[d],l&&(p()&&(l=!1),u=f);r._sorted=l}o&&Wb(this,m)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let m,p,y;for(m=0,p=s;m<p;++m)y=m+r,f[m]={[a]:d||i.parse(u[y],y),[l]:o.parse(n[y],y)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,f,m,p;for(d=0,f=s;d<f;++d)m=d+r,p=n[m],u[d]={x:i.parse(_f(p,a),m),y:o.parse(_f(p,l),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:BA(s,!0),values:n._stacks[e.axis]._visualValues};return Hb(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=Hb(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=_7(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=x7(a);let m,p;function y(){p=s[m];const w=p[a.axis];return!jn(p[e.axis])||d>w||f<w}for(m=0;m<o&&!(!y()&&(this.updateRangeFromParsed(u,e,p,l),i));++m);if(i){for(m=o-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],jn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=m7(Ye(this.options.clip,p7(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=b7(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=v7(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&Sf(r);if(a)return Kb(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Qt.elements[e]),y=()=>this.getContext(r,s,n),w=u.resolveNamedOptions(m,p,y,f);return w.$shared&&(w.$shared=l,i[o]=Object.freeze(Kb(w,l))),w}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(m,this.getContext(e,r,n))}const u=new PA(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Qm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Qm(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Qm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&sc(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ee(zc,"defaults",{}),Ee(zc,"datasetElementType",null),Ee(zc,"dataElementType",null);class _h extends zc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=o9(n,s,o);this._drawStart=a,this._drawCount=l,a9(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),m=o.axis,p=a.axis,{spanGaps:y,segment:w}=this.options,v=Eu(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",S=n+r,k=e.length;let R=n>0&&this.getParsed(n-1);for(let j=0;j<k;++j){const F=e[j],P=x?F:{};if(j<n||j>=S){P.skip=!0;continue}const M=this.getParsed(j),D=mt(M[p]),L=P[m]=o.getPixelForValue(M[m],j),z=P[p]=i||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[p],j);P.skip=isNaN(L)||isNaN(z)||D,P.stop=j>0&&Math.abs(M[m]-R[m])>v,w&&(P.parsed=M,P.raw=u.data[j]),f&&(P.options=d||this.resolveDataElementOptions(j,F.active?"active":s)),x||this.updateElement(F,j,P,s),R=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ee(_h,"id","line"),Ee(_h,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ee(_h,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g1{constructor(e){Ee(this,"options");this.options=e||{}}static override(e){Object.assign(g1.prototype,e)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var S7={_date:g1};function E7(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?e9:_o;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(i,e,n-f),p=u(i,e,n+f);return{lo:m.lo,hi:p.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:m}=t,p=m.slice(0,d.lo+1).reverse().findIndex(w=>!mt(w[f.axis]));d.lo-=Math.max(0,p);const y=m.slice(d.hi).findIndex(w=>!mt(w[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function Ap(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:f,hi:m}=E7(i[a],e,o,s);for(let p=f;p<=m;++p){const y=d[p];y.skip||r(y,u,p)}}}function k7(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Jm(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Ap(t,n,e,function(a,l,u){!s&&!ku(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function N7(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=ZF(o,{x:e.x,y:e.y});gA(f,u,d)&&s.push({element:o,datasetIndex:a,index:l})}return Ap(t,n,e,i),s}function R7(t,e,n,r,s,i){let o=[];const a=k7(n);let l=Number.POSITIVE_INFINITY;function u(d,f,m){const p=d.inRange(e.x,e.y,s);if(r&&!p)return;const y=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!p)return;const v=a(e,y);v<l?(o=[{element:d,datasetIndex:f,index:m}],l=v):v===l&&o.push({element:d,datasetIndex:f,index:m})}return Ap(t,n,e,u),o}function e0(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?N7(t,e,n,s):R7(t,e,n,r,s,i)}function Gb(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ap(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var A7={modes:{index(t,e,n,r){const s=ao(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Jm(t,s,i,r,o):e0(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=ao(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Jm(t,s,i,r,o):e0(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=ao(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Jm(t,s,i,r,o)},nearest(t,e,n,r){const s=ao(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return e0(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=ao(e,t);return Gb(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ao(e,t);return Gb(t,s,"y",n.intersect,r)}}};const LA=["left","top","right","bottom"];function ic(t,e){return t.filter(n=>n.pos===e)}function qb(t,e){return t.filter(n=>LA.indexOf(n.pos)===-1&&n.box.axis===e)}function oc(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function T7(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function I7(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!LA.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function C7(t,e){const n=I7(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function O7(t){const e=T7(t),n=oc(e.filter(u=>u.box.fullSize),!0),r=oc(ic(e,"left"),!0),s=oc(ic(e,"right")),i=oc(ic(e,"top"),!0),o=oc(ic(e,"bottom")),a=qb(e,"x"),l=qb(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:ic(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Yb(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function DA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function j7(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!Qe(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&DA(o,i.getPadding());const a=Math.max(0,e.outerWidth-Yb(o,t,"left","right")),l=Math.max(0,e.outerHeight-Yb(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function M7(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function P7(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function xc(t,e,n,r){const s=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,P7(a.horizontal,e));const{same:f,other:m}=j7(e,n,a,r);u|=f&&s.length,d=d||m,l.fullSize||s.push(a)}return u&&xc(s,e,n,r)||d}function Vd(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Xb(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,m=u.size||l.height;Sf(u.start)&&(o=u.start),l.fullSize?Vd(l,s.left,o,n.outerWidth-s.right-s.left,m):Vd(l,e.left+u.placed,o,f,m),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,m=u.size||l.width;Sf(u.start)&&(i=u.start),l.fullSize?Vd(l,i,s.top,m,n.outerHeight-s.bottom-s.top):Vd(l,i,e.top+u.placed,m,f),u.start=i,u.placed+=f,i=l.right}}e.x=i,e.y=o}var kr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Cr(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=O7(t.boxes),l=a.vertical,u=a.horizontal;ot(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const d=l.reduce((w,v)=>v.box.options&&v.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),m=Object.assign({},s);DA(m,Cr(r));const p=Object.assign({maxPadding:m,w:i,h:o,x:s.left,y:s.top},s),y=C7(l.concat(u),f);xc(a.fullSize,p,f,y),xc(l,p,f,y),xc(u,p,f,y)&&xc(l,p,f,y),M7(p),Xb(a.leftAndTop,p,f,y),p.x+=p.w,p.y+=p.h,Xb(a.rightAndBottom,p,f,y),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ot(a.chartArea,w=>{const v=w.box;Object.assign(v,t.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class zA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class B7 extends zA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sh="$chartjs",L7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Zb=t=>t===null||t==="";function D7(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Sh]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Zb(s)){const i=Lb(t,"width");i!==void 0&&(t.width=i)}if(Zb(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Lb(t,"height");i!==void 0&&(t.height=i)}return t}const UA=Z9?{passive:!0}:!1;function z7(t,e,n){t&&t.addEventListener(e,n,UA)}function U7(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,UA)}function $7(t,e){const n=L7[t.type]||t.type,{x:r,y:s}=ao(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Nf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function F7(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Nf(a.addedNodes,r),o=o&&!Nf(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function H7(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Nf(a.removedNodes,r),o=o&&!Nf(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ru=new Map;let Qb=0;function $A(){const t=window.devicePixelRatio;t!==Qb&&(Qb=t,Ru.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function V7(t,e){Ru.size||window.addEventListener("resize",$A),Ru.set(t,e)}function W7(t){Ru.delete(t),Ru.size||window.removeEventListener("resize",$A)}function K7(t,e,n){const r=t.canvas,s=r&&m1(r);if(!s)return;const i=wA((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),V7(t,i),o}function t0(t,e,n){n&&n.disconnect(),e==="resize"&&W7(t)}function G7(t,e,n){const r=t.canvas,s=wA(i=>{t.ctx!==null&&n($7(i,t))},t);return z7(r,e,s),s}class q7 extends zA{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(D7(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Sh])return!1;const r=n[Sh].initial;["height","width"].forEach(i=>{const o=r[i];mt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Sh],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:F7,detach:H7,resize:K7}[n]||G7;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:t0,detach:t0,resize:t0}[n]||U7)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return X9(e,n,r,s)}isAttached(e){const n=e&&m1(e);return!!(n&&n.isConnected)}}function Y7(t){return!p1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?B7:q7}class Zs{constructor(){Ee(this,"x");Ee(this,"y");Ee(this,"active",!1);Ee(this,"options");Ee(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Eu(this.x)&&Eu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Ee(Zs,"defaults",{}),Ee(Zs,"defaultRoutes");function X7(t,e){const n=t.options.ticks,r=Z7(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?J7(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return eH(e,u,i,o/s),u;const d=Q7(i,e,s);if(o>0){let f,m;const p=o>1?Math.round((l-a)/(o-1)):null;for(Wd(e,u,d,mt(p)?0:a-p,a),f=0,m=o-1;f<m;f++)Wd(e,u,d,i[f],i[f+1]);return Wd(e,u,d,l,mt(p)?e.length:l+p),u}return Wd(e,u,d),u}function Z7(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Q7(t,e,n){const r=tH(t),s=e.length/n;if(!r)return Math.max(s,1);const i=KF(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function J7(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function eH(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Wd(t,e,n,r,s){const i=Ye(r,0),o=Math.min(Ye(s,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function tH(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const nH=t=>t==="left"?"right":t==="right"?"left":t,Jb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,e_=(t,e)=>Math.min(e||t,t);function t_(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function rH(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-a||l>o+a)))return l}function sH(t,e){ot(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function ac(t){return t.drawTicks?t.tickLength:0}function n_(t,e){if(!t.display)return 0;const n=Cn(t.font,e),r=Cr(t.padding);return(nn(t.text)?t.text.length:1)*n.lineHeight+r.height}function iH(t,e){return Xo(t,{scale:e,type:"scale"})}function oH(t,e,n){return Xo(t,{tick:n,index:e,type:"tick"})}function aH(t,e,n){let r=c1(t);return(n&&e!=="right"||!n&&e==="right")&&(r=nH(r)),r}function lH(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,m,p,y;const w=o-s,v=a-i;if(t.isHorizontal()){if(p=Tn(r,i,a),Qe(n)){const x=Object.keys(n)[0],S=n[x];y=d[x].getPixelForValue(S)+w-e}else n==="center"?y=(u.bottom+u.top)/2+w-e:y=Jb(t,n,e);m=a-i}else{if(Qe(n)){const x=Object.keys(n)[0],S=n[x];p=d[x].getPixelForValue(S)-v+e}else n==="center"?p=(u.left+u.right)/2-v+e:p=Jb(t,n,e);y=Tn(r,o,s),f=n==="left"?-Ur:Ur}return{titleX:p,titleY:y,maxWidth:m,rotation:f}}class Nl extends Zs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=es(e,Number.POSITIVE_INFINITY),n=es(n,Number.NEGATIVE_INFINITY),r=es(r,Number.POSITIVE_INFINITY),s=es(s,Number.NEGATIVE_INFINITY),{min:es(e,r),max:es(n,s),minDefined:jn(e),maxDefined:jn(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:es(n,es(r,n)),max:es(r,es(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=A9(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?t_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=X7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xt(this.options.afterUpdate,[this])}beforeSetDimensions(){xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=xt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=e_(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,p=Er(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),f+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-ac(e.grid)-n.padding-n_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),o=XF(Math.min(Math.asin(Er((d.highest.height+6)/a,-1,1)),Math.asin(Er(l/u,-1,1))-Math.asin(Er(m/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=n_(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ac(i)+l):(e.height=this.maxHeight,e.width=ac(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),p=r.padding*2,y=bo(this.labelRotation),w=Math.cos(y),v=Math.sin(y);if(a){const x=r.mirror?0:v*f.width+w*m.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=r.mirror?0:w*f.width+v*m.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(u,d,v,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;l?u?(m=s*e.width,p=r*n.height):(m=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,p=n.width/2),this.paddingLeft=Math.max((m-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)mt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=t_(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/e_(n,r));let u=0,d=0,f,m,p,y,w,v,x,S,k,R,j;for(f=0;f<n;f+=l){if(y=e[f].label,w=this._resolveTickFontOptions(f),s.font=v=w.string,x=i[v]=i[v]||{data:{},gc:[]},S=w.lineHeight,k=R=0,!mt(y)&&!nn(y))k=Ob(s,x.data,x.gc,k,y),R=S;else if(nn(y))for(m=0,p=y.length;m<p;++m)j=y[m],!mt(j)&&!nn(j)&&(k=Ob(s,x.data,x.gc,k,j),R+=S);o.push(k),a.push(R),u=Math.max(k,u),d=Math.max(R,d)}sH(i,n);const F=o.indexOf(u),P=a.indexOf(d),M=D=>({width:o[D]||0,height:a[D]||0});return{first:M(0),last:M(n-1),widest:M(F),highest:M(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return JF(this._alignToPixels?to(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=oH(this.getContext(),e,r))}return this.$context||(this.$context=iH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=bo(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),m=ac(i),p=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,v=w/2,x=function(_){return to(r,_,w)};let S,k,R,j,F,P,M,D,L,z,H,A;if(o==="top")S=x(this.bottom),P=this.bottom-m,D=S-v,z=x(e.top)+v,A=e.bottom;else if(o==="bottom")S=x(this.top),z=e.top,A=x(e.bottom)-v,P=S+v,D=this.top+m;else if(o==="left")S=x(this.right),F=this.right-m,M=S-v,L=x(e.left)+v,H=e.right;else if(o==="right")S=x(this.left),L=e.left,H=x(e.right)-v,F=S+v,M=this.left+m;else if(n==="x"){if(o==="center")S=x((e.top+e.bottom)/2+.5);else if(Qe(o)){const _=Object.keys(o)[0],I=o[_];S=x(this.chart.scales[_].getPixelForValue(I))}z=e.top,A=e.bottom,P=S+v,D=P+m}else if(n==="y"){if(o==="center")S=x((e.left+e.right)/2);else if(Qe(o)){const _=Object.keys(o)[0],I=o[_];S=x(this.chart.scales[_].getPixelForValue(I))}F=S-v,M=F-m,L=e.left,H=e.right}const h=Ye(s.ticks.maxTicksLimit,f),g=Math.max(1,Math.ceil(f/h));for(k=0;k<f;k+=g){const _=this.getContext(k),I=i.setContext(_),T=a.setContext(_),C=I.lineWidth,$=I.color,O=T.dash||[],b=T.dashOffset,B=I.tickWidth,G=I.tickColor,Z=I.tickBorderDash||[],ne=I.tickBorderDashOffset;R=rH(this,k,l),R!==void 0&&(j=to(r,R,C),u?F=M=L=H=j:P=D=z=A=j,p.push({tx1:F,ty1:P,tx2:M,ty2:D,x1:L,y1:z,x2:H,y2:A,width:C,color:$,borderDash:O,borderDashOffset:b,tickWidth:B,tickColor:G,tickBorderDash:Z,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=S,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,m=ac(r.grid),p=m+d,y=f?-d:p,w=-bo(this.labelRotation),v=[];let x,S,k,R,j,F,P,M,D,L,z,H,A="middle";if(s==="top")F=this.bottom-y,P=this._getXAxisLabelAlignment();else if(s==="bottom")F=this.top+y,P=this._getXAxisLabelAlignment();else if(s==="left"){const g=this._getYAxisLabelAlignment(m);P=g.textAlign,j=g.x}else if(s==="right"){const g=this._getYAxisLabelAlignment(m);P=g.textAlign,j=g.x}else if(n==="x"){if(s==="center")F=(e.top+e.bottom)/2+p;else if(Qe(s)){const g=Object.keys(s)[0],_=s[g];F=this.chart.scales[g].getPixelForValue(_)+p}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(e.left+e.right)/2-p;else if(Qe(s)){const g=Object.keys(s)[0],_=s[g];j=this.chart.scales[g].getPixelForValue(_)}P=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));const h=this._getLabelSizes();for(x=0,S=a.length;x<S;++x){k=a[x],R=k.label;const g=i.setContext(this.getContext(x));M=this.getPixelForTick(x)+i.labelOffset,D=this._resolveTickFontOptions(x),L=D.lineHeight,z=nn(R)?R.length:1;const _=z/2,I=g.color,T=g.textStrokeColor,C=g.textStrokeWidth;let $=P;o?(j=M,P==="inner"&&(x===S-1?$=this.options.reverse?"left":"right":x===0?$=this.options.reverse?"right":"left":$="center"),s==="top"?u==="near"||w!==0?H=-z*L+L/2:u==="center"?H=-h.highest.height/2-_*L+L:H=-h.highest.height+L/2:u==="near"||w!==0?H=L/2:u==="center"?H=h.highest.height/2-_*L:H=h.highest.height-z*L,f&&(H*=-1),w!==0&&!g.showLabelBackdrop&&(j+=L/2*Math.sin(w))):(F=M,H=(1-z)*L/2);let O;if(g.showLabelBackdrop){const b=Cr(g.backdropPadding),B=h.heights[x],G=h.widths[x];let Z=H-b.top,ne=0-b.left;switch(A){case"middle":Z-=B/2;break;case"bottom":Z-=B;break}switch(P){case"center":ne-=G/2;break;case"right":ne-=G;break;case"inner":x===S-1?ne-=G:x>0&&(ne-=G/2);break}O={left:ne,top:Z,width:G+b.width,height:B+b.height,color:g.backdropColor}}v.push({label:R,font:D,textOffset:H,options:{rotation:w,color:I,strokeColor:T,strokeWidth:C,textAlign:$,textBaseline:A,translation:[j,F],backdrop:O}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-bo(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=to(e,this.left,o)-o/2,d=to(e,this.right,a)+a/2,f=m=l):(f=to(e,this.top,o)-o/2,m=to(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&kp(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;Nu(r,u,0,d,l,a)}s&&Np(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Cn(r.font),o=Cr(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Qe(n)?(l+=o.bottom,nn(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=lH(this,l,n,a);Nu(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:m,textAlign:aH(a,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ye(e.grid&&e.grid.z,-1),s=Ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Nl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Cn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Kd{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;dH(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,cH(e,o,r),this.override&&Qt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Qt[s]&&(delete Qt[s][r],this.override&&delete $o[r])}}function cH(t,e,n){const r=Su(Object.create(null),[n?Qt.get(n):{},Qt.get(e),t.defaults]);Qt.set(e,r),t.defaultRoutes&&uH(e,t.defaultRoutes),t.descriptors&&Qt.describe(e,t.descriptors)}function uH(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Qt.route(i,s,l,a)})}function dH(t){return"id"in t&&"defaults"in t}class hH{constructor(){this.controllers=new Kd(zc,"datasets",!0),this.elements=new Kd(Zs,"elements"),this.plugins=new Kd(Object,"plugins"),this.scales=new Kd(Nl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ot(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=a1(e);xt(r["before"+s],[],r),n[e](r),xt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var is=new hH;class fH{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(xt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Ye(r.options&&r.options.plugins,{}),i=pH(r);return s===!1&&!n?[]:gH(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function pH(t){const e={},n=[],r=Object.keys(is.plugins.items);for(let i=0;i<r.length;i++)n.push(is.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function mH(t,e){return!e&&t===!1?null:t===!0?{}:t}function gH(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=mH(r[l],s);u!==null&&i.push({plugin:a,options:yH(t.config,{plugin:a,local:n[l]},u,o)})}return i}function yH(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vg(t,e){const n=Qt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function xH(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function wH(t,e){return t===e?"_index_":"_value_"}function r_(t){if(t==="x"||t==="y"||t==="r")return t}function vH(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wg(t,...e){if(r_(t))return t;for(const n of e){const r=n.axis||vH(n.position)||t.length>1&&r_(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function s_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function bH(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return s_(t,"x",n[0])||s_(t,"y",n[0])}return{}}function _H(t,e){const n=$o[t.type]||{scales:{}},r=e.scales||{},s=Vg(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Qe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Wg(o,a,bH(o,t),Qt.scales[a.type]),u=wH(l,s),d=n.scales||{};i[o]=Mc(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Vg(a,e),d=($o[a]||{}).scales||{};Object.keys(d).forEach(f=>{const m=xH(f,l),p=o[m+"AxisID"]||m;i[p]=i[p]||Object.create(null),Mc(i[p],[{axis:m},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];Mc(a,[Qt.scales[a.type],Qt.scale])}),i}function FA(t){const e=t.options||(t.options={});e.plugins=Ye(e.plugins,{}),e.scales=_H(t,e)}function HA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function SH(t){return t=t||{},t.data=HA(t.data),FA(t),t}const i_=new Map,VA=new Set;function Gd(t,e){let n=i_.get(t);return n||(n=e(),i_.set(t,n),VA.add(n)),n}const lc=(t,e,n)=>{const r=_f(e,n);r!==void 0&&t.add(r)};class EH{constructor(e){this._config=SH(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=HA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),FA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Gd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Gd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Gd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Gd(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>lc(l,e,f))),d.forEach(f=>lc(l,s,f)),d.forEach(f=>lc(l,$o[i]||{},f)),d.forEach(f=>lc(l,Qt,f)),d.forEach(f=>lc(l,$g,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),VA.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,$o[n]||{},Qt.datasets[n]||{},{type:n},Qt,$g]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=o_(this._resolverCache,e,s);let l=o;if(NH(o,n)){i.$shared=!1,r=Ki(r)?r():r;const u=this.createResolver(e,r,a);l=dl(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=o_(this._resolverCache,e,r);return Qe(n)?dl(i,n,void 0,s):i}}function o_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:d1(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const kH=t=>Qe(t)&&Object.getOwnPropertyNames(t).some(e=>Ki(t[e]));function NH(t,e){const{isScriptable:n,isIndexable:r}=EA(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Ki(a)||kH(a))||o&&nn(a))return!0}return!1}var RH="4.5.0";const AH=["top","bottom","left","right","chartArea"];function a_(t,e){return t==="top"||t==="bottom"||AH.indexOf(t)===-1&&e==="x"}function l_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function c_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xt(n&&n.onComplete,[t],e)}function TH(t){const e=t.chart,n=e.options.animation;xt(n&&n.onProgress,[t],e)}function WA(t){return p1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Eh={},u_=t=>{const e=WA(t);return Object.values(Eh).filter(n=>n.canvas===e).pop()};function IH(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function CH(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var ui;let Tp=(ui=class{static register(...e){is.add(...e),d_()}static unregister(...e){is.remove(...e),d_()}constructor(e,n){const r=this.config=new EH(n),s=WA(e),i=u_(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Y7(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=LF(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=s9(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Eh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ts.listen(this,"complete",c_),Ts.listen(this,"progress",TH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return mt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jb(this.canvas,this.ctx),this}stop(){return Ts.stop(this),this}resize(e,n){Ts.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Bb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),xt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ot(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Wg(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ot(i,o=>{const a=o.options,l=a.id,u=Wg(l,a),d=Ye(a.type,o.dtype);(a.position===void 0||a_(a.position,u)!==a_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const m=is.getScale(d);f=new m({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),ot(s,(o,a)=>{o||delete r[a]}),ot(r,o=>{kr.configure(this,o,o.options),kr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(l_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Vg(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=is.getController(a),{datasetElementType:u,dataElementType:d}=Qt.datasets[a];Object.assign(l,{dataElementType:is.getElement(d),datasetElementType:u&&is.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(m),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||ot(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(l_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ot(this.scales,e=>{kr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Sb(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;IH(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Sb(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ot(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ki(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ts.has(this)?this.attached&&!Ts.running(this)&&Ts.start(this):(this.draw(),c_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=MA(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&kp(n,s),e.controller.draw(),s&&Np(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ku(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=A7.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Sf(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ts.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Eh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ot(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ot(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ot(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!vf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=HF(e),u=CH(e,this._lastEvent,r,l);r&&(this._lastEvent=null,xt(i.onHover,[e,a,this],this),l&&xt(i.onClick,[e,a,this],this));const d=!vf(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Ee(ui,"defaults",Qt),Ee(ui,"instances",Eh),Ee(ui,"overrides",$o),Ee(ui,"registry",is),Ee(ui,"version",RH),Ee(ui,"getChart",u_),ui);function d_(){return ot(Tp.instances,t=>t._plugins.invalidate())}function KA(t,e,n=e){t.lineCap=Ye(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ye(n.borderDash,e.borderDash)),t.lineDashOffset=Ye(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ye(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ye(n.borderWidth,e.borderWidth),t.strokeStyle=Ye(n.borderColor,e.borderColor)}function OH(t,e,n){t.lineTo(n.x,n.y)}function jH(t){return t.stepped?x9:t.tension||t.cubicInterpolationMode==="monotone"?w9:OH}function GA(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function MH(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:u}=GA(s,n,r),d=jH(i);let{move:f=!0,reverse:m}=r||{},p,y,w;for(p=0;p<=u;++p)y=s[(a+(m?u-p:p))%o],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):d(t,w,y,m,i.stepped),w=y);return l&&(y=s[(a+(m?u:0))%o],d(t,w,y,m,i.stepped)),!!l}function PH(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=GA(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,f=0,m,p,y,w,v,x;const S=R=>(o+(u?a-R:R))%i,k=()=>{w!==v&&(t.lineTo(d,v),t.lineTo(d,w),t.lineTo(d,x))};for(l&&(p=s[S(0)],t.moveTo(p.x,p.y)),m=0;m<=a;++m){if(p=s[S(m)],p.skip)continue;const R=p.x,j=p.y,F=R|0;F===y?(j<w?w=j:j>v&&(v=j),d=(f*d+R)/++f):(k(),t.lineTo(R,j),y=F,f=0,w=v=j),x=j}k()}function Kg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?PH:MH}function BH(t){return t.stepped?Q9:t.tension||t.cubicInterpolationMode==="monotone"?J9:lo}function LH(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),KA(t,e.options),t.stroke(s)}function DH(t,e,n,r){const{segments:s,options:i}=e,o=Kg(e);for(const a of s)KA(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const zH=typeof Path2D=="function";function UH(t,e,n,r){zH&&!e.options.segment?LH(t,e,n,r):DH(t,e,n,r)}class Ni extends Zs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;V9(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=i7(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=jA(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=BH(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:m}=o[u],p=i[f],y=i[m];if(p===y){a.push(p);continue}const w=Math.abs((s-p[n])/(y[n]-p[n])),v=l(p,y,w,r.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Kg(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=Kg(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),UH(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ee(Ni,"id","line"),Ee(Ni,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ee(Ni,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ee(Ni,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function h_(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class kh extends Zs{constructor(n){super();Ee(this,"parsed");Ee(this,"skip");Ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return h_(this,n,"x",r)}inYRange(n,r){return h_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!ku(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Fg(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ee(kh,"id","point"),Ee(kh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ee(kh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $H(t,e,n){const r=t.segments,s=t.points,i=e.points,o=[];for(const a of r){let{start:l,end:u}=a;u=Ip(l,u,s);const d=Gg(n,s[l],s[u],a.loop);if(!e.segments){o.push({source:a,target:d,start:s[l],end:s[u]});continue}const f=jA(e,d);for(const m of f){const p=Gg(n,i[m.start],i[m.end],m.loop),y=OA(a,s,p);for(const w of y)o.push({source:w,target:m,start:{[n]:f_(d,p,"start",Math.max)},end:{[n]:f_(d,p,"end",Math.min)}})}}return o}function Gg(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=os(s),i=os(i)),{property:t,start:s,end:i}}function FH(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=Ip(o,a,s);const l=s[o],u=s[a];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function Ip(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function f_(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function qA(t,e){let n=[],r=!1;return nn(t)?(r=!0,n=t):n=FH(t,e),n.length?new Ni({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function p_(t){return t&&t.fill!==!1}function HH(t,e,n){let s=t[e].fill;const i=[e];let o;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!jn(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;i.push(s),s=o.fill}return!1}function VH(t,e,n){const r=qH(t);if(Qe(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return jn(s)&&Math.floor(s)===s?WH(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function WH(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function KH(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Qe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function GH(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Qe(t)?r=t.value:r=e.getBaseValue(),r}function qH(t){const e=t.options,n=e.fill;let r=Ye(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function YH(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,o=r.points,a=XH(e,n);a.push(qA({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)ZH(s,o[d],a)}return new Ni({points:s,options:{}})}function XH(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function ZH(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:o,last:a,point:l}=QH(i,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function QH(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],f=o[d.start][n],m=o[d.end][n];if(Ia(s,f,m)){a=s===f,l=s===m;break}}return{first:a,last:l,point:r}}class YA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:o}=this;return n=n||{start:0,end:Kr},e.arc(s,i,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function JH(t){const{chart:e,fill:n,line:r}=t;if(jn(n))return eV(e,n);if(n==="stack")return YH(t);if(n==="shape")return!0;const s=tV(t);return s instanceof YA?s:qA(s,r)}function eV(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function tV(t){return(t.scale||{}).getPointPositionForValue?rV(t):nV(t)}function nV(t){const{scale:e={},fill:n}=t,r=KH(n,e);if(jn(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function rV(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,o=GH(n,e,i),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new YA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function n0(t,e,n){const r=JH(e),{chart:s,index:i,line:o,scale:a,axis:l}=e,u=o.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:p=f}=d||{},y=s.getDatasetMeta(i),w=MA(s,y);r&&o.points.length&&(kp(t,n),sV(t,{line:o,target:r,above:m,below:p,area:n,scale:a,axis:l,clip:w}),Np(t))}function sV(t,e){const{line:n,target:r,above:s,below:i,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(m_(t,r,o.top),r0(t,{line:n,target:r,color:s,scale:a,property:u,clip:l}),t.restore(),t.save(),m_(t,r,o.bottom)):u==="y"&&(g_(t,r,o.left),r0(t,{line:n,target:r,color:i,scale:a,property:u,clip:l}),t.restore(),t.save(),g_(t,r,o.right),d=s)),r0(t,{line:n,target:r,color:d,scale:a,property:u,clip:l}),t.restore()}function m_(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:u}=a,d=s[l],f=s[Ip(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function g_(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:u}=a,d=s[l],f=s[Ip(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function r0(t,e){const{line:n,target:r,property:s,color:i,scale:o,clip:a}=e,l=$H(n,r,s);for(const{source:u,target:d,start:f,end:m}of l){const{style:{backgroundColor:p=i}={}}=u,y=r!==!0;t.save(),t.fillStyle=p,iV(t,o,a,y&&Gg(s,f,m)),t.beginPath();const w=!!n.pathSegment(t,u);let v;if(y){w?t.closePath():y_(t,r,m,s);const x=!!r.pathSegment(t,d,{move:w,reverse:!0});v=w&&x,v||y_(t,r,f,s)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function iV(t,e,n,r){const s=e.chart.chartArea,{property:i,start:o,end:a}=r||{};if(i==="x"||i==="y"){let l,u,d,f;i==="x"?(l=o,u=s.top,d=a,f=s.bottom):(l=s.left,u=o,d=s.right,f=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),t.rect(l,u,d-l,f-u),t.clip()}}function y_(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var oV={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,o,a,l;for(o=0;o<r;++o)i=t.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof Ni&&(l={visible:t.isDatasetVisible(o),index:o,fill:VH(a,o,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,s.push(l);for(o=0;o<r;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=HH(s,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),r&&a.fill&&n0(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;p_(i)&&n0(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!p_(r)||n.drawTime!=="beforeDatasetDraw"||n0(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const x_=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},aV=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class w_ extends Zs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=xt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Cn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=x_(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a;let f=e;i.textAlign="left",i.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((y,w)=>{const v=r+n/2+i.measureText(y.text).width;(w===0||u[u.length-1]+v+2*a>o)&&(f+=d,u[u.length-(w>0?0:1)]=0,p+=d,m++),l[w]={left:0,top:p,row:m,width:v,height:s},u[u.length-1]+=v+a}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,m=0,p=0,y=0,w=0;return this.legendItems.forEach((v,x)=>{const{itemWidth:S,itemHeight:k}=lV(r,n,i,v,s);x>0&&p+k+2*a>d&&(f+=m+a,u.push({width:m,height:p}),y+=m+a,w++,m=p=0),l[x]={left:y,top:p,col:w,width:S,height:k},m=Math.max(m,S),p+=k+a}),f+=m,u.push({width:m,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Va(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Tn(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Tn(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=Tn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Tn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;kp(e,this),this._draw(),Np(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=Qt.color,l=Va(e.rtl,this.left,this.width),u=Cn(o.font),{padding:d}=o,f=u.size,m=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:y,boxHeight:w,itemHeight:v}=x_(o,f),x=function(F,P,M){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;s.save();const D=Ye(M.lineWidth,1);if(s.fillStyle=Ye(M.fillStyle,a),s.lineCap=Ye(M.lineCap,"butt"),s.lineDashOffset=Ye(M.lineDashOffset,0),s.lineJoin=Ye(M.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=Ye(M.strokeStyle,a),s.setLineDash(Ye(M.lineDash,[])),o.usePointStyle){const L={radius:w*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:D},z=l.xPlus(F,y/2),H=P+m;_A(s,L,z,H,o.pointStyleWidth&&y)}else{const L=P+Math.max((f-w)/2,0),z=l.leftForLtr(F,y),H=Dc(M.borderRadius);s.beginPath(),Object.values(H).some(A=>A!==0)?Hg(s,{x:z,y:L,w:y,h:w,radius:H}):s.rect(z,L,y,w),s.fill(),D!==0&&s.stroke()}s.restore()},S=function(F,P,M){Nu(s,M.text,F,P+v/2,u,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},k=this.isHorizontal(),R=this._computeTitleHeight();k?p={x:Tn(i,this.left+d,this.right-r[0]),y:this.top+d+R,line:0}:p={x:this.left+d,y:Tn(i,this.top+R+d,this.bottom-n[0].height),line:0},TA(this.ctx,e.textDirection);const j=v+d;this.legendItems.forEach((F,P)=>{s.strokeStyle=F.fontColor,s.fillStyle=F.fontColor;const M=s.measureText(F.text).width,D=l.textAlign(F.textAlign||(F.textAlign=o.textAlign)),L=y+m+M;let z=p.x,H=p.y;l.setWidth(this.width),k?P>0&&z+L+d>this.right&&(H=p.y+=j,p.line++,z=p.x=Tn(i,this.left+d,this.right-r[p.line])):P>0&&H+j>this.bottom&&(z=p.x=z+n[p.line].width+d,p.line++,H=p.y=Tn(i,this.top+R+d,this.bottom-n[p.line].height));const A=l.x(z);if(x(A,H,F),z=i9(D,z+y+m,k?z+L:this.right,e.rtl),S(l.x(z),H,F),k)p.x+=L+d;else if(typeof F.text!="string"){const h=u.lineHeight;p.y+=XA(F,h)+d}else p.y+=j}),IA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Cn(n.font),s=Cr(n.padding);if(!n.display)return;const i=Va(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Tn(e.align,f,this.right-m);else{const y=this.columnSizes.reduce((w,v)=>Math.max(w,v.height),0);d=u+Tn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const p=Tn(a,f,f+m);o.textAlign=i.textAlign(c1(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Nu(o,n.text,p,d,r)}_computeTitleHeight(){const e=this.options.title,n=Cn(e.font),r=Cr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Ia(e,this.left,this.right)&&Ia(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Ia(e,s.left,s.left+s.width)&&Ia(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!dV(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=aV(s,r);s&&!i&&xt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&xt(n.onHover,[e,r,this],this)}else r&&xt(n.onClick,[e,r,this],this)}}function lV(t,e,n,r,s){const i=cV(r,t,e,n),o=uV(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function cV(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function uV(t,e,n){let r=t;return typeof e.text!="string"&&(r=XA(e,n)),r}function XA(t,e){const n=t.text?t.text.length:0;return e*n}function dV(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var hV={id:"legend",_element:w_,start(t,e,n){const r=t.legend=new w_({ctx:t.ctx,options:n,chart:t});kr.configure(t,r,n),kr.addBox(t,r)},stop(t){kr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;kr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=Cr(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ZA extends Zs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=nn(r.text)?r.text.length:1;this._padding=Cr(r.padding);const i=s*Cn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=Tn(a,r,i),f=n+e,u=i-r):(o.position==="left"?(d=r+e,f=Tn(a,s,n),l=un*-.5):(d=i-e,f=Tn(a,n,s),l=un*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Cn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);Nu(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:c1(n.align),textBaseline:"middle",translation:[o,a]})}}function fV(t,e){const n=new ZA({ctx:t.ctx,options:e,chart:t});kr.configure(t,n,e),kr.addBox(t,n),t.titleBlock=n}var pV={id:"title",_element:ZA,start(t,e,n){fV(t,n)},stop(t){const e=t.titleBlock;kr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;kr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wc={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=Ug(e,u);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function rs(t,e){return e&&(nn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Is(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function mV(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function v_(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Cn(e.bodyFont),u=Cn(e.titleFont),d=Cn(e.footerFont),f=i.length,m=s.length,p=r.length,y=Cr(e.padding);let w=y.height,v=0,x=r.reduce((R,j)=>R+j.before.length+j.lines.length+j.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=p*R+(x-p)*l.lineHeight+(x-1)*e.bodySpacing}m&&(w+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let S=0;const k=function(R){v=Math.max(v,n.measureText(R).width+S)};return n.save(),n.font=u.string,ot(t.title,k),n.font=l.string,ot(t.beforeBody.concat(t.afterBody),k),S=e.displayColors?o+2+e.boxPadding:0,ot(r,R=>{ot(R.before,k),ot(R.lines,k),ot(R.after,k)}),S=0,n.font=d.string,ot(t.footer,k),n.restore(),v+=y.width,{width:v,height:w}}function gV(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function yV(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function xV(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),yV(u,t,e,n)&&(u="center"),u}function b_(t,e,n){const r=n.yAlign||e.yAlign||gV(t,n);return{xAlign:n.xAlign||e.xAlign||xV(t,e,n,r),yAlign:r}}function wV(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function vV(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function __(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:p}=Dc(o);let y=wV(e,a);const w=vV(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(d,m)+s:a==="right"&&(y+=Math.max(f,p)+s),{x:Er(y,0,r.width-e.width),y:Er(w,0,r.height-e.height)}}function qd(t,e,n){const r=Cr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function S_(t){return rs([],Is(t))}function bV(t,e,n){return Xo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function E_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const QA={beforeTitle:Ns,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ns,beforeBody:Ns,beforeLabel:Ns,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return mt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ns,afterBody:Ns,beforeFooter:Ns,footer:Ns,afterFooter:Ns};function $n(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?QA[e].call(n,r):s}class qg extends Zs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new PA(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=bV(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=$n(r,"beforeTitle",this,e),i=$n(r,"title",this,e),o=$n(r,"afterTitle",this,e);let a=[];return a=rs(a,Is(s)),a=rs(a,Is(i)),a=rs(a,Is(o)),a}getBeforeBody(e,n){return S_($n(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return ot(e,i=>{const o={before:[],lines:[],after:[]},a=E_(r,i);rs(o.before,Is($n(a,"beforeLabel",this,i))),rs(o.lines,$n(a,"label",this,i)),rs(o.after,Is($n(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return S_($n(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=$n(r,"beforeFooter",this,e),i=$n(r,"footer",this,e),o=$n(r,"afterFooter",this,e);let a=[];return a=rs(a,Is(s)),a=rs(a,Is(i)),a=rs(a,Is(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(mV(this.chart,n[l]));return e.filter&&(a=a.filter((d,f,m)=>e.filter(d,f,m,r))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,r))),ot(a,d=>{const f=E_(e.callbacks,d);s.push($n(f,"labelColor",this,d)),i.push($n(f,"labelPointStyle",this,d)),o.push($n(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=wc[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=v_(this,r),u=Object.assign({},a,l),d=b_(this.chart,r,u),f=__(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Dc(a),{x:m,y:p}=e,{width:y,height:w}=n;let v,x,S,k,R,j;return i==="center"?(R=p+w/2,s==="left"?(v=m,x=v-o,k=R+o,j=R-o):(v=m+y,x=v+o,k=R-o,j=R+o),S=v):(s==="left"?x=m+Math.max(l,d)+o:s==="right"?x=m+y-Math.max(u,f)-o:x=this.caretX,i==="top"?(k=p,R=k-o,v=x-o,S=x+o):(k=p+w,R=k+o,v=x+o,S=x-o),j=k),{x1:v,x2:x,x3:S,y1:k,y2:R,y3:j}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=Va(r.rtl,this.x,this.width);for(e.x=qd(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Cn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=Cn(i.bodyFont),f=qd(this,"left",i),m=s.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+p;if(i.usePointStyle){const w={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(m,u)+u/2,x=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Fg(e,w,v,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Fg(e,w,v,x)}else{e.lineWidth=Qe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=s.leftForLtr(m,u),v=s.leftForLtr(s.xPlus(m,1),u-2),x=Dc(o.borderRadius);Object.values(x).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Hg(e,{x:w,y,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Hg(e,{x:v,y:y+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,y,u,l),e.strokeRect(w,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(v,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=Cn(r.bodyFont);let m=f.lineHeight,p=0;const y=Va(r.rtl,this.x,this.width),w=function(M){n.fillText(M,y.x(e.x+p),e.y+m/2),e.y+=m+i},v=y.textAlign(o);let x,S,k,R,j,F,P;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=qd(this,v,r),n.fillStyle=r.bodyColor,ot(this.beforeBody,w),p=a&&v!=="right"?o==="center"?u/2+d:u+2+d:0,R=0,F=s.length;R<F;++R){for(x=s[R],S=this.labelTextColors[R],n.fillStyle=S,ot(x.before,w),k=x.lines,a&&k.length&&(this._drawColorBox(n,e,R,y,r),m=Math.max(f.lineHeight,l)),j=0,P=k.length;j<P;++j)w(k[j]),m=f.lineHeight;ot(x.after,w)}p=0,m=f.lineHeight,ot(this.afterBody,w),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Va(r.rtl,this.x,this.width);for(e.x=qd(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Cn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=r,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:y}=Dc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+u-m,l),n.quadraticCurveTo(a+u,l,a+u,l+m),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+u,l+d-y),n.quadraticCurveTo(a+u,l+d,a+u-y,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=wc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=v_(this,e),l=Object.assign({},o,this._size),u=b_(n,e,l),d=__(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Cr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),TA(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),IA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!vf(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!vf(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=wc[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}Ee(qg,"positioners",wc);var _V={id:"tooltip",_element:qg,positioners:wc,afterInit(t,e,n){n&&(t.tooltip=new qg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SV=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function EV(t,e,n,r){const s=t.indexOf(e);if(s===-1)return SV(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const kV=(t,e)=>t===null?null:Er(Math.round(t),0,e);function k_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yg extends Nl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(mt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:EV(r,e,Ye(n,e),this._addedLabels),kV(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return k_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ee(Yg,"id","category"),Ee(Yg,"defaults",{ticks:{callback:k_}});function NV(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,p=i||1,y=d-1,{min:w,max:v}=e,x=!mt(o),S=!mt(a),k=!mt(u),R=(v-w)/(f+1);let j=kb((v-w)/y/p)*p,F,P,M,D;if(j<1e-14&&!x&&!S)return[{value:w},{value:v}];D=Math.ceil(v/j)-Math.floor(w/j),D>y&&(j=kb(D*j/y/p)*p),mt(l)||(F=Math.pow(10,l),j=Math.ceil(j*F)/F),s==="ticks"?(P=Math.floor(w/j)*j,M=Math.ceil(v/j)*j):(P=w,M=v),x&&S&&i&&qF((a-o)/i,j/1e3)?(D=Math.round(Math.min((a-o)/j,d)),j=(a-o)/D,P=o,M=a):k?(P=x?o:P,M=S?a:M,D=u-1,j=(M-P)/D):(D=(M-P)/j,Pc(D,Math.round(D),j/1e3)?D=Math.round(D):D=Math.ceil(D));const L=Math.max(Nb(j),Nb(P));F=Math.pow(10,mt(l)?L:l),P=Math.round(P*F)/F,M=Math.round(M*F)/F;let z=0;for(x&&(m&&P!==o?(n.push({value:o}),P<o&&z++,Pc(Math.round((P+z*j)*F)/F,o,N_(o,R,t))&&z++):P<o&&z++);z<D;++z){const H=Math.round((P+z*j)*F)/F;if(S&&H>a)break;n.push({value:H})}return S&&m&&M!==a?n.length&&Pc(n[n.length-1].value,a,N_(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!S||M===a)&&n.push({value:M}),n}function N_(t,e,{horizontal:n,minRotation:r}){const s=bo(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class RV extends Nl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return mt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=ul(s),u=ul(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=NV(s,i);return e.bounds==="ticks"&&YF(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return vA(e,this.chart.options.locale,this.options.ticks.format)}}class Xg extends RV{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jn(e)?e:0,this.max=jn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=bo(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ee(Xg,"id","linear"),Ee(Xg,"defaults",{ticks:{callback:bA.formatters.numeric}});const Cp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gn=Object.keys(Cp);function R_(t,e){return t-e}function A_(t,e){if(mt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),jn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Eu(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function T_(t,e,n,r){const s=Gn.length;for(let i=Gn.indexOf(t);i<s-1;++i){const o=Cp[Gn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Gn[i]}return Gn[s-1]}function AV(t,e,n,r,s){for(let i=Gn.length-1;i>=Gn.indexOf(n);i--){const o=Gn[i];if(Cp[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Gn[n?Gn.indexOf(n):0]}function TV(t){for(let e=Gn.indexOf(t)+1,n=Gn.length;e<n;++e)if(Cp[Gn[e]].common)return Gn[e]}function I_(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=l1(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function IV(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function C_(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:IV(t,r,s,n)}class Rf extends Nl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new S7._date(e.adapters.date);s.init(n),Mc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:A_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=jn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=jn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=t9(s,i,o);return this._unit=n.unit||(r.autoSkip?T_(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):AV(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:TV(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),C_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Er(n,0,o),r=Er(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||T_(i.minUnit,n,r,this._getLabelCapacity(n)),a=Ye(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=Eu(l)||l===!0,d={};let f=n,m,p;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(m=f,p=0;m<r;m=+e.add(m,a,o),p++)I_(d,m,y);return(m===r||s.bounds==="ticks"||p===1)&&I_(d,m,y),Object.keys(d).sort(R_).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return xt(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],m=r[n],p=u&&f&&m&&m.major;return this._adapter.format(e,s||(p?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=bo(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,C_(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(A_(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return r9(e.sort(R_))}}Ee(Rf,"id","time"),Ee(Rf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yd(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=_o(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=_o(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class O_ extends Rf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yd(n,this.min),this._tableRange=Yd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],u=s[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Yd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Yd(this._table,r*this._tableRange+this._minPos,!0)}}Ee(O_,"id","timeseries"),Ee(O_,"defaults",Rf.defaults);const JA="label";function j_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function CV(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function eT(t,e){t.labels=e}function tT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JA;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function OV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JA;const n={labels:[],datasets:[]};return eT(n,t.labels),tT(n,t.datasets,e),n}function jV(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...m}=t,p=V.useRef(null),y=V.useRef(null),w=()=>{p.current&&(y.current=new Tp(p.current,{type:o,data:OV(a,i),options:l&&{...l},plugins:u}),j_(e,y.current))},v=()=>{j_(e,null),y.current&&(y.current.destroy(),y.current=null)};return V.useEffect(()=>{!s&&y.current&&l&&CV(y.current,l)},[s,l]),V.useEffect(()=>{!s&&y.current&&eT(y.current.config.data,a.labels)},[s,a.labels]),V.useEffect(()=>{!s&&y.current&&a.datasets&&tT(y.current.config.data,a.datasets,i)},[s,a.datasets]),V.useEffect(()=>{y.current&&(s?(v(),setTimeout(w)):y.current.update(f))},[s,l,a.labels,a.datasets,f]),V.useEffect(()=>{y.current&&(v(),setTimeout(w))},[o]),V.useEffect(()=>(w(),()=>v()),[]),te.createElement("canvas",{ref:p,role:"img",height:n,width:r,...m},d)}const MV=V.forwardRef(jV);function PV(t,e){return Tp.register(e),V.forwardRef((n,r)=>te.createElement(MV,{...n,ref:r,type:t}))}const BV=PV("line",_h),LV="devnet",DV={strategyVault:{programId:"5iVtTdPWLN8Qk6BN2vudJU4myvu9nnnjsDnhCnCR2C52"},basicVault:{programId:"5iVtTdPWLN8Qk6BN2vudJU4myvu9nnnjsDnhCnCR2C52"}},s0={network:LV,contracts:DV};class zV{constructor(){this.network=s0.network,this.connection=new fp(uf(this.network),"confirmed"),this.strategyVaultAddress=new se(s0.contracts.strategyVault.programId),this.basicVaultAddress=new se(s0.contracts.basicVault.programId),this.explorerUrl=`https://explorer.solana.com/?cluster=${this.network}`}getNetworkInfo(){return{network:this.network,rpcUrl:uf(this.network),explorerUrl:this.explorerUrl,strategyVaultAddress:this.strategyVaultAddress.toString(),basicVaultAddress:this.basicVaultAddress.toString()}}async createDepositTransaction(e,n,r="strategyVault"){try{const s=Math.floor(n*il),i=new se("11111111111111111111111111111111"),o=new He;return o.add(tt.transfer({fromPubkey:e,toPubkey:i,lamports:s})),{success:!0,transaction:o}}catch(s){return console.error("Failed to create deposit transaction:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async createWithdrawTransaction(e,n,r="strategyVault"){try{const s=Math.floor(n*il),i=new se("11111111111111111111111111111111"),o=new He;return o.add(tt.transfer({fromPubkey:i,toPubkey:e,lamports:s})),{success:!0,transaction:o}}catch(s){return console.error("Failed to create withdraw transaction:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async createStrategyTransaction(e,n,r="strategyVault"){try{const s=r==="strategyVault"?this.strategyVaultAddress:this.basicVaultAddress,i=new He,a=new TextEncoder().encode(JSON.stringify(n));return i.add({programId:s,keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:tt.programId,isSigner:!1,isWritable:!1}],data:Buffer.from([3,...this.serializeBytes(a)])}),{success:!0,transaction:i}}catch(s){return console.error("Failed to create strategy transaction:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async createExecuteStrategyTransaction(e,n="strategyVault"){try{const r=n==="strategyVault"?this.strategyVaultAddress:this.basicVaultAddress,s=new He;return s.add({programId:r,keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}],data:Buffer.from([4,...this.serializeString(e)])}),{success:!0,transaction:s}}catch(r){return console.error("Failed to create execute strategy transaction:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async createClaimYieldTransaction(e,n="strategyVault"){try{const r=n==="strategyVault"?this.strategyVaultAddress:this.basicVaultAddress,s=new He;return s.add({programId:r,keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:tt.programId,isSigner:!1,isWritable:!1}],data:Buffer.from([5])}),{success:!0,transaction:s}}catch(r){return console.error("Failed to create claim yield transaction:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async executeTransaction(e,n){try{const r=await n(e),s={status:"pending",signature:r,explorerUrl:`${this.explorerUrl}/tx/${r}`};try{return(await this.connection.confirmTransaction(r,"confirmed")).value.err?{status:"failed",signature:r,error:"Transaction failed on chain",explorerUrl:`${this.explorerUrl}/tx/${r}`}:{status:"confirmed",signature:r,explorerUrl:`${this.explorerUrl}/tx/${r}`}}catch(i){return{status:"failed",signature:r,error:i instanceof Error?i.message:"Confirmation failed",explorerUrl:`${this.explorerUrl}/tx/${r}`}}}catch(r){return{status:"failed",error:r instanceof Error?r.message:"Transaction failed"}}}async depositSol(e,n,r,s="strategyVault"){try{const i=await this.createDepositTransaction(e,n,s);if(!i.success||!i.transaction)return{success:!1,error:i.error||"Failed to create deposit transaction"};const o=await this.executeTransaction(i.transaction,r);return{success:o.status==="confirmed",transactionId:o.signature,error:o.error,status:o}}catch(i){return console.error("Deposit failed:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async withdrawSol(e,n,r,s="strategyVault"){try{const i=await this.createWithdrawTransaction(e,n,s);if(!i.success||!i.transaction)return{success:!1,error:i.error||"Failed to create withdraw transaction"};const o=await this.executeTransaction(i.transaction,r);return{success:o.status==="confirmed",transactionId:o.signature,error:o.error,status:o}}catch(i){return console.error("Withdraw failed:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async createStrategy(e,n,r,s="strategyVault"){try{const i=await this.createStrategyTransaction(e,n,s);if(!i.success||!i.transaction)return{success:!1,error:i.error||"Failed to create strategy transaction"};const o=await this.executeTransaction(i.transaction,r);return{success:o.status==="confirmed",strategyId:n.name,transactionId:o.signature,error:o.error,status:o}}catch(i){return console.error("Strategy creation failed:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async executeStrategy(e,n,r="strategyVault"){try{const s=await this.createExecuteStrategyTransaction(e,r);if(!s.success||!s.transaction)return{success:!1,error:s.error||"Failed to create execute strategy transaction"};const i=await this.executeTransaction(s.transaction,n);return{success:i.status==="confirmed",strategyId:e,transactionId:i.signature,error:i.error,status:i}}catch(s){return console.error("Strategy execution failed:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async claimYield(e,n,r="strategyVault"){try{const s=await this.createClaimYieldTransaction(e,r);if(!s.success||!s.transaction)return{success:!1,error:s.error||"Failed to create claim yield transaction"};const i=await this.executeTransaction(s.transaction,n);return{success:i.status==="confirmed",amount:0,transactionId:i.signature,error:i.error,status:i}}catch(s){return console.error("Yield claim failed:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async getVaultInfo(e){try{return{totalDeposits:1e3,totalUsers:50,userDeposit:e?25:0,totalYieldGenerated:50,yieldRate:.05}}catch(n){return console.error("Failed to get vault info:",n),{totalDeposits:0,totalUsers:0,userDeposit:0,totalYieldGenerated:0,yieldRate:0}}}async simulateDeposit(e,n,r="strategyVault"){try{const s=await this.createDepositTransaction(e,n,r);if(!s.success||!s.transaction)return{success:!1,error:s.error||"Failed to create deposit transaction"};const{value:i}=await this.connection.simulateTransaction(s.transaction);return{success:!i.err,error:i.err?"Simulation failed":void 0}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}serializeU64(e){const n=new ArrayBuffer(8);return new DataView(n).setBigUint64(0,BigInt(e),!0),new Uint8Array(n)}serializeString(e){const r=new TextEncoder().encode(e),s=this.serializeU64(r.length),i=new Uint8Array(s.length+r.length);return i.set(s,0),i.set(r,s.length),i}serializeBytes(e){const n=this.serializeU64(e.length),r=new Uint8Array(n.length+e.length);return r.set(n,0),r.set(e,n.length),r}}const Xd=new zV;var Zd=hx.Buffer;function UV(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=Zd.from(p)),!Zd.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var y=0,w=0,v=0,x=p.length;v!==x&&p[v]===0;)v++,y++;for(var S=(x-v)*u+1>>>0,k=new Uint8Array(S);v!==x;){for(var R=p[v],j=0,F=S-1;(R!==0||j<w)&&F!==-1;F--,j++)R+=256*k[F]>>>0,k[F]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");w=j,v++}for(var P=S-w;P!==S&&k[P]===0;)P++;for(var M=a.repeat(y);P<S;++P)M+=t.charAt(k[P]);return M}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return Zd.alloc(0);for(var y=0,w=0,v=0;p[y]===a;)w++,y++;for(var x=(p.length-y)*l+1>>>0,S=new Uint8Array(x);y<p.length;){var k=p.charCodeAt(y);if(k>255)return;var R=e[k];if(R===255)return;for(var j=0,F=x-1;(R!==0||j<v)&&F!==-1;F--,j++)R+=o*S[F]>>>0,S[F]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");v=j,y++}for(var P=x-v;P!==x&&S[P]===0;)P++;var M=Zd.allocUnsafe(w+(x-P));M.fill(0,0,w);for(var D=w;P!==x;)M[D++]=S[P++];return M}function m(p){var y=f(p);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:f,decode:m}}var $V=UV,FV=$V,HV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",VV=FV(HV);const y1=Js(VV);var x1={exports:{}};const WV=/[\p{Lu}]/u,KV=/[\p{Ll}]/u,M_=/^[\p{Lu}](?![\p{Lu}])/gu,nT=/([\p{Alpha}\p{N}_]|$)/u,rT=/[_.\- ]+/,GV=new RegExp("^"+rT.source),P_=new RegExp(rT.source+nT.source,"gu"),B_=new RegExp("\\d+"+nT.source,"gu"),qV=(t,e,n)=>{let r=!1,s=!1,i=!1;for(let o=0;o<t.length;o++){const a=t[o];r&&WV.test(a)?(t=t.slice(0,o)+"-"+t.slice(o),r=!1,i=s,s=!0,o++):s&&i&&KV.test(a)?(t=t.slice(0,o-1)+"-"+t.slice(o-1),i=s,s=!1,r=!0):(r=e(a)===a&&n(a)!==a,i=s,s=n(a)===a&&e(a)!==a)}return t},YV=(t,e)=>(M_.lastIndex=0,t.replace(M_,n=>e(n))),XV=(t,e)=>(P_.lastIndex=0,B_.lastIndex=0,t.replace(P_,(n,r)=>e(r)).replace(B_,n=>e(n))),sT=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(i=>i.trim()).filter(i=>i.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(e.locale),r=e.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=qV(t,n,r)),t=t.replace(GV,""),e.preserveConsecutiveUppercase?t=YV(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),XV(t,r))};x1.exports=sT;x1.exports.default=sT;var ZV=x1.exports;const QV=Js(ZV);var Ue={},we={};let ct=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};we.Layout=ct;function w1(t,e){return e.property?t+"["+e.property+"]":t}we.nameWithProperty=w1;function JV(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ct))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}we.bindConstructorLayout=JV;let qn=class extends ct{isCount(){throw new Error("ExternalLayout is abstract")}};class iT extends qn{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let v1=class extends qn{constructor(e,n,r){if(!(e instanceof ct))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof _s||this.layout instanceof ni}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},_s=class extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},ni=class extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Zo extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class Rl extends ct{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const Zg=Math.pow(2,32);function Op(t){const e=Math.floor(t/Zg),n=t-e*Zg;return{hi32:e,lo32:n}}function jp(t,e){return t*Zg+e}let eW=class extends ct{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),s=e.readUInt32LE(n+4);return jp(s,r)}encode(e,n,r){r===void 0&&(r=0);const s=Op(e);return n.writeUInt32LE(s.lo32,r),n.writeUInt32LE(s.hi32,r+4),8}};class tW extends ct{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),s=e.readUInt32BE(n+4);return jp(r,s)}encode(e,n,r){r===void 0&&(r=0);const s=Op(e);return n.writeUInt32BE(s.hi32,r),n.writeUInt32BE(s.lo32,r+4),8}}let nW=class extends ct{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),s=e.readInt32LE(n+4);return jp(s,r)}encode(e,n,r){r===void 0&&(r=0);const s=Op(e);return n.writeUInt32LE(s.lo32,r),n.writeInt32LE(s.hi32,r+4),8}};class rW extends ct{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),s=e.readUInt32BE(n+4);return jp(r,s)}encode(e,n,r){r===void 0&&(r=0);const s=Op(e);return n.writeInt32BE(s.hi32,r),n.writeUInt32BE(s.lo32,r+4),8}}class oT extends ct{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class aT extends ct{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class lT extends ct{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class cT extends ct{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class uT extends ct{constructor(e,n,r){if(!(e instanceof ct))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof qn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof qn)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,s=this.count;if(s instanceof qn&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n){n===void 0&&(n=0);const r=[];let s=0,i=this.count;for(i instanceof qn&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r){r===void 0&&(r=0);const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof qn&&this.count.encode(e.length,n,r),i}}let dT=class extends ct{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof ct,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},b1=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Af=class extends b1{constructor(e,n){if(!(e instanceof qn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},_1=class extends ct{constructor(e,n,r){const s=e instanceof _s||e instanceof ni;if(s)e=new Af(new v1(e));else if(e instanceof qn&&e.isCount())e=new Af(e);else if(!(e instanceof b1))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ct))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&s&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=s,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const s=this.discriminator,i=s.decode(e,n);let o=this.registry[i];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[o.property]=this.defaultLayout.decode(e,n+a)}else r=o.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new hT(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},hT=class extends ct{constructor(e,n,r,s){if(!(e instanceof _1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof ct))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function pa(t){return 0>t&&(t+=4294967296),t}class S1 extends ct{constructor(e,n,r){if(!(e instanceof _s||e instanceof ni))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=pa(i),this},this._packedGetValue=function(){return s}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(s));return r}encode(e,n,r){r===void 0&&(r=0);const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Uc(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new fT(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class Uc{constructor(e,n,r){if(!(e instanceof S1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=pa(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return pa(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==pa(e&this.valueMask))throw new TypeError(w1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=pa(e<<this.start);this.container._packedSetValue(pa(n&~this.wordMask)|r)}}let fT=class extends Uc{constructor(e,n){super(e,1,n)}decode(e,n){return!!Uc.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),Uc.prototype.encode.call(this,e)}},pT=class extends ct{constructor(e,n){if(!(e instanceof qn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof qn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof qn&&(s=e.length),!(Buffer.isBuffer(e)&&s===e.length))throw new TypeError(w1("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,s,"hex"),this.length instanceof qn&&this.length.encode(s,n,r),s}};class mT extends ct{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let s=this.getSpan(e,n);return e.slice(n,n+s-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const s=new Buffer(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(n,r),n[r+i]=0,i+1}}class gT extends ct{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let s=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+s).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const s=new Buffer(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(n,r),i}}class yT extends ct{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}we.ExternalLayout=qn;we.GreedyCount=iT;we.OffsetLayout=v1;we.UInt=_s;we.UIntBE=ni;we.Int=Zo;we.IntBE=Rl;we.Float=oT;we.FloatBE=aT;we.Double=lT;we.DoubleBE=cT;we.Sequence=uT;we.Structure=dT;we.UnionDiscriminator=b1;we.UnionLayoutDiscriminator=Af;we.Union=_1;we.VariantLayout=hT;we.BitStructure=S1;we.BitField=Uc;we.Boolean=fT;we.Blob=pT;we.CString=mT;we.UTF8=gT;we.Constant=yT;we.greedy=(t,e)=>new iT(t,e);we.offset=(t,e,n)=>new v1(t,e,n);we.u8=t=>new _s(1,t);we.u16=t=>new _s(2,t);we.u24=t=>new _s(3,t);we.u32=t=>new _s(4,t);we.u40=t=>new _s(5,t);we.u48=t=>new _s(6,t);we.nu64=t=>new eW(t);we.u16be=t=>new ni(2,t);we.u24be=t=>new ni(3,t);we.u32be=t=>new ni(4,t);we.u40be=t=>new ni(5,t);we.u48be=t=>new ni(6,t);we.nu64be=t=>new tW(t);we.s8=t=>new Zo(1,t);we.s16=t=>new Zo(2,t);we.s24=t=>new Zo(3,t);we.s32=t=>new Zo(4,t);we.s40=t=>new Zo(5,t);we.s48=t=>new Zo(6,t);we.ns64=t=>new nW(t);we.s16be=t=>new Rl(2,t);we.s24be=t=>new Rl(3,t);we.s32be=t=>new Rl(4,t);we.s40be=t=>new Rl(5,t);we.s48be=t=>new Rl(6,t);we.ns64be=t=>new rW(t);we.f32=t=>new oT(t);we.f32be=t=>new aT(t);we.f64=t=>new lT(t);we.f64be=t=>new cT(t);we.struct=(t,e,n)=>new dT(t,e,n);we.bits=(t,e,n)=>new S1(t,e,n);we.seq=(t,e,n)=>new uT(t,e,n);we.union=(t,e,n)=>new _1(t,e,n);we.unionLayoutDiscriminator=(t,e)=>new Af(t,e);we.blob=(t,e)=>new pT(t,e);we.cstr=t=>new mT(t);we.utf8=(t,e)=>new gT(t,e);we.const=(t,e)=>new yT(t,e);const sW=Of(P5);(function(t){var e=lr&&lr.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=u,t.i128=d,t.u256=f,t.i256=m,t.publicKey=y,t.option=v,t.bool=x,t.vec=R,t.tagged=j,t.vecU8=F,t.str=P,t.rustEnum=M,t.array=D,t.map=z;const n=we,r=sW,s=e(dx);var i=we;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}});class o extends n.Layout{constructor(A,h,g){super(A,g),this.blob=(0,n.blob)(A),this.signed=h}decode(A,h=0){const g=new s.default(this.blob.decode(A,h),10,"le");return this.signed?g.fromTwos(this.span*8).clone():g}encode(A,h,g=0){return this.signed&&(A=A.toTwos(this.span*8)),this.blob.encode(A.toArrayLike(Buffer,"le",this.span),h,g)}}function a(H){return new o(8,!1,H)}function l(H){return new o(8,!0,H)}function u(H){return new o(16,!1,H)}function d(H){return new o(16,!0,H)}function f(H){return new o(32,!1,H)}function m(H){return new o(32,!0,H)}class p extends n.Layout{constructor(A,h,g,_){super(A.span,_),this.layout=A,this.decoder=h,this.encoder=g}decode(A,h){return this.decoder(this.layout.decode(A,h))}encode(A,h,g){return this.layout.encode(this.encoder(A),h,g)}getSpan(A,h){return this.layout.getSpan(A,h)}}function y(H){return new p((0,n.blob)(32),A=>new r.PublicKey(A),A=>A.toBuffer(),H)}class w extends n.Layout{constructor(A,h){super(-1,h),this.layout=A,this.discriminator=(0,n.u8)()}encode(A,h,g=0){return A==null?this.discriminator.encode(0,h,g):(this.discriminator.encode(1,h,g),this.layout.encode(A,h,g+1)+1)}decode(A,h=0){const g=this.discriminator.decode(A,h);if(g===0)return null;if(g===1)return this.layout.decode(A,h+1);throw new Error("Invalid option "+this.property)}getSpan(A,h=0){const g=this.discriminator.decode(A,h);if(g===0)return 1;if(g===1)return this.layout.getSpan(A,h+1)+1;throw new Error("Invalid option "+this.property)}}function v(H,A){return new w(H,A)}function x(H){return new p((0,n.u8)(),S,k,H)}function S(H){if(H===0)return!1;if(H===1)return!0;throw new Error("Invalid bool: "+H)}function k(H){return H?1:0}function R(H,A){const h=(0,n.u32)("length"),g=(0,n.struct)([h,(0,n.seq)(H,(0,n.offset)(h,-h.span),"values")]);return new p(g,({values:_})=>_,_=>({values:_}),A)}function j(H,A,h){const g=(0,n.struct)([a("tag"),A.replicate("data")]);function _({tag:I,data:T}){if(!I.eq(H))throw new Error("Invalid tag, expected: "+H.toString("hex")+", got: "+I.toString("hex"));return T}return new p(g,_,I=>({tag:H,data:I}),h)}function F(H){const A=(0,n.u32)("length"),h=(0,n.struct)([A,(0,n.blob)((0,n.offset)(A,-A.span),"data")]);return new p(h,({data:g})=>g,g=>({data:g}),H)}function P(H){return new p(F(),A=>A.toString("utf-8"),A=>Buffer.from(A,"utf-8"),H)}function M(H,A,h){const g=(0,n.union)(h??(0,n.u8)(),A);return H.forEach((_,I)=>g.addVariant(I,_,_.property)),g}function D(H,A,h){const g=(0,n.struct)([(0,n.seq)(H,A,"values")]);return new p(g,({values:_})=>_,_=>({values:_}),h)}class L extends n.Layout{constructor(A,h,g){super(A.span+h.span,g),this.keyLayout=A,this.valueLayout=h}decode(A,h){h=h||0;const g=this.keyLayout.decode(A,h),_=this.valueLayout.decode(A,h+this.keyLayout.getSpan(A,h));return[g,_]}encode(A,h,g){g=g||0;const _=this.keyLayout.encode(A[0],h,g),I=this.valueLayout.encode(A[1],h,g+_);return _+I}getSpan(A,h){return this.keyLayout.getSpan(A,h)+this.valueLayout.getSpan(A,h)}}function z(H,A,h){const g=(0,n.u32)("length"),_=(0,n.struct)([g,(0,n.seq)(new L(H,A),(0,n.offset)(g,-g.span),"values")]);return new p(_,({values:I})=>new Map(I),I=>({values:Array.from(I.entries())}),h)}})(Ue);function Al(t){let e=t.length;for(;--e>=0;)t[e]=0}const iW=3,oW=258,xT=29,aW=256,lW=aW+1+xT,wT=30,cW=512,uW=new Array((lW+2)*2);Al(uW);const dW=new Array(wT*2);Al(dW);const hW=new Array(cW);Al(hW);const fW=new Array(oW-iW+1);Al(fW);const pW=new Array(xT);Al(pW);const mW=new Array(wT);Al(mW);const gW=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+e[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Qg=gW;const yW=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},xW=new Uint32Array(yW()),wW=(t,e,n,r)=>{const s=xW,i=r+n;t^=-1;for(let o=r;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var ts=wW,Jg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const vW=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bW=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)vW(n,r)&&(t[r]=n[r])}}return t},_W=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let o=t[r];n.set(o,s),s+=o.length}return n},bT={assign:bW,flattenChunks:_W};let _T=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_T=!1}const Au=new Uint8Array(256);for(let t=0;t<256;t++)Au[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Au[254]=Au[254]=1;var SW=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,o=t.length,a=0;for(s=0;s<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),i=0,s=0;i<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const EW=(t,e)=>{if(e<65534&&t.subarray&&_T)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var kW=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=t[r++];if(o<128){i[s++]=o;continue}let a=Au[o];if(a>4){i[s++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return EW(i,s)},NW=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Au[t[n]]>e?n:e},ey={string2buf:SW,buf2string:kW,utf8border:NW};function RW(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var AW=RW;const Qd=16209,TW=16191;var IW=function(e,n){let r,s,i,o,a,l,u,d,f,m,p,y,w,v,x,S,k,R,j,F,P,M,D,L;const z=e.state;r=e.next_in,D=e.input,s=r+(e.avail_in-5),i=e.next_out,L=e.output,o=i-(n-e.avail_out),a=i+(e.avail_out-257),l=z.dmax,u=z.wsize,d=z.whave,f=z.wnext,m=z.window,p=z.hold,y=z.bits,w=z.lencode,v=z.distcode,x=(1<<z.lenbits)-1,S=(1<<z.distbits)-1;e:do{y<15&&(p+=D[r++]<<y,y+=8,p+=D[r++]<<y,y+=8),k=w[p&x];t:for(;;){if(R=k>>>24,p>>>=R,y-=R,R=k>>>16&255,R===0)L[i++]=k&65535;else if(R&16){j=k&65535,R&=15,R&&(y<R&&(p+=D[r++]<<y,y+=8),j+=p&(1<<R)-1,p>>>=R,y-=R),y<15&&(p+=D[r++]<<y,y+=8,p+=D[r++]<<y,y+=8),k=v[p&S];n:for(;;){if(R=k>>>24,p>>>=R,y-=R,R=k>>>16&255,R&16){if(F=k&65535,R&=15,y<R&&(p+=D[r++]<<y,y+=8,y<R&&(p+=D[r++]<<y,y+=8)),F+=p&(1<<R)-1,F>l){e.msg="invalid distance too far back",z.mode=Qd;break e}if(p>>>=R,y-=R,R=i-o,F>R){if(R=F-R,R>d&&z.sane){e.msg="invalid distance too far back",z.mode=Qd;break e}if(P=0,M=m,f===0){if(P+=u-R,R<j){j-=R;do L[i++]=m[P++];while(--R);P=i-F,M=L}}else if(f<R){if(P+=u+f-R,R-=f,R<j){j-=R;do L[i++]=m[P++];while(--R);if(P=0,f<j){R=f,j-=R;do L[i++]=m[P++];while(--R);P=i-F,M=L}}}else if(P+=f-R,R<j){j-=R;do L[i++]=m[P++];while(--R);P=i-F,M=L}for(;j>2;)L[i++]=M[P++],L[i++]=M[P++],L[i++]=M[P++],j-=3;j&&(L[i++]=M[P++],j>1&&(L[i++]=M[P++]))}else{P=i-F;do L[i++]=L[P++],L[i++]=L[P++],L[i++]=L[P++],j-=3;while(j>2);j&&(L[i++]=L[P++],j>1&&(L[i++]=L[P++]))}}else if(R&64){e.msg="invalid distance code",z.mode=Qd;break e}else{k=v[(k&65535)+(p&(1<<R)-1)];continue n}break}}else if(R&64)if(R&32){z.mode=TW;break e}else{e.msg="invalid literal/length code",z.mode=Qd;break e}else{k=w[(k&65535)+(p&(1<<R)-1)];continue t}break}}while(r<s&&i<a);j=y>>3,r-=j,y-=j<<3,p&=(1<<y)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<a?257+(a-i):257-(i-a),z.hold=p,z.bits=y};const ha=15,L_=852,D_=592,z_=0,i0=1,U_=2,CW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),OW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),jW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MW=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),PW=(t,e,n,r,s,i,o,a)=>{const l=a.bits;let u=0,d=0,f=0,m=0,p=0,y=0,w=0,v=0,x=0,S=0,k,R,j,F,P,M=null,D;const L=new Uint16Array(ha+1),z=new Uint16Array(ha+1);let H=null,A,h,g;for(u=0;u<=ha;u++)L[u]=0;for(d=0;d<r;d++)L[e[n+d]]++;for(p=l,m=ha;m>=1&&L[m]===0;m--);if(p>m&&(p=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<m&&L[f]===0;f++);for(p<f&&(p=f),v=1,u=1;u<=ha;u++)if(v<<=1,v-=L[u],v<0)return-1;if(v>0&&(t===z_||m!==1))return-1;for(z[1]=0,u=1;u<ha;u++)z[u+1]=z[u]+L[u];for(d=0;d<r;d++)e[n+d]!==0&&(o[z[e[n+d]]++]=d);if(t===z_?(M=H=o,D=20):t===i0?(M=CW,H=OW,D=257):(M=jW,H=MW,D=0),S=0,d=0,u=f,P=i,y=p,w=0,j=-1,x=1<<p,F=x-1,t===i0&&x>L_||t===U_&&x>D_)return 1;for(;;){A=u-w,o[d]+1<D?(h=0,g=o[d]):o[d]>=D?(h=H[o[d]-D],g=M[o[d]-D]):(h=96,g=0),k=1<<u-w,R=1<<y,f=R;do R-=k,s[P+(S>>w)+R]=A<<24|h<<16|g|0;while(R!==0);for(k=1<<u-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,d++,--L[u]===0){if(u===m)break;u=e[n+o[d]]}if(u>p&&(S&F)!==j){for(w===0&&(w=p),P+=f,y=u-w,v=1<<y;y+w<m&&(v-=L[y+w],!(v<=0));)y++,v<<=1;if(x+=1<<y,t===i0&&x>L_||t===U_&&x>D_)return 1;j=S&F,s[j]=p<<24|y<<16|P-i|0}}return S!==0&&(s[P+S]=u-w<<24|64<<16|0),a.bits=p,0};var $c=PW;const BW=0,ST=1,ET=2,{Z_FINISH:$_,Z_BLOCK:LW,Z_TREES:Jd,Z_OK:Fo,Z_STREAM_END:DW,Z_NEED_DICT:zW,Z_STREAM_ERROR:Or,Z_DATA_ERROR:kT,Z_MEM_ERROR:NT,Z_BUF_ERROR:UW,Z_DEFLATED:F_}=vT,Mp=16180,H_=16181,V_=16182,W_=16183,K_=16184,G_=16185,q_=16186,Y_=16187,X_=16188,Z_=16189,Tf=16190,Rs=16191,o0=16192,Q_=16193,a0=16194,J_=16195,e2=16196,t2=16197,n2=16198,eh=16199,th=16200,r2=16201,s2=16202,i2=16203,o2=16204,a2=16205,l0=16206,l2=16207,c2=16208,St=16209,RT=16210,AT=16211,$W=852,FW=592,HW=15,VW=HW,u2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function WW(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qo=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Mp||e.mode>AT?1:0},TT=t=>{if(Qo(t))return Or;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Mp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array($W),e.distcode=e.distdyn=new Int32Array(FW),e.sane=1,e.back=-1,Fo},IT=t=>{if(Qo(t))return Or;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,TT(t)},CT=(t,e)=>{let n;if(Qo(t))return Or;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Or:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,IT(t))},OT=(t,e)=>{if(!t)return Or;const n=new WW;t.state=n,n.strm=t,n.window=null,n.mode=Mp;const r=CT(t,e);return r!==Fo&&(t.state=null),r},KW=t=>OT(t,VW);let d2=!0,c0,u0;const GW=t=>{if(d2){c0=new Int32Array(512),u0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for($c(ST,t.lens,0,288,c0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;$c(ET,t.lens,0,32,u0,0,t.work,{bits:5}),d2=!1}t.lencode=c0,t.lenbits=9,t.distcode=u0,t.distbits=5},jT=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},qW=(t,e)=>{let n,r,s,i,o,a,l,u,d,f,m,p,y,w,v=0,x,S,k,R,j,F,P,M;const D=new Uint8Array(4);let L,z;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qo(t)||!t.output||!t.input&&t.avail_in!==0)return Or;n=t.state,n.mode===Rs&&(n.mode=o0),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,u=n.hold,d=n.bits,f=a,m=l,M=Fo;e:for(;;)switch(n.mode){case Mp:if(n.wrap===0){n.mode=o0;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=u&255,D[1]=u>>>8&255,n.check=ts(n.check,D,2,0),u=0,d=0,n.mode=H_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=St;break}if((u&15)!==F_){t.msg="unknown compression method",n.mode=St;break}if(u>>>=4,d-=4,P=(u&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){t.msg="invalid window size",n.mode=St;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Z_:Rs,u=0,d=0;break;case H_:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==F_){t.msg="unknown compression method",n.mode=St;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=St;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=ts(n.check,D,2,0)),u=0,d=0,n.mode=V_;case V_:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,n.check=ts(n.check,D,4,0)),u=0,d=0,n.mode=W_;case W_:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=ts(n.check,D,2,0)),u=0,d=0,n.mode=K_;case K_:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=ts(n.check,D,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=G_;case G_:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),P)),n.flags&512&&n.wrap&4&&(n.check=ts(n.check,r,p,i)),a-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=q_;case q_:if(n.flags&2048){if(a===0)break e;p=0;do P=r[i+p++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=ts(n.check,r,p,i)),a-=p,i+=p,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Y_;case Y_:if(n.flags&4096){if(a===0)break e;p=0;do P=r[i+p++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=ts(n.check,r,p,i)),a-=p,i+=p,P)break e}else n.head&&(n.head.comment=null);n.mode=X_;case X_:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=St;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Rs;break;case Z_:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}t.adler=n.check=u2(u),u=0,d=0,n.mode=Tf;case Tf:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=u,n.bits=d,zW;t.adler=n.check=1,n.mode=Rs;case Rs:if(e===LW||e===Jd)break e;case o0:if(n.last){u>>>=d&7,d-=d&7,n.mode=l0;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Q_;break;case 1:if(GW(n),n.mode=eh,e===Jd){u>>>=2,d-=2;break e}break;case 2:n.mode=e2;break;case 3:t.msg="invalid block type",n.mode=St}u>>>=2,d-=2;break;case Q_:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=St;break}if(n.length=u&65535,u=0,d=0,n.mode=a0,e===Jd)break e;case a0:n.mode=J_;case J_:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;s.set(r.subarray(i,i+p),o),a-=p,i+=p,l-=p,o+=p,n.length-=p;break}n.mode=Rs;break;case e2:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=St;break}n.have=0,n.mode=t2;case t2:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[H[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},M=$c(BW,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,M){t.msg="invalid code lengths set",n.mode=St;break}n.have=0,n.mode=n2;case n2:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[u&(1<<n.lenbits)-1],x=v>>>24,S=v>>>16&255,k=v&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(k<16)u>>>=x,d-=x,n.lens[n.have++]=k;else{if(k===16){for(z=x+2;d<z;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){t.msg="invalid bit length repeat",n.mode=St;break}P=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(k===17){for(z=x+3;d<z;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,P=0,p=3+(u&7),u>>>=3,d-=3}else{for(z=x+7;d<z;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,P=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=St;break}for(;p--;)n.lens[n.have++]=P}}if(n.mode===St)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=St;break}if(n.lenbits=9,L={bits:n.lenbits},M=$c(ST,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,M){t.msg="invalid literal/lengths set",n.mode=St;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},M=$c(ET,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,M){t.msg="invalid distances set",n.mode=St;break}if(n.mode=eh,e===Jd)break e;case eh:n.mode=th;case th:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=u,n.bits=d,IW(t,m),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,u=n.hold,d=n.bits,n.mode===Rs&&(n.back=-1);break}for(n.back=0;v=n.lencode[u&(1<<n.lenbits)-1],x=v>>>24,S=v>>>16&255,k=v&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(S&&!(S&240)){for(R=x,j=S,F=k;v=n.lencode[F+((u&(1<<R+j)-1)>>R)],x=v>>>24,S=v>>>16&255,k=v&65535,!(R+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=R,d-=R,n.back+=R}if(u>>>=x,d-=x,n.back+=x,n.length=k,S===0){n.mode=a2;break}if(S&32){n.back=-1,n.mode=Rs;break}if(S&64){t.msg="invalid literal/length code",n.mode=St;break}n.extra=S&15,n.mode=r2;case r2:if(n.extra){for(z=n.extra;d<z;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=s2;case s2:for(;v=n.distcode[u&(1<<n.distbits)-1],x=v>>>24,S=v>>>16&255,k=v&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(S&240)){for(R=x,j=S,F=k;v=n.distcode[F+((u&(1<<R+j)-1)>>R)],x=v>>>24,S=v>>>16&255,k=v&65535,!(R+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=R,d-=R,n.back+=R}if(u>>>=x,d-=x,n.back+=x,S&64){t.msg="invalid distance code",n.mode=St;break}n.offset=k,n.extra=S&15,n.mode=i2;case i2:if(n.extra){for(z=n.extra;d<z;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=St;break}n.mode=o2;case o2:if(l===0)break e;if(p=m-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=St;break}p>n.wnext?(p-=n.wnext,y=n.wsize-p):y=n.wnext-p,p>n.length&&(p=n.length),w=n.window}else w=s,y=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do s[o++]=w[y++];while(--p);n.length===0&&(n.mode=th);break;case a2:if(l===0)break e;s[o++]=n.length,l--,n.mode=th;break;case l0:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?ts(n.check,s,m,o-m):Qg(n.check,s,m,o-m)),m=l,n.wrap&4&&(n.flags?u:u2(u))!==n.check){t.msg="incorrect data check",n.mode=St;break}u=0,d=0}n.mode=l2;case l2:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=St;break}u=0,d=0}n.mode=c2;case c2:M=DW;break e;case St:M=kT;break e;case RT:return NT;case AT:default:return Or}return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<St&&(n.mode<l0||e!==$_))&&jT(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?ts(n.check,s,m,t.next_out-m):Qg(n.check,s,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Rs?128:0)+(n.mode===eh||n.mode===a0?256:0),(f===0&&m===0||e===$_)&&M===Fo&&(M=UW),M},YW=t=>{if(Qo(t))return Or;let e=t.state;return e.window&&(e.window=null),t.state=null,Fo},XW=(t,e)=>{if(Qo(t))return Or;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Fo):Or},ZW=(t,e)=>{const n=e.length;let r,s,i;return Qo(t)||(r=t.state,r.wrap!==0&&r.mode!==Tf)?Or:r.mode===Tf&&(s=1,s=Qg(s,e,n,0),s!==r.check)?kT:(i=jT(t,e,n,n),i?(r.mode=RT,NT):(r.havedict=1,Fo))};var QW=IT,JW=CT,eK=TT,tK=KW,nK=OT,rK=qW,sK=YW,iK=XW,oK=ZW,aK="pako inflate (from Nodeca project)",Ps={inflateReset:QW,inflateReset2:JW,inflateResetKeep:eK,inflateInit:tK,inflateInit2:nK,inflate:rK,inflateEnd:sK,inflateGetHeader:iK,inflateSetDictionary:oK,inflateInfo:aK};function lK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cK=lK;const MT=Object.prototype.toString,{Z_NO_FLUSH:uK,Z_FINISH:dK,Z_OK:Tu,Z_STREAM_END:d0,Z_NEED_DICT:h0,Z_STREAM_ERROR:hK,Z_DATA_ERROR:h2,Z_MEM_ERROR:fK}=vT;function Pp(t){this.options=bT.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AW,this.strm.avail_out=0;let n=Ps.inflateInit2(this.strm,e.windowBits);if(n!==Tu)throw new Error(Jg[n]);if(this.header=new cK,Ps.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ey.string2buf(e.dictionary):MT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ps.inflateSetDictionary(this.strm,e.dictionary),n!==Tu)))throw new Error(Jg[n])}Pp.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?dK:uK,MT.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Ps.inflate(n,o),i===h0&&s&&(i=Ps.inflateSetDictionary(n,s),i===Tu?i=Ps.inflate(n,o):i===h2&&(i=h0));n.avail_in>0&&i===d0&&n.state.wrap>0&&t[n.next_in]!==0;)Ps.inflateReset(n),i=Ps.inflate(n,o);switch(i){case hK:case h2:case h0:case fK:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===d0))if(this.options.to==="string"){let l=ey.utf8border(n.output,n.next_out),u=n.next_out-l,d=ey.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Tu&&a===0)){if(i===d0)return i=Ps.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Pp.prototype.onData=function(t){this.chunks.push(t)};Pp.prototype.onEnd=function(t){t===Tu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bT.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function pK(t,e){const n=new Pp(e);if(n.push(t),n.err)throw n.msg||Jg[n.err];return n.result}var mK=pK,gK={inflate:mK};const{inflate:yK}=gK;var xK=yK,PT={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,m),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,m,p,y){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],x=arguments.length,S,k;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(k=1,S=new Array(x-1);k<x;k++)S[k-1]=arguments[k];v.fn.apply(v.context,S)}else{var R=v.length,j;for(k=0;k<R;k++)switch(v[k].once&&this.removeListener(u,v[k].fn,void 0,!0),x){case 1:v[k].fn.call(v[k].context);break;case 2:v[k].fn.call(v[k].context,d);break;case 3:v[k].fn.call(v[k].context,d,f);break;case 4:v[k].fn.call(v[k].context,d,f,m);break;default:if(!S)for(j=1,S=new Array(x-1);j<x;j++)S[j-1]=arguments[j];v[k].fn.apply(v[k].context,S)}}return!0},a.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var w=0,v=[],x=y.length;w<x;w++)(y[w].fn!==d||m&&!y[w].once||f&&y[w].context!==f)&&v.push(y[w]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(PT);var wK=PT.exports;const vK=Js(wK);function bK(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const ro=t=>"version"in t;function _K(t){return new TextDecoder("utf-8").decode(t)}function f2(t){return y1.encode(t)}function BT(t){return be.Buffer.from(t,"base64")}function gi(t){return"accounts"in t}async function SK(t){const e=(await se.findProgramAddress([],t))[0];return await se.createWithSeed(e,EK(),t)}function EK(){return"anchor:idl"}const kK=Ue.struct([Ue.publicKey("authority"),Ue.vecU8("data")]);function NK(t){return kK.decode(t)}function RK(t){const e=["name","path","account","relations","generic"],n=i=>i.split(".").map(QV).join("."),r=i=>{for(const o in i){const a=i[o];e.includes(o)?i[o]=Array.isArray(a)?a.map(n):n(a):typeof a=="object"&&r(a)}},s=structuredClone(t);return r(s),s}function Ca(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function AK(t){const e=new Map;return t.errors&&t.errors.forEach(n=>{var r;let s=(r=n.msg)!==null&&r!==void 0?r:n.name;e.set(n.code,s)}),e}function TK(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach(s=>{n[s.name]=e[r],r+=1}),n}function LT(t,e={}){t.forEach(n=>{if(gi(n))LT(n.accounts,e[n.name]);else if(!e[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function $r(t){return t instanceof se?t:new se(t)}class IK extends TypeError{constructor(e,n){let r;const{message:s,...i}=e,{path:o}=e,a=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function CK(t){return Wa(t)&&typeof t[Symbol.iterator]=="function"}function Wa(t){return typeof t=="object"&&t!=null}function Gi(t){return typeof t=="string"?JSON.stringify(t):""+t}function OK(t){const{done:e,value:n}=t.next();return e?void 0:n}function jK(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Gi(r)+"`"}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*p2(t,e,n,r){CK(t)||(t=[t]);for(const s of t){const i=jK(s,e,n,r);i&&(yield i)}}function*E1(t,e,n){n===void 0&&(n={});const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s};if(i&&(t=e.coercer(t,a),o&&e.type!=="type"&&Wa(e.schema)&&Wa(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,d,f]of e.entries(t,a)){const m=E1(d,f,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,d],coerce:i,mask:o});for(const p of m)p[0]?(l=!1,yield[p[0],void 0]):i&&(d=p[1],u===void 0?t=d:t instanceof Map?t.set(u,d):t instanceof Set?t.add(d):Wa(t)&&(t[u]=d))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}class Qi{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,u)=>{const d=s(l,u);return p2(d,u,this,l)}:this.validator=()=>[],i?this.refiner=(l,u)=>{const d=i(l,u);return p2(d,u,this,l)}:this.refiner=()=>[]}assert(e){return MK(e,this)}create(e){return k1(e,this)}is(e){return DT(e,this)}mask(e){return PK(e,this)}validate(e,n){return n===void 0&&(n={}),Wu(e,this,n)}}function MK(t,e){const n=Wu(t,e);if(n[0])throw n[0]}function k1(t,e){const n=Wu(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function PK(t,e){const n=Wu(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function DT(t,e){return!Wu(t,e)[0]}function Wu(t,e,n){n===void 0&&(n={});const r=E1(t,e,n),s=OK(r);return s[0]?[new IK(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Ku(t,e){return new Qi({type:t,schema:null,validator:e})}function BK(){return Ku("any",()=>!0)}function f0(t){return new Qi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Gi(e)}})}function LK(){return Ku("boolean",t=>typeof t=="boolean")}function m2(t){const e=Gi(t);return new Qi({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+Gi(n)}})}function nh(t){return new Qi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Nh(){return Ku("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Gi(t))}function Rh(t){return new Qi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function So(){return Ku("string",t=>typeof t=="string"||"Expected a string, but received: "+Gi(t))}function Ui(t){const e=Object.keys(t);return new Qi({type:"type",schema:t,*entries(n){if(Wa(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Wa(n)||"Expected an object, but received: "+Gi(n)}})}function zT(t){const e=t.map(n=>n.type).join(" | ");return new Qi({type:"union",schema:null,coercer(n,r){return(t.find(i=>{const[o]=i.validate(n,{coerce:!0});return!o})||N1()).coercer(n,r)},validator(n,r){const s=[];for(const i of t){const[...o]=E1(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Gi(n),...s]}})}function N1(){return Ku("unknown",()=>!0)}function DK(t,e,n){return new Qi({...t,coercer:(r,s)=>DT(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}const g2=99;async function zK(t,e,n){if(e.length<=g2)return await y2(t,e,n);{const r=bK(e,g2);return(await Promise.all(r.map(i=>y2(t,i,n)))).flat()}}async function y2(t,e,n){const r=n??t.commitment,{value:s,context:i}=await t.getMultipleAccountsInfoAndContext(e,r);return s.map((a,l)=>a===null?null:{publicKey:e[l],account:a,context:i})}async function UK(t,e,n,r,s){var i;n&&n.length>0&&e.sign(...n);const o=e._compile(),a=o.serialize(),u=e._serialize(a).toString("base64"),d={encoding:"base64",commitment:r??t.commitment};if(s){const y=(Array.isArray(s)?s:o.nonProgramIds()).map(w=>w.toBase58());d.accounts={encoding:"base64",addresses:y}}n&&n.length>0&&(d.sigVerify=!0);const f=[u,d],m=await t._rpcRequest("simulateTransaction",f),p=k1(m,VK);if("error"in p){let y;if("data"in p.error&&(y=(i=p.error.data)===null||i===void 0?void 0:i.logs,y&&Array.isArray(y))){const w=`
    `,v=w+y.join(w);console.error(p.error.message,v)}throw new Vi("failed to simulate transaction: "+p.error.message,y)}return p.result}function $K(t){return DK(UT(t),FK,e=>"error"in e?e:{...e,result:k1(e.result,t)})}const FK=UT(N1());function UT(t){return zT([Ui({jsonrpc:m2("2.0"),id:So(),result:t}),Ui({jsonrpc:m2("2.0"),id:So(),error:Ui({code:N1(),message:So(),data:Rh(BK())})})])}function HK(t){return $K(Ui({context:Ui({slot:Nh()}),value:t}))}const VK=HK(Ui({err:nh(zT([Ui({}),So()])),logs:nh(f0(So())),accounts:Rh(nh(f0(nh(Ui({executable:LK(),owner:So(),lamports:Nh(),data:f0(So()),rentEpoch:Rh(Nh())}))))),unitsConsumed:Rh(Nh())}));class Iu{constructor(e,n,r=Iu.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=Iu.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var s,i,o,a;if(r===void 0&&(r=this.opts),ro(e))n&&e.sign(n);else if(e.feePayer=(s=e.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const u of n)e.partialSign(u);e=await this.wallet.signTransaction(e);const l=e.serialize();try{return await x2(this.connection,l,r)}catch(u){if(u instanceof ty){const d=f2(ro(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),f=ro(e)?0:void 0,m=await this.connection.getTransaction(d,{commitment:"confirmed",maxSupportedTransactionVersion:f});if(m){const p=(a=m.meta)===null||a===void 0?void 0:a.logMessages;throw p?new Vi(u.message,p):u}else throw u}else throw u}}async sendAll(e,n){var r,s,i;n===void 0&&(n=this.opts);const o=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let a=e.map(d=>{var f,m;if(ro(d.tx)){let p=d.tx;return d.signers&&p.sign(d.signers),p}else{let p=d.tx,y=(f=d.signers)!==null&&f!==void 0?f:[];return p.feePayer=(m=p.feePayer)!==null&&m!==void 0?m:this.wallet.publicKey,p.recentBlockhash=o,y.forEach(w=>{p.partialSign(w)}),p}});const l=await this.wallet.signAllTransactions(a),u=[];for(let d=0;d<a.length;d+=1){const f=l[d],m=f.serialize();try{u.push(await x2(this.connection,m,n))}catch(p){if(p instanceof ty){const y=f2(ro(f)?((r=f.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(s=f.signature)!==null&&s!==void 0?s:new Uint8Array),w=ro(f)?0:void 0,v=await this.connection.getTransaction(y,{commitment:"confirmed",maxSupportedTransactionVersion:w});if(v){const x=(i=v.meta)===null||i===void 0?void 0:i.logMessages;throw x?new Vi(p.message,x):p}else throw p}else throw p}}return u}async simulate(e,n,r,s){let i=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,o;if(ro(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),o=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=i,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),o=await UK(this.connection,e,n,r,s)),o.value.err)throw new WK(o.value);return o.value}}class WK extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function x2(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let s;const i=Date.now();for(;Date.now()-i<6e4;)try{const o=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);s=(await t.confirmTransaction({abortSignal:a,signature:o,...n.blockhash},n&&n.commitment)).value}else s=(await t.confirmTransaction({signature:o,...n.blockhash},n&&n.commitment)).value;else s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new ty(`Raw transaction ${o} failed (${JSON.stringify(s)})`);return o}catch(o){if(o.name==="TimeoutError")continue;throw o}throw Error("Transaction failed to confirm in 60s")}class ty extends Error{constructor(e){super(e)}}function ny(){return Iu.local()}var KK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={};Object.defineProperty(Q,"__esModule",{value:!0});var $T=Q.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=LI=Q.ANCHOR_ERROR__REQUIRE_VIOLATED=BI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=PI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=MI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=jI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=OI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=CI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=II=Q.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=TI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=AI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=RI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=NI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=kI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=EI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=SI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=_I=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=bI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=vI=Q.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=wI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=xI=Q.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=yI=Q.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=gI=Q.ANCHOR_ERROR__CONSTRAINT_SPACE=mI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=pI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=fI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=hI=Q.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=dI=Q.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=uI=Q.ANCHOR_ERROR__CONSTRAINT_ZERO=cI=Q.ANCHOR_ERROR__CONSTRAINT_ADDRESS=lI=Q.ANCHOR_ERROR__CONSTRAINT_CLOSE=aI=Q.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=oI=Q.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=iI=Q.ANCHOR_ERROR__CONSTRAINT_STATE=sI=Q.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=rI=Q.ANCHOR_ERROR__CONSTRAINT_SEEDS=nI=Q.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=tI=Q.ANCHOR_ERROR__CONSTRAINT_OWNER=eI=Q.ANCHOR_ERROR__CONSTRAINT_RAW=JT=Q.ANCHOR_ERROR__CONSTRAINT_SIGNER=QT=Q.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=ZT=Q.ANCHOR_ERROR__CONSTRAINT_MUT=XT=Q.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=YT=Q.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=qT=Q.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=GT=Q.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=KT=Q.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=WT=Q.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=VT=Q.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=HT=Q.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,FT=Q.ANCHOR_ERROR__DEPRECATED=cC=Q.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=lC=Q.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=aC=Q.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=oC=Q.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=iC=Q.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=sC=Q.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=rC=Q.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=nC=Q.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=tC=Q.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=eC=Q.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=JI=Q.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=QI=Q.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=ZI=Q.ANCHOR_ERROR__INVALID_PROGRAM_ID=XI=Q.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=YI=Q.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=qI=Q.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=GI=Q.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=KI=Q.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=WI=Q.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=VI=Q.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=HI=Q.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=FI=Q.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=$I=Q.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=UI=Q.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=zI=Q.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=DI=Q.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,HT=Q.ANCHOR_ERROR__INSTRUCTION_MISSING=100,VT=Q.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,WT=Q.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,KT=Q.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,GT=Q.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,qT=Q.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,YT=Q.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,XT=Q.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,ZT=Q.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,QT=Q.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,JT=Q.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,eI=Q.ANCHOR_ERROR__CONSTRAINT_RAW=2003,tI=Q.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,nI=Q.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,rI=Q.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,sI=Q.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,iI=Q.ANCHOR_ERROR__CONSTRAINT_STATE=2008,oI=Q.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,aI=Q.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,lI=Q.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,cI=Q.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,uI=Q.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,dI=Q.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,hI=Q.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,fI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,pI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,mI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,gI=Q.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,yI=Q.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,xI=Q.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,wI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,vI=Q.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,bI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,_I=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,SI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,EI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,kI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,NI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,RI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,AI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,TI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,II=Q.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,CI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,OI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,jI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,MI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,PI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,BI=Q.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,LI=Q.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;$T=Q.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var DI=Q.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,zI=Q.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,UI=Q.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,$I=Q.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,FI=Q.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,HI=Q.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,VI=Q.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,WI=Q.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,KI=Q.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,GI=Q.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,qI=Q.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,YI=Q.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,XI=Q.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,ZI=Q.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,QI=Q.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,JI=Q.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,eC=Q.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,tC=Q.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,nC=Q.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,rC=Q.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,sC=Q.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,iC=Q.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,oC=Q.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,aC=Q.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,lC=Q.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,cC=Q.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;FT=Q.ANCHOR_ERROR__DEPRECATED=5e3;const GK=new Map;function uC(t){return GK.get(t)!==void 0}class di extends Error{constructor(e){super(e),this.name="IdlError"}}class Gu{constructor(e){this.stack=e}static parse(e){var n;const r=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(s.exec(e[o])){i.pop();continue}const a=(n=r.exec(e[o]))===null||n===void 0?void 0:n[1];a&&i.push(new se(a))}return new Gu(i)}}class Fc extends Error{constructor(e,n,r,s,i,o){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=s,this.error={errorCode:e,errorMessage:n,comparedValues:o,origin:i},this._programErrorStack=Gu.parse(s)}static parse(e){if(!e)return null;const n=e.findIndex(m=>m.startsWith("Program log: AnchorError"));if(n===-1)return null;const r=e[n],s=[r];let i;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const m=/^Program log: (.*)$/,p=m.exec(e[n+2])[1],y=m.exec(e[n+4])[1];i=[new se(p),new se(y)],s.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const m=/^Program log: (Left|Right): (.*)$/,p=m.exec(e[n+1])[2],y=m.exec(e[n+2])[2];s.push(...e.slice(n+1,n+3)),i=[p,y]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),u=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),f=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(a){const[m,p,y]=a.slice(1,4),w={code:m,number:parseInt(p)};return new Fc(w,y,s,e,void 0,i)}else if(u){const[m,p,y,w,v]=u.slice(1,6),x={code:y,number:parseInt(w)},S={file:m,line:parseInt(p)};return new Fc(x,v,s,e,S,i)}else if(f){const[m,p,y,w]=f.slice(1,5),v=m,x={code:p,number:parseInt(y)};return new Fc(x,w,s,e,v,i)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class If extends Error{constructor(e,n,r){super(),this.code=e,this.msg=n,this.logs=r,r&&(this._programErrorStack=Gu.parse(r))}static parse(e,n){const r=e.toString();let s;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;s=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;s=a[0].match(/([0-9]+)/g)[0]}let i;try{i=parseInt(s)}catch{return null}let o=n.get(i);return o!==void 0?new If(i,o,e.logs):(o=qK.get(i),o!==void 0?new If(i,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function dC(t,e){uC("debug-logs")&&console.log("Translating error:",t);const n=Fc.parse(t.logs);if(n)return n;const r=If.parse(t,e);if(r)return r;if(t.logs){const s={get:function(i,o){return o==="programErrorStack"?i.programErrorStack.stack:o==="program"?i.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=Gu.parse(t.logs),new Proxy(t,s)}return t}const de={InstructionMissing:HT,InstructionFallbackNotFound:VT,InstructionDidNotDeserialize:WT,InstructionDidNotSerialize:KT,IdlInstructionStub:GT,IdlInstructionInvalidProgram:qT,IdlAccountNotEmpty:YT,EventInstructionStub:XT,ConstraintMut:ZT,ConstraintHasOne:QT,ConstraintSigner:JT,ConstraintRaw:eI,ConstraintOwner:tI,ConstraintRentExempt:nI,ConstraintSeeds:rI,ConstraintExecutable:sI,ConstraintState:iI,ConstraintAssociated:oI,ConstraintAssociatedInit:aI,ConstraintClose:lI,ConstraintAddress:cI,ConstraintZero:uI,ConstraintTokenMint:dI,ConstraintTokenOwner:hI,ConstraintMintMintAuthority:fI,ConstraintMintFreezeAuthority:pI,ConstraintMintDecimals:mI,ConstraintSpace:gI,ConstraintAccountIsNone:yI,ConstraintTokenTokenProgram:xI,ConstraintMintTokenProgram:wI,ConstraintAssociatedTokenTokenProgram:vI,ConstraintMintGroupPointerExtension:bI,ConstraintMintGroupPointerExtensionAuthority:_I,ConstraintMintGroupPointerExtensionGroupAddress:SI,ConstraintMintGroupMemberPointerExtension:EI,ConstraintMintGroupMemberPointerExtensionAuthority:kI,ConstraintMintGroupMemberPointerExtensionMemberAddress:NI,ConstraintMintMetadataPointerExtension:RI,ConstraintMintMetadataPointerExtensionAuthority:AI,ConstraintMintMetadataPointerExtensionMetadataAddress:TI,ConstraintMintCloseAuthorityExtension:II,ConstraintMintCloseAuthorityExtensionAuthority:CI,ConstraintMintPermanentDelegateExtension:OI,ConstraintMintPermanentDelegateExtensionDelegate:jI,ConstraintMintTransferHookExtension:MI,ConstraintMintTransferHookExtensionAuthority:PI,ConstraintMintTransferHookExtensionProgramId:BI,RequireViolated:LI,RequireEqViolated:$T,RequireKeysEqViolated:DI,RequireNeqViolated:zI,RequireKeysNeqViolated:UI,RequireGtViolated:$I,RequireGteViolated:FI,AccountDiscriminatorAlreadySet:HI,AccountDiscriminatorNotFound:VI,AccountDiscriminatorMismatch:WI,AccountDidNotDeserialize:KI,AccountDidNotSerialize:GI,AccountNotEnoughKeys:qI,AccountNotMutable:YI,AccountOwnedByWrongProgram:XI,InvalidProgramId:ZI,InvalidProgramExecutable:QI,AccountNotSigner:JI,AccountNotSystemOwned:eC,AccountNotInitialized:tC,AccountNotProgramData:nC,AccountNotAssociatedTokenAccount:rC,AccountSysvarMismatch:sC,AccountReallocExceedsLimit:iC,AccountDuplicateReallocs:oC,DeclaredProgramIdMismatch:aC,TryingToInitPayerAsProgramAccount:lC,InvalidNumericConversion:cC,Deprecated:FT},qK=new Map([[de.InstructionMissing,"Instruction discriminator not provided"],[de.InstructionFallbackNotFound,"Fallback functions are not supported"],[de.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[de.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[de.IdlInstructionStub,"The program was compiled without idl instructions"],[de.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[de.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[de.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[de.ConstraintMut,"A mut constraint was violated"],[de.ConstraintHasOne,"A has one constraint was violated"],[de.ConstraintSigner,"A signer constraint was violated"],[de.ConstraintRaw,"A raw constraint was violated"],[de.ConstraintOwner,"An owner constraint was violated"],[de.ConstraintRentExempt,"A rent exemption constraint was violated"],[de.ConstraintSeeds,"A seeds constraint was violated"],[de.ConstraintExecutable,"An executable constraint was violated"],[de.ConstraintState,"Deprecated Error, feel free to replace with something else"],[de.ConstraintAssociated,"An associated constraint was violated"],[de.ConstraintAssociatedInit,"An associated init constraint was violated"],[de.ConstraintClose,"A close constraint was violated"],[de.ConstraintAddress,"An address constraint was violated"],[de.ConstraintZero,"Expected zero account discriminant"],[de.ConstraintTokenMint,"A token mint constraint was violated"],[de.ConstraintTokenOwner,"A token owner constraint was violated"],[de.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[de.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[de.ConstraintMintDecimals,"A mint decimals constraint was violated"],[de.ConstraintSpace,"A space constraint was violated"],[de.ConstraintAccountIsNone,"A required account for the constraint is None"],[de.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[de.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[de.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[de.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[de.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[de.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[de.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[de.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[de.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[de.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[de.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[de.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[de.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[de.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[de.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[de.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[de.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[de.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[de.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[de.RequireViolated,"A require expression was violated"],[de.RequireEqViolated,"A require_eq expression was violated"],[de.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[de.RequireNeqViolated,"A require_neq expression was violated"],[de.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[de.RequireGtViolated,"A require_gt expression was violated"],[de.RequireGteViolated,"A require_gte expression was violated"],[de.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[de.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[de.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[de.AccountDidNotDeserialize,"Failed to deserialize the account"],[de.AccountDidNotSerialize,"Failed to serialize the account"],[de.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[de.AccountNotMutable,"The given account is not mutable"],[de.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[de.InvalidProgramId,"Program ID was not as expected"],[de.InvalidProgramExecutable,"Program account is not executable"],[de.AccountNotSigner,"The given account did not sign"],[de.AccountNotSystemOwned,"The given account is not owned by the system program"],[de.AccountNotInitialized,"The program expected this account to be already initialized"],[de.AccountNotProgramData,"The given account is not a program data account"],[de.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[de.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[de.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[de.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[de.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[de.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[de.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[de.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Xe{static fieldLayout(e,n=[],r){const s=e.name;switch(e.type){case"bool":return Ue.bool(s);case"u8":return Ue.u8(s);case"i8":return Ue.i8(s);case"u16":return Ue.u16(s);case"i16":return Ue.i16(s);case"u32":return Ue.u32(s);case"i32":return Ue.i32(s);case"f32":return Ue.f32(s);case"u64":return Ue.u64(s);case"i64":return Ue.i64(s);case"f64":return Ue.f64(s);case"u128":return Ue.u128(s);case"i128":return Ue.i128(s);case"u256":return Ue.u256(s);case"i256":return Ue.i256(s);case"bytes":return Ue.vecU8(s);case"string":return Ue.str(s);case"pubkey":return Ue.publicKey(s);default:{if("option"in e.type)return Ue.option(Xe.fieldLayout({type:e.type.option},n,r),s);if("vec"in e.type)return Ue.vec(Xe.fieldLayout({type:e.type.vec},n,r),s);if("array"in e.type){let[i,o]=e.type.array;return o=Xe.resolveArrayLen(o,r),Ue.array(Xe.fieldLayout({type:i},n,r),o,s)}if("defined"in e.type){if(!n)throw new di("User defined types not provided");const i=e.type.defined.name,o=n.find(a=>a.name===i);if(!o)throw new di(`Type not found: ${e.name}`);return Xe.typeDefLayout({typeDef:o,types:n,genericArgs:r??e.type.defined.generics,name:s})}if("generic"in e.type){const i=r==null?void 0:r.at(0);if((i==null?void 0:i.kind)!=="type")throw new di(`Invalid generic field: ${e.name}`);return Xe.fieldLayout({...e,type:i.type},n)}throw new di(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:s}){switch(e.type.kind){case"struct":{const i=Ca(e.type.fields,()=>[],o=>o.map(a=>{const l=s&&Xe.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:s});return Xe.fieldLayout(a,n,l)}),o=>o.map((a,l)=>{const u=s&&Xe.resolveGenericArgs({type:a,typeDef:e,genericArgs:s});return Xe.fieldLayout({name:l.toString(),type:a},n,u)}));return Ue.struct(i,r)}case"enum":{const i=e.type.variants.map(o=>{const a=Ca(o.fields,()=>[],l=>l.map(u=>{const d=s&&Xe.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:s});return Xe.fieldLayout(u,n,d)}),l=>l.map((u,d)=>{const f=s&&Xe.resolveGenericArgs({type:u,typeDef:e,genericArgs:s});return Xe.fieldLayout({name:d.toString(),type:u},n,f)}));return Ue.struct(a,o.name)});return r!==void 0?Ue.rustEnum(i).replicate(r):Ue.rustEnum(i,r)}case"type":return Xe.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var s;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Xe.typeSize(e.option,n,r);if("coption"in e)return 4+Xe.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[i,o]=e.array;return o=Xe.resolveArrayLen(o,r),Xe.typeSize(i,n,r)*o}if("defined"in e){const i=(s=n.types)===null||s===void 0?void 0:s.find(a=>a.name===e.defined.name);if(!i)throw new di(`Type not found: ${JSON.stringify(e)}`);const o=a=>{const l=r??e.defined.generics,u=l&&Xe.resolveGenericArgs({type:a,typeDef:i,genericArgs:l});return Xe.typeSize(a,n,u)};switch(i.type.kind){case"struct":return Ca(i.type.fields,()=>[0],a=>a.map(l=>o(l.type)),a=>a.map(l=>o(l))).reduce((a,l)=>a+l,0);case"enum":{const a=i.type.variants.map(l=>Ca(l.fields,()=>[0],u=>u.map(d=>o(d.type)),u=>u.map(d=>o(d))).reduce((u,d)=>u+d,0));return Math.max(...a)+1}case"type":return Xe.typeSize(i.type.alias,n,r)}}if("generic"in e){const i=r==null?void 0:r.at(0);if((i==null?void 0:i.kind)!=="type")throw new di(`Invalid generic: ${e.generic}`);return Xe.typeSize(i.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(s=>s.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new di("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:s}){if(typeof e!="object")return null;for(const i in n.generics){const o=n.generics[i];if("generic"in e&&o.name===e.generic)return[r[i]];if("option"in e){const a=Xe.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:s});if(!a||!s)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Xe.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:s});if(!a||!s)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,u=typeof l=="object",d=Xe.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:s})||[];if(u){const f=n.generics.findIndex(m=>m.name===l.generic);f!==-1&&d.push(r[f])}if(d.length>0){if(!s)return d;if(d[0].kind==="type"&&d[1].kind==="const")return[{kind:"type",type:{array:[d[0].type,+d[1].value]}}]}if(u&&o.name===l.generic){const f=r[i];return s?[{kind:"type",type:{array:[a,+f.value]}}]:[f]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Xe.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class YK{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const s=r.name,i=r.args.map(a=>Xe.fieldLayout(a,e.types)),o=Ue.struct(i,s);return[s,{discriminator:r.discriminator,layout:o}]});this.ixLayouts=new Map(n)}encode(e,n){const r=be.Buffer.alloc(1e3),s=this.ixLayouts.get(e);if(!s)throw new Error(`Unknown method: ${e}`);const i=s.layout.encode(n,r),o=r.slice(0,i);return be.Buffer.concat([be.Buffer.from(s.discriminator),o])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?be.Buffer.from(e,"hex"):y1.decode(e));for(const[r,s]of this.ixLayouts){const i=e.subarray(0,s.discriminator.length);if(i.equals(be.Buffer.from(s.discriminator)))return{name:r,data:s.layout.decode(e.subarray(i.length))}}return null}format(e,n){return nr.format(e,n,this.idl)}}class nr{static format(e,n,r){const s=r.instructions.find(l=>e.name===l.name);if(!s)return console.error("Invalid instruction given"),null;const i=s.args.map(l=>({name:l.name,type:nr.formatIdlType(l.type),data:nr.formatIdlData(l,e.data[l.name],r.types)})),o=nr.flattenIdlAccounts(s.accounts),a=n.map((l,u)=>u<o.length?{name:o[u].name,...l}:{name:void 0,...l});return{args:i,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(s=>{switch(s.kind){case"type":return nr.formatIdlType(s.type);case"const":return s.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(s=>this.formatIdlData({name:"",type:e.type.vec},s,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const s=e.type.defined.name,i=r.find(o=>o.name===s);if(!i)throw new Error(`Type not found: ${s}`);return nr.formatIdlDataDefined(i,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+Ca(e.type.fields,()=>"",s=>Object.entries(n).map(([i,o])=>{const a=s.find(l=>l.name===i);if(!a)throw new Error(`Field not found: ${i}`);return i+": "+nr.formatIdlData(a,o,r)}).join(", "),s=>Object.entries(n).map(([i,o])=>i+": "+nr.formatIdlData({name:"",type:s[i]},o,r)).join(", "))+" }";case"enum":{const s=Object.keys(n)[0],i=e.type.variants.find(a=>a.name===s);if(!i)throw new Error(`Unable to find variant: ${s}`);const o=n[s];return Ca(i.fields,()=>s,a=>{const l=Object.keys(o).map(u=>{const d=o[u],f=a.find(m=>m.name===u);if(!f)throw new Error(`Field not found: ${u}`);return u+": "+nr.formatIdlData(f,d,r)}).join(", ");return`${s} { ${l} }`},a=>{const l=Object.entries(o).map(([u,d])=>u+": "+nr.formatIdlData({name:"",type:a[u]},d,r)).join(", ");return`${s} { ${l} }`})}case"type":return nr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const s=XK(r.name);if(r.hasOwnProperty("accounts")){const i=n?`${n} > ${s}`:s;return nr.flattenIdlAccounts(r.accounts,i)}else return{...r,name:n?`${n} > ${s}`:s}}).flat()}}function XK(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class ZK{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(s=>{const i=n.find(o=>o.name===s.name);if(!i)throw new Error(`Account not found: ${s.name}`);return[s.name,{discriminator:s.discriminator,layout:Xe.typeDefLayout({typeDef:i,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=be.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const i=s.layout.encode(n,r),o=r.slice(0,i),a=this.accountDiscriminator(e);return be.Buffer.concat([a,o])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(be.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),s=n.subarray(r.length),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.layout.decode(s)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:y1.encode(n?be.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+Xe.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(s=>s.name===e);if(!r)throw new Error(`Account not found: ${e}`);return be.Buffer.from(r.discriminator)}}class QK{constructor(e){if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const r=e.events.map(s=>{const i=n.find(o=>o.name===s.name);if(!i)throw new Error(`Event not found: ${s.name}`);return[s.name,{discriminator:s.discriminator,layout:Xe.typeDefLayout({typeDef:i,types:n})}]});this.layouts=new Map(r)}decode(e){let n;try{n=BT(e)}catch{return null}for(const[r,s]of this.layouts){const i=n.subarray(0,s.discriminator.length);if(i.equals(be.Buffer.from(s.discriminator)))return{name:r,data:s.layout.decode(n.subarray(i.length))}}return null}}class JK{constructor(e){const n=e.types;if(!n){this.typeLayouts=new Map;return}const r=n.filter(s=>!s.generics).map(s=>[s.name,Xe.typeDefLayout({typeDef:s,types:n})]);this.typeLayouts=new Map(r)}encode(e,n){const r=be.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const i=s.encode(n,r);return r.slice(0,i)}decode(e,n){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(n)}}class hC{constructor(e){this.instruction=new YK(e),this.accounts=new ZK(e),this.events=new QK(e),this.types=new JK(e)}}class tr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Bp=tr;function eG(t,e){return e.property?t+"["+e.property+"]":t}class Eo extends tr{isCount(){throw new Error("ExternalLayout is abstract")}}class fC extends Eo{constructor(e,n,r){if(!(e instanceof tr))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Lp||this.layout instanceof pC}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Lp extends tr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class pC extends tr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const ry=Math.pow(2,32);function mC(t){const e=Math.floor(t/ry),n=t-e*ry;return{hi32:e,lo32:n}}function gC(t,e){return t*ry+e}class tG extends tr{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),s=e.readUInt32LE(n+4);return gC(s,r)}encode(e,n,r){r===void 0&&(r=0);const s=mC(e);return n.writeUInt32LE(s.lo32,r),n.writeUInt32LE(s.hi32,r+4),8}}class nG extends tr{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),s=e.readInt32LE(n+4);return gC(s,r)}encode(e,n,r){r===void 0&&(r=0);const s=mC(e);return n.writeUInt32LE(s.lo32,r),n.writeInt32LE(s.hi32,r+4),8}}class rG extends tr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof tr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class yC{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class w2 extends yC{constructor(e,n){if(!(e instanceof Eo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class xC extends tr{constructor(e,n,r){const s=e instanceof Lp||e instanceof pC;if(s)e=new w2(new fC(e));else if(e instanceof Eo&&e.isCount())e=new w2(e);else if(!(e instanceof yC))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof tr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&s&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=s,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const s=this.discriminator,i=s.decode(e,n);let o=this.registry[i];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[o.property]=this.defaultLayout.decode(e,n+a)}else r=o.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new sG(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class sG extends tr{constructor(e,n,r,s){if(!(e instanceof xC))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof tr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class iG extends tr{constructor(e,n){if(!(e instanceof Eo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Eo||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof Eo&&(s=e.length),!(Buffer.isBuffer(e)&&s===e.length))throw new TypeError(eG("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,s,"hex"),this.length instanceof Eo&&this.length.encode(s,n,r),s}}var oG=(t,e,n)=>new fC(t,e,n),aG=t=>new Lp(1,t),Ds=t=>new Lp(4,t),lG=t=>new tG(t),Qs=t=>new nG(t),sn=(t,e,n)=>new rG(t,e,n),wC=(t,e,n)=>new xC(t,e,n),qu=(t,e)=>new iG(t,e);class cG extends Bp{constructor(e){super(-1,e),this.property=e,this.layout=sn([Ds("length"),Ds("lengthPadding"),qu(oG(Ds(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const s={chars:Buffer.from(e,"utf8")};return this.layout.encode(s,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Ds().span+Ds().span+new Wn(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function Dp(t){return new cG(t)}function jr(t){return qu(32,t)}const pr=wC(Ds("instruction"));pr.addVariant(0,sn([Qs("lamports"),Qs("space"),jr("owner")]),"createAccount");pr.addVariant(1,sn([jr("owner")]),"assign");pr.addVariant(2,sn([Qs("lamports")]),"transfer");pr.addVariant(3,sn([jr("base"),Dp("seed"),Qs("lamports"),Qs("space"),jr("owner")]),"createAccountWithSeed");pr.addVariant(4,sn([jr("authorized")]),"advanceNonceAccount");pr.addVariant(5,sn([Qs("lamports")]),"withdrawNonceAccount");pr.addVariant(6,sn([jr("authorized")]),"initializeNonceAccount");pr.addVariant(7,sn([jr("authorized")]),"authorizeNonceAccount");pr.addVariant(8,sn([Qs("space")]),"allocate");pr.addVariant(9,sn([jr("base"),Dp("seed"),Qs("space"),jr("owner")]),"allocateWithSeed");pr.addVariant(10,sn([jr("base"),Dp("seed"),jr("owner")]),"assignWithSeed");pr.addVariant(11,sn([Qs("lamports"),Dp("seed"),jr("owner")]),"transferWithSeed");Math.max(...Object.values(pr.registry).map(t=>t.span));class uG extends Bp{constructor(e,n,r,s){super(e.span,s),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function v2(t){return new uG(qu(32),e=>new se(e),e=>e.toBuffer(),t)}sn([Ds("version"),Ds("state"),v2("authorizedPubkey"),v2("nonce"),sn([lG("lamportsPerSignature")],"feeCalculator")]);new se("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new se("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var b2={exports:{}};(function(t,e){var n=typeof self<"u"?self:KK,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function l(h){return h&&DataView.prototype.isPrototypeOf(h)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(h){return h&&u.indexOf(Object.prototype.toString.call(h))>-1};function f(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function m(h){return typeof h!="string"&&(h=String(h)),h}function p(h){var g={next:function(){var _=h.shift();return{done:_===void 0,value:_}}};return a.iterable&&(g[Symbol.iterator]=function(){return g}),g}function y(h){this.map={},h instanceof y?h.forEach(function(g,_){this.append(_,g)},this):Array.isArray(h)?h.forEach(function(g){this.append(g[0],g[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(g){this.append(g,h[g])},this)}y.prototype.append=function(h,g){h=f(h),g=m(g);var _=this.map[h];this.map[h]=_?_+", "+g:g},y.prototype.delete=function(h){delete this.map[f(h)]},y.prototype.get=function(h){return h=f(h),this.has(h)?this.map[h]:null},y.prototype.has=function(h){return this.map.hasOwnProperty(f(h))},y.prototype.set=function(h,g){this.map[f(h)]=m(g)},y.prototype.forEach=function(h,g){for(var _ in this.map)this.map.hasOwnProperty(_)&&h.call(g,this.map[_],_,this)},y.prototype.keys=function(){var h=[];return this.forEach(function(g,_){h.push(_)}),p(h)},y.prototype.values=function(){var h=[];return this.forEach(function(g){h.push(g)}),p(h)},y.prototype.entries=function(){var h=[];return this.forEach(function(g,_){h.push([_,g])}),p(h)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function w(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function v(h){return new Promise(function(g,_){h.onload=function(){g(h.result)},h.onerror=function(){_(h.error)}})}function x(h){var g=new FileReader,_=v(g);return g.readAsArrayBuffer(h),_}function S(h){var g=new FileReader,_=v(g);return g.readAsText(h),_}function k(h){for(var g=new Uint8Array(h),_=new Array(g.length),I=0;I<g.length;I++)_[I]=String.fromCharCode(g[I]);return _.join("")}function R(h){if(h.slice)return h.slice(0);var g=new Uint8Array(h.byteLength);return g.set(new Uint8Array(h)),g.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:a.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:a.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():a.arrayBuffer&&a.blob&&l(h)?(this._bodyArrayBuffer=R(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||d(h))?this._bodyArrayBuffer=R(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var h=w(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var h=w(this);if(h)return h;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(h){var g=h.toUpperCase();return F.indexOf(g)>-1?g:h}function M(h,g){g=g||{};var _=g.body;if(h instanceof M){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,g.headers||(this.headers=new y(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!_&&h._bodyInit!=null&&(_=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new y(g.headers)),this.method=P(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function D(h){var g=new FormData;return h.trim().split("&").forEach(function(_){if(_){var I=_.split("="),T=I.shift().replace(/\+/g," "),C=I.join("=").replace(/\+/g," ");g.append(decodeURIComponent(T),decodeURIComponent(C))}}),g}function L(h){var g=new y,_=h.replace(/\r?\n[\t ]+/g," ");return _.split(/\r?\n/).forEach(function(I){var T=I.split(":"),C=T.shift().trim();if(C){var $=T.join(":").trim();g.append(C,$)}}),g}j.call(M.prototype);function z(h,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new y(g.headers),this.url=g.url||"",this._initBody(h)}j.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},z.error=function(){var h=new z(null,{status:0,statusText:""});return h.type="error",h};var H=[301,302,303,307,308];z.redirect=function(h,g){if(H.indexOf(g)===-1)throw new RangeError("Invalid status code");return new z(null,{status:g,headers:{location:h}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(g,_){this.message=g,this.name=_;var I=Error(g);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function A(h,g){return new Promise(function(_,I){var T=new M(h,g);if(T.signal&&T.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function $(){C.abort()}C.onload=function(){var O={status:C.status,statusText:C.statusText,headers:L(C.getAllResponseHeaders()||"")};O.url="responseURL"in C?C.responseURL:O.headers.get("X-Request-URL");var b="response"in C?C.response:C.responseText;_(new z(b,O))},C.onerror=function(){I(new TypeError("Network request failed"))},C.ontimeout=function(){I(new TypeError("Network request failed"))},C.onabort=function(){I(new o.DOMException("Aborted","AbortError"))},C.open(T.method,T.url,!0),T.credentials==="include"?C.withCredentials=!0:T.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&a.blob&&(C.responseType="blob"),T.headers.forEach(function(O,b){C.setRequestHeader(b,O)}),T.signal&&(T.signal.addEventListener("abort",$),C.onreadystatechange=function(){C.readyState===4&&T.signal.removeEventListener("abort",$)}),C.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}return A.polyfill=!0,i.fetch||(i.fetch=A,i.Headers=y,i.Request=M,i.Response=z),o.Headers=y,o.Request=M,o.Response=z,o.fetch=A,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(b2,b2.exports);Ue.rustEnum([Ue.struct([],"uninitialized"),Ue.struct([Ue.option(Ue.publicKey(),"authorityAddress")],"buffer"),Ue.struct([Ue.publicKey("programdataAddress")],"program"),Ue.struct([Ue.u64("slot"),Ue.option(Ue.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ue.u32());const sy="Program log: ",vC="Program data: ",dG=sy.length,hG=vC.length;class fG{constructor(e,n,r){this._programId=e,this._provider=n,this._eventParser=new bC(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n,r){var s;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((s=this._eventListeners.get(e))!==null&&s!==void 0?s:[]).concat(i)),this._eventCallbacks.set(i,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(o,a)=>{if(!o.err)for(const l of this._eventParser.parseLogs(o.logs)){const u=this._eventListeners.get(l.name);u&&u.forEach(d=>{const f=this._eventCallbacks.get(d);if(f){const[,m]=f;m(l.data,a.slot,o.signature)}})}},r)),i}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=n;let s=this._eventListeners.get(r);if(!s)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),s=s.filter(i=>i!==e),this._eventListeners.set(r,s),s.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class bC{constructor(e,n){this.coder=n,this.programId=e}*parseLogs(e,n=!1){const r=new mG(e),s=new pG;let i=r.next();for(;i!==null;){let[o,a,l]=this.handleLog(s,i,n);o&&(yield o),a&&s.push(a),l&&s.pop(),i=r.next()}}handleLog(e,n,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n,r):[null,...this.handleSystemLog(n)]}handleProgramLog(e,n){if(e.startsWith(sy)||e.startsWith(vC)){const r=e.startsWith(sy)?e.slice(dG):e.slice(hG),s=this.coder.events.decode(r);if(n&&s===null)throw new Error(`Unable to decode event ${r}`);return[s,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const n=e.split(":")[0];return n.match(/^Program (.*) success/g)!==null?[null,!0]:n.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:n.includes("invoke")?["cpi",!1]:[null,!1]}}class pG{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class mG{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function zp(t,e){var n,r;let s={};const i=t.args?t.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(r=(n=t.args)===null||n===void 0?void 0:n.map(o=>o.name))!==null&&r!==void 0?r:[]}`);s=e.pop()}return[e,s]}class Cf{static build(e,n,r){if(e.name==="_inner")throw new di("the _inner name is reserved");const s=(...i)=>{const[o,a]=zp(e,[...i]);LT(e.accounts,a.accounts),gG(e,...i);const l=s.accounts(a.accounts);return a.remainingAccounts!==void 0&&l.push(...a.remainingAccounts),uC("debug-logs")&&console.log("Outgoing account metas:",l),new dt({keys:l,programId:r,data:n(e.name,TK(e,...o))})};return s.accounts=i=>Cf.accountsArray(i,e.accounts,r,e.name),s}static accountsArray(e,n,r,s){return e?n.map(i=>{if(gi(i)){const d=e[i.name];return Cf.accountsArray(d,i.accounts,r,s).flat()}let o;try{o=$r(e[i.name])}catch{throw new Error(`Wrong input type for account "${i.name}" in the instruction accounts object${s!==void 0?' for instruction "'+s+'"':""}. Expected PublicKey or string.`)}const a=i.optional&&o.equals(r),l=!!(i.writable&&!a),u=!!(i.signer&&!a);return{pubkey:o,isWritable:l,isSigner:u}}).flat():[]}}function gG(t,...e){}class yG{static build(e,n){return(...s)=>{var i,o,a;const[,l]=zp(e,[...s]),u=new He;if(l.preInstructions&&l.instructions)throw new Error("instructions is deprecated, use preInstructions");return(i=l.preInstructions)===null||i===void 0||i.forEach(d=>u.add(d)),(o=l.instructions)===null||o===void 0||o.forEach(d=>u.add(d)),u.add(n(...s)),(a=l.postInstructions)===null||a===void 0||a.forEach(d=>u.add(d)),u}}}class xG{static build(e,n,r,s){return async(...o)=>{var a;const l=n(...o),[,u]=zp(e,[...o]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(l,(a=u.signers)!==null&&a!==void 0?a:[],u.options)}catch(d){throw dC(d,r)}}}}class wG{static build(e,n,r,s){var i;return((i=e.accounts)!==null&&i!==void 0?i:[]).reduce((o,a)=>(o[a.name]=new vG(e,a,r,s,n),o),{})}}class vG{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,n,r,s,i){this._idlAccount=n,this._programId=r,this._provider=s??ny(),this._coder=i??new hC(e),this._size=this._coder.accounts.size(n.name)}async fetchNullable(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);return r}async fetchNullableAndContext(e,n){const r=await this.getAccountInfoAndContext(e,n),{value:s,context:i}=r;return{data:s&&s.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,s.data):null,context:i}}async fetch(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,n){const{data:r,context:s}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:s}}async fetchMultiple(e,n){return(await this.fetchMultipleAndContext(e,n)).map(s=>s?s.data:null)}async fetchMultipleAndContext(e,n){return(await zK(this._provider.connection,e.map(s=>$r(s)),n)).map(s=>{if(s==null)return null;const{account:i,context:o}=s;return{data:this._coder.accounts.decode(this._idlAccount.name,i.data),context:o}})}async all(e){const n=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),r=[];return(n==null?void 0:n.offset)!=null&&(n==null?void 0:n.bytes)!=null&&r.push({memcmp:{offset:n.offset,bytes:n.bytes}}),(n==null?void 0:n.dataSize)!=null&&r.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:i,account:o})=>({publicKey:i,account:this._coder.accounts.decode(this._idlAccount.name,o.data)}))}subscribe(e,n){const r=cc.get(e.toString());if(r)return r.ee;const s=new vK;e=$r(e);const i=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);s.emit("change",a)},n);return cc.set(e.toString(),{ee:s,listener:i}),s}async unsubscribe(e){let n=cc.get(e.toString());if(!n){console.warn("Address is not subscribed");return}cc&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{cc.delete(e.toString())}).catch(console.error)}async createInstruction(e,n){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return tt.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:n??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??r),programId:this._programId})}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo($r(e),n)}async getAccountInfoAndContext(e,n){return await this._provider.connection.getAccountInfoAndContext($r(e),n)}}const cc=new Map;class bG{static build(e,n,r,s,i,o,a){return async(...u)=>{var d;const f=n(...u),[,m]=zp(e,[...u]);let p;if(s.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{p=await s.simulate(f,m.signers,(d=m.options)===null||d===void 0?void 0:d.commitment)}catch(v){throw dC(v,r)}if(p===void 0)throw new Error("Unable to simulate transaction");const y=p.logs;if(!y)throw new Error("Simulated logs not found");const w=[];if(a.events){let v=new bC(o,i);for(const x of v.parseLogs(y))w.push(x)}return{events:w,raw:y}}}}function p0(t){return new _C(qu(8),e=>R1.fromBuffer(e),e=>e.toBuffer(),t)}function rh(t){return new _C(qu(32),e=>new se(e),e=>e.toBuffer(),t)}function m0(t,e){return new _G(t,e)}class _C extends Bp{constructor(e,n,r,s){super(e.span,s),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class _G extends Bp{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Ds()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class R1 extends Wn{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new R1([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const SG=sn([rh("mint"),rh("owner"),p0("amount"),m0(rh(),"delegate"),(t=>{const e=wC(aG("discriminator"),null,t);return e.addVariant(0,sn([]),"uninitialized"),e.addVariant(1,sn([]),"initialized"),e.addVariant(2,sn([]),"frozen"),e})("state"),m0(p0(),"isNative"),p0("delegatedAmount"),m0(rh(),"closeAuthority")]);function EG(t){return SG.decode(t)}class kG{constructor(e,n,r,s,i,o,a,l){this._args=e,this._accounts=n,this._provider=r,this._programId=s,this._idlIx=i,this._idlTypes=a,this._customResolver=l,this._accountStore=new NG(r,o,s)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const n=o=>gi(o)?o.accounts.some(n):!!(o.address||o.pda||o.relations),r=(o,a=[],l=[])=>{for(const u of o)gi(u)?l.push(...r(u.accounts,[...a,u.name])):l.push([...a,u.name]);return l},s=this._idlIx.accounts.filter(n),i=r(s).filter(o=>!this.get(o)).map(o=>o.reduce((a,l)=>a+"."+l)).map(o=>`\`${o}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${i}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const n=e.reduce((r,s)=>r&&r[s],this._accounts);if(n&&n.toBase58)return n}set(e,n){let r=this._accounts;e.forEach((s,i)=>{var o;i===e.length-1&&(r[s]=n),r[s]=(o=r[s])!==null&&o!==void 0?o:{},r=r[s]})}resolveOptionalsHelper(e,n){const r={};for(const s of n){const i=s.name,o=e[i];o!==void 0&&(SC(o)?gi(s)?r[i]=this.resolveOptionalsHelper(o,s.accounts):r[i]=EC(o):o!==null?r[i]=$r(o):s.optional&&(r[i]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,n}return 0}resolveEventCpi(e,n=[]){for(const r in e){const s=e[r];gi(s)&&this.resolveEventCpi(s.accounts,[...n,s.name]);const i=+r+1;if(i===e.length)return;const o=e[r].name,a=e[i].name;if(o==="eventAuthority"&&a==="program"){const l=[...n,o],u=[...n,a];this.get(l)||this.set(l,se.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(u)||this.set(u,this._programId);return}}}resolveConst(e,n=[]){for(const r of e){const s=r.name;if(gi(r))this.resolveConst(r.accounts,[...n,s]);else{const i=r;if((i.signer||i.address)&&!this.get([...n,s])){if(i.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,s],this._provider.publicKey)}i.address&&this.set([...n,s],$r(i.address))}}}}async resolvePdasAndRelations(e,n=[]){let r=0;for(const s of e){const i=s.name;if(gi(s))r+=await this.resolvePdasAndRelations(s.accounts,[...n,i]);else{const o=s;if((o.pda||o.relations)&&!this.get([...n,i])){r++;try{if(o.pda){const a=await Promise.all(o.pda.seeds.map(d=>this.toBuffer(d,n)));if(a.some(d=>!d))continue;const l=await this.parseProgramId(o,n),[u]=se.findProgramAddressSync(a,l);this.set([...n,i],u)}}catch{}try{if(o.relations){const a=this.get([...n,o.relations[0]]);if(a){const l=await this._accountStore.fetchAccount({publicKey:a});this.set([...n,i],l[i])}}}catch{}}}}return r}async parseProgramId(e,n=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const s=await this.toBuffer(e.pda.program,n);if(!s)throw new Error(`Program seed not resolved: ${e.name}`);return new se(s)}async toBuffer(e,n=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,n);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[n,...r]=e.path.split("."),s=this._idlIx.args.findIndex(a=>a.name===n);if(s===-1)throw new Error(`Unable to find argument for seed: ${n}`);const i=r.reduce((a,l)=>(a??{})[l],this._args[s]);if(i===void 0)return;const o=this.getType(this._idlIx.args[s].type,r);return this.toBufferValue(o,i)}async toBufferAccount(e,n=[]){const[r,...s]=e.path.split("."),i=this.get([...n,r]);if(!i)return;if(!s.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let a=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),l=s;for(;l.length>0;)a=a[l[0]],l=l.slice(1);if(a===void 0)return;const u=this.getType({defined:{name:e.account}},s);return this.toBufferValue(u,a)}toBufferValue(e,n){switch(e){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new Wn(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Wn(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Wn(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Wn(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Wn(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(e!=null&&e.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,n=[]){var r;const s=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(s){if(s==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const i=this._idlTypes.find(d=>d.name===s);if(!i)throw new Error(`Type not found: ${s}`);const[o,...a]=n,u=i.type.fields.find(d=>d.name===o);if(!u)throw new Error(`Field not found: ${o}`);return this.getType(u.type,a)}return e}}class NG{constructor(e,n,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=n}async fetchAccount({publicKey:e,name:n}){const r=e.toBase58();if(!this._cache.has(r)){const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`Account not found: ${r}`);if(n==="tokenAccount"){const i=EG(s.data);this._cache.set(r,i)}else{const i=await this.getAccountsNs(s.owner);if(i){const o=Object.values(i)[0];if(o){const a=o.coder.accounts.decodeAny(s.data);this._cache.set(r,a)}}}}return this._cache.get(r)}async getAccountsNs(e){const n=e.toBase58();if(!this._idls[n]){const r=await fl.fetchIdl(e,this._provider);if(r){const s=new fl(r,this._provider);this._idls[n]=s.account}}return this._idls[n]}}class RG{static build(e,n,r,s,i,o,a,l,u,d,f){return(...m)=>new AG(m,s,i,o,a,l,e,n,r,u,d,f)}}function SC(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function EC(t,e){const n={};for(const r in t){const s=t[r];if(s===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[r]=SC(s)?EC(s):$r(s)}return n}class AG{constructor(e,n,r,s,i,o,a,l,u,d,f,m){this._args=e,this._ixFn=n,this._txFn=r,this._rpcFn=s,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new kG(e,this._accounts,a,l,u,d,f,m)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,n=!1){return n?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class TG{static build(e,n,r,s){const i=n.accounts.find(l=>l.writable),o=!!n.returns;return i||!o?void 0:async(...l)=>{let u=await r(...l);const d=`Program return: ${e} `;let f=u.raw.find(w=>w.startsWith(d));if(!f)throw new Error("View expected return log");let m=BT(f.slice(d.length)),p=n.returns;if(!p)throw new Error("View expected return type");return Xe.fieldLayout({type:p},s.types).decode(m)}}}class IG{static build(e,n,r,s,i){const o={},a={},l={},u={},d={},f={},m=AK(e),p=e.accounts?wG.build(e,n,r,s):{};return e.instructions.forEach(y=>{const w=Cf.build(y,(F,P)=>n.instruction.encode(F,P),r),v=yG.build(y,w),x=xG.build(y,v,m,s),S=bG.build(y,v,m,s,n,r,e),k=TG.build(r,y,S,e),R=RG.build(s,r,y,w,v,x,S,k,p,e.types||[],i==null?void 0:i(y)),j=y.name;a[j]=w,l[j]=v,o[j]=x,u[j]=S,d[j]=R,k&&(f[j]=k)}),[o,a,l,p,u,d,f]}}class fl{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,n=ny(),r,s){this._idl=RK(e),this._rawIdl=e,this._provider=n,this._programId=$r(e.address),this._coder=r??new hC(this._idl),this._events=new fG(this._programId,n,this._coder);const[i,o,a,l,u,d,f]=IG.build(this._idl,this._coder,this._programId,n,s);this.rpc=i,this.instruction=o,this.transaction=a,this.account=l,this.simulate=u,this.methods=d,this.views=f}static async at(e,n){const r=$r(e),s=await fl.fetchIdl(r,n);if(!s)throw new Error(`IDL not found for program: ${e.toString()}`);return new fl(s,n)}static async fetchIdl(e,n){n=n??ny();const r=$r(e),s=await SK(r),i=await n.connection.getAccountInfo(s);if(!i)return null;let o=NK(i.data.slice(8));const a=xK(o.data);return JSON.parse(_K(a))}addEventListener(e,n,r){return this._events.addEventListener(e,n,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new se("11111111111111111111111111111111");const CG="0.1.0",OG="cyphr_vaults",jG=[{name:"initializeBasicVault",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"depositSol",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"userDeposit",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawSol",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"userDeposit",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claimYield",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"userDeposit",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStrategyVault",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"createStrategy",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"strategyState",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"strategyConfig",type:{defined:"StrategyConfig"}}]},{name:"executeStrategy",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"strategyState",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0}],args:[{name:"strategyId",type:"string"}]},{name:"depositStrategySol",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"userDeposit",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claimStrategyYield",accounts:[{name:"vaultState",isMut:!0,isSigner:!1},{name:"userDeposit",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],MG=[{name:"BasicVaultState",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"totalDeposits",type:"u64"},{name:"totalUsers",type:"u32"},{name:"isPaused",type:"bool"},{name:"totalYieldGenerated",type:"u64"},{name:"lastYieldCalculation",type:"i64"},{name:"yieldRate",type:"u64"},{name:"bump",type:"u8"}]}},{name:"UserDeposit",type:{kind:"struct",fields:[{name:"user",type:"publicKey"},{name:"depositAmount",type:"u64"},{name:"yieldEarned",type:"u64"},{name:"lastYieldUpdate",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StrategyVaultState",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"totalDeposits",type:"u64"},{name:"totalUsers",type:"u32"},{name:"isPaused",type:"bool"},{name:"totalYieldGenerated",type:"u64"},{name:"lastYieldCalculation",type:"i64"},{name:"yieldRate",type:"u64"},{name:"activeStrategies",type:"u32"},{name:"totalPnl",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StrategyState",type:{kind:"struct",fields:[{name:"id",type:"string"},{name:"owner",type:"publicKey"},{name:"name",type:"string"},{name:"description",type:"string"},{name:"baseToken",type:"string"},{name:"quoteToken",type:"string"},{name:"positionSize",type:"u64"},{name:"timeFrame",type:"string"},{name:"executionInterval",type:"u64"},{name:"yieldTarget",type:"u64"},{name:"yieldAccumulation",type:"bool"},{name:"isActive",type:"bool"},{name:"createdAt",type:"i64"},{name:"lastExecution",type:"i64"},{name:"totalPnl",type:"i64"},{name:"entryConditions",type:{vec:{defined:"Condition"}}},{name:"exitConditions",type:{vec:{defined:"Condition"}}},{name:"bump",type:"u8"}]}}],PG=[{name:"Condition",type:{kind:"struct",fields:[{name:"conditionType",type:"string"},{name:"value",type:"u64"}]}},{name:"StrategyConfig",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"baseToken",type:"string"},{name:"quoteToken",type:"string"},{name:"positionSize",type:"u64"},{name:"timeFrame",type:"string"},{name:"executionInterval",type:"u64"},{name:"yieldTarget",type:"u64"},{name:"yieldAccumulation",type:"bool"},{name:"entryConditions",type:{vec:{defined:"Condition"}}},{name:"exitConditions",type:{vec:{defined:"Condition"}}}]}}],BG=[{code:6e3,name:"VaultPaused",msg:"Vault is paused"},{code:6001,name:"InsufficientBalance",msg:"Insufficient balance"},{code:6002,name:"InvalidAmount",msg:"Invalid amount"},{code:6003,name:"UserNotFound",msg:"User not found"},{code:6004,name:"StrategyNotFound",msg:"Strategy not found"},{code:6005,name:"StrategyNotActive",msg:"Strategy is not active"},{code:6006,name:"Unauthorized",msg:"Unauthorized access"},{code:6007,name:"NoYieldToClaim",msg:"No yield to claim"},{code:6008,name:"InvalidStrategyConfig",msg:"Invalid strategy configuration"},{code:6009,name:"StrategyExecutionFailed",msg:"Strategy execution failed"},{code:6010,name:"InvalidTimeFrame",msg:"Invalid time frame"},{code:6011,name:"InvalidYieldTarget",msg:"Invalid yield target"},{code:6012,name:"InvalidPositionSize",msg:"Invalid position size"}],LG={version:CG,name:OG,instructions:jG,accounts:MG,types:PG,errors:BG},DG=LG,zG=new se("5iVtTdPWLN8Qk6BN2vudJU4myvu9nnnjsDnhCnCR2C52"),UG="https://api.devnet.solana.com";class $G{constructor(e){this.wallet=e,this.connection=new fp(UG,"confirmed");const n=new Iu(this.connection,{publicKey:e.publicKey,signTransaction:r=>e.signTransaction(r),signAllTransactions:r=>e.signAllTransactions(r)},{commitment:"confirmed"});this.program=new fl(DG,zG,n)}async findPDA(e){return se.findProgramAddressSync(e,this.program.programId)}solToLamports(e){return new Wn(e*il)}lamportsToSol(e){return e.toNumber()/il}getExplorerUrl(e){return`https://explorer.solana.com/tx/${e}?cluster=devnet`}async initializeBasicVault(){try{const[e]=await this.findPDA([Buffer.from("basic_vault")]),n=await this.program.methods.initializeBasicVault().accounts({vaultState:e,authority:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:n,status:"confirmed",explorerUrl:this.getExplorerUrl(n)}}catch(e){return{signature:"",status:"failed",error:e instanceof Error?e.message:"Unknown error",explorerUrl:""}}}async depositSol(e){try{const[n]=await this.findPDA([Buffer.from("basic_vault")]),[r]=await this.findPDA([Buffer.from("user_deposit"),this.wallet.publicKey.toBuffer()]),s=this.solToLamports(e),i=await this.program.methods.depositSol(s).accounts({vaultState:n,userDeposit:r,user:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:i,status:"confirmed",explorerUrl:this.getExplorerUrl(i)}}catch(n){return{signature:"",status:"failed",error:n instanceof Error?n.message:"Unknown error",explorerUrl:""}}}async withdrawSol(e){try{const[n]=await this.findPDA([Buffer.from("basic_vault")]),[r]=await this.findPDA([Buffer.from("user_deposit"),this.wallet.publicKey.toBuffer()]),s=this.solToLamports(e),i=await this.program.methods.withdrawSol(s).accounts({vaultState:n,userDeposit:r,user:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:i,status:"confirmed",explorerUrl:this.getExplorerUrl(i)}}catch(n){return{signature:"",status:"failed",error:n instanceof Error?n.message:"Unknown error",explorerUrl:""}}}async claimYield(){try{const[e]=await this.findPDA([Buffer.from("basic_vault")]),[n]=await this.findPDA([Buffer.from("user_deposit"),this.wallet.publicKey.toBuffer()]),r=await this.program.methods.claimYield().accounts({vaultState:e,userDeposit:n,user:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:r,status:"confirmed",explorerUrl:this.getExplorerUrl(r)}}catch(e){return{signature:"",status:"failed",error:e instanceof Error?e.message:"Unknown error",explorerUrl:""}}}async initializeStrategyVault(){try{const[e]=await this.findPDA([Buffer.from("strategy_vault")]),n=await this.program.methods.initializeStrategyVault().accounts({vaultState:e,authority:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:n,status:"confirmed",explorerUrl:this.getExplorerUrl(n)}}catch(e){return{signature:"",status:"failed",error:e instanceof Error?e.message:"Unknown error",explorerUrl:""}}}async createStrategy(e){try{const[n]=await this.findPDA([Buffer.from("strategy_vault")]),[r]=await this.findPDA([Buffer.from("strategy"),this.wallet.publicKey.toBuffer(),Buffer.from(e.name)]),s=await this.program.methods.createStrategy(e).accounts({vaultState:n,strategyState:r,owner:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:s,status:"confirmed",explorerUrl:this.getExplorerUrl(s)}}catch(n){return{signature:"",status:"failed",error:n instanceof Error?n.message:"Unknown error",explorerUrl:""}}}async executeStrategy(e){try{const[n]=await this.findPDA([Buffer.from("strategy_vault")]),[r]=await this.findPDA([Buffer.from("strategy"),this.wallet.publicKey.toBuffer(),Buffer.from(e)]),s=await this.program.methods.executeStrategy(e).accounts({vaultState:n,strategyState:r,owner:this.wallet.publicKey}).rpc();return{signature:s,status:"confirmed",explorerUrl:this.getExplorerUrl(s)}}catch(n){return{signature:"",status:"failed",error:n instanceof Error?n.message:"Unknown error",explorerUrl:""}}}async depositStrategySol(e){try{const[n]=await this.findPDA([Buffer.from("strategy_vault")]),[r]=await this.findPDA([Buffer.from("strategy_user_deposit"),this.wallet.publicKey.toBuffer()]),s=this.solToLamports(e),i=await this.program.methods.depositStrategySol(s).accounts({vaultState:n,userDeposit:r,user:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:i,status:"confirmed",explorerUrl:this.getExplorerUrl(i)}}catch(n){return{signature:"",status:"failed",error:n instanceof Error?n.message:"Unknown error",explorerUrl:""}}}async claimStrategyYield(){try{const[e]=await this.findPDA([Buffer.from("strategy_vault")]),[n]=await this.findPDA([Buffer.from("strategy_user_deposit"),this.wallet.publicKey.toBuffer()]),r=await this.program.methods.claimStrategyYield().accounts({vaultState:e,userDeposit:n,user:this.wallet.publicKey,systemProgram:tt.programId}).rpc();return{signature:r,status:"confirmed",explorerUrl:this.getExplorerUrl(r)}}catch(e){return{signature:"",status:"failed",error:e instanceof Error?e.message:"Unknown error",explorerUrl:""}}}async getBasicVaultState(){try{const[e]=await this.findPDA([Buffer.from("basic_vault")]);return await this.program.account.basicVaultState.fetch(e)}catch(e){return console.error("Failed to fetch basic vault state:",e),null}}async getUserDeposit(){try{const[e]=await this.findPDA([Buffer.from("user_deposit"),this.wallet.publicKey.toBuffer()]);return await this.program.account.userDeposit.fetch(e)}catch(e){return console.error("Failed to fetch user deposit:",e),null}}async getStrategyVaultState(){try{const[e]=await this.findPDA([Buffer.from("strategy_vault")]);return await this.program.account.strategyVaultState.fetch(e)}catch(e){return console.error("Failed to fetch strategy vault state:",e),null}}async getStrategyState(e){try{const[n]=await this.findPDA([Buffer.from("strategy"),this.wallet.publicKey.toBuffer(),Buffer.from(e)]);return await this.program.account.strategyState.fetch(n)}catch(n){return console.error("Failed to fetch strategy state:",n),null}}}const FG=()=>{const{wallet:t,connected:e}=gp();if(!e||!t)throw new Error("Wallet not connected");return new $G(t)},HG=()=>{const{connected:t,publicKey:e}=gp(),{addTransaction:n,updateTransaction:r}=ON(),[s,i]=V.useState(null),[o,a]=V.useState(null),[l,u]=V.useState(null),[d,f]=V.useState([]),[m,p]=V.useState(!1),[y,w]=V.useState(null);V.useEffect(()=>{if(t&&e)try{const L=FG();i(L),w(null)}catch(L){w("Failed to initialize vault service"),console.error("Vault service initialization error:",L)}else i(null),a(null),u(null),f([])},[t,e]);const v=L=>new Wn(Math.floor(L*100)),x=L=>{const z={"1m":60,"5m":300,"15m":900,"30m":1800,"1h":3600,"4h":14400,"1d":86400,"1w":604800};return new Wn(z[L]||3600)},S=L=>{const z=[],H=[];return L.timeFrame&&z.push({conditionType:"time_based",value:x(L.timeFrame)}),L.entryPrice&&z.push({conditionType:"price_above",value:new Wn(Math.floor(L.entryPrice*100))}),L.exitPrice&&H.push({conditionType:"price_below",value:new Wn(Math.floor(L.exitPrice*100))}),L.yieldTarget&&H.push({conditionType:"profit_target",value:v(L.yieldTarget)}),L.stopLoss&&H.push({conditionType:"stop_loss",value:v(L.stopLoss)}),{entryConditions:z,exitConditions:H}},k=V.useCallback(async()=>{var L,z,H,A,h,g,_,I;if(!(!s||!t)){p(!0),w(null);try{const T=await s.getBasicVaultState(),C=await s.getUserDeposit();T&&a({totalDeposits:((L=T.totalDeposits)==null?void 0:L.toNumber())/1e9||0,totalUsers:T.totalUsers||0,userDeposit:((z=C==null?void 0:C.depositAmount)==null?void 0:z.toNumber())/1e9||0,yieldEarned:((H=C==null?void 0:C.yieldEarned)==null?void 0:H.toNumber())/1e9||0,yieldRate:((A=T.yieldRate)==null?void 0:A.toNumber())/100||0,isPaused:T.isPaused||!1});const $=await s.getStrategyVaultState(),O=await s.getUserDeposit();$&&u({totalDeposits:((h=$.totalDeposits)==null?void 0:h.toNumber())/1e9||0,totalUsers:$.totalUsers||0,userDeposit:((g=O==null?void 0:O.depositAmount)==null?void 0:g.toNumber())/1e9||0,yieldEarned:((_=O==null?void 0:O.yieldEarned)==null?void 0:_.toNumber())/1e9||0,yieldRate:((I=$.yieldRate)==null?void 0:I.toNumber())/100||0,isPaused:$.isPaused||!1})}catch(T){w("Failed to load vault data"),console.error("Error loading vault data:",T)}finally{p(!1)}}},[s,t]),R=V.useCallback(async()=>{if(!s||!t)throw new Error("Wallet not connected");const L=`init-basic-vault-${Date.now()}`;n({type:"Initialize Basic Vault",status:"pending",description:"Initializing basic vault..."});try{const z=await s.initializeBasicVault();return r(L,{status:z.status,signature:z.signature,error:z.error,explorerUrl:z.explorerUrl}),z.status==="confirmed"&&await k(),z}catch(z){const H=z instanceof Error?z.message:"Unknown error";throw r(L,{status:"failed",error:H}),z}},[s,t,n,r,k]),j=V.useCallback(async L=>{if(!s||!t)throw new Error("Wallet not connected");if(L<=0)throw new Error("Deposit amount must be greater than 0");const z=`deposit-sol-${Date.now()}`;n({type:"Deposit SOL",status:"pending",description:`Depositing ${L} SOL to basic vault...`});try{const H=await s.depositSol(L);return r(z,{status:H.status,signature:H.signature,error:H.error,explorerUrl:H.explorerUrl}),H.status==="confirmed"&&await k(),H}catch(H){const A=H instanceof Error?H.message:"Unknown error";throw r(z,{status:"failed",error:A}),H}},[s,t,n,r,k]),F=V.useCallback(async L=>{if(!s||!t)throw new Error("Wallet not connected");if(L<=0)throw new Error("Withdrawal amount must be greater than 0");const z=`withdraw-sol-${Date.now()}`;n({type:"Withdraw SOL",status:"pending",description:`Withdrawing ${L} SOL from basic vault...`});try{const H=await s.withdrawSol(L);return r(z,{status:H.status,signature:H.signature,error:H.error,explorerUrl:H.explorerUrl}),H.status==="confirmed"&&await k(),H}catch(H){const A=H instanceof Error?H.message:"Unknown error";throw r(z,{status:"failed",error:A}),H}},[s,t,n,r,k]),P=V.useCallback(async()=>{if(!s||!t)throw new Error("Wallet not connected");const L=`claim-yield-${Date.now()}`;n({type:"Claim Yield",status:"pending",description:"Claiming yield from basic vault..."});try{const z=await s.claimYield();return r(L,{status:z.status,signature:z.signature,error:z.error,explorerUrl:z.explorerUrl}),z.status==="confirmed"&&await k(),z}catch(z){const H=z instanceof Error?z.message:"Unknown error";throw r(L,{status:"failed",error:H}),z}},[s,t,n,r,k]),M=V.useCallback(async L=>{if(!s||!t)throw new Error("Wallet not connected");const z=`create-strategy-${Date.now()}`;n({type:"Create Strategy",status:"pending",description:`Creating strategy: ${L.name}...`});try{const{entryConditions:H,exitConditions:A}=S(L),h={name:L.name,description:L.description||`Strategy for ${L.baseToken}/${L.quoteToken}`,baseToken:L.baseToken,quoteToken:L.quoteToken,positionSize:v(L.positionSize||50),timeFrame:L.timeFrame||"1h",executionInterval:x(L.timeFrame||"1h"),yieldTarget:v(L.yieldTarget||10),yieldAccumulation:L.yieldAccumulation||!0,entryConditions:H,exitConditions:A},g=await s.createStrategy(h);return r(z,{status:g.status,signature:g.signature,error:g.error,explorerUrl:g.explorerUrl}),g.status==="confirmed"&&await k(),g}catch(H){const A=H instanceof Error?H.message:"Unknown error";throw r(z,{status:"failed",error:A}),H}},[s,t,n,r,k]),D=V.useCallback(async L=>{if(!s||!t)throw new Error("Wallet not connected");const z=`execute-strategy-${Date.now()}`;n({type:"Execute Strategy",status:"pending",description:`Executing strategy: ${L}...`});try{const H=await s.executeStrategy(L);return r(z,{status:H.status,signature:H.signature,error:H.error,explorerUrl:H.explorerUrl}),H.status==="confirmed"&&await k(),H}catch(H){const A=H instanceof Error?H.message:"Unknown error";throw r(z,{status:"failed",error:A}),H}},[s,t,n,r,k]);return V.useEffect(()=>{t&&s&&k()},[t,s,k]),{connected:t,loading:m,error:y,basicVaultData:o,strategyVaultData:l,userStrategies:d,initializeBasicVault:R,depositSol:j,withdrawSol:F,claimYield:P,createStrategy:M,executeStrategy:D,loadVaultData:k,clearError:()=>w(null)}},VG=()=>{const{connected:t,loading:e,error:n,basicVaultData:r,strategyVaultData:s,userStrategies:i,initializeBasicVault:o,depositSol:a,withdrawSol:l,claimYield:u,createStrategy:d,executeStrategy:f,loadVaultData:m,clearError:p}=HG(),[y,w]=V.useState(""),[v,x]=V.useState(""),[S,k]=V.useState(""),[R,j]=V.useState(""),[F,P]=V.useState("SOL"),[M,D]=V.useState("USDC"),[L,z]=V.useState("50"),[H,A]=V.useState("1h"),[h,g]=V.useState("10"),[_,I]=V.useState(""),T=async()=>{if(!y||parseFloat(y)<=0){alert("Please enter a valid deposit amount");return}try{await a(parseFloat(y)),w("")}catch(G){console.error("Deposit failed:",G)}},C=async()=>{if(!v||parseFloat(v)<=0){alert("Please enter a valid withdrawal amount");return}try{await l(parseFloat(v)),x("")}catch(G){console.error("Withdrawal failed:",G)}},$=async()=>{try{await u()}catch(G){console.error("Claim yield failed:",G)}},O=async()=>{if(!S.trim()){alert("Please enter a strategy name");return}try{const G={name:S,description:R,baseToken:F,quoteToken:M,positionSize:parseFloat(L),timeFrame:H,yieldTarget:parseFloat(h),yieldAccumulation:!0};await d(G),k(""),j(""),z("50"),g("10")}catch(G){console.error("Create strategy failed:",G)}},b=async()=>{if(!_.trim()){alert("Please enter a strategy ID");return}try{await f(_),I("")}catch(G){console.error("Execute strategy failed:",G)}},B=async()=>{try{await o()}catch(G){console.error("Initialize vault failed:",G)}};return t?c.jsxs("div",{className:"smart-contract-integration",children:[c.jsxs("div",{className:"integration-header",children:[c.jsx("h2",{children:"🔗 Smart Contract Integration"}),c.jsx("p",{children:"Interact with Cyphr Vaults on Solana Devnet"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{className:"refresh-btn",onClick:m,disabled:e,children:e?"🔄 Loading...":"🔄 Refresh Data"}),c.jsx("button",{className:"init-vault-btn",onClick:B,disabled:e,children:"🏦 Initialize Vault"})]})]}),n&&c.jsxs("div",{className:"error-message",children:[c.jsx("span",{className:"error-icon",children:"⚠️"}),c.jsx("span",{children:n}),c.jsx("button",{className:"clear-error-btn",onClick:p,children:"✕"})]}),c.jsxs("div",{className:"integration-content",children:[c.jsxs("div",{className:"vault-section",children:[c.jsx("h3",{children:"💰 Basic Vault"}),c.jsx("div",{className:"vault-info",children:r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Total Deposits:"}),c.jsxs("span",{className:"stat-value",children:[r.totalDeposits.toFixed(4)," SOL"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Total Users:"}),c.jsx("span",{className:"stat-value",children:r.totalUsers})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Your Deposit:"}),c.jsxs("span",{className:"stat-value",children:[r.userDeposit.toFixed(4)," SOL"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Your Yield:"}),c.jsxs("span",{className:"stat-value",children:[r.yieldEarned.toFixed(4)," SOL"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Yield Rate:"}),c.jsxs("span",{className:"stat-value",children:[r.yieldRate.toFixed(2),"%"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Status:"}),c.jsx("span",{className:`stat-value ${r.isPaused?"paused":"active"}`,children:r.isPaused?"⏸️ Paused":"✅ Active"})]})]}):c.jsx("div",{className:"no-data",children:"No vault data available"})}),c.jsxs("div",{className:"vault-actions",children:[c.jsxs("div",{className:"action-group",children:[c.jsx("h4",{children:"Deposit SOL"}),c.jsxs("div",{className:"input-group",children:[c.jsx("input",{type:"number",value:y,onChange:G=>w(G.target.value),placeholder:"Amount in SOL",min:"0",step:"0.01"}),c.jsx("button",{onClick:T,disabled:e||!y,children:"💰 Deposit"})]})]}),c.jsxs("div",{className:"action-group",children:[c.jsx("h4",{children:"Withdraw SOL"}),c.jsxs("div",{className:"input-group",children:[c.jsx("input",{type:"number",value:v,onChange:G=>x(G.target.value),placeholder:"Amount in SOL",min:"0",step:"0.01"}),c.jsx("button",{onClick:C,disabled:e||!v,children:"💸 Withdraw"})]})]}),c.jsxs("div",{className:"action-group",children:[c.jsx("h4",{children:"Claim Yield"}),c.jsx("button",{onClick:$,disabled:e,className:"claim-btn",children:"🎯 Claim Yield"})]})]})]}),c.jsxs("div",{className:"vault-section",children:[c.jsx("h3",{children:"📈 Strategy Vault"}),c.jsx("div",{className:"vault-info",children:s?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Total Deposits:"}),c.jsxs("span",{className:"stat-value",children:[s.totalDeposits.toFixed(4)," SOL"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Total Users:"}),c.jsx("span",{className:"stat-value",children:s.totalUsers})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Your Deposit:"}),c.jsxs("span",{className:"stat-value",children:[s.userDeposit.toFixed(4)," SOL"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Your Yield:"}),c.jsxs("span",{className:"stat-value",children:[s.yieldEarned.toFixed(4)," SOL"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Yield Rate:"}),c.jsxs("span",{className:"stat-value",children:[s.yieldRate.toFixed(2),"%"]})]}),c.jsxs("div",{className:"vault-stat",children:[c.jsx("span",{className:"stat-label",children:"Status:"}),c.jsx("span",{className:`stat-value ${s.isPaused?"paused":"active"}`,children:s.isPaused?"⏸️ Paused":"✅ Active"})]})]}):c.jsx("div",{className:"no-data",children:"No strategy vault data available"})})]}),c.jsxs("div",{className:"strategy-section",children:[c.jsx("h3",{children:"🎯 Strategy Management"}),c.jsxs("div",{className:"strategy-form",children:[c.jsx("h4",{children:"Create New Strategy"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Strategy Name:"}),c.jsx("input",{type:"text",value:S,onChange:G=>k(G.target.value),placeholder:"Enter strategy name"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Description:"}),c.jsx("input",{type:"text",value:R,onChange:G=>j(G.target.value),placeholder:"Enter strategy description"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Base Token:"}),c.jsxs("select",{value:F,onChange:G=>P(G.target.value),children:[c.jsx("option",{value:"SOL",children:"SOL"}),c.jsx("option",{value:"BTC",children:"BTC"}),c.jsx("option",{value:"ETH",children:"ETH"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Quote Token:"}),c.jsxs("select",{value:M,onChange:G=>D(G.target.value),children:[c.jsx("option",{value:"USDC",children:"USDC"}),c.jsx("option",{value:"USDT",children:"USDT"}),c.jsx("option",{value:"SOL",children:"SOL"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Position Size (%):"}),c.jsx("input",{type:"number",value:L,onChange:G=>z(G.target.value),placeholder:"50",min:"1",max:"100"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Time Frame:"}),c.jsxs("select",{value:H,onChange:G=>A(G.target.value),children:[c.jsx("option",{value:"1m",children:"1 minute"}),c.jsx("option",{value:"5m",children:"5 minutes"}),c.jsx("option",{value:"15m",children:"15 minutes"}),c.jsx("option",{value:"30m",children:"30 minutes"}),c.jsx("option",{value:"1h",children:"1 hour"}),c.jsx("option",{value:"4h",children:"4 hours"}),c.jsx("option",{value:"1d",children:"1 day"}),c.jsx("option",{value:"1w",children:"1 week"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Yield Target (%):"}),c.jsx("input",{type:"number",value:h,onChange:G=>g(G.target.value),placeholder:"10",min:"0.1",max:"100",step:"0.1"})]})]}),c.jsx("button",{onClick:O,disabled:e||!S.trim(),className:"create-strategy-btn",children:"🚀 Create Strategy"})]}),c.jsxs("div",{className:"strategy-form",children:[c.jsx("h4",{children:"Execute Strategy"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Strategy ID:"}),c.jsx("input",{type:"text",value:_,onChange:G=>I(G.target.value),placeholder:"Enter strategy ID"})]}),c.jsx("button",{onClick:b,disabled:e||!_.trim(),className:"execute-strategy-btn",children:"▶️ Execute Strategy"})]}),c.jsxs("div",{className:"strategies-list",children:[c.jsx("h4",{children:"Your Strategies"}),i.length>0?c.jsx("div",{className:"strategies-grid",children:i.map(G=>c.jsxs("div",{className:"strategy-card",children:[c.jsxs("div",{className:"strategy-header",children:[c.jsx("h5",{children:G.name}),c.jsx("span",{className:`status ${G.isActive?"active":"inactive"}`,children:G.isActive?"✅ Active":"⏸️ Inactive"})]}),c.jsx("p",{className:"strategy-description",children:G.description}),c.jsxs("div",{className:"strategy-details",children:[c.jsxs("div",{className:"detail",children:[c.jsx("span",{className:"label",children:"Pair:"}),c.jsxs("span",{className:"value",children:[G.baseToken,"/",G.quoteToken]})]}),c.jsxs("div",{className:"detail",children:[c.jsx("span",{className:"label",children:"Position:"}),c.jsxs("span",{className:"value",children:[G.positionSize,"%"]})]}),c.jsxs("div",{className:"detail",children:[c.jsx("span",{className:"label",children:"Target:"}),c.jsxs("span",{className:"value",children:[G.yieldTarget,"%"]})]}),c.jsxs("div",{className:"detail",children:[c.jsx("span",{className:"label",children:"PnL:"}),c.jsxs("span",{className:`value ${G.totalPnl>=0?"positive":"negative"}`,children:[G.totalPnl>=0?"+":"",G.totalPnl.toFixed(2),"%"]})]})]})]},G.id))}):c.jsxs("div",{className:"no-strategies",children:[c.jsx("p",{children:"No strategies created yet"}),c.jsx("p",{children:"Create your first strategy above to get started!"})]})]})]})]})]}):c.jsxs("div",{className:"smart-contract-integration",children:[c.jsxs("div",{className:"integration-header",children:[c.jsx("h2",{children:"🔗 Smart Contract Integration"}),c.jsx("p",{children:"Connect your Phantom wallet to interact with the Cyphr Vaults"})]}),c.jsxs("div",{className:"wallet-not-connected",children:[c.jsx("div",{className:"wallet-icon",children:"👛"}),c.jsx("h3",{children:"Wallet Not Connected"}),c.jsx("p",{children:"Please connect your Phantom wallet to access vault features"})]})]})};Tp.register(Yg,Xg,kh,Ni,pV,_V,hV,oV);const WG=({data:t})=>c.jsxs("div",{className:"strategy-node input-node",title:"Data Source: Provides real-time token data for strategy execution",children:[c.jsx(Wi,{type:"source",position:Ne.Right}),c.jsxs("div",{className:"node-header",children:[c.jsx("img",{src:"/assets/icons/TokenDataIcon.png",alt:"Token Data",className:"node-icon",style:{width:"20px",height:"20px"}}),c.jsx("span",{className:"node-title",children:t.label}),c.jsx("div",{className:"node-risk-badge low-risk",children:"Low Risk"})]}),c.jsxs("div",{className:"node-content",children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Token:"}),c.jsx("input",{type:"text",placeholder:"SOL, ETH, etc.",value:t.token||"",onChange:e=>t.onChange("token",e.target.value)})]}),c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Data Type:"}),c.jsxs("select",{value:t.dataType||"price",onChange:e=>t.onChange("dataType",e.target.value),children:[c.jsx("option",{value:"price",children:"Price"}),c.jsx("option",{value:"volume",children:"Volume"}),c.jsx("option",{value:"volatility",children:"Volatility"}),c.jsx("option",{value:"market_cap",children:"Market Cap"})]})]})]})]}),KG=({data:t})=>c.jsxs("div",{className:"strategy-node logic-node",title:"Strategy Logic: Defines conditions and triggers for your strategy",children:[c.jsx(Wi,{type:"target",position:Ne.Left}),c.jsx(Wi,{type:"source",position:Ne.Right}),c.jsxs("div",{className:"node-header",children:[c.jsx("img",{src:"/assets/icons/StrategyLogicIcon.png",alt:"Strategy Logic",className:"node-icon",style:{width:"20px",height:"20px"}}),c.jsx("span",{className:"node-title",children:t.label}),c.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),c.jsxs("div",{className:"node-content",children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Logic Type:"}),c.jsxs("select",{value:t.logicType||"time",onChange:e=>t.onChange("logicType",e.target.value),children:[c.jsx("option",{value:"time",children:"Time-Based"}),c.jsx("option",{value:"price",children:"Price-Based"}),c.jsx("option",{value:"volatility",children:"Volatility-Based"}),c.jsx("option",{value:"volume",children:"Volume-Based"}),c.jsx("option",{value:"ai",children:"AI-Optimized"})]})]}),t.logicType==="time"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Duration:"}),c.jsxs("select",{value:t.duration||"3",onChange:e=>t.onChange("duration",e.target.value),children:[c.jsx("option",{value:"1",children:"1 Week"}),c.jsx("option",{value:"2",children:"2 Weeks"}),c.jsx("option",{value:"3",children:"3 Weeks"}),c.jsx("option",{value:"4",children:"1 Month"}),c.jsx("option",{value:"8",children:"2 Months"}),c.jsx("option",{value:"12",children:"3 Months"})]})]}),c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Profit Target (%):"}),c.jsx("input",{type:"number",placeholder:"15",value:t.profitTarget||"",onChange:e=>t.onChange("profitTarget",e.target.value)})]})]}),t.logicType==="price"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Condition:"}),c.jsxs("select",{value:t.condition||"above",onChange:e=>t.onChange("condition",e.target.value),children:[c.jsx("option",{value:"above",children:"Price Above"}),c.jsx("option",{value:"below",children:"Price Below"}),c.jsx("option",{value:"crosses",children:"Price Crosses"}),c.jsx("option",{value:"percent_change",children:"% Change"})]})]}),c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Value:"}),c.jsx("input",{type:"number",placeholder:"0.00",value:t.value||"",onChange:e=>t.onChange("value",e.target.value)})]})]}),t.logicType==="volatility"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Volatility Threshold:"}),c.jsxs("select",{value:t.volatilityThreshold||"high",onChange:e=>t.onChange("volatilityThreshold",e.target.value),children:[c.jsx("option",{value:"low",children:"Low (< 20%)"}),c.jsx("option",{value:"medium",children:"Medium (20-50%)"}),c.jsx("option",{value:"high",children:"High (> 50%)"})]})]}),c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Action:"}),c.jsxs("select",{value:t.volatilityAction||"exit",onChange:e=>t.onChange("volatilityAction",e.target.value),children:[c.jsx("option",{value:"exit",children:"Exit Position"}),c.jsx("option",{value:"hedge",children:"Hedge Position"}),c.jsx("option",{value:"rebalance",children:"Rebalance"})]})]})]}),t.logicType==="ai"&&c.jsxs("div",{className:"ai-logic-info",children:[c.jsxs("div",{className:"ai-badge",children:[c.jsx("img",{src:"/assets/icons/RobotIcon.png",alt:"AI",style:{width:"16px",height:"16px",marginRight:"4px",verticalAlign:"middle"}})," AI-Powered"]}),c.jsx("p",{children:"AI analyzes market conditions and optimizes entry/exit timing"}),c.jsxs("div",{className:"ai-improvement",children:[c.jsx("span",{children:"Estimated Improvement:"}),c.jsx("span",{className:"improvement-value",children:"+75%"})]})]})]})]}),GG=({data:t})=>c.jsxs("div",{className:"strategy-node action-node",title:"Action: Defines what happens when conditions are met",children:[c.jsx(Wi,{type:"target",position:Ne.Left}),c.jsxs("div",{className:"node-header",children:[c.jsx("img",{src:"/assets/icons/ActionIcon.png",alt:"Action",className:"node-icon",style:{width:"20px",height:"20px"}}),c.jsx("span",{className:"node-title",children:t.label}),c.jsx("div",{className:`node-risk-badge ${t.riskLevel||"medium-risk"}`,children:t.riskLevel==="low-risk"?"Low Risk":t.riskLevel==="high-risk"?"High Risk":"Medium Risk"})]}),c.jsxs("div",{className:"node-content",children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Action Type:"}),c.jsxs("select",{value:t.actionType||"entry",onChange:e=>t.onChange("actionType",e.target.value),children:[c.jsx("option",{value:"entry",children:"Entry Action"}),c.jsx("option",{value:"exit",children:"Exit Action"}),c.jsx("option",{value:"rebalance",children:"Rebalance"}),c.jsx("option",{value:"hedge",children:"Hedge"})]})]}),t.actionType==="entry"&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Action:"}),c.jsxs("select",{value:t.action||"stake",onChange:e=>t.onChange("action",e.target.value),children:[c.jsx("option",{value:"stake",children:"Stake"}),c.jsx("option",{value:"buy",children:"Buy"}),c.jsx("option",{value:"liquidity",children:"Add Liquidity"}),c.jsx("option",{value:"yield_farm",children:"Yield Farm"})]})]})}),t.actionType==="exit"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Exit Strategy:"}),c.jsxs("select",{value:t.exitStrategy||"all",onChange:e=>t.onChange("exitStrategy",e.target.value),children:[c.jsx("option",{value:"all",children:"All (Initial + Earnings)"}),c.jsx("option",{value:"earnings",children:"Earnings Only"}),c.jsx("option",{value:"partial",children:"Partial Exit"}),c.jsx("option",{value:"stop_loss",children:"Stop Loss"})]})]}),t.exitStrategy==="stop_loss"&&c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Stop Loss (%):"}),c.jsx("input",{type:"number",placeholder:"10",value:t.stopLoss||"",onChange:e=>t.onChange("stopLoss",e.target.value)})]})]}),c.jsxs("div",{className:"parameter",children:[c.jsx("label",{children:"Auto Execute:"}),c.jsxs("select",{value:t.autoExecute||"true",onChange:e=>t.onChange("autoExecute",e.target.value),children:[c.jsx("option",{value:"true",children:"Yes (Automated)"}),c.jsx("option",{value:"false",children:"No (Manual Approval)"})]})]})]})]}),qG={inputNode:WG,logicNode:KG,actionNode:GG},YG=()=>{const[t,e,n]=V$([]),[r,s,i]=W$([]),[o,a]=V.useState(null),[l,u]=V.useState("My DeFi Strategy"),[d,f]=V.useState(!1),[m,p]=V.useState(!1),[y,w]=V.useState(null),[v,x]=V.useState(null),[S,k]=V.useState(null),[R,j]=V.useState("20"),[F,P]=V.useState("SOL"),[M,D]=V.useState(150),[L,z]=V.useState(!1),[H,A]=V.useState(""),[h,g]=V.useState("medium"),[_,I]=V.useState(!1),{connected:T,publicKey:C,sendTransaction:$}=gp(),O=V.useMemo(()=>(parseFloat(R)||0)*M,[R,M]),b=V.useMemo(()=>M,[M]),B=V.useCallback(()=>{const q=t.filter(xe=>xe.type==="logicNode"),ye=t.filter(xe=>xe.type==="actionNode");let he=0;return q.forEach(xe=>{var Me,Oe,ze;((Me=xe.data)==null?void 0:Me.logicType)==="volatility"&&(he+=2),((Oe=xe.data)==null?void 0:Oe.logicType)==="ai"&&(he+=1),((ze=xe.data)==null?void 0:ze.logicType)==="price"&&(he+=1)}),ye.forEach(xe=>{var Me,Oe;((Me=xe.data)==null?void 0:Me.actionType)==="hedge"&&(he-=1),((Oe=xe.data)==null?void 0:Oe.exitStrategy)==="stop_loss"&&(he-=1)}),he<=0?"low":he<=2?"medium":"high"},[t]),G=V.useCallback(q=>s(ye=>ER(q,ye)),[s]),Z=V.useCallback((q,ye)=>{a(ye)},[]),ne=V.useCallback((q,ye,he)=>{e(xe=>xe.map(Me=>Me.id===q?{...Me,data:{...Me.data,[ye]:he}}:Me))},[e]),ae=V.useCallback((q,ye)=>{const he={id:`${q}-${Date.now()}`,type:q==="input"?"inputNode":q==="logic"?"logicNode":"actionNode",position:ye,data:{label:q==="input"?"Data Input":q==="logic"?"Strategy Logic":"Action",onChange:(xe,Me)=>ne(he.id,xe,Me),token:F,duration:"3",profitTarget:"15",action:"stake",exitStrategy:"all",logicType:"time",riskLevel:"medium-risk"}};e(xe=>[...xe,he])},[e,ne,F]),ce=V.useCallback(q=>{q.preventDefault();const ye=q.dataTransfer.getData("application/reactflow"),he={x:q.clientX-280,y:q.clientY-100};ae(ye,he)},[ae]),me=V.useCallback(q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},[]),Ie=V.useCallback(()=>{H.trim()&&(f(!0),setTimeout(()=>{const q=[{id:"ai-input-1",type:"inputNode",position:{x:100,y:100},data:{label:"AI Data Source",onChange:(he,xe)=>ne("ai-input-1",he,xe),token:F,dataType:"price"}},{id:"ai-logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"AI-Optimized Logic",onChange:(he,xe)=>ne("ai-logic-1",he,xe),logicType:"ai",duration:"4",profitTarget:"12",riskLevel:"low-risk"}},{id:"ai-action-1",type:"actionNode",position:{x:700,y:100},data:{label:"AI Action",onChange:(he,xe)=>ne("ai-action-1",he,xe),actionType:"entry",action:"stake",riskLevel:"low-risk"}}],ye=[{id:"ai-e1-2",source:"ai-input-1",target:"ai-logic-1"},{id:"ai-e2-3",source:"ai-logic-1",target:"ai-action-1"}];e(q),s(ye),z(!1),f(!1)},2e3))},[H,F,e,s,ne]),Ce=V.useCallback(()=>{f(!0),setTimeout(()=>{var ze,We,Je,U;const q=parseFloat(((We=(ze=t.find(E=>E.type==="logicNode"))==null?void 0:ze.data)==null?void 0:We.profitTarget)||"15"),ye=parseInt(((U=(Je=t.find(E=>E.type==="logicNode"))==null?void 0:Je.data)==null?void 0:U.duration)||"3"),he=parseFloat(R),xe=he*q/100,Me=B(),Oe=t.some(E=>{var N;return((N=E.data)==null?void 0:N.logicType)==="ai"})?75:0;w({totalReturn:q+Oe,timeToExit:`${ye} weeks`,expectedProfit:xe.toFixed(2),initialInvestment:he,finalValue:(he+xe).toFixed(2),successRate:95,riskLevel:Me,maxDrawdown:Me==="high"?25:Me==="medium"?15:8,sharpeRatio:Me==="high"?1.2:Me==="medium"?1.8:2.5,aiImprovement:Oe,chartData:{labels:Array.from({length:ye},(E,N)=>`Week ${N+1}`),datasets:[{label:`${F} Value`,data:Array.from({length:ye},(E,N)=>{const W=(q+Oe)/ye;return he+he*W*(N+1)/100}),borderColor:"#6D8FC7",backgroundColor:"rgba(109, 143, 199, 0.1)",tension:.4,fill:!0}]}}),f(!1)},2e3)},[t,R,F,B]),Be=async()=>{if(!T||!C){alert("Please connect your wallet first!");return}const q=parseFloat(R);if(isNaN(q)||q<=0){alert("Please enter a valid deposit amount!");return}p(!0),x(null);try{console.log("Starting strategy execution..."),console.log("Public Key:",C.toString()),console.log("Amount:",q),console.log("Wallet connected:",T);const ye=new He;ye.add(tt.transfer({fromPubkey:C,toPubkey:C,lamports:1e3})),console.log("Testing wallet transaction signing...");const he=await $(ye);console.log("Test transaction successful:",he);const xe=await Xd.simulateDeposit(C,q);if(!xe.success){x({success:!1,error:xe.error||"Simulation failed"});return}const Me=await Xd.depositSol(C,q,$);Me.status&&k(Me.status),x(Me),Me.success?alert(`Strategy executed successfully! Transaction: ${Me.transactionId}`):alert(`Execution failed: ${Me.error}`)}catch(ye){console.error("Strategy execution failed:",ye),x({success:!1,error:ye instanceof Error?ye.message:"Unknown error"})}finally{p(!1)}},ut=async()=>{if(!T||!C){alert("Please connect your wallet first!");return}const q=parseFloat(R);if(isNaN(q)||q<=0){alert("Please enter a valid withdrawal amount!");return}p(!0),x(null);try{const ye=await Xd.withdrawSol(C,q,$);ye.status&&k(ye.status),x(ye),ye.success?alert(`Withdrawal successful! Transaction: ${ye.transactionId}`):alert(`Withdrawal failed: ${ye.error}`)}catch(ye){console.error("Withdrawal failed:",ye),x({success:!1,error:ye instanceof Error?ye.message:"Unknown error"})}finally{p(!1)}},Le=async()=>{if(!T||!C){alert("Please connect your wallet first!");return}p(!0),x(null);try{const q=await Xd.claimYield(C,$);q.status&&k(q.status),x(q),q.success?alert(`Yield claimed successfully! Transaction: ${q.transactionId}`):alert(`Yield claim failed: ${q.error}`)}catch(q){console.error("Yield claim failed:",q),x({success:!1,error:q instanceof Error?q.message:"Unknown error"})}finally{p(!1)}},Pe=async()=>{if(!T||!C){alert("Please connect your wallet first!");return}p(!0),x(null);try{console.log("Testing wallet connection..."),console.log("Public Key:",C.toString()),console.log("Wallet connected:",T);const q=new He;q.add(tt.transfer({fromPubkey:C,toPubkey:C,lamports:1e3})),console.log("Sending test transaction...");const ye=await $(q);console.log("Test transaction successful:",ye),x({success:!0,transactionId:ye,error:void 0}),alert(`Wallet test successful! Transaction: ${ye}`)}catch(q){console.error("Wallet test failed:",q),x({success:!1,error:q instanceof Error?q.message:"Unknown error"}),alert(`Wallet test failed: ${q instanceof Error?q.message:"Unknown error"}`)}finally{p(!1)}},re=V.useCallback(()=>{const q={name:l,nodes:t,edges:r,depositAmount:R,selectedToken:F,totalCostUSD:O,riskLevel:B(),timestamp:new Date().toISOString()};console.log("Saving strategy:",q),alert("Strategy saved! (Check console for details)")},[l,t,r,R,F,O,B]),ge=V.useCallback(()=>{const q={name:l,nodes:t,edges:r,riskLevel:B(),publishedAt:new Date().toISOString(),author:"User",forks:0,likes:0};console.log("Publishing strategy:",q),I(!1),alert("Strategy published! (Check console for details)")},[l,t,r,B]);return te.useEffect(()=>{const q=[{id:"input-1",type:"inputNode",position:{x:100,y:100},data:{label:"Token Data",onChange:(he,xe)=>ne("input-1",he,xe),token:F,dataType:"price"}},{id:"logic-1",type:"logicNode",position:{x:400,y:100},data:{label:"Strategy Logic",onChange:(he,xe)=>ne("logic-1",he,xe),logicType:"time",duration:"3",profitTarget:"15",riskLevel:"medium-risk"}},{id:"action-1",type:"actionNode",position:{x:700,y:100},data:{label:"Action",onChange:(he,xe)=>ne("action-1",he,xe),actionType:"entry",action:"stake",riskLevel:"medium-risk"}}],ye=[{id:"e1-2",source:"input-1",target:"logic-1"},{id:"e2-3",source:"logic-1",target:"action-1"}];e(q),s(ye)},[F]),c.jsxs("div",{className:"max-w-full mx-auto p-6 pb-24 animate-fade-in min-h-screen",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyphr-white mb-2 font-nulshock",children:"Strategy Builder"}),c.jsx("p",{className:"text-cyphr-gray",children:"Test your risk before you buy"})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex-1 max-w-md",children:c.jsx("input",{type:"text",value:l,onChange:q=>u(q.target.value),placeholder:"Enter strategy name...",className:"elite-input px-4 py-2 rounded-lg border border-cyphr-gray/30 focus:border-cyphr-teal text-cyphr-white text-sm w-full"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>z(!0),children:"AI Builder"}),c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:Ce,disabled:d,children:d?"Simulating...":"Simulate Strategy"}),c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:re,children:"Save Strategy"}),c.jsx("button",{className:"elite-button px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 text-cyphr-gray",onClick:()=>I(!0),children:"Publish"}),c.jsx("button",{className:"cyphr-btn cyphr-btn-social px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",onClick:Be,disabled:m||!T,children:m?"Executing...":"🚀 Execute Strategy"}),c.jsx("button",{className:"cyphr-btn cyphr-btn-secondary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",onClick:ut,disabled:m||!T,children:m?"Withdrawing...":"💸 Withdraw SOL"}),c.jsx("button",{className:"cyphr-btn cyphr-btn-primary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",onClick:Le,disabled:m||!T,children:m?"Claiming...":"🎁 Claim Yield"}),c.jsx("button",{className:"cyphr-btn cyphr-btn-secondary px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105",onClick:Pe,disabled:m||!T,children:"🧪 Test Wallet"})]})]}),c.jsxs("div",{className:"risk-profile-banner animate-slide-up",children:[c.jsxs("div",{className:"risk-indicator",children:[c.jsx("span",{className:"risk-label",children:"Strategy Risk Level:"}),c.jsxs("span",{className:`risk-badge ${B()}-risk`,children:[B().toUpperCase()," RISK"]})]}),c.jsxs("div",{className:"risk-metrics",children:[c.jsxs("div",{className:"risk-metric",children:[c.jsx("span",{children:"Max Drawdown:"}),c.jsx("span",{className:"metric-value",children:B()==="high"?"25%":B()==="medium"?"15%":"8%"})]}),c.jsxs("div",{className:"risk-metric",children:[c.jsx("span",{children:"Sharpe Ratio:"}),c.jsx("span",{className:"metric-value",children:B()==="high"?"1.2":B()==="medium"?"1.8":"2.5"})]})]})]}),c.jsx("div",{className:"deposit-config animate-slide-up",children:c.jsxs("div",{className:"config-card",children:[c.jsxs("h3",{children:[c.jsx("img",{src:"/assets/icons/DepositIcon.png",alt:"Deposit",style:{width:"16px",height:"16px",marginRight:"8px",verticalAlign:"middle"}})," Deposit Configuration"]}),c.jsxs("div",{className:"config-grid",children:[c.jsxs("div",{className:"config-item",children:[c.jsx("label",{children:"Token:"}),c.jsxs("select",{value:F,onChange:q=>P(q.target.value),className:"cyphr-select",children:[c.jsx("option",{value:"SOL",children:"SOL"}),c.jsx("option",{value:"ETH",children:"ETH"}),c.jsx("option",{value:"BTC",children:"BTC"}),c.jsx("option",{value:"USDC",children:"USDC"})]})]}),c.jsxs("div",{className:"config-item",children:[c.jsx("label",{children:"Amount:"}),c.jsx("input",{type:"number",value:R,onChange:q=>j(q.target.value),placeholder:"20",className:"cyphr-input"})]}),c.jsxs("div",{className:"config-item",children:[c.jsx("label",{children:"Total Cost (USD):"}),c.jsxs("div",{className:"cost-display",children:[c.jsxs("span",{className:"cost-amount",children:["$",O.toFixed(2)]}),c.jsxs("span",{className:"cost-per-token",children:["@ $",b.toFixed(2)," per ",F]})]})]})]})]})}),L&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h3",{children:[c.jsx("img",{src:"/assets/icons/RobotIcon.png",alt:"AI",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"middle"}})," AI Strategy Builder"]}),c.jsx("button",{className:"modal-close",onClick:()=>z(!1),children:"×"})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{children:"Describe your strategy and AI will generate it for you:"}),c.jsx("textarea",{value:H,onChange:q=>A(q.target.value),placeholder:"e.g., 'I want a low-risk staking strategy for SOL with 10% yield and stop-loss protection'",className:"ai-prompt-input"}),c.jsxs("div",{className:"ai-examples",children:[c.jsx("h4",{children:"Example Prompts:"}),c.jsxs("ul",{children:[c.jsx("li",{children:'"Conservative yield farming with USDC, max 5% risk"'}),c.jsx("li",{children:'"Aggressive SOL trading with AI optimization"'}),c.jsx("li",{children:'"Balanced portfolio with automatic rebalancing"'})]})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>z(!1),children:"Cancel"}),c.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:Ie,children:"Generate Strategy"})]})]})}),_&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Publish Strategy"}),c.jsx("button",{className:"modal-close",onClick:()=>I(!1),children:"×"})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{children:"Share your strategy with the community and earn from referrals:"}),c.jsxs("div",{className:"social-benefits",children:[c.jsxs("div",{className:"benefit-item",children:[c.jsx("img",{src:"/assets/icons/DepositIcon.png",alt:"Deposit",className:"benefit-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Earn 5% from strategy forks"})]}),c.jsxs("div",{className:"benefit-item",children:[c.jsx("span",{className:"benefit-icon",children:"📈"}),c.jsx("span",{children:"Build reputation in the community"})]}),c.jsxs("div",{className:"benefit-item",children:[c.jsx("span",{className:"benefit-icon",children:"🤝"}),c.jsx("span",{children:"Collaborate with other builders"})]})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{className:"cyphr-btn cyphr-btn-secondary",onClick:()=>I(!1),children:"Cancel"}),c.jsx("button",{className:"cyphr-btn cyphr-btn-primary",onClick:ge,children:"Publish Strategy"})]})]})}),c.jsxs("div",{className:"builder-content animate-slide-up",children:[c.jsxs("div",{className:"sidebar animate-slide-up",children:[c.jsxs("div",{className:"sidebar-section",children:[c.jsxs("h3",{children:[c.jsx("img",{src:"/assets/icons/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Data Sources"]}),c.jsx("div",{className:"node-palette",children:c.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","input")},title:"Drag to add data source node",children:[c.jsx("img",{src:"/assets/icons/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Token Data"})]})})]}),c.jsxs("div",{className:"sidebar-section",children:[c.jsxs("h3",{children:[c.jsx("img",{src:"/assets/icons/StrategyLogicIcon.png",alt:"Strategy Logic",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Logic"]}),c.jsxs("div",{className:"node-palette",children:[c.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add logic node",children:[c.jsx("img",{src:"/assets/icons/TimeProfitIcon.png",alt:"Time & Profit",className:"palette-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Time & Profit Logic"})]}),c.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add price-based logic",children:[c.jsx("img",{src:"/assets/icons/PriceLogic.png",alt:"Price Logic",className:"palette-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Price-Based Logic"})]}),c.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add volatility-based logic",children:[c.jsx("img",{src:"/assets/icons/TokenDataIcon.png",alt:"Token Data",className:"palette-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Volatility Logic"})]}),c.jsxs("div",{className:"palette-item ai-palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","logic")},title:"Drag to add AI-optimized logic",children:[c.jsx("img",{src:"/assets/icons/RobotIcon.png",alt:"AI",className:"palette-icon",style:{width:"20px",height:"20px",margin:"0 -4px"}}),c.jsx("span",{children:"AI-Optimized Logic"}),c.jsx("span",{className:"ai-badge",children:"+75%"})]})]})]}),c.jsxs("div",{className:"sidebar-section",children:[c.jsxs("h3",{children:[c.jsx("img",{src:"/assets/icons/ActionIcon.png",alt:"Action",style:{width:"16px",height:"16px",marginRight:"8px"}})," Actions"]}),c.jsxs("div",{className:"node-palette",children:[c.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","action")},title:"Drag to add action node",children:[c.jsx("img",{src:"/assets/icons/ActionIcon.png",alt:"Action",className:"palette-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Entry & Exit"})]}),c.jsxs("div",{className:"palette-item",draggable:!0,onDragStart:q=>{q.dataTransfer.setData("application/reactflow","action")},title:"Drag to add hedge action",children:[c.jsx("img",{src:"/assets/icons/HedgeIcon.png",alt:"Hedge",className:"palette-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Hedge Action"})]})]})]})]}),c.jsxs("div",{className:"canvas-container animate-slide-up",onDrop:ce,onDragOver:me,children:[t.length===0&&c.jsx("div",{className:"empty-canvas",children:c.jsxs("div",{className:"empty-canvas-content",children:[c.jsx("h2",{children:"Build Your DeFi Strategy"}),c.jsx("p",{children:"Drag and drop components from the sidebar to create your strategy"}),c.jsxs("div",{className:"canvas-instructions",children:[c.jsxs("div",{className:"instruction",children:[c.jsx("img",{src:"/assets/icons/TokenDataIcon.png",alt:"Token Data",className:"instruction-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Start with Token Data"})]}),c.jsxs("div",{className:"instruction",children:[c.jsx("img",{src:"/assets/icons/TimeProfitIcon.png",alt:"Time & Profit",className:"instruction-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Add Time & Profit Logic"})]}),c.jsxs("div",{className:"instruction",children:[c.jsx("img",{src:"/assets/icons/ActionIcon.png",alt:"Action",className:"instruction-icon",style:{width:"16px",height:"16px"}}),c.jsx("span",{children:"Configure Entry & Exit"})]})]}),c.jsx("button",{className:"cyphr-btn cyphr-btn-ai",onClick:()=>z(!0),children:"Or use AI Builder"})]})}),c.jsxs(iA,{nodes:t,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:G,onNodeClick:Z,nodeTypes:qG,fitView:!0,className:"strategy-canvas",children:[c.jsx(lF,{}),c.jsx(pF,{}),c.jsx(tF,{})]})]}),c.jsxs("div",{className:"results-panel animate-slide-up",children:[c.jsxs("h3",{children:[c.jsx("img",{src:"/assets/icons/TokenDataIcon.png",alt:"Token Data",style:{width:"16px",height:"16px",marginRight:"8px"}})," Strategy Results"]}),d?c.jsxs("div",{className:"simulation-loading",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Running simulation..."})]}):y?c.jsxs("div",{className:"simulation-results",children:[c.jsxs("div",{className:"result-metrics",children:[c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Total Return"}),c.jsxs("span",{className:"metric-value positive",children:["+",y.totalReturn,"%"]})]}),y.aiImprovement>0&&c.jsxs("div",{className:"metric ai-improvement",children:[c.jsx("span",{className:"metric-label",children:"AI Improvement"}),c.jsxs("span",{className:"metric-value positive",children:["+",y.aiImprovement,"%"]})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Time to Exit"}),c.jsx("span",{className:"metric-value",children:y.timeToExit})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Expected Profit"}),c.jsxs("span",{className:"metric-value positive",children:["+",y.expectedProfit," ",F]})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Initial Investment"}),c.jsxs("span",{className:"metric-value",children:[y.initialInvestment," ",F]})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Final Value"}),c.jsxs("span",{className:"metric-value",children:[y.finalValue," ",F]})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Success Rate"}),c.jsxs("span",{className:"metric-value",children:[y.successRate,"%"]})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Max Drawdown"}),c.jsxs("span",{className:"metric-value",children:[y.maxDrawdown,"%"]})]}),c.jsxs("div",{className:"metric",children:[c.jsx("span",{className:"metric-label",children:"Sharpe Ratio"}),c.jsx("span",{className:"metric-value",children:y.sharpeRatio})]})]}),c.jsx("div",{className:"result-chart",children:c.jsx(BV,{data:y.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1a1a1a",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#333",borderWidth:1}},scales:{x:{grid:{color:"#333"},ticks:{color:"#888"}},y:{grid:{color:"#333"},ticks:{color:"#888"}}}}})})]}):c.jsx("div",{className:"no-results",children:c.jsx("p",{children:'Click "Simulate Strategy" to see results'})}),v&&c.jsxs("div",{className:"execution-results",children:[c.jsx("h4",{children:"🚀 Execution Results"}),c.jsx("div",{className:`result ${v.success?"success":"error"}`,children:v.success?c.jsxs("div",{children:[c.jsx("p",{children:"✅ Strategy executed successfully!"}),c.jsxs("p",{children:["Transaction ID: ",v.transactionId]}),c.jsxs("p",{children:["Amount: ",R," SOL deposited to vault"]})]}):c.jsxs("p",{children:["❌ Execution failed: ",v.error]})})]}),c.jsx(VG,{})]})]}),o&&c.jsxs("div",{className:"node-properties",children:[c.jsx("h3",{children:"⚙️ Node Properties"}),c.jsxs("div",{className:"property-group",children:[c.jsx("label",{children:"Node Type:"}),c.jsx("span",{children:o.type})]}),c.jsxs("div",{className:"property-group",children:[c.jsx("label",{children:"Node ID:"}),c.jsx("span",{children:o.id})]}),c.jsx("button",{className:"cyphr-btn cyphr-btn-danger",onClick:()=>{e(q=>q.filter(ye=>ye.id!==o.id)),a(null)},children:"🗑️ Delete Node"})]})]})},XG=()=>{const t=Wo(),[e,n]=V.useState(!1);if(V.useEffect(()=>{const s=()=>{n(window.innerWidth<=768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),!e)return null;const r=[{name:"Strategy",path:"/strategy-builder",icon:"/assets/icons/WatchlistStar.png"},{name:"Terminal",path:"/pro-terminal",icon:"/assets/icons/PhoneIcon.png"},{name:"Discover",path:"/discover",icon:"/assets/icons/PriceLogic.png"},{name:"Insights",path:"/tracker",icon:"/assets/icons/SearchIcon.png"},{name:"Perpetuals",path:"/perpetuals",icon:"/assets/icons/PNLIcon.png"},{name:"Portfolio",path:"/portfolio",icon:"/assets/icons/WalletIcon.png"}];return c.jsx("div",{className:"mobile-bottom-nav",children:r.map(s=>c.jsx(Tc,{to:s.path,className:`mobile-nav-item ${t.pathname===s.path?"active":""}`,title:s.name,children:c.jsx("span",{className:"mobile-nav-icon",children:c.jsx("img",{src:s.icon,alt:s.name,style:{width:"24px",height:"24px"}})})},s.name))})};function ZG(){return V.useEffect(()=>{(function(t){if(t.search[1]==="/"){var e=t.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,"",t.pathname.slice(0,-1)+e+t.hash)}})(window.location)},[]),c.jsx(ij,{children:c.jsx(D5,{children:c.jsx(z5,{children:c.jsx(ej,{children:c.jsxs("div",{className:"app",children:[c.jsx($5,{}),c.jsx("main",{className:"main-content",children:c.jsxs(GO,{children:[c.jsx(gr,{path:"/",element:c.jsx(WO,{to:"/discover",replace:!0})}),c.jsx(gr,{path:"/pro-terminal",element:c.jsx(eB,{})}),c.jsx(gr,{path:"/discover",element:c.jsx(V5,{})}),c.jsx(gr,{path:"/dashboard",element:c.jsx(K5,{})}),c.jsx(gr,{path:"/perpetuals",element:c.jsx(q5,{})}),c.jsx(gr,{path:"/tracker",element:c.jsx(Y5,{})}),c.jsx(gr,{path:"/orders",element:c.jsx(Z5,{})}),c.jsx(gr,{path:"/token/:id",element:c.jsx(X5,{})}),c.jsx(gr,{path:"/portfolio",element:c.jsx(Q5,{})}),c.jsx(gr,{path:"/spot",element:c.jsx(J5,{})}),c.jsx(gr,{path:"/strategy-builder",element:c.jsx(YG,{})})]})}),c.jsx(F5,{}),c.jsx(XG,{}),c.jsx(H5,{})]})})})})})}const QG=g0.createRoot(document.getElementById("root"));QG.render(c.jsx(te.StrictMode,{children:c.jsx(ZG,{})}));
//# sourceMappingURL=index-7awMCJUu.js.map
